(()=>{var n={804:n=>{var e={is_showing:!1,classes:{popup:"noptin-popup",content:"noptin-popup-content",overlay:"noptin-popup-overlay",close:"noptin-popup-close",closing:"noptin-popup-closing",open:"noptin-popup-open",opening:"noptin-popup-opening",opened:"noptin-popup-opened"},el:"",content:"",open:function(n){var e=this;this.is_showing=!0,this.el=jQuery("<div></div>").addClass("".concat(this.classes.popup," ").concat(this.classes.opening)),this.el.append('<div class="'.concat(this.classes.overlay,'"></div>')),this.el.append('<div class="'.concat(this.classes.content,'"></div>')),this.content=this.el.find(".".concat(this.classes.content)).html(jQuery(n).prop("outerHTML")),this.el.on("click",(function(n){e.content.is(n.target)||0!==e.content.has(n.target).length||e.close()})),this.el.on("click",".".concat(this.classes.close),(function(){e.close()})),this.el.appendTo("body"),jQuery("body").addClass(this.classes.open),this.el.removeClass(this.classes.opening).addClass(this.classes.opened)},replaceContent:function(n){if(!this.is_showing)return!1;this.content.html(jQuery(n).prop("outerHTML"))},close:function(){var n=this;if(!this.is_showing)return!0;this.is_showing=!1,this.el.removeClass(this.classes.opened).addClass(this.classes.closing),this.transitionThen(this.content,(function(){jQuery(n.el).remove(),jQuery("body").removeClass(n.classes.open)}))},transitionThen:function(n,e){var t="none"!=n.css("transition")||"none"!=n.css("-webkit-transition"),o=!("none"==n.css("animation-name")&&"none"==n.css("-webkit-animation-name")||"0s"==n.css("animation-duration")&&"0s"==n.css("-webkit-animation-duration")),i=!1,s=function(){i||(e(),i=!0)};o?n.one("webkitAnimationEnd animationend",s):t?n.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",s):s(),setTimeout(s,300)}};jQuery(window).on("keyup",(function(n){27===n.keyCode&&e.close()})),n.exports=e},96:(n,e,t)=>{var o="Expected a function",i=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,a=/^0o[0-7]+$/i,c=parseInt,p="object"==typeof t.g&&t.g&&t.g.Object===Object&&t.g,u="object"==typeof self&&self&&self.Object===Object&&self,l=p||u||Function("return this")(),d=Object.prototype.toString,f=Math.max,m=Math.min,h=function(){return l.Date.now()};function y(n){var e=typeof n;return!!n&&("object"==e||"function"==e)}function v(n){if("number"==typeof n)return n;if(function(n){return"symbol"==typeof n||function(n){return!!n&&"object"==typeof n}(n)&&"[object Symbol]"==d.call(n)}(n))return NaN;if(y(n)){var e="function"==typeof n.valueOf?n.valueOf():n;n=y(e)?e+"":e}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(i,"");var t=r.test(n);return t||a.test(n)?c(n.slice(2),t?2:8):s.test(n)?NaN:+n}n.exports=function(n,e,t){var i=!0,s=!0;if("function"!=typeof n)throw new TypeError(o);return y(t)&&(i="leading"in t?!!t.leading:i,s="trailing"in t?!!t.trailing:s),function(n,e,t){var i,s,r,a,c,p,u=0,l=!1,d=!1,g=!0;if("function"!=typeof n)throw new TypeError(o);function w(e){var t=i,o=s;return i=s=void 0,u=e,a=n.apply(o,t)}function b(n){return u=n,c=setTimeout(T,e),l?w(n):a}function _(n){var t=n-p;return void 0===p||t>=e||t<0||d&&n-u>=r}function T(){var n=h();if(_(n))return k(n);c=setTimeout(T,function(n){var t=e-(n-p);return d?m(t,r-(n-u)):t}(n))}function k(n){return c=void 0,g&&i?w(n):(i=s=void 0,a)}function j(){var n=h(),t=_(n);if(i=arguments,s=this,p=n,t){if(void 0===c)return b(p);if(d)return c=setTimeout(T,e),w(p)}return void 0===c&&(c=setTimeout(T,e)),a}return e=v(e)||0,y(t)&&(l=!!t.leading,r=(d="maxWait"in t)?f(v(t.maxWait)||0,e):r,g="trailing"in t?!!t.trailing:g),j.cancel=function(){void 0!==c&&clearTimeout(c),u=0,i=p=s=c=void 0},j.flush=function(){return void 0===c?a:k(h())},j}(n,e,{leading:i,maxWait:e,trailing:s})}}},e={};function t(o){var i=e[o];if(void 0!==i)return i.exports;var s=e[o]={exports:{}};return n[o](s,s.exports,t),s.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var o in e)t.o(e,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),(()=>{"use strict";function n(){return"key"+Math.random().toString(36).replace(/[^a-z]+/g,"")}var e,o,i,s,r,a=t(96),c=t.n(a);e=function(){},"undefined"!=typeof document&&"complete"!==document.readyState&&"interactive"!==document.readyState&&document.addEventListener("DOMContentLoaded",e),o=jQuery,i=t(804),s={subscribed:!1,hidePopup:function(){i.close()},logFormView:function(n){o.post(noptin.ajaxurl,{action:"noptin_log_form_impression",_wpnonce:noptin.nonce,form_id:n})},displayPopup:function(n,e){if(o(n).closest(".noptin-optin-main-wrapper").hasClass("noptin-slide_in-main-wrapper"))return this.displaySlideIn(n,e);if(e||!i.is_showing&&!this.subscribed){this.logFormView(o(n).find("input[name=noptin_form_id]").val()),i.is_showing?i.replaceContent(o(n).closest(".noptin-popup-main-wrapper")):i.open(o(n).closest(".noptin-popup-main-wrapper"));var t=o(n).find("input[name=noptin_form_id]").val();void 0!==o(n).data("once-per-session")?localStorage.setItem("noptinFormDisplayed"+t,(new Date).getTime()):sessionStorage.setItem("noptinFormDisplayed"+t,"1")}},displaySlideIn:function(n,e){!e&&this.subscribed||(this.logFormView(o(n).find("input[name=noptin_form_id]").val()),o(n).addClass("noptin-showing"))}},r={immeadiate:function(){s.displayPopup(this)},before_leave:function(){var e=this,t=n(),i=null;o(document).on("mouseleave."+t,(function(n){n.clientY>0||(i=setTimeout((function(){s.displayPopup(e),o(document).off("mouseleave."+t),o(document).off("mouseenter."+t)}),200))})),o(document).on("mouseenter."+t,(function(n){i&&(clearTimeout(i),i=null)}))},on_scroll:function(){var e=this,t=n(),i=parseInt(o(this).data("on-scroll"));o(window).on("scroll."+t,c()((function(){o(window).scrollTop()/(o(document).height()-o(window).height())*100>i&&(s.displayPopup(e),o(window).off("scroll."+t))}),500))},after_delay:function(){var n=this,e=1e3*parseInt(o(this).data("after-delay"));setTimeout((function(){s.displayPopup(n)}),e)},after_comment:function(){o("#commentform").on("submit",(function(n){}))},after_click:function(){var n=o(this).data("after-click"),e=this;n&&o("body").on("click",n,(function(n){n.preventDefault(),s.displayPopup(e,!0)}))}},o(".noptin-popup-main-wrapper .noptin-optin-form-wrapper").each((function(){var n=o(this).data("trigger"),e=o(this).find("input[name=noptin_form_id]").val();if(void 0!==o(this).data("once-per-session")&&"after_click"!=n){if(e){var t=localStorage.getItem("noptinFormDisplayed"+e),i=(new Date).getTime();if(t&&i-t<6048e5)return!0;localStorage.removeItem("noptinFormDisplayed"+e)}}else if(e&&"after_click"!=n&&sessionStorage.getItem("noptinFormDisplayed"+e))return;r[n]&&r[n].call(this)})),o(".noptin-slide_in-main-wrapper .noptin-optin-form-wrapper").each((function(){var n=o(this).data("trigger");r[n]&&r[n].call(this)})),o(document).ready((function(){o(document).on("click",".noptin-showing .noptin-popup-close",(function(n){o(this).closest(".noptin-showing").removeClass("noptin-showing")}))})),document.querySelectorAll(".noptin-optin-form-wrapper form, .wp-block-noptin-email-optin form, .noptin-email-optin-widget form").forEach((function(n){!function(n){var e=document.createElement("label");e.style.display="none",e.innerHTML='<input type="checkbox" name="noptin_confirm_submit"/>Are you sure?',n.prepend(e),n.addEventListener("submit",(function(e){e.preventDefault(),n.style.opacity=.5,n.querySelector(".noptin_feedback_success").innerHTML="",n.querySelector(".noptin_feedback_error").innerHTML="",n.querySelector(".noptin_feedback_success").style.display="none",n.querySelector(".noptin_feedback_error").style.display="none";var t={};new FormData(n).forEach((function(n,e){t[e]=n})),t.action="noptin_new_subscriber",t.nonce=noptin.nonce,t.conversion_page=window.location.href,window.fetch(noptin.ajaxurl,{method:"POST",body:new URLSearchParams(t),credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}}).then((function(n){if(n.status>=200&&n.status<300)return n;throw n.text()})).then((function(n){return n.json()})).then((function(e){if(!e)throw"Invalid response";if(!1===e.success)throw e.data;if(!0!==e.success)throw"Invalid response";"redirect"===e.data.action&&(window.location.href=e.data.redirect),e.data.msg&&(n.innerHTML='<div class="noptin-big noptin-padded">'+e.data.msg+"</div>",n.style.opacity=1,n.style.display="flex",n.style.justifyContent="center",setTimeout((function(){document.querySelector(".noptin-showing").classList.remove("noptin-showing")}),2e3))})).then((function(){try{"function"==typeof window.gtag?window.gtag("event","subscribe",{method:"Noptin Form"}):"function"==typeof window.ga&&window.ga("send","event","Noptin Form","Subscribe","Noptin")}catch(n){console.error(n.message)}})).catch((function(e){var t;console.log(e),t="string"==typeof e?e:"Could not establish a connection to the server.",n.querySelector(".noptin_feedback_error").innerHTML=t,n.querySelector(".noptin_feedback_error").style.display="block",n.querySelector(".noptin_feedback_success").style.display="none",n.style.opacity=1}))}))}(n)})),document.querySelectorAll(".wp-block-noptin-email-optin form input[type=email], .noptin-email-optin-widget form input[type=email]").forEach((function(n){n.setAttribute("name","email")})),o(document).on("click",".noptin-mark-as-existing-subscriber",(function(n){var e=function(n){var e=new Date;e.setTime(e.getTime()+2592e6);var t="expires="+e.toUTCString();document.cookie="".concat(n,"=1;").concat(t,";path=").concat(noptin.cookie_path)};noptin.cookie&&e(noptin.cookie),e("noptin_email_subscribed"),o(this).closest(".noptin-showing").removeClass("noptin-showing"),i.close(),s.subscribed=!0}))})()})();