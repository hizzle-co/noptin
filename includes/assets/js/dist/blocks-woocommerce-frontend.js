(()=>{"use strict";const t=window.wc.blocksCheckout,e=window.wc.wcSettings;function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}const r=window.wp.element;var o=(0,e.getSetting)("noptin_data",""),c=o.optinEnabled,i=o.defaultText,a=o.defaultStatus;const l=JSON.parse('{"apiVersion":2,"name":"noptin/checkout-newsletter-subscription","version":"1.0.0","title":"Noptin Newsletter Subscription","category":"woocommerce","description":"Adds a newsletter subscription checkbox to the checkout.","icon":"forms","textdomain":"newsletter-optin-box","supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false},"attributes":{"lock":{"type":"object","default":{"remove":true,"move":true}},"text":{"type":"string","source":"html","selector":".wp-block-woocommerce-checkout-noptin-newsletter-subscription","default":""}},"parent":["woocommerce/checkout-contact-information-block"]}');var s=(0,e.getSetting)("noptin_data").position;l.parent=[s],(0,t.registerCheckoutBlock)({metadata:l,component:function(e){var o=e.checkoutExtensionData;if(!c)return null;var l,s,u=(l=(0,r.useState)(a),s=2,function(t){if(Array.isArray(t))return t}(l)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,c,i,a=[],l=!0,s=!1;try{if(c=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=c.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(t){s=!0,o=t}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return a}}(l,s)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(l,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=u[0],f=u[1],m=(o||{}).setExtensionData;return(0,r.useEffect)((function(){m("noptin","optin",p)}),[p,m]),(0,r.createElement)(t.CheckboxControl,{className:"wc-block-components-noptin-newsletter-subscription",checked:p,onChange:f},(0,r.createElement)(r.RawHTML,null,i))}})})();