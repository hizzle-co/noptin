(()=>{"use strict";const t=window.wc.blocksCheckout,e=window.wc.wcSettings;function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}const o=window.React,r=window.wp.element;var c=(0,e.getSetting)("noptin_data",""),a=c.optinEnabled,i=c.defaultText,l=c.defaultStatus;const s=JSON.parse('{"apiVersion":2,"name":"noptin/checkout-newsletter-subscription","version":"1.0.0","title":"Noptin Newsletter Subscription","category":"woocommerce","description":"Adds a newsletter subscription checkbox to the checkout.","icon":"forms","textdomain":"newsletter-optin-box","supports":{"align":false,"html":false,"multiple":false,"reusable":false},"attributes":{"lock":{"type":"object","default":{"remove":true,"move":true}},"text":{"type":"string","source":"html","selector":".wp-block-woocommerce-checkout-noptin-newsletter-subscription","default":""}},"parent":["woocommerce/checkout-contact-information-block"]}');var u=(0,e.getSetting)("noptin_data").position;u&&(s.parent=[u]),(0,t.registerCheckoutBlock)({metadata:s,component:function(e){var c,s,u=e.checkoutExtensionData,p=(c=(0,r.useState)(l),s=2,function(t){if(Array.isArray(t))return t}(c)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,r,c,a,i=[],l=!0,s=!1;try{if(c=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(o=c.call(n)).done)&&(i.push(o.value),i.length!==e);l=!0);}catch(t){s=!0,r=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw r}}return i}}(c,s)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(t,e):void 0}}(c,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=p[0],m=p[1],w=(u||{}).setExtensionData;return(0,r.useEffect)((function(){w&&w("noptin","optin",f)}),[f,w]),(0,o.createElement)(o.Fragment,null,a&&(0,o.createElement)(t.CheckboxControl,{className:"wc-block-components-noptin-newsletter-subscription",checked:f,onChange:m},(0,o.createElement)(r.RawHTML,null,i)))}})})();