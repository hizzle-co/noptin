/*! For license information please see table.js.LICENSE.txt */
(()=>{var e={184:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var i=a.apply(null,n);i&&e.push(i)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var l in n)r.call(n,l)&&n[l]&&e.push(l)}}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},640:(e,t,n)=>{"use strict";var r=n(742),a={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,o,i,l,c,s,u=!1;t||(t={}),n=t.debug||!1;try{if(i=r(),l=document.createRange(),c=document.getSelection(),(s=document.createElement("span")).textContent=e,s.ariaHidden="true",s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),void 0===r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var o=a[t.format]||a.default;window.clipboardData.setData(o,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(s),l.selectNodeContents(s),c.addRange(l),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(r){n&&console.error("unable to copy using execCommand: ",r),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),u=!0}catch(r){n&&console.error("unable to copy using clipboardData: ",r),n&&console.error("falling back to prompt"),o=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(o,e)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(l):c.removeAllRanges()),s&&document.body.removeChild(s),i()}return u}},679:(e,t,n)=>{"use strict";var r=n(296),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function c(e){return r.isMemo(e)?i:l[e.$$typeof]||a}l[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[r.Memo]=i;var s=Object.defineProperty,u=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(m){var a=f(n);a&&a!==m&&e(t,a,r)}var i=u(n);p&&(i=i.concat(p(n)));for(var l=c(t),h=c(n),g=0;g<i.length;++g){var v=i[g];if(!(o[v]||r&&r[v]||h&&h[v]||l&&l[v])){var b=d(n,v);try{s(t,v,b)}catch(e){}}}}return t}},103:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,s=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,h=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function E(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case p:case o:case l:case i:case f:return e;default:switch(e=e&&e.$$typeof){case s:case d:case g:case h:case c:return e;default:return t}}case a:return t}}}function _(e){return E(e)===p}t.AsyncMode=u,t.ConcurrentMode=p,t.ContextConsumer=s,t.ContextProvider=c,t.Element=r,t.ForwardRef=d,t.Fragment=o,t.Lazy=g,t.Memo=h,t.Portal=a,t.Profiler=l,t.StrictMode=i,t.Suspense=f,t.isAsyncMode=function(e){return _(e)||E(e)===u},t.isConcurrentMode=_,t.isContextConsumer=function(e){return E(e)===s},t.isContextProvider=function(e){return E(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return E(e)===d},t.isFragment=function(e){return E(e)===o},t.isLazy=function(e){return E(e)===g},t.isMemo=function(e){return E(e)===h},t.isPortal=function(e){return E(e)===a},t.isProfiler=function(e){return E(e)===l},t.isStrictMode=function(e){return E(e)===i},t.isSuspense=function(e){return E(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===p||e===l||e===i||e===f||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===h||e.$$typeof===c||e.$$typeof===s||e.$$typeof===d||e.$$typeof===b||e.$$typeof===y||e.$$typeof===w||e.$$typeof===v)},t.typeOf=E},296:(e,t,n)=>{"use strict";e.exports=n(103)},460:function(e,t){var n,r;n=function e(){"use strict";var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},n=!t.document&&!!t.postMessage,r=t.IS_PAPA_WORKER||!1,a={},o=0,i={parse:function(n,r){var l=(r=r||{}).dynamicTyping||!1;if(E(l)&&(r.dynamicTypingFunction=l,l={}),r.dynamicTyping=l,r.transform=!!E(r.transform)&&r.transform,r.worker&&i.WORKERS_SUPPORTED){var c=function(){if(!i.WORKERS_SUPPORTED)return!1;var n,r,l=(n=t.URL||t.webkitURL||null,r=e.toString(),i.BLOB_URL||(i.BLOB_URL=n.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",r,")();"],{type:"text/javascript"})))),c=new t.Worker(l);return c.onmessage=g,c.id=o++,a[c.id]=c}();return c.userStep=r.step,c.userChunk=r.chunk,c.userComplete=r.complete,c.userError=r.error,r.step=E(r.step),r.chunk=E(r.chunk),r.complete=E(r.complete),r.error=E(r.error),delete r.worker,void c.postMessage({input:n,config:r,workerId:c.id})}var f=null;return i.NODE_STREAM_INPUT,"string"==typeof n?(n=function(e){return 65279===e.charCodeAt(0)?e.slice(1):e}(n),f=r.download?new s(r):new p(r)):!0===n.readable&&E(n.read)&&E(n.on)?f=new d(r):(t.File&&n instanceof File||n instanceof Object)&&(f=new u(r)),f.stream(n)},unparse:function(e,t){var n=!1,r=!0,a=",",o="\r\n",l='"',c=l+l,s=!1,u=null,p=!1;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||i.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(a=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(s=t.skipEmptyLines),"string"==typeof t.newline&&(o=t.newline),"string"==typeof t.quoteChar&&(l=t.quoteChar),"boolean"==typeof t.header&&(r=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");u=t.columns}void 0!==t.escapeChar&&(c=t.escapeChar+l),("boolean"==typeof t.escapeFormulae||t.escapeFormulae instanceof RegExp)&&(p=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var d=new RegExp(m(l),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return f(null,e,s);if("object"==typeof e[0])return f(u||Object.keys(e[0]),e,s)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||u),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),f(e.fields||[],e.data||[],s);throw new Error("Unable to serialize unrecognized input");function f(e,t,n){var i="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var l=Array.isArray(e)&&0<e.length,c=!Array.isArray(t[0]);if(l&&r){for(var s=0;s<e.length;s++)0<s&&(i+=a),i+=h(e[s],s);0<t.length&&(i+=o)}for(var u=0;u<t.length;u++){var p=l?e.length:t[u].length,d=!1,f=l?0===Object.keys(t[u]).length:0===t[u].length;if(n&&!l&&(d="greedy"===n?""===t[u].join("").trim():1===t[u].length&&0===t[u][0].length),"greedy"===n&&l){for(var m=[],g=0;g<p;g++){var v=c?e[g]:g;m.push(t[u][v])}d=""===m.join("").trim()}if(!d){for(var b=0;b<p;b++){0<b&&!f&&(i+=a);var y=l&&c?e[b]:b;i+=h(t[u][y],b)}u<t.length-1&&(!n||0<p&&!f)&&(i+=o)}}return i}function h(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var r=!1;p&&"string"==typeof e&&p.test(e)&&(e="'"+e,r=!0);var o=e.toString().replace(d,c);return(r=r||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(o,i.BAD_DELIMITERS)||-1<o.indexOf(a)||" "===o.charAt(0)||" "===o.charAt(o.length-1))?l+o+l:o}}};if(i.RECORD_SEP=String.fromCharCode(30),i.UNIT_SEP=String.fromCharCode(31),i.BYTE_ORDER_MARK="\ufeff",i.BAD_DELIMITERS=["\r","\n",'"',i.BYTE_ORDER_MARK],i.WORKERS_SUPPORTED=!n&&!!t.Worker,i.NODE_STREAM_INPUT=1,i.LocalChunkSize=10485760,i.RemoteChunkSize=5242880,i.DefaultDelimiter=",",i.Parser=h,i.ParserHandle=f,i.NetworkStreamer=s,i.FileStreamer=u,i.StringStreamer=p,i.ReadableStreamStreamer=d,t.jQuery){var l=t.jQuery;l.fn.parse=function(e){var n=e.config||{},r=[];return this.each((function(e){if("INPUT"!==l(this).prop("tagName").toUpperCase()||"file"!==l(this).attr("type").toLowerCase()||!t.FileReader||!this.files||0===this.files.length)return!0;for(var a=0;a<this.files.length;a++)r.push({file:this.files[a],inputElem:this,instanceConfig:l.extend({},n)})})),a(),this;function a(){if(0!==r.length){var t,n,a,c=r[0];if(E(e.before)){var s=e.before(c.file,c.inputElem);if("object"==typeof s){if("abort"===s.action)return"AbortError",t=c.file,n=c.inputElem,a=s.reason,void(E(e.error)&&e.error({name:"AbortError"},t,n,a));if("skip"===s.action)return void o();"object"==typeof s.config&&(c.instanceConfig=l.extend(c.instanceConfig,s.config))}else if("skip"===s)return void o()}var u=c.instanceConfig.complete;c.instanceConfig.complete=function(e){E(u)&&u(e,c.file,c.inputElem),o()},i.parse(c.file,c.instanceConfig)}else E(e.complete)&&e.complete()}function o(){r.splice(0,1),a()}}}function c(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=y(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new f(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,n){if(this.isFirstChunk&&E(this._config.beforeFirstChunk)){var a=this._config.beforeFirstChunk(e);void 0!==a&&(e=a)}this.isFirstChunk=!1,this._halted=!1;var o=this._partialLine+e;this._partialLine="";var l=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var c=l.meta.cursor;this._finished||(this._partialLine=o.substring(c-this._baseIndex),this._baseIndex=c),l&&l.data&&(this._rowCount+=l.data.length);var s=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)t.postMessage({results:l,workerId:i.WORKER_ID,finished:s});else if(E(this._config.chunk)&&!n){if(this._config.chunk(l,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);l=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(l.data),this._completeResults.errors=this._completeResults.errors.concat(l.errors),this._completeResults.meta=l.meta),this._completed||!s||!E(this._config.complete)||l&&l.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),s||l&&l.meta.paused||this._nextChunk(),l}this._halted=!0},this._sendError=function(e){E(this._config.error)?this._config.error(e):r&&this._config.error&&t.postMessage({workerId:i.WORKER_ID,error:e,finished:!1})}}function s(e){var t;(e=e||{}).chunkSize||(e.chunkSize=i.RemoteChunkSize),c.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),n||(t.onload=w(this._chunkLoaded,this),t.onerror=w(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var r in e)t.setRequestHeader(r,e[r])}if(this._config.chunkSize){var a=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+a)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader("Content-Range");return null===t?-1:parseInt(t.substring(t.lastIndexOf("/")+1))}(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){var n=t.statusText||e;this._sendError(new Error(n))}}function u(e){var t,n;(e=e||{}).chunkSize||(e.chunkSize=i.LocalChunkSize),c.call(this,e);var r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=w(this._chunkLoaded,this),t.onerror=w(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var a=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,a)}var o=t.readAsText(e,this._config.encoding);r||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function p(e){var t;c.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,n=this._config.chunkSize;return n?(e=t.substring(0,n),t=t.substring(n)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function d(e){c.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=w((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=w((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=w((function(){this._streamCleanUp(),r=!0,this._streamData("")}),this),this._streamCleanUp=w((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function f(e){var t,n,r,a=Math.pow(2,53),o=-a,l=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,c=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,s=this,u=0,p=0,d=!1,f=!1,g=[],v={data:[],errors:[],meta:{}};if(E(e.step)){var b=e.step;e.step=function(t){if(v=t,x())_();else{if(_(),0===v.data.length)return;u+=t.data.length,e.preview&&u>e.preview?n.abort():(v.data=v.data[0],b(v,s))}}}function w(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function _(){return v&&r&&(k("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+i.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines&&(v.data=v.data.filter((function(e){return!w(e)}))),x()&&function(){if(v)if(Array.isArray(v.data[0])){for(var t=0;x()&&t<v.data.length;t++)v.data[t].forEach(n);v.data.splice(0,1)}else v.data.forEach(n);function n(t,n){E(e.transformHeader)&&(t=e.transformHeader(t,n)),g.push(t)}}(),function(){if(!v||!e.header&&!e.dynamicTyping&&!e.transform)return v;function t(t,n){var r,a=e.header?{}:[];for(r=0;r<t.length;r++){var o=r,i=t[r];e.header&&(o=r>=g.length?"__parsed_extra":g[r]),e.transform&&(i=e.transform(i,o)),i=O(o,i),"__parsed_extra"===o?(a[o]=a[o]||[],a[o].push(i)):a[o]=i}return e.header&&(r>g.length?k("FieldMismatch","TooManyFields","Too many fields: expected "+g.length+" fields but parsed "+r,p+n):r<g.length&&k("FieldMismatch","TooFewFields","Too few fields: expected "+g.length+" fields but parsed "+r,p+n)),a}var n=1;return!v.data.length||Array.isArray(v.data[0])?(v.data=v.data.map(t),n=v.data.length):v.data=t(v.data,0),e.header&&v.meta&&(v.meta.fields=g),p+=n,v}()}function x(){return e.header&&0===g.length}function O(t,n){return r=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[r]&&(e.dynamicTyping[r]=e.dynamicTypingFunction(r)),!0===(e.dynamicTyping[r]||e.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(e){if(l.test(e)){var t=parseFloat(e);if(o<t&&t<a)return!0}return!1}(n)?parseFloat(n):c.test(n)?new Date(n):""===n?null:n):n;var r}function k(e,t,n,r){var a={type:e,code:t,message:n};void 0!==r&&(a.row=r),v.errors.push(a)}this.parse=function(a,o,l){var c=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var n=new RegExp(m(t)+"([^]*?)"+m(t),"gm"),r=(e=e.replace(n,"")).split("\r"),a=e.split("\n"),o=1<a.length&&a[0].length<r[0].length;if(1===r.length||o)return"\n";for(var i=0,l=0;l<r.length;l++)"\n"===r[l][0]&&i++;return i>=r.length/2?"\r\n":"\r"}(a,c)),r=!1,e.delimiter)E(e.delimiter)&&(e.delimiter=e.delimiter(a),v.meta.delimiter=e.delimiter);else{var s=function(t,n,r,a,o){var l,c,s,u;o=o||[",","\t","|",";",i.RECORD_SEP,i.UNIT_SEP];for(var p=0;p<o.length;p++){var d=o[p],f=0,m=0,g=0;s=void 0;for(var v=new h({comments:a,delimiter:d,newline:n,preview:10}).parse(t),b=0;b<v.data.length;b++)if(r&&w(v.data[b]))g++;else{var y=v.data[b].length;m+=y,void 0!==s?0<y&&(f+=Math.abs(y-s),s=y):s=y}0<v.data.length&&(m/=v.data.length-g),(void 0===c||f<=c)&&(void 0===u||u<m)&&1.99<m&&(c=f,l=d,u=m)}return{successful:!!(e.delimiter=l),bestDelimiter:l}}(a,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);s.successful?e.delimiter=s.bestDelimiter:(r=!0,e.delimiter=i.DefaultDelimiter),v.meta.delimiter=e.delimiter}var u=y(e);return e.preview&&e.header&&u.preview++,t=a,n=new h(u),v=n.parse(t,o,l),_(),d?{meta:{paused:!0}}:v||{meta:{paused:!1}}},this.paused=function(){return d},this.pause=function(){d=!0,n.abort(),t=E(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){s.streamer._halted?(d=!1,s.streamer.parseChunk(t,!0)):setTimeout(s.resume,3)},this.aborted=function(){return f},this.abort=function(){f=!0,n.abort(),v.meta.aborted=!0,E(e.complete)&&e.complete(v),t=""}}function m(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function h(e){var t,n=(e=e||{}).delimiter,r=e.newline,a=e.comments,o=e.step,l=e.preview,c=e.fastMode,s=t=void 0===e.quoteChar||null===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(s=e.escapeChar),("string"!=typeof n||-1<i.BAD_DELIMITERS.indexOf(n))&&(n=","),a===n)throw new Error("Comment character same as delimiter");!0===a?a="#":("string"!=typeof a||-1<i.BAD_DELIMITERS.indexOf(a))&&(a=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var u=0,p=!1;this.parse=function(i,d,f){if("string"!=typeof i)throw new Error("Input must be a string");var h=i.length,g=n.length,v=r.length,b=a.length,y=E(o),w=[],_=[],x=[],O=u=0;if(!i)return V();if(e.header&&!d){var k=i.split(r)[0].split(n),S=[],C={},j=!1;for(var P in k){var R=k[P];E(e.transformHeader)&&(R=e.transformHeader(R,P));var D=R,A=C[R]||0;for(0<A&&(j=!0,D=R+"_"+A),C[R]=A+1;S.includes(D);)D=D+"_"+A;S.push(D)}if(j){var F=i.split(r);F[0]=S.join(n),i=F.join(r)}}if(c||!1!==c&&-1===i.indexOf(t)){for(var T=i.split(r),I=0;I<T.length;I++){if(x=T[I],u+=x.length,I!==T.length-1)u+=r.length;else if(f)return V();if(!a||x.substring(0,b)!==a){if(y){if(w=[],$(x.split(n)),Q(),p)return V()}else $(x.split(n));if(l&&l<=I)return w=w.slice(0,l),V(!0)}}return V()}for(var N=i.indexOf(n,u),M=i.indexOf(r,u),B=new RegExp(m(s)+m(t),"g"),L=i.indexOf(t,u);;)if(i[u]!==t)if(a&&0===x.length&&i.substring(u,u+b)===a){if(-1===M)return V();u=M+v,M=i.indexOf(r,u),N=i.indexOf(n,u)}else if(-1!==N&&(N<M||-1===M))x.push(i.substring(u,N)),u=N+g,N=i.indexOf(n,u);else{if(-1===M)break;if(x.push(i.substring(u,M)),W(M+v),y&&(Q(),p))return V();if(l&&w.length>=l)return V(!0)}else for(L=u,u++;;){if(-1===(L=i.indexOf(t,L+1)))return f||_.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:w.length,index:u}),U();if(L===h-1)return U(i.substring(u,L).replace(B,t));if(t!==s||i[L+1]!==s){if(t===s||0===L||i[L-1]!==s){-1!==N&&N<L+1&&(N=i.indexOf(n,L+1)),-1!==M&&M<L+1&&(M=i.indexOf(r,L+1));var z=H(-1===M?N:Math.min(N,M));if(i.substr(L+1+z,g)===n){x.push(i.substring(u,L).replace(B,t)),i[u=L+1+z+g]!==t&&(L=i.indexOf(t,u)),N=i.indexOf(n,u),M=i.indexOf(r,u);break}var q=H(M);if(i.substring(L+1+q,L+1+q+v)===r){if(x.push(i.substring(u,L).replace(B,t)),W(L+1+q+v),N=i.indexOf(n,u),L=i.indexOf(t,u),y&&(Q(),p))return V();if(l&&w.length>=l)return V(!0);break}_.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:w.length,index:u}),L++}}else L++}return U();function $(e){w.push(e),O=u}function H(e){var t=0;if(-1!==e){var n=i.substring(L+1,e);n&&""===n.trim()&&(t=n.length)}return t}function U(e){return f||(void 0===e&&(e=i.substring(u)),x.push(e),u=h,$(x),y&&Q()),V()}function W(e){u=e,$(x),x=[],M=i.indexOf(r,u)}function V(e){return{data:w,errors:_,meta:{delimiter:n,linebreak:r,aborted:p,truncated:!!e,cursor:O+(d||0)}}}function Q(){o(V()),w=[],_=[]}},this.abort=function(){p=!0},this.getCharIndex=function(){return u}}function g(e){var t=e.data,n=a[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var o={abort:function(){r=!0,v(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:b,resume:b};if(E(n.userStep)){for(var i=0;i<t.results.data.length&&(n.userStep({data:t.results.data[i],errors:t.results.errors,meta:t.results.meta},o),!r);i++);delete t.results}else E(n.userChunk)&&(n.userChunk(t.results,o,t.file),delete t.results)}t.finished&&!r&&v(t.workerId,t.results)}function v(e,t){var n=a[e];E(n.userComplete)&&n.userComplete(t),n.terminate(),delete a[e]}function b(){throw new Error("Not implemented.")}function y(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=y(e[n]);return t}function w(e,t){return function(){e.apply(t,arguments)}}function E(e){return"function"==typeof e}return r&&(t.onmessage=function(e){var n=e.data;if(void 0===i.WORKER_ID&&n&&(i.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:i.WORKER_ID,results:i.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var r=i.parse(n.input,n.config);r&&t.postMessage({workerId:i.WORKER_ID,results:r,finished:!0})}}),(s.prototype=Object.create(c.prototype)).constructor=s,(u.prototype=Object.create(c.prototype)).constructor=u,(p.prototype=Object.create(p.prototype)).constructor=p,(d.prototype=Object.create(c.prototype)).constructor=d,i},void 0===(r=n.apply(t,[]))||(e.exports=r)},742:e=>{e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{apiFetch:()=>Be.apiFetch,beforeDeleteRecord:()=>He,setPartialRecords:()=>Le,setRecord:()=>qe,setRecordOverview:()=>We,setRecords:()=>ze,setSchema:()=>$e,setTabContent:()=>Ue});var t={};n.r(t),n.d(t,{getAllRecords:()=>pt,getPartialRecords:()=>ft,getQuerySummary:()=>ut,getQueryTotal:()=>st,getRecord:()=>mt,getRecordIDs:()=>ct,getRecordOverview:()=>vt,getRecords:()=>dt,getSchema:()=>ht,getTabContent:()=>gt});const r=window.wp.element,a=window.wp.domReady;var o=n.n(a);const i=window.wp.url,l=window.wp.components,c=window.React;var s,u;function p(e,t){if(!1===e||null==e)throw new Error(t)}function d(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function f(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(e,t,n){void 0===n&&(n="/");let r=j(("string"==typeof t?f(t):t).pathname||"/",n);if(null==r)return null;let a=h(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]))?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let o=null;for(let e=0;null==o&&e<a.length;++e)o=k(a[e],C(r));return o}function h(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let a=(e,a,o)=>{let i={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};i.relativePath.startsWith("/")&&(p(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(r.length));let l=P([r,i.relativePath]),c=n.concat(i);e.children&&e.children.length>0&&(p(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),h(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:O(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of g(e.path))a(e,t,n);else a(e,t)})),t}function g(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return a?[o,""]:[o];let i=g(r.join("/")),l=[];return l.push(...i.map((e=>""===e?o:[o,e].join("/")))),a&&l.push(...i),l.map((t=>e.startsWith("/")&&""===t?"/":t))}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(s||(s={})),function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(u||(u={})),new Set(["lazy","caseSensitive","path","id","index","children"]);const v=/^:\w+$/,b=3,y=2,w=1,E=10,_=-2,x=e=>"*"===e;function O(e,t){let n=e.split("/"),r=n.length;return n.some(x)&&(r+=_),t&&(r+=y),n.filter((e=>!x(e))).reduce(((e,t)=>e+(v.test(t)?b:""===t?w:E)),r)}function k(e,t){let{routesMeta:n}=e,r={},a="/",o=[];for(let e=0;e<n.length;++e){let i=n[e],l=e===n.length-1,c="/"===a?t:t.slice(a.length)||"/",s=S({path:i.relativePath,caseSensitive:i.caseSensitive,end:l},c);if(!s)return null;Object.assign(r,s.params);let u=i.route;o.push({params:r,pathname:P([a,s.pathname]),pathnameBase:R(P([a,s.pathnameBase])),route:u}),"/"!==s.pathnameBase&&(a=P([a,s.pathnameBase]))}return o}function S(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,((e,t)=>(r.push(t),"/([^\\/]+)")));return e.endsWith("*")?(r.push("*"),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce(((e,t,n)=>{if("*"===t){let e=l[n]||"";i=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return d(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l[n]||"",t),e}),{}),pathname:o,pathnameBase:i,pattern:e}}function C(e){try{return decodeURI(e)}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function j(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}const P=e=>e.join("/").replace(/\/\/+/g,"/"),R=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");Error;const D=["post","put","patch","delete"],A=(new Set(D),["get",...D]);function F(){return F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F.apply(this,arguments)}new Set(A),new Set([301,302,303,307,308]),new Set([307,308]),Symbol("deferred");const T=c.createContext(null),I=c.createContext(null),N=c.createContext(null),M=c.createContext(null),B=c.createContext({outlet:null,matches:[],isDataRoute:!1}),L=c.createContext(null);function z(){return null!=c.useContext(M)}const q=c.createContext(null);function $(){let{matches:e}=c.useContext(B),t=e[e.length-1];return t?t.params:{}}function H(e,t,n){z()||p(!1);let{navigator:r}=c.useContext(N),{matches:a}=c.useContext(B),o=a[a.length-1],i=o?o.params:{},l=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let u,d=(z()||p(!1),c.useContext(M).location);if(t){var h;let e="string"==typeof t?f(t):t;"/"===l||(null==(h=e.pathname)?void 0:h.startsWith(l))||p(!1),u=e}else u=d;let g=u.pathname||"/",v=m(e,{pathname:"/"===l?g:g.slice(l.length)||"/"}),b=function(e,t,n){var r;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}let o=e,i=null==(r=n)?void 0:r.errors;if(null!=i){let e=o.findIndex((e=>e.route.id&&(null==i?void 0:i[e.route.id])));e>=0||p(!1),o=o.slice(0,Math.min(o.length,e+1))}return o.reduceRight(((e,r,a)=>{let l=r.route.id?null==i?void 0:i[r.route.id]:null,s=null;n&&(s=r.route.errorElement||W);let u=t.concat(o.slice(0,a+1)),p=()=>{let t;return t=l?s:r.route.Component?c.createElement(r.route.Component,null):r.route.element?r.route.element:e,c.createElement(Q,{match:r,routeContext:{outlet:e,matches:u,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?c.createElement(V,{location:n.location,revalidation:n.revalidation,component:s,error:l,children:p(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):p()}),null)}(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},i,e.params),pathname:P([l,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:P([l,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,n);return t&&b?c.createElement(M.Provider,{value:{location:F({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:s.Pop}},b):b}function U(){let e=function(){var e;let t=c.useContext(L),n=function(e){let t=c.useContext(I);return t||p(!1),t}(G.UseRouteError),r=function(e){let t=function(e){let t=c.useContext(B);return t||p(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||p(!1),n.route.id}(G.UseRouteError);return t||(null==(e=n.errors)?void 0:e[r])}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return c.createElement(c.Fragment,null,c.createElement("h2",null,"Unexpected Application Error!"),c.createElement("h3",{style:{fontStyle:"italic"}},t),n?c.createElement("pre",{style:r},n):null,null)}const W=c.createElement(U,null);class V extends c.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?c.createElement(B.Provider,{value:this.props.routeContext},c.createElement(L.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Q(e){let{routeContext:t,match:n,children:r}=e,a=c.useContext(T);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),c.createElement(B.Provider,{value:t},r)}var K,G,Y;function J(e){return function(e){let t=c.useContext(B).outlet;return t?c.createElement(q.Provider,{value:e},t):t}(e.context)}function X(e){p(!1)}function Z(e){let{basename:t="/",children:n=null,location:r,navigationType:a=s.Pop,navigator:o,static:i=!1}=e;z()&&p(!1);let l=t.replace(/^\/*/,"/"),u=c.useMemo((()=>({basename:l,navigator:o,static:i})),[l,o,i]);"string"==typeof r&&(r=f(r));let{pathname:d="/",search:m="",hash:h="",state:g=null,key:v="default"}=r,b=c.useMemo((()=>{let e=j(d,l);return null==e?null:{location:{pathname:e,search:m,hash:h,state:g,key:v},navigationType:a}}),[l,d,m,h,g,v,a]);return null==b?null:c.createElement(N.Provider,{value:u},c.createElement(M.Provider,{children:n,value:b}))}function ee(e){let{children:t,location:n}=e;return H(te(t),n)}function te(e,t){void 0===t&&(t=[]);let n=[];return c.Children.forEach(e,((e,r)=>{if(!c.isValidElement(e))return;let a=[...t,r];if(e.type===c.Fragment)return void n.push.apply(n,te(e.props.children,a));e.type!==X&&p(!1),e.props.index&&e.props.children&&p(!1);let o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=te(e.props.children,a)),n.push(o)})),n}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(K||(K={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(G||(G={})),c.startTransition,function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Y||(Y={})),new Promise((()=>{})),c.Component,new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const ne=c.startTransition;function re(e){let{basename:t,children:n,future:r,history:a}=e,[o,i]=c.useState({action:a.action,location:a.location}),{v7_startTransition:l}=r||{},s=c.useCallback((e=>{l&&ne?ne((()=>i(e))):i(e)}),[i,l]);return c.useLayoutEffect((()=>a.listen(s)),[a,s]),c.createElement(Z,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a})}var ae,oe;"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement,function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"}(ae||(ae={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(oe||(oe={}));const ie=(0,c.createContext)(null),le={didCatch:!1,error:null};class ce extends c.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=le}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(null!==e){for(var t,n,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];null===(t=(n=this.props).onReset)||void 0===t||t.call(n,{args:a,reason:"imperative-api"}),this.setState(le)}}componentDidCatch(e,t){var n,r;null===(n=(r=this.props).onError)||void 0===n||n.call(r,e,t)}componentDidUpdate(e,t){const{didCatch:n}=this.state,{resetKeys:r}=this.props;var a,o;n&&null!==t.error&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length!==t.length||e.some(((e,n)=>!Object.is(e,t[n])))}(e.resetKeys,r)&&(null===(a=(o=this.props).onReset)||void 0===a||a.call(o,{next:r,prev:e.resetKeys,reason:"keys"}),this.setState(le))}render(){const{children:e,fallbackRender:t,FallbackComponent:n,fallback:r}=this.props,{didCatch:a,error:o}=this.state;let i=e;if(a){const e={error:o,resetErrorBoundary:this.resetErrorBoundary};if((0,c.isValidElement)(r))i=r;else if("function"==typeof t)i=t(e);else{if(!n)throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop");i=(0,c.createElement)(n,e)}}return(0,c.createElement)(ie.Provider,{value:{didCatch:a,error:o,resetErrorBoundary:this.resetErrorBoundary}},i)}}const se=window.wp.i18n;function ue(e){var t=e.error;return(0,r.createElement)(l.Notice,{status:"error",isDismissible:!1},(0,r.createElement)("strong",null,(0,se.__)("Error:","newsletter-optin-box")),"Â ",t.message)}function pe(e){var t=e.children;return(0,r.createElement)(ce,{FallbackComponent:ue},t)}var de;function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function me(e,t){if(e){if("string"==typeof e)return fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fe(e,t):void 0}}function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||me(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e){return ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ge(e)}function ve(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ge(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==ge(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ge(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(){return be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},be.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(de||(de={}));var ye,we=function(e){return e},Ee="beforeunload",_e="popstate";function xe(e){e.preventDefault(),e.returnValue=""}function Oe(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";if(!ye){var t=function(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function a(){var e=n.location,t=e.pathname,a=e.search,o=e.hash,i=r.state||{};return[i.idx,we({pathname:t,search:a,hash:o,state:i.usr||null,key:i.key||"default"})]}var o=null;n.addEventListener(_e,(function(){if(o)p.call(o),o=null;else{var e=de.Pop,t=a(),n=t[0],r=t[1];if(p.length){if(null!=n){var i=c-n;i&&(o={action:e,location:r,retry:function(){v(-1*i)}},v(i))}}else g(e)}}));var i=de.Pop,l=a(),c=l[0],s=l[1],u=Oe(),p=Oe();function d(e){return"string"==typeof e?e:function(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,a=void 0===r?"":r,o=e.hash,i=void 0===o?"":o;return a&&"?"!==a&&(n+="?"===a.charAt(0)?a:"?"+a),i&&"#"!==i&&(n+="#"===i.charAt(0)?i:"#"+i),n}(e)}function f(e,t){return void 0===t&&(t=null),we(be({pathname:s.pathname,hash:"",search:""},"string"==typeof e?function(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}(e):e,{state:t,key:Math.random().toString(36).substr(2,8)}))}function m(e,t){return[{usr:e.state,key:e.key,idx:t},d(e)]}function h(e,t,n){return!p.length||(p.call({action:e,location:t,retry:n}),!1)}function g(e){i=e;var t=a();c=t[0],s=t[1],u.call({action:i,location:s})}function v(e){r.go(e)}return null==c&&(c=0,r.replaceState(be({},r.state,{idx:c}),"")),{get action(){return i},get location(){return s},createHref:d,push:function e(t,a){var o=de.Push,i=f(t,a);if(h(o,i,(function(){e(t,a)}))){var l=m(i,c+1),s=l[0],u=l[1];try{r.pushState(s,"",u)}catch(e){n.location.assign(u)}g(o)}},replace:function e(t,n){var a=de.Replace,o=f(t,n);if(h(a,o,(function(){e(t,n)}))){var i=m(o,c),l=i[0],s=i[1];r.replaceState(l,"",s),g(a)}},go:v,back:function(){v(-1)},forward:function(){v(1)},listen:function(e){return u.push(e)},block:function(e){var t=p.push(e);return 1===p.length&&n.addEventListener(Ee,xe),function(){t(),p.length||n.removeEventListener(Ee,xe)}}}}();ye={get action(){return t.action},get location(){var n=t.location,r=(0,i.getQueryArgs)(n.search).hizzle_path||e;return Se(Se({},n),{},{pathname:r})},createHref:t.createHref,push:t.push,replace:t.replace,go:t.go,back:t.back,forward:t.forward,block:t.block,listen:function(e){var n=this;return t.listen((function(){e({action:n.action,location:n.location})}))}}}return window._history=ye,ye}const je=window.lodash;function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var De=function(){return Ce().location.pathname};function Ae(){var e=Ce().location.search;return e.length&&(0,i.getQueryArgs)(e)||{}}function Fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De(),n=Re(Re({},arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ae()),e);return"/"!==t&&(n.hizzle_path=t),Object.keys(n).forEach((function(e){""===n[e]&&delete n[e]})),(0,i.addQueryArgs)("admin.php",n)}function Te(e){var t=Fe(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:De(),arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ae());Ce().push(t)}var Ie=function(e){Ce().push((0,i.addQueryArgs)("admin.php",(0,i.getQueryArgs)(e))),window.scrollTo({top:0,behavior:"smooth"})};const Ne=(0,r.forwardRef)((function(e,t){var n=e.actions,a=e.className,o=e.title,i=e.menu,c=e.children;return(0,r.createElement)(l.Card,{className:a,ref:t},(0,r.createElement)(pe,null,(0,r.createElement)(l.CardHeader,null,(0,r.createElement)(l.Flex,{justify:"start",wrap:!0},(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(l.__experimentalText,{size:16,weight:600,as:"h2",color:"#23282d"},o)),n&&(0,r.createElement)(l.FlexItem,{className:"noptin-screen__actions"}," ",n," ")),i&&i),c))})),Me=window.wp.data,Be=window.wp.dataControls;var Le=function(e,t){return{type:"SET_PARTIAL_RECORDS",records:e,queryString:t}},ze=function(e,t){return{type:"SET_RECORDS",records:e,queryString:t}},qe=function(e){return{type:"SET_RECORD",record:e}},$e=function(e){return{type:"SET_SCHEMA",schema:e}},He=function(e){return{type:"BEFORE_DELETE_RECORD",id:e}},Ue=function(e,t,n){return{type:"SET_TAB_CONTENT",id:e,tab_id:t,content:n}},We=function(e,t){return{type:"SET_RECORD_OVERVIEW",id:e,overview:t}};const Ve=window.regeneratorRuntime;var Qe=n.n(Ve);function Ke(e,t){return{createRecord:Qe().mark((function n(r,a){var o,i;return Qe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o="".concat(e,"/v1/").concat(t),n.next=4,(0,Be.apiFetch)({path:o,method:"POST",data:r});case 4:if(!(i=n.sent)){n.next=17;break}return n.next=8,a.invalidateResolutionForStoreSelector("getRecords");case 8:return n.next=10,a.invalidateResolutionForStoreSelector("getPartialRecords");case 10:return n.next=12,a.invalidateResolution("getRecord",[i.id]);case 12:return n.next=14,a.startResolution("getRecord",[i.id]);case 14:return n.next=16,a.finishResolution("getRecord",[i.id]);case 16:return n.abrupt("return",qe(i));case 17:case"end":return n.stop()}}),n)})),updateRecord:Qe().mark((function n(r,a,o){var i,l;return Qe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i="".concat(e,"/v1/").concat(t,"/").concat(r),n.next=4,(0,Be.apiFetch)({path:i,method:"PUT",data:a});case 4:if(!(l=n.sent)){n.next=11;break}return n.next=8,o.startResolution("getRecord",[l.id]);case 8:return n.next=10,o.finishResolution("getRecord",[l.id]);case 10:return n.abrupt("return",o.setRecord(l));case 11:case"end":return n.stop()}}),n)})),deleteRecord:Qe().mark((function n(r,a){var o;return Qe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.beforeDeleteRecord(r);case 2:return o="".concat(e,"/v1/").concat(t,"/").concat(r),n.next=6,(0,Be.apiFetch)({path:o,method:"DELETE"});case 6:return n.next=8,a.emptyCache(a);case 8:return n.abrupt("return",{type:"DELETE_RECORD",id:r});case 9:case"end":return n.stop()}}),n)})),deleteRecords:Qe().mark((function n(r,a){var o;return Qe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o="".concat(e,"/v1/").concat(t).concat(r),n.next=4,(0,Be.apiFetch)({path:o,method:"DELETE"});case 4:return n.next=6,a.emptyCache(a);case 6:return n.abrupt("return",{type:"DELETE_RECORDS"});case 7:case"end":return n.stop()}}),n)})),batchAction:Qe().mark((function n(r,a){var o,i;return Qe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o="".concat(e,"/v1/").concat(t,"/batch"),n.next=4,(0,Be.apiFetch)({path:o,method:"POST",data:r});case 4:return i=n.sent,n.next=7,a.emptyCache(a);case 7:return n.abrupt("return",{type:"BATCH_ACTION",result:i});case 8:case"end":return n.stop()}}),n)})),emptyCache:Qe().mark((function e(t){return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.invalidateResolutionForStoreSelector("getRecords");case 2:return e.next=4,t.invalidateResolutionForStoreSelector("getPartialRecords");case 4:return e.next=6,t.invalidateResolutionForStoreSelector("getRecord");case 6:return e.next=8,t.invalidateResolutionForStoreSelector("getRecordOverview");case 8:return e.next=10,t.invalidateResolutionForStoreSelector("getTabContent");case 10:case"end":return e.stop()}}),e)}))}}var Ge={records:{byID:{},queries:{}},partialRecords:{},schema:{},tabContent:{},recordOverview:{}};function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Xe=(0,Me.combineReducers)({schema:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"SET_SCHEMA"===t.type?t.schema:e},records:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{byID:{},queries:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_RECORDS":var n=""===t.queryString?"all":t.queryString;return{byID:Je(Je({},e.byID),t.records.items.reduce((function(e,t){return Je(Je({},e),{},ve({},t.id,t))}),{})),queries:Je(Je({},e.queries),{},ve({},n,{items:t.records.items.map((function(e){return e.id})),summary:t.records.summary,total:t.records.total}))};case"SET_RECORD":return Je(Je({},e),{},{byID:Je(Je({},e.byID),{},ve({},t.record.id,t.record))});case"BEFORE_DELETE_RECORD":var r=Je({},e.queries);return Object.keys(r).forEach((function(e){var n=r[e].items.indexOf(t.id);-1!==n&&(r[e].items.splice(n,1),r[e].total-=1)})),Je(Je({},e),{},{queries:r});case"DELETE_RECORD":var a=Je({},e.byID);return delete a[t.id],Je(Je({},e),{},{byID:a});case"DELETE_RECORDS":return Je(Je({},e),{},{queries:{},byID:{}})}return e},partialRecords:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if("SET_PARTIAL_RECORDS"===t.type){var n=""===t.queryString?"all":t.queryString;return Je(Je({},e),{},ve({},n,t.records))}return e},tabContent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"SET_TAB_CONTENT"===t.type?Je(Je({},e),{},ve({},"".concat(t.id,"_").concat(t.tab_id),t.content)):e},recordOverview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"SET_RECORD_OVERVIEW"===t.type?Je(Je({},e),{},ve({},t.id,t.overview)):e}});var Ze=function(e){return(0,i.addQueryArgs)(e,{uniqid:Math.random()})};function et(e,t){return{getRecords:Qe().mark((function n(r){var a,o,i,l;return Qe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=Ze("".concat(e,"/v1/").concat(t).concat(r)),n.next=3,(0,Be.apiFetch)({path:a});case 3:if(!(o=n.sent)){n.next=12;break}return i="".concat(e,"/").concat(t),l=o.items.map((function(e){return[e.id]})),n.next=9,Me.controls.dispatch(i,"startResolutions","getRecord",l);case 9:return n.next=11,Me.controls.dispatch(i,"finishResolutions","getRecord",l);case 11:return n.abrupt("return",ze(o,r));case 12:case"end":return n.stop()}}),n)})),getPartialRecords:Qe().mark((function n(r){var a,o;return Qe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=Ze("".concat(e,"/v1/").concat(t).concat(r)),n.next=3,(0,Be.apiFetch)({path:a});case 3:if(!(o=n.sent)){n.next=6;break}return n.abrupt("return",Le(o.items,r));case 6:case"end":return n.stop()}}),n)})),getRecord:Qe().mark((function n(r){var a,o;return Qe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r){n.next=2;break}throw new Error("Record not found.");case 2:return a=Ze("".concat(e,"/v1/").concat(t,"/").concat(r)),n.next=5,(0,Be.apiFetch)({path:a});case 5:return o=n.sent,n.abrupt("return",qe(o));case 7:case"end":return n.stop()}}),n)})),getSchema:Qe().mark((function n(){var r,a;return Qe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=Ze("".concat(e,"/v1/").concat(t,"/collection_schema")),n.next=3,(0,Be.apiFetch)({path:r});case 3:return a=n.sent,n.abrupt("return",$e(a));case 5:case"end":return n.stop()}}),n)})),getTabContent:Qe().mark((function n(r,a){var o,i;return Qe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r){n.next=2;break}throw new Error("Record not found.");case 2:return o=Ze("".concat(e,"/v1/").concat(t,"/").concat(r,"/").concat(a)),n.next=5,(0,Be.apiFetch)({path:o});case 5:return i=n.sent,n.abrupt("return",Ue(r,a,i));case 7:case"end":return n.stop()}}),n)})),getRecordOverview:Qe().mark((function n(r){var a,o;return Qe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r){n.next=2;break}throw new Error("Record not found.");case 2:return a=Ze("".concat(e,"/v1/").concat(t,"/").concat(r,"/overview")),n.next=5,(0,Be.apiFetch)({path:a});case 5:return o=n.sent,n.abrupt("return",We(r,o));case 7:case"end":return n.stop()}}),n)}))}}var tt="NOT_FOUND",nt=function(e,t){return e===t};function rt(e,t){var n,r,a="object"==typeof t?t:{equalityCheck:t},o=a.equalityCheck,i=void 0===o?nt:o,l=a.maxSize,c=void 0===l?1:l,s=a.resultEqualityCheck,u=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,a=0;a<r;a++)if(!e(t[a],n[a]))return!1;return!0}}(i),p=1===c?(n=u,{get:function(e){return r&&n(r.key,e)?r.value:tt},put:function(e,t){r={key:e,value:t}},getEntries:function(){return r?[r]:[]},clear:function(){r=void 0}}):function(e,t){var n=[];function r(e){var r=n.findIndex((function(n){return t(e,n.key)}));if(r>-1){var a=n[r];return r>0&&(n.splice(r,1),n.unshift(a)),a.value}return tt}return{get:r,put:function(t,a){r(t)===tt&&(n.unshift({key:t,value:a}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(c,u);function d(){var t=p.get(arguments);if(t===tt){if(t=e.apply(null,arguments),s){var n=p.getEntries().find((function(e){return s(e.value,t)}));n&&(t=n.value)}p.put(arguments,t)}return t}return d.clearCache=function(){return p.clear()},d}function at(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var o,i=0,l={memoizeOptions:void 0},c=r.pop();if("object"==typeof c&&(l=c,c=r.pop()),"function"!=typeof c)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof c+"]");var s=l.memoizeOptions,u=void 0===s?n:s,p=Array.isArray(u)?u:[u],d=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}(r),f=e.apply(void 0,[function(){return i++,c.apply(null,arguments)}].concat(p)),m=e((function(){for(var e=[],t=d.length,n=0;n<t;n++)e.push(d[n].apply(null,arguments));return o=f.apply(null,e)}));return Object.assign(m,{resultFunc:c,memoizedResultFunc:f,dependencies:d,lastResult:function(){return o},recomputations:function(){return i},resetRecomputations:function(){return i=0}}),m}}function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lt={items:[],summary:{},total:0},ct=function(){var e,t=arguments.length>1?arguments[1]:void 0;return t=""===t?"all":t,null!==(e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge).records.queries[t])&&void 0!==e?e:lt},st=function(){var e,t=arguments.length>1?arguments[1]:void 0;return t=""===t?"all":t,(null===(e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge).records.queries[t])||void 0===e?void 0:e.total)||0},ut=function(){var e,t=arguments.length>1?arguments[1]:void 0;return t=""===t?"all":t,(null===(e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge).records.queries[t])||void 0===e?void 0:e.summary)||{}},pt=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge).records.byID||{}},dt=at(rt)(ct,pt,(function(e,t){return it(it({},e),{},{items:e.items.map((function(e){return t[e]}))})})),ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;return t=""===t?"all":t,Array.isArray(e.partialRecords[t])?e.partialRecords[t]:[]},mt=function(){var e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge).records.byID[e]||null},ht=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge).schema||{}},gt=function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge).tabContent["".concat(e,"_").concat(t)]||{}},vt=function(){var e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge).recordOverview[e]||[]};function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wt={};function Et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xt(n,r){return function(n,r){var a="".concat(n,"/").concat(r);return wt[a]||(wt[a]=(0,Me.createReduxStore)(a,{reducer:Xe,actions:yt(yt({},e),Ke(n,r)),selectors:yt({},t),controls:Be.controls,resolvers:et(n,r)}),(0,Me.register)(wt[a])),wt[a]}(n,r)}var Ot=["getIsResolving","hasStartedResolution","hasFinishedResolution","isResolving","getCachedResolvers","getResolutionError","hasResolutionFailed","getAllRecordData"],kt=function(e){var t=_t({},e);return delete t.hizzle_path,delete t.page,1===parseInt(t.paged)&&delete t.paged,(0,i.addQueryArgs)("",t)};function St(e,t){return(0,Me.useSelect)((function(t,n){return e((function(e){return Ct(t(e))}),n)}),t)}var Ct=function(e,t){var n,r,a=0;function o(){var o,i,l=n,c=arguments.length;e:for(;l;){if(l.args.length===arguments.length){for(i=0;i<c;i++)if(l.args[i]!==arguments[i]){l=l.next;continue e}return l!==n&&(l===r&&(r=l.prev),l.prev.next=l.next,l.next&&(l.next.prev=l.prev),l.next=n,l.prev=null,n.prev=l,n=l),l.val}l=l.next}for(o=new Array(c),i=0;i<c;i++)o[i]=arguments[i];return l={args:o,val:e.apply(null,o)},n?(n.prev=l,l.next=n):r=l,a===t.maxSize?(r=r.prev).next=null:a++,n=l,l.val}return t=t||{},o.clear=function(){n=null,r=null,a=0},o}((function(e){var t={},n=function(n){if(Ot.includes(n))return t[n]=e[n],"continue";Object.defineProperty(t,n,{get:function(){return function(){for(var t=e.getIsResolving,r=e.hasFinishedResolution,a=e.getResolutionError,o=e.hasResolutionFailed,i=e.hasStartedResolution,l=arguments.length,c=new Array(l),s=0;s<l;s++)c[s]=arguments[s];var u=a(n,c),p=!!t(n,c)||!i(n,c),d=!p&&r(n,c);return{data:e[n].apply(e,c),status:p?"RESOLVING":d?o(n,c)||u?"ERROR":"SUCCESS":"IDLE",isResolving:p,hasResolved:d,error:u}}}})};for(var r in e)n(r);return t}));function jt(e,t,n){var a=xt(e,t);n=parseInt(n,10);var o=(0,Me.useDispatch)(a),i=(0,r.useMemo)((function(){return{save:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.updateRecord(n,e,o)},delete:function(){return o.deleteRecord(n,o).catch((function(e){console.error(e)}))}}}),[n]);return _t(_t({},St((function(e){return e(a).getRecord(n)}),[e,t,n])),i)}function Pt(e,t){var n=kt(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return St((function(r){return r(xt(e,t)).getRecords(n)}),[e,t,n])}function Rt(e,t){return St((function(n){return n(xt(e,t)).getSchema()}),[e,t])}function Dt(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var At=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Ft=Dt((function(e){return At.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),Tt=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(e){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),It=Math.abs,Nt=String.fromCharCode,Mt=Object.assign;function Bt(e){return e.trim()}function Lt(e,t,n){return e.replace(t,n)}function zt(e,t){return e.indexOf(t)}function qt(e,t){return 0|e.charCodeAt(t)}function $t(e,t,n){return e.slice(t,n)}function Ht(e){return e.length}function Ut(e){return e.length}function Wt(e,t){return t.push(e),e}var Vt=1,Qt=1,Kt=0,Gt=0,Yt=0,Jt="";function Xt(e,t,n,r,a,o,i){return{value:e,root:t,parent:n,type:r,props:a,children:o,line:Vt,column:Qt,length:i,return:""}}function Zt(e,t){return Mt(Xt("",null,null,"",null,null,0),e,{length:-e.length},t)}function en(){return Yt=Gt>0?qt(Jt,--Gt):0,Qt--,10===Yt&&(Qt=1,Vt--),Yt}function tn(){return Yt=Gt<Kt?qt(Jt,Gt++):0,Qt++,10===Yt&&(Qt=1,Vt++),Yt}function nn(){return qt(Jt,Gt)}function rn(){return Gt}function an(e,t){return $t(Jt,e,t)}function on(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ln(e){return Vt=Qt=1,Kt=Ht(Jt=e),Gt=0,[]}function cn(e){return Jt="",e}function sn(e){return Bt(an(Gt-1,dn(91===e?e+2:40===e?e+1:e)))}function un(e){for(;(Yt=nn())&&Yt<33;)tn();return on(e)>2||on(Yt)>3?"":" "}function pn(e,t){for(;--t&&tn()&&!(Yt<48||Yt>102||Yt>57&&Yt<65||Yt>70&&Yt<97););return an(e,rn()+(t<6&&32==nn()&&32==tn()))}function dn(e){for(;tn();)switch(Yt){case e:return Gt;case 34:case 39:34!==e&&39!==e&&dn(Yt);break;case 40:41===e&&dn(e);break;case 92:tn()}return Gt}function fn(e,t){for(;tn()&&e+Yt!==57&&(e+Yt!==84||47!==nn()););return"/*"+an(t,Gt-1)+"*"+Nt(47===e?e:tn())}function mn(e){for(;!on(nn());)tn();return an(e,Gt)}var hn="-ms-",gn="-moz-",vn="-webkit-",bn="comm",yn="rule",wn="decl",En="@keyframes";function _n(e,t){for(var n="",r=Ut(e),a=0;a<r;a++)n+=t(e[a],a,e,t)||"";return n}function xn(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case wn:return e.return=e.return||e.value;case bn:return"";case En:return e.return=e.value+"{"+_n(e.children,r)+"}";case yn:e.value=e.props.join(",")}return Ht(n=_n(e.children,r))?e.return=e.value+"{"+n+"}":""}function On(e){return cn(kn("",null,null,null,[""],e=ln(e),0,[0],e))}function kn(e,t,n,r,a,o,i,l,c){for(var s=0,u=0,p=i,d=0,f=0,m=0,h=1,g=1,v=1,b=0,y="",w=a,E=o,_=r,x=y;g;)switch(m=b,b=tn()){case 40:if(108!=m&&58==qt(x,p-1)){-1!=zt(x+=Lt(sn(b),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:x+=sn(b);break;case 9:case 10:case 13:case 32:x+=un(m);break;case 92:x+=pn(rn()-1,7);continue;case 47:switch(nn()){case 42:case 47:Wt(Cn(fn(tn(),rn()),t,n),c);break;default:x+="/"}break;case 123*h:l[s++]=Ht(x)*v;case 125*h:case 59:case 0:switch(b){case 0:case 125:g=0;case 59+u:-1==v&&(x=Lt(x,/\f/g,"")),f>0&&Ht(x)-p&&Wt(f>32?jn(x+";",r,n,p-1):jn(Lt(x," ","")+";",r,n,p-2),c);break;case 59:x+=";";default:if(Wt(_=Sn(x,t,n,s,u,a,l,y,w=[],E=[],p),o),123===b)if(0===u)kn(x,t,_,_,w,o,p,l,E);else switch(99===d&&110===qt(x,3)?100:d){case 100:case 108:case 109:case 115:kn(e,_,_,r&&Wt(Sn(e,_,_,0,0,a,l,y,a,w=[],p),E),a,E,p,l,r?w:E);break;default:kn(x,_,_,_,[""],E,0,l,E)}}s=u=f=0,h=v=1,y=x="",p=i;break;case 58:p=1+Ht(x),f=m;default:if(h<1)if(123==b)--h;else if(125==b&&0==h++&&125==en())continue;switch(x+=Nt(b),b*h){case 38:v=u>0?1:(x+="\f",-1);break;case 44:l[s++]=(Ht(x)-1)*v,v=1;break;case 64:45===nn()&&(x+=sn(tn())),d=nn(),u=p=Ht(y=x+=mn(rn())),b++;break;case 45:45===m&&2==Ht(x)&&(h=0)}}return o}function Sn(e,t,n,r,a,o,i,l,c,s,u){for(var p=a-1,d=0===a?o:[""],f=Ut(d),m=0,h=0,g=0;m<r;++m)for(var v=0,b=$t(e,p+1,p=It(h=i[m])),y=e;v<f;++v)(y=Bt(h>0?d[v]+" "+b:Lt(b,/&\f/g,d[v])))&&(c[g++]=y);return Xt(e,t,n,0===a?yn:l,c,s,u)}function Cn(e,t,n){return Xt(e,t,n,bn,Nt(Yt),$t(e,2,-2),0)}function jn(e,t,n,r){return Xt(e,t,n,wn,$t(e,0,r),$t(e,r+1,-1),r)}var Pn=function(e,t,n){for(var r=0,a=0;r=a,a=nn(),38===r&&12===a&&(t[n]=1),!on(a);)tn();return an(e,Gt)},Rn=new WeakMap,Dn=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Rn.get(n))&&!r){Rn.set(e,!0);for(var a=[],o=function(e,t){return cn(function(e,t){var n=-1,r=44;do{switch(on(r)){case 0:38===r&&12===nn()&&(t[n]=1),e[n]+=Pn(Gt-1,t,n);break;case 2:e[n]+=sn(r);break;case 4:if(44===r){e[++n]=58===nn()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Nt(r)}}while(r=tn());return e}(ln(e),t))}(t,a),i=n.props,l=0,c=0;l<o.length;l++)for(var s=0;s<i.length;s++,c++)e.props[c]=a[l]?o[l].replace(/&\f/g,i[s]):i[s]+" "+o[l]}}},An=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Fn(e,t){switch(function(e,t){return 45^qt(e,0)?(((t<<2^qt(e,0))<<2^qt(e,1))<<2^qt(e,2))<<2^qt(e,3):0}(e,t)){case 5103:return vn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return vn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return vn+e+gn+e+hn+e+e;case 6828:case 4268:return vn+e+hn+e+e;case 6165:return vn+e+hn+"flex-"+e+e;case 5187:return vn+e+Lt(e,/(\w+).+(:[^]+)/,vn+"box-$1$2"+hn+"flex-$1$2")+e;case 5443:return vn+e+hn+"flex-item-"+Lt(e,/flex-|-self/,"")+e;case 4675:return vn+e+hn+"flex-line-pack"+Lt(e,/align-content|flex-|-self/,"")+e;case 5548:return vn+e+hn+Lt(e,"shrink","negative")+e;case 5292:return vn+e+hn+Lt(e,"basis","preferred-size")+e;case 6060:return vn+"box-"+Lt(e,"-grow","")+vn+e+hn+Lt(e,"grow","positive")+e;case 4554:return vn+Lt(e,/([^-])(transform)/g,"$1"+vn+"$2")+e;case 6187:return Lt(Lt(Lt(e,/(zoom-|grab)/,vn+"$1"),/(image-set)/,vn+"$1"),e,"")+e;case 5495:case 3959:return Lt(e,/(image-set\([^]*)/,vn+"$1$`$1");case 4968:return Lt(Lt(e,/(.+:)(flex-)?(.*)/,vn+"box-pack:$3"+hn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+vn+e+e;case 4095:case 3583:case 4068:case 2532:return Lt(e,/(.+)-inline(.+)/,vn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ht(e)-1-t>6)switch(qt(e,t+1)){case 109:if(45!==qt(e,t+4))break;case 102:return Lt(e,/(.+:)(.+)-([^]+)/,"$1"+vn+"$2-$3$1"+gn+(108==qt(e,t+3)?"$3":"$2-$3"))+e;case 115:return~zt(e,"stretch")?Fn(Lt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==qt(e,t+1))break;case 6444:switch(qt(e,Ht(e)-3-(~zt(e,"!important")&&10))){case 107:return Lt(e,":",":"+vn)+e;case 101:return Lt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+vn+(45===qt(e,14)?"inline-":"")+"box$3$1"+vn+"$2$3$1"+hn+"$2box$3")+e}break;case 5936:switch(qt(e,t+11)){case 114:return vn+e+hn+Lt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return vn+e+hn+Lt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return vn+e+hn+Lt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return vn+e+hn+e+e}return e}var Tn=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case wn:e.return=Fn(e.value,e.length);break;case En:return _n([Zt(e,{value:Lt(e.value,"@","@"+vn)})],r);case yn:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=/(::plac\w+|:read-\w+)/.exec(e))?e[0]:e}(t)){case":read-only":case":read-write":return _n([Zt(e,{props:[Lt(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return _n([Zt(e,{props:[Lt(t,/:(plac\w+)/,":"+vn+"input-$1")]}),Zt(e,{props:[Lt(t,/:(plac\w+)/,":-moz-$1")]}),Zt(e,{props:[Lt(t,/:(plac\w+)/,hn+"input-$1")]})],r)}return""}))}}],In=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,a,o=e.stylisPlugins||Tn,i={},l=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)i[t[n]]=!0;l.push(e)}));var c,s,u=[xn,(s=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&s(e)})],p=function(e){var t=Ut(e);return function(n,r,a,o){for(var i="",l=0;l<t;l++)i+=e[l](n,r,a,o)||"";return i}}([Dn,An].concat(o,u));a=function(e,t,n,r){c=n,_n(On(e?e+"{"+t.styles+"}":t.styles),p),r&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new Tt({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:a};return d.sheet.hydrate(l),d},Nn={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Mn=/[A-Z]|^ms/g,Bn=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Ln=function(e){return 45===e.charCodeAt(1)},zn=function(e){return null!=e&&"boolean"!=typeof e},qn=Dt((function(e){return Ln(e)?e:e.replace(Mn,"-$&").toLowerCase()})),$n=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(Bn,(function(e,t,n){return Un={name:t,styles:n,next:Un},t}))}return 1===Nn[e]||Ln(e)||"number"!=typeof t||0===t?t:t+"px"};function Hn(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Un={name:n.name,styles:n.styles,next:Un},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Un={name:r.name,styles:r.styles,next:Un},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var a=0;a<n.length;a++)r+=Hn(e,t,n[a])+";";else for(var o in n){var i=n[o];if("object"!=typeof i)null!=t&&void 0!==t[i]?r+=o+"{"+t[i]+"}":zn(i)&&(r+=qn(o)+":"+$n(o,i)+";");else if(!Array.isArray(i)||"string"!=typeof i[0]||null!=t&&void 0!==t[i[0]]){var l=Hn(e,t,i);switch(o){case"animation":case"animationName":r+=qn(o)+":"+l+";";break;default:r+=o+"{"+l+"}"}}else for(var c=0;c<i.length;c++)zn(i[c])&&(r+=qn(o)+":"+$n(o,i[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var a=Un,o=n(e);return Un=a,Hn(e,t,o)}}if(null==t)return n;var i=t[n];return void 0!==i?i:n}var Un,Wn=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Vn=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,a="";Un=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,a+=Hn(n,t,o)):a+=o[0];for(var i=1;i<e.length;i++)a+=Hn(n,t,e[i]),r&&(a+=o[i]);Wn.lastIndex=0;for(var l,c="";null!==(l=Wn.exec(a));)c+="-"+l[1];var s=function(e){for(var t,n=0,r=0,a=e.length;a>=4;++r,a-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(a){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(a)+c;return{name:s,styles:a,next:Un}},Qn=!!c.useInsertionEffect&&c.useInsertionEffect,Kn=Qn||function(e){return e()},Gn=(Qn||c.useLayoutEffect,c.createContext("undefined"!=typeof HTMLElement?In({key:"css"}):null));Gn.Provider;var Yn=c.createContext({}),Jn=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Xn=Ft,Zn=function(e){return"theme"!==e},er=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?Xn:Zn},tr=function(e,t,n){var r;if(t){var a=t.shouldForwardProp;r=e.__emotion_forwardProp&&a?function(t){return e.__emotion_forwardProp(t)&&a(t)}:a}return"function"!=typeof r&&n&&(r=e.__emotion_forwardProp),r},nr=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return Jn(t,n,r),Kn((function(){return function(e,t,n){Jn(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+r:"",a,e.sheet,!0),a=a.next}while(void 0!==a)}}(t,n,r)})),null},rr=function e(t,n){var r,a,o=t.__emotion_real===t,i=o&&t.__emotion_base||t;void 0!==n&&(r=n.label,a=n.target);var l=tr(t,n,o),s=l||er(i),u=!s("as");return function(){var p=arguments,d=o&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&d.push("label:"+r+";"),null==p[0]||void 0===p[0].raw)d.push.apply(d,p);else{d.push(p[0][0]);for(var f=p.length,m=1;m<f;m++)d.push(p[m],p[0][m])}var h,g=(h=function(e,t,n){var r,o,p,f,m=u&&e.as||i,h="",g=[],v=e;if(null==e.theme){for(var b in v={},e)v[b]=e[b];v.theme=c.useContext(Yn)}"string"==typeof e.className?(r=t.registered,o=g,p=e.className,f="",p.split(" ").forEach((function(e){void 0!==r[e]?o.push(r[e]+";"):f+=e+" "})),h=f):null!=e.className&&(h=e.className+" ");var y=Vn(d.concat(g),t.registered,v);h+=t.key+"-"+y.name,void 0!==a&&(h+=" "+a);var w=u&&void 0===l?er(m):s,E={};for(var _ in e)u&&"as"===_||w(_)&&(E[_]=e[_]);return E.className=h,E.ref=n,c.createElement(c.Fragment,null,c.createElement(nr,{cache:t,serialized:y,isStringTag:"string"==typeof m}),c.createElement(m,E))},(0,c.forwardRef)((function(e,t){var n=(0,c.useContext)(Gn);return h(e,n,t)})));return g.displayName=void 0!==r?r:"Styled("+("string"==typeof i?i:i.displayName||i.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=d,g.__emotion_forwardProp=l,Object.defineProperty(g,"toString",{value:function(){return"."+a}}),g.withComponent=function(t,r){return e(t,be({},n,r,{shouldForwardProp:tr(g,r,!0)})).apply(void 0,d)},g}};function ar(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Vn(t)}n(679);var or="#e2e4e7",ir={name:"d3qjqk",styles:"margin-bottom:1.6rem"},lr=rr(l.Notice,{target:"er8lhlf18"})({name:"1ep9nyp",styles:"margin:0!important"}),cr=rr("span",{target:"er8lhlf17"})({name:"15xjqx9",styles:"color:#13881e;font-size:12px;display:inline-block;z-index:1;animation:hizzle-slideUp 1s linear;@keyframes hizzle-slideUp{0%{opacity:0;transform:translateY( 10px );}50%{opacity:1;transform:translateY( -10px );}100%{opacity:0;transform:translateY( -20px );}}"}),sr=rr(l.Button,{shouldForwardProp:function(e){return!["maxWidth","__withNoMargin"].includes(e)},target:"er8lhlf16"})("width:100%;justify-content:center;font-size:14px;min-height:50px;margin:",(function(e){return e.__withNoMargin?"0":"1.6rem 0"}),";max-width:",(function(e){return e.maxWidth?e.maxWidth:"100%"}),";"),ur=rr("div",{target:"er8lhlf15"})("background-color:#cbeeff;padding:1rem;border-radius:4px;display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100px;box-shadow:0 1px 3px rgba(0,0,0,0.12),0 1px 2px rgba(0,0,0,0.24);& p{font-size:14px;color:#001012;}& .components-button{margin-left:4px;}",ir,";"),pr=rr("div",{target:"er8lhlf14"})({name:"1e68saw",styles:"border-left:4px solid #cc1818;margin:5px 15px 2px 0;padding:16px 12px;background-color:#f8cbcb"}),dr=rr(l.__experimentalText,{target:"er8lhlf13"})({name:"drpcj0",styles:"margin-bottom:1.6rem;font-weight:600;font-size:20px"}),fr=rr(l.__experimentalText,{target:"er8lhlf12"})({name:"myqg3b",styles:"font-weight:600;font-size:16px;color:currentColor"}),mr=rr("div",{target:"er8lhlf11"})({name:"lqcu9l",styles:"width:100%;height:20px;background:#eee;margin:1.6rem 0;border-radius:0.25rem;max-width:600px;overflow:hidden"}),hr=function(e){var t=e.total,n=e.processed;return ar("width:",t===n?"100%":n?"".concat(n/t*100,"%"):"1%",";","")},gr=rr("div",{target:"er8lhlf10"})(hr,";height:100%;transition:width 3s ease-in-out;animation:position 3s linear infinite;position:relative;border-radius:0.25rem;@keyframes position{0%{left:0;right:100%;background:#72aee6;}100%{right:0;left:100%;background:#007cba;}}"),vr=function(e){var t=e.total,n=e.processed;return(0,r.createElement)(mr,null,(0,r.createElement)(gr,{total:t,processed:n}))},br=rr("img",{target:"er8lhlf9"})({name:"18p3jlm",styles:"height:32px;width:32px;max-width:32px;max-height:32px;overflow:hidden;border-radius:50%;box-shadow:2px 2px 2px rgb(0 0 0 / 5%)"}),yr=rr(l.NavigableMenu,{target:"er8lhlf8"})({name:"1pw29mq",styles:"border:1px solid #9E9E9E;background-color:#fff;margin-bottom:1rem;padding:0.3rem"}),wr=function(e){var t=e.height,n=e.width,r=e.maxWidth;return ar("height:",t=t||"16px",";width:",n=n||"80%",";max-width:",r=r||"120px",";","")},Er=rr("div",{target:"er8lhlf7"})(wr,";display:inline-block;min-height:1em;vertical-align:middle;cursor:wait;background-color:currentColor;opacity:.5;animation:placeholder-glow 2s ease-in-out infinite;@keyframes placeholder-glow{50%{opacity:.2;}}"),_r=rr("div",{target:"er8lhlf6"})({name:"kl0c99",styles:"overflow-x:auto;&>table{width:100%;border-collapse:collapse;}"}),xr=rr("tr",{target:"er8lhlf5"})({name:"o3suck",styles:"background-color:transparent;&:hover,&:focus-within,&:hover td,&:hover th{background-color:#f8f9fa;}&:last-child td,&:last-child th:not(.noptin-table__header){border-bottom:0;}"}),Or=function(e){var t=e.align,n=void 0===t?"left":t,r=e.minWidth,a=void 0===r?"160px":r;a=a||"auto";var o="center"===(n=n||"left")?"center":"space-between",i="";return e.isSorted&&(i="\n\t\t\tbackground-color: #f8f9fa;\n\t\t\t&:not(:first-child) {\n\t\t\t\tborder-left: 1px solid ".concat(or,";\n\t\t\t}\n\t\t\t&:not(:last-child) {\n\t\t\t\tborder-right: 1px solid ").concat(or,";\n\t\t\t}\n\t\t\t& > .components-button svg,\n\t\t\t& > .components-button .dashicon {\n\t\t\t\tvisibility: visible !important;\n\t\t\t}\n\t\t")),ar("text-align:",n,";min-width:",a,";",i," &>.components-button{justify-content:",o,";}&>a:only-child{display:block;}","")},kr=rr("th",{target:"er8lhlf4"})("padding:16px;background-color:#f8f9fa;font-weight:bold;white-space:nowrap;",Or,";border-bottom:1px solid ",or,";&>.components-button{height:auto;width:100%;text-align:left;vertical-align:middle;line-height:1;font-weight:bold;background:transparent!important;box-shadow:none!important;padding:0;}&>.components-button svg,&>.components-button .dashicon{visibility:hidden;margin-left:4px;}&>.components-button:hover svg,&>.components-button:hover .dashicon{visibility:visible;}"),Sr=rr("td",{target:"er8lhlf3"})("padding:16px;border-bottom:1px solid ",or,";font-weight:normal;",Or,";"),Cr=rr("td",{target:"er8lhlf2"})({name:"17w81qe",styles:"text-align:left;color:#757575;font-weight:bold;padding:16px 24px;@media (min-width: 782px){padding:2rem;font-size:1.125rem;}"}),jr=rr("ul",{target:"er8lhlf1"})({name:"t5eiud",styles:"text-align:center;margin:0;&>li{display:inline-block;margin-bottom:0;margin-left:8px;margin-right:8px;}&>li>strong{margin-right:4px;display:inline-block;}"}),Pr=function(e){var t=e.color,n=e.backgroundColor;return ar("background-color:",n=n||"#efeeea",";color:",t=t||"#241c15",";","")},Rr=rr("span",{shouldForwardProp:function(e){return!["color","backgroundColor"].includes(e)},target:"er8lhlf0"})(Pr," white-space:nowrap;border-radius:200px;height:24px;line-height:24px;padding:3px 9px;display:inline-block;");const Dr=window.wp.date;function Ar(e){return function(e){if(Array.isArray(e))return fe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||me(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Fr=[0,100],Tr=[0,100],Ir=function(e){return"".concat(1===e.length?"0":"").concat(e)},Nr=function(e,t,n){return Math.max(Math.min(e,n),t)},Mr=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},Br=function e(t,n,r){for(var a=Mr(t,n),o=0;o<(null==r?void 0:r.length);o++){var i=r[o];if(2===(null==i?void 0:i.length)&&a>=i[0]&&a<=i[1])return e(t,n,r)}return a},Lr=function(e,t){return"number"==typeof t?t:e%Math.abs(t[1]-t[0])+t[0]},zr=function(e,t){return"number"==typeof e?Nr.apply(void 0,[Math.abs(e)].concat(Ar(t))):1===e.length||e[0]===e[1]?Nr.apply(void 0,[Math.abs(e[0])].concat(Ar(t))):[Math.abs(Nr.apply(void 0,[e[0]].concat(Ar(t)))),Nr.apply(void 0,[Math.abs(e[1])].concat(Ar(t)))]},qr=function(e,t,n){return n<0?n+=1:n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},$r=function(e,t,n){var r,a,o;if(e/=360,n/=100,0==(t/=100))r=a=o=n;else{var i=n<.5?n*(1+t):n+t-n*t,l=2*n-i;r=qr(l,i,e+1/3),a=qr(l,i,e),o=qr(l,i,e-1/3)}return[Math.round(255*r),Math.round(255*a),Math.round(255*o)]},Hr=function(e,t,n,r){return(299*e+587*t+114*n)/1e3>=r},Ur=function(e,t,n){return"hsl(".concat(e,", ").concat(t,"%, ").concat(n,"%)")},Wr=function(e,t,n,r){return"rgb"===r?"rgb(".concat(e,", ").concat(t,", ").concat(n,")"):"#".concat(Ir(e.toString(16))).concat(Ir(t.toString(16))).concat(Ir(n.toString(16)))},Vr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.format,r=void 0===n?"hex":n,a=t.saturation,o=void 0===a?[50,55]:a,i=t.lightness,l=void 0===i?[50,60]:i,c=t.differencePoint,s=void 0===c?130:c,u=Math.abs(function(e){for(var t=e.length,n=0,r=0;r<t;r++)n=(n<<5)-n+e.charCodeAt(r),n&=n;return n}(String(e))),p=Lr(u,[0,360]),d=Lr(u,zr(o,Fr)),f=Lr(u,zr(l,Tr)),m=he($r(p,d,f),3),h=m[0],g=m[1],v=m[2];return{color:"hsl"===r?Ur(p,d,f):Wr(h,g,v,r),isLight:Hr(h,g,v,s)}};Vr.random=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.format,n=void 0===t?"hex":t,r=e.saturation,a=void 0===r?[50,55]:r,o=e.lightness,i=void 0===o?[50,60]:o,l=e.differencePoint,c=void 0===l?130:l,s=e.excludeHue;a=zr(a,Fr),i=zr(i,Tr);var u=s?Br(0,359,s):Mr(0,359),p="number"==typeof a?a:Mr.apply(void 0,Ar(a)),d="number"==typeof i?i:Mr.apply(void 0,Ar(i)),f=he($r(u,p,d),3),m=f[0],h=f[1],g=f[2];return{color:"hsl"===n?Ur(u,p,d):Wr(m,h,g,n),isLight:Hr(m,h,g,c)}};const Qr=Vr;function Kr(e){if(["subscribed","active","yes","true","1"].includes(e))return{backgroundColor:"#78c67a",color:"#111111"};if(["unsubscribed","inactive","no","false","0"].includes(e))return{backgroundColor:"#fbcfbd",color:"#241c15"};if(["pending","waiting","maybe","2"].includes(e))return{backgroundColor:"#fbeeca",color:"#241c15"};var t=Qr(e,{saturation:[60,100],lightness:[30,45]});return{backgroundColor:t.color,color:t.isLight?"#111111":"#ffffff"}}function Gr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gr(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jr(){var e=$(),t=e.namespace,n=e.collection;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Ie(Fe({},"/".concat(t,"/").concat(n,"/").concat(e)))}}function Xr(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=De();t.endsWith("/")&&(t.substring(0,t.length-1),function(e){throw new TypeError('"path" is read-only')}()),e.startsWith("/")||(e="/".concat(e)),Ie(Fe({},"".concat(t).concat(e)))}}function Zr(e,t){if(e.length>0)return{include:e.join(","),number:-1};var n=Yr(Yr({},t),{},{number:-1});return["order","hizzle_path","orderby","paged","page"].forEach((function(e){delete n[e]})),n}function ea(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ta(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ea(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ea(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var na=function(e,t){if(!e)return e;var n=(0,i.getQueryArg)(e,"d");if(!n||!n.includes("ui-avatars.com"))return e;var r=n.match(/\/api\/(.*?)\/64\//),a=r&&r.length>1?r[1]:n,o=Kr(t||a),l=n.indexOf("/64/");return-1!==l?(0,i.addQueryArgs)(e,{d:"".concat(n.substring(0,l+4),"/").concat(o.backgroundColor.replace("#",""),"/").concat(o.color.replace("#",""))}):e},ra=function(e){var t=e.record,n=e.name,a=e.basePath,o=void 0===a?"":a,i=Jr(),c=t[n],s=na(t.avatar_url,c),u=s?(0,r.createElement)(br,{src:s,alt:c}):null,p=(0,r.useCallback)((function(){return i("".concat(o).concat(t.id))}),[o,t.id]),d=u?(0,r.createElement)(l.Flex,null,(0,r.createElement)(l.FlexItem,null,u),(0,r.createElement)(l.FlexBlock,null,c)):c;return(0,r.createElement)(l.Button,{variant:"link",style:{width:"100%",alignItems:"start",textDecoration:"none"},onClick:p},d)},aa=function(e){var t=e.value,n=e.enums,a=void 0===n?{}:n,o=he((0,r.useState)(!1),2),i=o[0],c=o[1],s=i?t:t.slice(0,2),u=t.length>2;return(0,r.createElement)(l.Flex,{gap:2,justify:"flex-start",wrap:!0},s.map((function(e){return(0,r.createElement)(l.FlexItem,{key:e},(0,r.createElement)(Rr,ta({},Kr(e)),a[e]||e))})),u&&(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(l.Button,{variant:"link",onClick:function(){return c(!i)}},i?(0,se.__)("Hide","newsletter-optin-box"):(0,se.__)("Show all","newsletter-optin-box"))))};function oa(e){var t,n=e.row,a=e.header,o=e.headerKey,i=n[o];if(null==i||""===i)return(0,r.createElement)("span",{className:"noptin-table__cell--null"},"â€“");if(Array.isArray(i)&&0===i.length)return(0,r.createElement)("span",{className:"noptin-table__cell--null"},"â€“");if(a.is_primary&&"string"==typeof i)return(0,r.createElement)(ra,{record:n,name:o,basePath:a.basePath||""});if(a.is_boolean){var c=i?"yes":"no",s=i?"#3a9001":"#880000";return(0,r.createElement)(l.Icon,{size:24,style:{color:s},icon:c})}if(a.is_date&&i){var u=Dr.getSettings?(0,Dr.getSettings)():(0,Dr.__experimentalGetSettings)();return 10===i.length?(0,Dr.dateI18n)(u.formats.date,i):(0,Dr.dateI18n)(u.formats.datetime,i)}return a.is_tokens&&Array.isArray(i)?(0,r.createElement)(aa,{value:i}):a.enum&&Array.isArray(i)?(0,r.createElement)(aa,{value:i,enums:a.enum}):a.is_numeric||a.is_float||"string"==typeof i?(t=a.enum)&&"object"===ge(t)&&t.constructor===Object?(0,r.createElement)(Rr,ta({},Kr(i)),a.enum[i]||i):i:JSON.stringify(i)}var ia=function(e){var t,n,a=e.namespace,o=e.collection,i=e.append,c=e.avatarURL,s=e.isSingle,u=e.schema;c=na(c||(null==u?void 0:u.avatar_url),i),i=i?" - ".concat(i):"";var p=(0,r.useMemo)((function(){var e,t;return s&&null!=u&&null!==(e=u.labels)&&void 0!==e&&e.singular_name?"".concat(u.labels.singular_name).concat(i):null!=u&&null!==(t=u.labels)&&void 0!==t&&t.name?"".concat(u.labels.name).concat(i):"Noptin".concat(i)}),[u,i]);return(0,r.createElement)(l.Flex,{justify:"start",wrap:!0},(0,r.createElement)(l.FlexItem,null,c&&(0,r.createElement)(br,{src:c,alt:p,width:24,height:24})),(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(l.__experimentalText,{size:16,weight:600,as:"h2",color:"#23282d"},p)),(0,r.createElement)(l.FlexItem,null,"/".concat(a,"/").concat(o)!==De()?(0,r.createElement)(l.Button,{variant:"primary",onClick:function(){return Ie(Fe({},"/".concat(a,"/").concat(o)))},style:{marginLeft:"10px"}},(null==u||null===(t=u.labels)||void 0===t?void 0:t.view_items)||(0,se.__)("View Records","newsletter-optin-box")):(0,r.createElement)(l.Button,{variant:"primary",onClick:function(){return Ie(Fe({},"/".concat(a,"/").concat(o,"/add")))},style:{marginLeft:"10px"}},(null==u||null===(n=u.labels)||void 0===n?void 0:n.add_new)||(0,se.__)("Add New","newsletter-optin-box"))))},la=function(e){var t=e.namespace,n=e.collection,a=e.id,o=e.schema,i=jt(t,n,a);if("SUCCESS"!==i.status)return(0,r.createElement)(ia,{namespace:t,collection:n,schema:o,isSingle:!0});var l=o.id_prop?i.data[o.id_prop]:"",c=i.data.avatar_url;return(0,r.createElement)(ia,{namespace:t,collection:n,append:l,avatarURL:c,schema:o,isSingle:!0})},ca=function(e){var t=e.schema,n=e.namespace,a=e.collection,o=e.id;return(0,r.createElement)(l.Card,null,(0,r.createElement)(l.CardHeader,null,(0,r.createElement)(l.Flex,{wrap:!0},(0,r.createElement)(l.FlexBlock,null,o?(0,r.createElement)(la,{namespace:n,collection:a,id:o,schema:t}):(0,r.createElement)(ia,{namespace:n,collection:a,schema:t})),t.routes&&Object.keys(t.routes).map((function(e){return(0,r.createElement)(l.FlexItem,{key:e},t.routes[e].href?(0,r.createElement)(l.Button,{href:t.routes[e].href,variant:"secondary"},t.routes[e].title):(0,r.createElement)(l.Button,{onClick:function(){return Ie(Fe({},e))},variant:"secondary"},t.routes[e].title))})))))};const sa=function(e){var t=e.upsell;if(!t)return null;var n=t.content,a=t.buttonURL,o=t.buttonText;return(0,r.createElement)(ur,null,(0,r.createElement)(l.Tip,null,n,(0,r.createElement)(l.Button,{href:a,target:"_blank",variant:"link"},o)))};function ua(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ua(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ua(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var da=function(e){return function(e){return function(e,t){const n=(0,c.forwardRef)(((n,r)=>(0,c.createElement)(ce,t,(0,c.createElement)(e,{...n,ref:r})))),r=e.displayName||e.name||"Unknown";return n.displayName="withErrorBoundary(".concat(r,")"),n}(e,{FallbackComponent:ue})}((function(t){var n,a=Rt(t.namespace,t.collection);return a.isResolving||!a.hasResolved?(0,r.createElement)(Ne,{title:(0,se.__)("Loading","newsletter-optin-box")},(0,r.createElement)(l.CardBody,null,(0,r.createElement)(l.Spinner,null))):"ERROR"===a.status?(0,r.createElement)(Ne,{title:(0,se.__)("Error","newsletter-optin-box")},(0,r.createElement)(l.CardBody,null,(0,r.createElement)(l.Notice,{status:"error",isDismissible:!1},(null===(n=a.error)||void 0===n?void 0:n.message)||(0,se.__)("An unknown error occurred.","newsletter-optin-box")))):(0,r.createElement)(e,pa(pa({},t),{},{schema:a.data}))}))},fa=da((function(e){var t=e.namespace,n=e.collection,a=e.isParent,o=e.id,i=e.schema;return(0,r.createElement)(l.Flex,{gap:2,direction:"column"},a&&(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(ca,{namespace:t,collection:n,id:o,schema:i})),(0,r.createElement)(l.FlexBlock,null,(0,r.createElement)(pe,null,(0,r.createElement)(J,null))),i.fills&&i.fills.map((function(e){return(0,r.createElement)(l.Fill,{key:e.name,name:"".concat(e.name).concat(a?"":"--inner")},(0,r.createElement)(pe,null,e.content&&(0,r.createElement)("span",{dangerouslySetInnerHTML:{__html:e.content}}),e.upsell&&(0,r.createElement)(sa,{upsell:e.upsell})))})))})),ma=function(){var e=$(),t=e.namespace,n=e.collection,a=e.id;return(0,r.createElement)(fa,{namespace:t,collection:n,id:a,isParent:!0})},ha=function(){var e,t=$(),n=t.id,a=t.tab,o=t.innerTab,i=t.innerNamespace,c=t.innerCollection,s=t.innerId,u=Jr(),p=(0,r.useCallback)((function(){return u("".concat(n,"/").concat(a))}),[u,a,n]),d=(null===(e=Rt(i,c).data)||void 0===e?void 0:e.labels)||{},f={add_new_item:(0,se.__)("Add New Item","newsletter-optin-box"),view_item:(0,se.__)("View Item","newsletter-optin-box")},m={add:"add_new_item",edit:"view_item"},h=m[o]?d[m[o]]||f[m[o]]:d.name||(0,se.__)("Items","newsletter-optin-box");return(0,r.createElement)(l.Modal,{title:h,onRequestClose:p},(0,r.createElement)(fa,{namespace:i,collection:c,id:s,isParent:!1}))};function ga(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var va=n(640),ba=n.n(va);function ya(e){var t=e.label,n=e.value,a=t.toLowerCase().replace(/[^a-z0-9]/g,"-");return(0,r.createElement)("li",{className:"noptin-list-item noptin-list-item__".concat(a)},(0,r.createElement)("div",{className:"noptin-list-item__key"},t),(0,r.createElement)("div",{className:"noptin-list-item__value"},n))}function wa(e){var t=e.items;return(0,r.createElement)("ul",{className:"noptin-component__list"},t.map((function(e){return(0,r.createElement)(ya,{key:e.label,label:e.label,value:e.value})})))}var Ea={name:"173gwd3",styles:"background-color:#f8f9fa;color:#212529;& h2,& h3{color:#212529;}"},_a={name:"p3ituj",styles:"background-color:#212529;color:#f8f9fa;& h2,& h3{color:#f8f9fa;}"},xa={name:"1qvos4g",styles:"background-color:#f8cbcb;color:#cc1818;& h2,& h3{color:#cc1818;}"},Oa={name:"1kbuu37",styles:"background-color:#fff3cd;color:#856404;& h2,& h3{color:#856404;}"},ka={name:"1k1g68i",styles:"background-color:#cbeeff;color:#0c5460;& h2,& h3{color:#0c5460;}"},Sa={name:"1dlti2z",styles:"background-color:#d4edda;color:#155724;& h2,& h3{color:#155724;}"},Ca=function(e){var t=e.status;return"success"===t?Sa:"info"===t?ka:"warning"===t?Oa:"error"===t?xa:"dark"===t?_a:Ea},ja=rr("div",{target:"ec8eek20"})(Ca,";padding:0.25rem;text-align:center;box-shadow:2px 2px 2px rgb(0 0 0 / 5%);min-width:100px;border-radius:4px;");function Pa(e){var t=e.value,n=e.label,a=e.status;return(0,r.createElement)(ja,{status:a},(0,r.createElement)(l.Flex,{direction:"column",justify:"center",style:{minHeight:"100px"}},(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(l.__experimentalText,{size:48,weight:600,as:"h2"},t)),(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(l.__experimentalText,{size:13,weight:400,as:"h3"},n))))}var Ra=["links"];function Da(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Aa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Da(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Da(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fa=function(e){var t=e.items,n=e.title;return(0,r.createElement)(l.Card,{className:ir},(0,r.createElement)(l.CardHeader,null,n),(0,r.createElement)(l.CardBody,null,(0,r.createElement)(wa,{items:t})))},Ta=function(e){var t=e.cards;return(0,r.createElement)(l.Flex,{className:ir,gap:2,justify:"flex-end",wrap:!0},t.map((function(e){var t=e.title,n=e.value,a=e.status;return(0,r.createElement)(l.FlexItem,{key:t},(0,r.createElement)(Pa,{status:a||"info",label:t,value:(0,r.createElement)("span",{dangerouslySetInnerHTML:{__html:n}})}))})))},Ia=function(e){var t=e.content,n=e.buttonText,a=e.buttonLink;return(0,r.createElement)(l.Card,{className:ir,variant:"secondary"},(0,r.createElement)(l.CardBody,null,(0,r.createElement)("div",{className:ir,dangerouslySetInnerHTML:{__html:t}}),n&&a&&(0,r.createElement)(l.Button,{variant:"secondary",href:a,text:n})))},Na=function(e){var t=e.confirm,n=e.label,a=e.namespace,o=e.collection,i=e.id,c=e.basePath,s=jt(a,o,i),u=Jr();return(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(l.Button,{isDestructive:!0,onClick:function(){window.confirm(t||(0,se.__)("Are you sure you want to delete this record?","newsletter-optin-box"))&&(s.delete(),u(c))},variant:"secondary"},n))},Ma=function(e){var t=e.value,n=e.label,a=he((0,r.useState)(!1),2),o=a[0],i=a[1];return(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(l.Button,{onClick:function(){ba()(t,{format:"text/plain",onCopy:function(){i(!0),setTimeout((function(){i(!1)}),1e3)}})},variant:"secondary"},o?(0,r.createElement)(cr,null," ",(0,se.__)("Copied to clipboard!","newsletter-optin-box")," "):n))},Ba=function(e){var t=e.links,n=ga(e,Ra);return(0,r.createElement)(l.Flex,{className:ir,justify:"flex-end",gap:2,wrap:!0},t.map((function(e){var t=e.label,a=e.value,o=e.action;return e.hide?null:"delete"===o?(0,r.createElement)(Na,Aa({key:t,label:t,confirm:a},n)):"copy"===o?(0,r.createElement)(Ma,Aa({key:t,label:t,value:a},n)):(0,r.createElement)(l.FlexItem,{key:t},(0,r.createElement)(l.Button,{href:a,variant:"secondary",target:"_blank"},t))})))},La=function(e){var t=e.namespace,n=e.collection,a=e.id,o=e.basePath,i=function(e,t,n){return n=parseInt(n,10),St((function(r){return r(xt(e,t)).getRecordOverview(n)}),[e,t,n])}(t,n,a);return i.isResolving?(0,r.createElement)(r.Fragment,null,(0,r.createElement)(l.Flex,{className:ir,gap:4,wrap:!0},[1,2,3].map((function(e){return(0,r.createElement)(l.FlexItem,{key:e},(0,r.createElement)(Er,{width:"100px",height:"100px"}))})))):"ERROR"!==i.status&&Array.isArray(i.data)&&i.data.length?(0,r.createElement)(r.Fragment,null,i.data.map((function(e,i){switch(e.type){case"stat_cards":return(0,r.createElement)(Ta,{key:i,cards:e.cards});case"action_links":return(0,r.createElement)(Ba,{key:i,links:e.links,namespace:t,collection:n,id:a,basePath:o});case"card":return(0,r.createElement)(Ia,Aa({key:i},e));case"card_list":return(0,r.createElement)(Fa,Aa({key:i},e));default:return null}}))):null};const za=window.wp.primitives,qa=(0,r.createElement)(za.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(za.Path,{d:"M6.6 6L5.4 7l4.5 5-4.5 5 1.1 1 5.5-6-5.4-6zm6 0l-1.1 1 4.5 5-4.5 5 1.1 1 5.5-6-5.5-6z"}));function $a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ha(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$a(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ua=[{label:(0,se.__)("Only run if","newsletter-optin-box"),value:"allow"},{label:(0,se.__)("Do not run if","newsletter-optin-box"),value:"prevent"}],Wa=[{label:(0,se.__)("all","newsletter-optin-box"),value:"all"},{label:(0,se.__)("any","newsletter-optin-box"),value:"any"}];function Va(e,t){return(0,r.useMemo)((function(){return[{label:t,value:"",disabled:!0}].concat(Ar(e))}),[e,t])}function Qa(e){var t=e.type,n=e.action,a=e.ruleCount,o=e.setConditionalLogicAttribute,i=a>1;return(0,r.createElement)(l.Flex,{className:"noptin-component__field-lg",wrap:!0},(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(l.SelectControl,{label:(0,se.__)("If","newsletter-optin-box"),hideLabelFromVision:!0,value:n||"allow",options:Ua,onChange:function(e){return o("action",e)},size:"default",__nextHasNoMarginBottom:!0})),i&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(l.SelectControl,{label:(0,se.__)("all","newsletter-optin-box"),hideLabelFromVision:!0,value:t||"all",options:Wa,onChange:function(e){return o("type",e)},size:"default",__nextHasNoMarginBottom:!0})),(0,r.createElement)(l.FlexBlock,null,(0,se.__)("of the following rules are true:","newsletter-optin-box"))))}function Ka(e){var t,n=e.rule,a=e.comparisons,o=e.availableSmartTags,i=e.index,c=e.updateRule,s=e.removeRule,u=(0,r.useCallback)((function(e){return c(i,"value",e)}),[i,c]),p=(0,r.useCallback)((function(e){return c(i,"condition",e)}),[i,c]),d=(0,r.useCallback)((function(){return s(i)}),[i,s]),f=(0,r.useMemo)((function(){var e=n.type;if(void 0!==o[e])return o[e];var t,r=e.replace("_",".",1);if(void 0!==o[r])return o[r];for(var a=0,i=Object.entries(o);a<i.length;a++){var l=he(i[a],2),c=l[0],s=l[1];if(-1!==c.indexOf(".")&&c.split(".").slice(1).join(".")===e)return s;if(s.deprecated&&(t=s.deprecated,Array.isArray(t)?t:t.split(/[\s,]+/)).includes(e))return s}return null}),[n.type,o]),m=(0,r.useMemo)((function(){if(!f)return n.type;var e=f.group||"General",t=f.label||n.type;return"".concat(e," >> ").concat(t)}),[n.type,o]),h=Va((t=null==f?void 0:f.options,(0,r.useMemo)((function(){return t?Array.isArray(t)?t.map((function(e,t){return{label:e,value:t}})):Object.keys(t).map((function(e){return{label:t[e],value:e}})):[]}),[t])),(0,se.__)("Select a value","newsletter-optin-box")),g=h.length>1,v=(null==f?void 0:f.conditional_logic)||"string",b=Va((0,r.useMemo)((function(){var e=[];return Object.keys(a).forEach((function(t){var n=a[t].type;if(g){if("string"===v&&"is"!=t&&"is_not"!=t)return;if("is_empty"===t||"is_not_empty"===t||"is_between"===t)return}"any"!==n&&n!=v||e.push({label:a[t].name,value:t})})),e}),[v,a]),(0,se.__)("Select a comparison","newsletter-optin-box")),y="is_empty"===n.condition||"is_not_empty"===n.condition;return(0,r.createElement)(l.Flex,{className:"noptin-component__field-lg",wrap:!0,expanded:!0},(0,r.createElement)(l.FlexBlock,null,(0,r.createElement)(Rr,Ha({},Kr(m)),m)),(0,r.createElement)(l.FlexBlock,null,(0,r.createElement)(l.Flex,{justify:"flex-end",wrap:!0},(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(l.SelectControl,{label:(0,se.__)("Comparison","newsletter-optin-box"),hideLabelFromVision:!0,value:n.condition?n.condition:"is",options:b,onChange:p,size:"default",__nextHasNoMarginBottom:!0})),!y&&(0,r.createElement)(l.FlexBlock,null,g&&(0,r.createElement)(l.SelectControl,{label:(0,se.__)("Value","newsletter-optin-box"),hideLabelFromVision:!0,value:n.value?n.value:"",options:h,onChange:u,size:"default",__nextHasNoMarginBottom:!0}),!g&&(0,r.createElement)(l.TextControl,{type:"number"===v?"number":"text",label:(0,se.__)("Value","newsletter-optin-box"),hideLabelFromVision:!0,value:n.value?n.value:"",onChange:u,__nextHasNoMarginBottom:!0})),(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(l.Button,{onClick:d,icon:"trash",variant:"tertiary",isDestructive:!0})))))}function Ga(e){var t=e.rules,n=e.comparisons,a=e.availableSmartTags,o=e.setConditionalLogicAttribute,i=(0,r.useMemo)((function(){return Array.isArray(t)?t.filter((function(e){return e.type&&""!==e.type})):[]}),[a]),l=(0,r.useMemo)((function(){var e={};return a.forEach((function(t){t.conditional_logic&&(e[t.smart_tag]=Ha(Ha({},t),{},{key:t.smart_tag,type:t.conditional_logic}))})),e}),[a]),c=(0,r.useCallback)((function(e){var t=Ar(i);t.splice(e,1),o("rules",t)}),[i,o]),s=(0,r.useCallback)((function(e,t,n){var r=Ar(i);r[e][t]=n,o("rules",r)}),[i,o]),u=(0,r.useMemo)((function(){return Object.values(l)}),[l]),p=(0,r.useCallback)((function(e){var t=l[e],n=(null==t?void 0:t.options)||[],r=(null==t?void 0:t.placeholder)||"",a=Array.isArray(n)&&n.length?Object.keys(n)[0]:r;null!=t&&t.default&&(a=t.default);var c=Ar(i);c.push({type:e,condition:"is",value:a}),o("rules",c)}),[i]),d=i.length?(0,se.__)("Add a rule","newsletter-optin-box"):(0,se.__)("Add another rule","newsletter-optin-box"),f=co({availableSmartTags:u,onMergeTagClick:p,raw:!0,icon:"plus",label:d,text:d,toggleProps:{variant:"secondary"}});return(0,r.createElement)("div",{className:"noptin-conditional-logic-rules"},i.map((function(e,t){return(0,r.createElement)(Ka,{key:t,rule:e,index:t,updateRule:s,removeRule:c,comparisons:n,availableSmartTags:l})})),f)}function Ya(e){var t=e.onChange,n=e.value,a=e.comparisons,o=e.toggleText,i=e.availableSmartTags,c=e.className;"object"!==ge(n)&&(n={enabled:!1,action:"allow",rules:[{condition:"is",type:"date",value:""}],type:"all"});var s=function(e,r){t(Ha(Ha({},n),{},ve({},e,r)))};return(0,r.createElement)("div",{className:c},(0,r.createElement)(l.ToggleControl,{checked:!!n.enabled,onChange:function(e){return s("enabled",e)},className:"noptin-component__field",label:o||(0,se.__)("Optionally enable/disable this trigger depending on specific conditions.","newsletter-optin-box"),__nextHasNoMarginBottom:!0}),n.enabled&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(Qa,{ruleCount:Array.isArray(n.rules)?n.rules.length:0,type:n.type,action:n.action,setConditionalLogicAttribute:s}),(0,r.createElement)(Ga,{rules:n.rules,comparisons:a,availableSmartTags:i,setConditionalLogicAttribute:s})))}var Ja={"==":function(e,t){return e==t},"===":function(e,t){return e===t},"!=":function(e,t){return e!=t},"!==":function(e,t){return e!==t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},includes:function(e,t){return e.includes(t)},"!includes":function(e,t){return!e.includes(t)},empty:function(e){return!e},"!empty":function(e){return e}},Xa=function(e,t,n){return!!Ja[t]&&Ja[t](e,n)},Za=["setting","availableSmartTags","isPressEnterToChange"],eo=["availableSmartTags","onMergeTagClick","raw","icon","label"],to=["setting","availableSmartTags","value","onChange"],no=["setting","value","options","onChange"];function ro(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ao(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ro(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ro(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oo=["number","search","email","password","tel","url","date"];function io(e){var t=e.setting,n=e.availableSmartTags,a=e.isPressEnterToChange,o=ga(e,Za);void 0===a&&(a=!0);var i=co({availableSmartTags:n,onMergeTagClick:(0,r.useCallback)((function(e){o.onChange&&o.onChange(o.value?"".concat(o.value," ").concat(e).trim():e)}),[o.value,o.onChange])});return"string"==typeof o.suffix||o.suffix instanceof String?o.suffix=(0,r.createElement)(l.__experimentalInputControlSuffixWrapper,null,o.suffix):o.suffix=i,t.disabled&&(o.readOnly=!0,o.onFocus=function(e){return e.target.select()}),("string"==typeof o.prefix||o.prefix instanceof String)&&(o.prefix=(0,r.createElement)(l.__experimentalInputControlPrefixWrapper,null,o.prefix)),(0,r.createElement)(r.Fragment,null,(0,r.createElement)(l.__experimentalInputControl,ao(ao({},o),{},{type:oo.includes(t.type)?t.type:"text",placeholder:t.placeholder?t.placeholder:"",isPressEnterToChange:a,__nextHasNoMarginBottom:!0,__next36pxDefaultSize:!0})))}var lo=[{id:"key",label:(0,se.__)("Key","noptin-addons-pack"),type:"text"},{id:"value",label:(0,se.__)("Value","noptin-addons-pack"),type:"text"}];function co(e){var t=e.availableSmartTags,n=void 0===t?[]:t,a=e.onMergeTagClick,o=void 0===a?function(){}:a,i=e.raw,c=void 0!==i&&i,s=e.icon,u=void 0===s?"shortcode":s,p=e.label,d=void 0===p?(0,se.__)("Insert merge tag","newsletter-optin-box"):p,f=ga(e,eo),m=function(e){return(0,r.useMemo)((function(){if(!Array.isArray(e))return{};var t={};return e.forEach((function(e){var n=e.group?e.group:(0,se.__)("General","newsletter-optin-box");Array.isArray(t[n])||(t[n]=[]),t[n].push(e)})),t}),[e])}(n),h=Object.keys(m).length,g=null;return h>0&&(g=(0,r.createElement)(l.DropdownMenu,ao({icon:u,label:d},f),(function(e){var t=e.onClose;return(0,r.createElement)(r.Fragment,null,Object.keys(m).map((function(e,n){return(0,r.createElement)(l.MenuGroup,{label:h>1?e:void 0,key:n},m[e].map((function(e){return(0,r.createElement)(l.MenuItem,{icon:e.icon||qa,iconPosition:"left",onClick:function(){if(o){var n=c?e.smart_tag:"[[".concat((r=e).example?r.example:r.default?"".concat(r.smart_tag,' default="').concat(r.default,'"'):"".concat(r.smart_tag),"]]");o(n)}var r;t()},key:e.smart_tag},e.label)})))})))}))),g}function so(e){var t=e.setting,n=e.availableSmartTags,a=e.value,o=e.onChange,i=ga(e,to),c=(0,l.useBaseControlProps)(i),s=c.baseControlProps,u=c.controlProps;Array.isArray(a)||(a=[]);var p=(0,r.useCallback)((function(e){var t=e.item,i=e.index;return(0,r.createElement)(l.Flex,{className:"noptin-repeater-item",wrap:!0},lo.map((function(e,l){return(0,r.createElement)(uo,{key:l,availableSmartTags:n,field:e,value:void 0===t[e.id]?"":t[e.id],onChange:function(t){var n=Ar(a);n[i][e.id]=t,o(n)}})})),(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(l.Button,{icon:"trash",variant:"tertiary",className:"noptin-component__field",label:(0,se.__)("Delete","noptin-addons-pack"),showTooltip:!0,onClick:function(){var e=Ar(a);e.splice(i,1),o(e)},isDestructive:!0})))}),[a,o]);return(0,r.createElement)(l.BaseControl,ao({},s),(0,r.createElement)("div",ao({},u),a.map((function(e,t){return(0,r.createElement)(p,{key:t,item:e,index:t})})),(0,r.createElement)(l.Button,{onClick:function(){var e=Ar(a);e.push({}),o(e)},variant:"secondary"},t.add_field?t.add_field:(0,se.__)("Add","newsletter-optin-box"))))}function uo(e){var t=e.field,n=e.availableSmartTags,a=e.value,o=e.onChange,i=co({availableSmartTags:n,onMergeTagClick:(0,r.useCallback)((function(e){o&&o(a?"".concat(a," ").concat(e).trim():e)}),[a,o])});return(0,r.createElement)(l.FlexBlock,null,(0,r.createElement)(l.__experimentalInputControl,{label:t.label,type:t.type,value:a,placeholder:(0,se.sprintf)((0,se.__)("Enter %s","noptin-addons-pack"),t.label),className:"noptin-component__field noptin-condition-field",suffix:i,onChange:o,isPressEnterToChange:!0,__nextHasNoMarginBottom:!0,__next36pxDefaultSize:!0}))}function po(e){e.setting;var t=e.value,n=e.options,a=e.onChange,o=ga(e,no),i=(0,l.useBaseControlProps)(o),c=i.baseControlProps,s=i.controlProps;return Array.isArray(t)||(t=[]),(0,r.createElement)(l.BaseControl,ao({},c),(0,r.createElement)("div",ao({},s),n.map((function(e,n){return(0,r.createElement)(l.CheckboxControl,{key:n,label:e.label,checked:t.includes(e.value),onChange:function(n){a(n?[].concat(Ar(t),[e.value]):t.filter((function(t){return t!==e.value})))}})}))))}function fo(e){var t=e.settingKey,n=e.setting,a=e.availableSmartTags,o=e.prop,i=e.saved,c=e.setAttributes,s=(0,r.useCallback)((function(e){if(!o)return c(ve({},t,e));var n=i[o]?i[o]:{},r=ve({},o,ao(ao({},n),{},ve({},t,e)));c(r)}),[t,o,i,c]);if(n.if||n.restrict){var u=n.restrict?n.restrict.split("."):n.if.split(".");if(!(2!==u.length||i[u[0]]&&i[u[0]][u[1]]))return null;if(1===u.length&&!i[u[0]])return null}if(Array.isArray(n.conditions)){var p=n.conditions.every((function(e){var t=e.key.split("."),n=e.operator?e.operator:"==",r=i[t[0]];return 2===t.length?r&&r[t[1]]&&Xa(e.value,n,r[t[1]]):Xa(e.value,n,r)}));if(!p)return null}if(n.condition&&!n.condition(i))return null;var d=i[t];o&&(d=i[o]?i[o][t]:void 0),(void 0===d||n.disabled)&&(d=n.default);var f=void 0!==d&&""!==d&&null!==d,m=[];n.options&&(m=Object.keys(n.options).map((function(e){return{label:n.options[e],value:e}})));var h=n.fullWidth?"noptin-component__field noptin-component__field-".concat(t):"noptin-component__field-lg noptin-component__field-".concat(t),g=n.description?(0,r.createElement)("span",{dangerouslySetInnerHTML:{__html:n.description}}):"",v=n.customAttributes?n.customAttributes:{},b=ao({label:n.label,value:f?d:"",onChange:s,className:"".concat(h),help:g},v);return"select"===n.el?(m.unshift({label:n.placeholder?n.placeholder:(0,se.__)("Select an option","newsletter-optin-box"),value:"",disabled:!n.canSelectPlaceholder}),(0,r.createElement)(l.SelectControl,ao(ao({},b),{},{options:m,__nextHasNoMarginBottom:!0,__next36pxDefaultSize:!0}))):"form_token"===n.el?(0,r.createElement)(l.FormTokenField,ao(ao({},b),{},{value:Array.isArray(b.value)?b.value:[],suggestions:Array.isArray(n.suggestions)?n.suggestions:[],__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})):"multi_checkbox"===n.el||"multi_checkbox_alt"===n.el?(0,r.createElement)(po,ao(ao({},b),{},{options:m})):"conditional_logic"===n.el?(0,r.createElement)(Ya,ao(ao({},b),{},{availableSmartTags:a,comparisons:n.comparisons,toggleText:n.toggle_text})):"input"===n.el?n.type&&["toggle","switch","checkbox","checkbox_alt"].includes(n.type)?(0,r.createElement)(l.ToggleControl,ao(ao({},b),{},{checked:!!f&&d,onChange:function(e){s(e)}})):(0,r.createElement)(io,ao(ao({},b),{},{setting:n,availableSmartTags:"trigger_settings"===o?[]:a,isPressEnterToChange:!n.isInputToChange})):"textarea"===n.el?(0,r.createElement)(l.TextareaControl,ao(ao({},b),{},{setting:n,placeholder:n.placeholder?n.placeholder:"",__nextHasNoMarginBottom:!0})):"paragraph"===n.el?(0,r.createElement)("div",{className:h},(0,r.createElement)(l.Tip,null,n.content)):"hero"===n.el?(0,r.createElement)("div",{className:h},(0,r.createElement)("h3",null,n.content)):"key_value_repeater"===n.el||"webhook_key_value_repeater"===n.el?(0,r.createElement)(so,ao(ao({},b),{},{setting:n,availableSmartTags:"trigger_settings"===o?[]:a})):t}var mo=["query","setQuery"];function ho(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function go(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ho(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ho(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vo=function(e){var t=e.fields,n=e.onApplyFilters,a=e.filters,o=e.setAttributes;return(0,r.createElement)("form",{onSubmit:n},t.map((function(e){var t=go(go({},wo(e)),{},{default:"",placeholder:(0,se.__)("Any","newsletter-optin-box"),canSelectPlaceholder:!0}),n=null;return e.is_boolean?(t.el="select",t.options={1:(0,se.__)("Yes","newsletter-optin-box"),0:(0,se.__)("No","newsletter-optin-box")}):e.is_numeric||e.is_float?(t.name="".concat(e.name,"_min"),t.label=(0,se.sprintf)((0,se.__)("%s - Min","newsletter-optin-box"),e.label),n=go(go({},t),{},{name:"".concat(e.name,"_max"),label:(0,se.sprintf)((0,se.__)("%s - Max","newsletter-optin-box"),e.label)})):e.is_date?(t.name="".concat(e.name,"_after"),t.label=(0,se.sprintf)((0,se.__)("%s - After","newsletter-optin-box"),e.label),n=go(go({},t),{},{name:"".concat(e.name,"_before"),label:(0,se.sprintf)((0,se.__)("%s - Before","newsletter-optin-box"),e.label)})):n=go(go({},t),{},{name:"".concat(e.name,"_not"),label:(0,se.sprintf)((0,se.__)("%s - Exclude","newsletter-optin-box"),e.label)}),(0,r.createElement)(r.Fragment,{key:e.name},(0,r.createElement)("div",{style:{marginBottom:"1.6rem"}},(0,r.createElement)(fo,{settingKey:t.name,saved:a,setAttributes:o,setting:t})),n&&(0,r.createElement)("div",{style:{marginBottom:"1.6rem"}},(0,r.createElement)(fo,{settingKey:n.name,saved:a,setAttributes:o,setting:n})))})))},bo=function(e){var t=e.currentFilters,n=e.fields,a=e.setOpen,o=e.setQuery,i=he((0,r.useState)(go({},t)),2),l=i[0],c=i[1],s=function(e){null==e||e.preventDefault(),o(l),a(!1)};return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(vo,{fields:n,filters:l,onApplyFilters:s,setAttributes:function(e){c(go(go({},l),e))}}),(0,r.createElement)(sr,{variant:"primary",onClick:s,text:(0,se.__)("Apply Filters","newsletter-optin-box")}))},yo=function(e){var t=e.namespace,n=e.collection,a=e.isBulkEditing,o=void 0!==a&&a,i=Rt(t,n).data;return(0,r.useMemo)((function(){return i.schema?i.schema.filter((function(e){return!(e.readonly&&o||e.is_dynamic||Array.isArray(i.ignore)&&i.ignore.includes(e.name)||Array.isArray(i.hidden)&&i.hidden.includes(e.name)||!e.is_tokens&&(o||!(e.is_numeric||e.is_float||e.is_date))&&(!e.enum||Array.isArray(e.enum)))})):[]}),[i,o])},wo=function(e){var t,n,r,a={default:e.default,label:e.label,el:"input",type:"text",name:e.name,isInputToChange:!0};return null!==(t=e.js_props)&&void 0!==t&&t.setting&&(a.customAttributes=e.js_props.setting),null!==(n=e.js_props)&&void 0!==n&&n.conditions&&(a.conditions=null===(r=e.js_props)||void 0===r?void 0:r.conditions),e.is_tokens?(a.el="form_token",a.suggestions=e.suggestions):e.enum&&!Array.isArray(e.enum)?(a.el="select",a.options=e.enum,e.multiple&&(a.el="multi_checkbox")):e.is_textarea&&(a.el="textarea"),(e.is_numeric||e.is_float)&&(a.type="number"),e.is_date&&(a.type="date"),e.is_boolean&&(a.type="toggle"),e.description&&e.description!==e.label&&(a.description=e.description),a};function Eo(e){var t=e.query,n=e.setQuery,a=ga(e,mo),o=he((0,r.useState)(!1),2),i=o[0],c=o[1],s=yo(a),u=(0,r.useMemo)((function(){var e={};return s.forEach((function(n){["","_not","_min","_max","_before","_after"].forEach((function(r){var a=n.name+r;t[a]&&(e[a]=t[a])}))})),e}),[t,s]),p=Object.keys(u).length,d=p>0?(0,se.sprintf)((0,se.__)("Filters (%d)","newsletter-optin-box"),p):(0,se.__)("Filter Records","newsletter-optin-box");return(0,r.createElement)(r.Fragment,null,s.length>0&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(l.Button,{onClick:function(){return c(!0)},variant:"tertiary",icon:"filter",text:d}),i&&(0,r.createElement)(l.Modal,{title:(0,se.__)("Filter records","newsletter-optin-box"),onRequestClose:function(){return c(!1)}},(0,r.createElement)(bo,{fields:s,currentFilters:u,setOpen:c,setQuery:n}))))}function _o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_o(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Oo=function(e){var t=e.record,n=e.onChange,a=e.schema,o=e.hidden,i=e.ignore,c=e.onSubmit,s=e.loading,u=e.children,p=e.isInner,d=e.slotName,f=e.submitText,m=e.error,h=(0,r.useMemo)((function(){return function(e,t,n){return(0,je.compact)(e.map((function(e){return e.readonly||e.is_dynamic||"metadata"===e.name||Array.isArray(t)&&t.includes(e.name)||Array.isArray(n)&&n.includes(e.name)?null:wo(e)})))}(a,o,i)}),[a,o,i]);return(0,r.createElement)("form",{style:{opacity:s?.5:1},onSubmit:c},u,h.map((function(e){return(0,r.createElement)("div",{style:{marginBottom:"1.6rem"},key:e.name},(0,r.createElement)(fo,{settingKey:e.name,saved:t,setAttributes:n,setting:e}))})),(0,r.createElement)(l.Slot,{name:p?"".concat(d,"--inner"):d},(function(e){return e.map((function(e,t){return(0,r.createElement)(l.Tip,{key:t},e)}))})),(0,r.createElement)(sr,{variant:"primary",onClick:c,isBusy:s},f,s&&(0,r.createElement)(l.Spinner,null)),m&&(0,r.createElement)(l.Notice,{status:"error"},m.message))},ko=da((function(e){var t=e.namespace,n=e.collection,a=e.basePath,o=void 0===a?"":a,i=e.isInner,l=void 0!==i&&i,c=e.defaultProps,s=void 0===c?{}:c,u=e.schema,p=u.schema,d=u.hidden,f=u.ignore,m=(0,Me.useDispatch)("".concat(t,"/").concat(n)),h=he((0,r.useState)(null),2),g=h[0],v=h[1],b=he((0,r.useState)(!1),2),y=b[0],w=b[1],E=he((0,r.useState)({}),2),_=E[0],x=E[1],O=Jr(),k=[].concat(Ar(f),Ar(Object.keys(s)));return(0,r.createElement)(Oo,{record:_,onChange:function(e){x(xo(xo({},_),e)),g&&v(null)},onSubmit:function(e){null==e||e.preventDefault(),y||(w(!0),m.createRecord(xo(xo({},_),s),m).then((function(e){O("".concat(o,"/").concat(e.record.id))})).catch((function(e){v(e)})).finally((function(){w(!1)})))},submitText:y?(0,se.__)("Saving...","newsletter-optin-box"):(0,se.__)("Save","newsletter-optin-box"),schema:p,hidden:d,ignore:k,loading:y,isInner:l,slotName:"".concat(t,"_").concat(n,"_record_create_below"),error:g})}));function So(){var e,t=$(),n=t.namespace,a=t.collection,o=Rt(n,a);return(0,r.createElement)(Ne,{title:(null===(e=o.data)||void 0===e||null===(e=e.labels)||void 0===e?void 0:e.add_new_item)||(0,se.__)("Add New Item","newsletter-optin-box")},(0,r.createElement)(l.CardBody,null,(0,r.createElement)(l.Flex,{align:"flex-start",wrap:!0},(0,r.createElement)(Ro,null,(0,r.createElement)(ko,{namespace:n,collection:a})),(0,r.createElement)(l.Slot,{name:"".concat(n,"_").concat(a,"_record_create_upsell")},(function(e){return e.length>0&&(0,r.createElement)(Ro,null,e)})))))}function Co(){var e=$(),t=e.namespace,n=e.collection,a=e.innerNamespace,o=e.innerCollection,i=e.id,c=e.tab,s=Rt(t,n).data;if(!c||!s)return!1;var u=s.tabs[c];return(0,r.createElement)(ko,{namespace:a,collection:o,basePath:"".concat(i,"/").concat(c,"/").concat(a,"/").concat(o),defaultProps:ve({},u.filter_by,i),isInner:!0},(0,r.createElement)(l.Slot,{name:"".concat(a,"_").concat(o,"_record_create_upsell--inner")}))}function jo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Po(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jo(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ro=rr(l.FlexItem,{target:"e15gjem90"})({name:"odxgfg",styles:"width:400px;max-width:100%"}),Do=function(e){var t=e.children,n=e.title;return e.isInner?t:(0,r.createElement)(Ne,{title:n},(0,r.createElement)(l.CardBody,null,t))},Ao=da((function(e){var t,n,a=e.namespace,o=e.collection,i=e.id,c=e.schema,s=e.isInner,u=e.basePath,p=he((0,r.useState)(null),2),d=p[0],f=p[1],m=he((0,r.useState)(!1),2),h=m[0],g=m[1],v=he((0,r.useState)({}),2),b=v[0],y=v[1],w=jt(a,o,i);return(0,r.createElement)(Do,{title:(null===(t=c.labels)||void 0===t?void 0:t.edit_item)||(0,se.__)("Edit Item","newsletter-optin-box"),isInner:s},(0,r.createElement)(l.Flex,{align:"flex-start",wrap:!0},(0,r.createElement)(Ro,null,(0,r.createElement)(Oo,Po({record:Po(Po({},w.data),b),error:d,onSubmit:function(e){null==e||e.preventDefault(),h||(g(!0),w.save(b).then((function(){y({})})).catch((function(e){f(e)})).finally((function(){g(!1)})))},submitText:h?(0,se.__)("Saving...","newsletter-optin-box"):(0,se.__)("Save Changes","newsletter-optin-box"),onChange:function(e){y(Po(Po({},b),e)),d&&f(null)},namespace:a,collection:o,loading:h,isInner:s,slotName:"".concat(a,"_").concat(o,"_record_overview_below")},c))),(0,r.createElement)(Ro,null,(0,r.createElement)(l.Slot,{name:(n="".concat(a,"_").concat(o,"_record_overview_upsell"),s?"".concat(n,"--inner"):n)}),(0,r.createElement)(La,{namespace:a,collection:o,id:i,basePath:u}))))})),Fo=function(){var e=$(),t=e.namespace,n=e.collection,a=e.id;return(0,r.createElement)(Ao,{namespace:t,collection:n,basePath:"",id:a})},To=function(){var e=$(),t=e.innerNamespace,n=e.innerCollection,a=e.innerId,o=e.id,i=e.tab,l="".concat(o,"/").concat(i);return(0,r.createElement)(Ao,{namespace:t,collection:n,id:a,basePath:l,isInner:!0})},Io=n(184),No=n.n(Io);const Mo=(0,r.createElement)(za.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(za.Path,{d:"M15.1 4.8l-3-2.5V4c-4.4 0-8 3.6-8 8 0 3.7 2.5 6.9 6 7.7.3.1.6.1 1 .2l.2-1.5c-.4 0-.7-.1-1.1-.2l-.1.2v-.2c-2.6-.8-4.5-3.3-4.5-6.2 0-3.6 2.9-6.5 6.5-6.5v1.8l3-2.5zM20 11c-.2-1.4-.7-2.7-1.6-3.8l-1.2.8c.7.9 1.1 2 1.3 3.1L20 11zm-1.5 1.8c-.1.5-.2 1.1-.4 1.6s-.5 1-.8 1.5l1.2.9c.4-.5.8-1.1 1-1.8s.5-1.3.5-2l-1.5-.2zm-5.6 5.6l.2 1.5c1.4-.2 2.7-.7 3.8-1.6l-.9-1.1c-.9.7-2 1.1-3.1 1.2z"})),Bo=(0,r.createElement)(za.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(za.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"}));var Lo=["children"];function zo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const qo=function(e){var t=e.children,n=ga(e,Lo);return(0,r.createElement)(l.DropdownMenu,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zo(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({icon:Bo},n),(function(e){var n=e.onClose;return(0,r.createElement)(r.Fragment,null,t&&t(n))}))};var $o=[25,50,75,100];function Ho(e){var t=e.page,n=e.pageCount,a=e.onPageChange;if(n<=1)return null;var o=t>1,i=t-1,c=t<n,s=t+1,u=(0,r.createElement)(l.__experimentalInputControlPrefixWrapper,null,(0,se.__)("Page","newsletter-optin-box"));return(0,r.createElement)(l.FlexItem,{className:"noptin-pagination__page-arrows"},(0,r.createElement)(l.Flex,{wrap:!0,gap:2,align:"center",justify:"center"},(0,r.createElement)(l.FlexItem,{role:"status","aria-live":"polite"},(0,r.createElement)(l.__experimentalInputControl,{type:"number",value:t,onChange:a,min:1,max:n,prefix:u,label:(0,se.__)("Page","newsletter-optin-box"),isPressEnterToChange:!0,hideLabelFromVision:!0,__next36pxDefaultSize:!0})),(0,r.createElement)(l.FlexItem,null,(0,se.sprintf)((0,se.__)("of %d","newsletter-optin-box"),n)),(0,r.createElement)(l.FlexItem,{className:"noptin-pagination__page-arrows-buttons"},(0,r.createElement)(l.ButtonGroup,null,(0,r.createElement)(l.Button,{disabled:!o,onClick:function(){return a(i)},label:(0,se.__)("Previous Page","newsletter-optin-box")},(0,r.createElement)(l.Icon,{icon:"arrow-left-alt2"})),(0,r.createElement)(l.Button,{disabled:!c,onClick:function(){return a(s)},label:(0,se.__)("Next Page","newsletter-optin-box")},(0,r.createElement)(l.Icon,{icon:"arrow-right-alt2"}))))))}function Uo(e){var t=e.perPage,n=e.onChange,a=$o.map((function(e){return{value:e,label:e}}));return(0,r.createElement)(l.FlexItem,{className:"noptin-pagination__per-page-picker"},(0,r.createElement)(l.SelectControl,{label:(0,se.__)("Rows per page","newsletter-optin-box"),labelPosition:"side",value:t,onChange:n,options:a,__nextHasNoMarginBottom:!0,__next36pxDefaultSize:!0}))}function Wo(e){var t=e.query,n=e.onQueryChange,a=e.total,o=e.className,i=e.showPerPagePicker,c=void 0===i||i;if(!a)return null;var s=t.paged?parseInt(t.paged,10):1,u=t.per_page?parseInt(t.per_page,10):25,p=Math.ceil(a/u),d=No()("noptin-pagination",o);function f(e){var t=parseInt(e,10);n({per_page:t||1});var r=t?Math.ceil(a/t):a;s>r&&n({paged:r})}return p<=1?a>$o[0]&&(0,r.createElement)(l.Flex,{className:d,wrap:!0,gap:4,align:"center",justify:"center"},(0,r.createElement)(Uo,{perPage:u,onChange:f}))||null:(0,r.createElement)(l.Flex,{className:d,wrap:!0,gap:2,align:"center",justify:"center"},(0,r.createElement)(Ho,{page:s,pageCount:p,onPageChange:function(e){var t=parseInt(e,10);!t||t<1?t=1:t>p&&(t=p),n({paged:t})}}),c&&(0,r.createElement)(Uo,{perPage:u,onChange:f}))}function Vo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vo(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ko=function(e,t){return e||t?"center"===e||t?{align:"center"}:{align:e}:{}};const Go=(0,r.memo)((function(e){var t=e.columnKey,n=e.columnLabel,a=e.screenReaderLabel,o=e.cellClassName,i=e.minWidth,c=e.display,s=e.align,u=e.isSortable,p=e.isNumeric,d=e.isSorted,f=e.sortDir,m=e.setSortBy,h=Ko(s,p),g=Qo(Qo({className:No()("noptin-table__header",o)},h),{},{minWidth:i||void 0});u&&(g["aria-sort"]="none",d&&(g["aria-sort"]="asc"===f?"ascending":"descending"));var v="asc"!==f?(0,se.sprintf)((0,se.__)("Sort by %s in ascending order","newsletter-optin-box"),a||n):(0,se.sprintf)((0,se.__)("Sort by %s in descending order","newsletter-optin-box"),a||n),b=(0,r.createElement)(r.Fragment,null,(0,r.createElement)("span",{"aria-hidden":Boolean(a)},c||n),a&&(0,r.createElement)("span",{className:"screen-reader-text"},a)),y=(0,r.createElement)(l.Icon,{icon:"asc"!==f?"arrow-down-alt2":"arrow-up-alt2"});return(0,r.createElement)(kr,Qo({role:"columnheader",scope:"col",key:t,isSorted:d},g),u?(0,r.createElement)(l.Button,{onClick:function(){return m(t)},label:v,showTooltip:!0},"right"===h.align&&y,(0,r.createElement)("span",null," ",b," "),"right"!==h.align&&y):b)}));function Yo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yo(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Xo=(0,r.memo)((function(e){var t=e.row,n=e.header,a=e.DisplayCell,o=e.cellClassName,i=e.headerKey,l=e.isSorted,c=n.is_primary?Sr.withComponent("th",{target:"e1sk0yph0"}):Sr,s=Jo(Jo({className:No()("noptin-table__col",o)},Ko(n.align,n.isNumeric)),{},{minWidth:n.minWidth||void 0}),u=(0,r.isValidElement)(a);return(0,r.createElement)(c,Jo({scope:n.is_primary?"row":void 0,isSorted:l},s),u?a:(0,r.createElement)(a,{row:t,header:n,headerKey:i}))}));function Zo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ei(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zo(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ti=(0,r.createContext)({}),ni=function(e){var t=e.children,n=he((0,r.useState)({}),2),a=n[0],o=n[1];return(0,r.createElement)(ti.Provider,{value:{selected:a,setSelected:o}},t)},ri=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=(0,r.useContext)(ti);return[t.selected[e]||[],(0,r.useCallback)((function(n){t.setSelected(ei(ei({},t.selected),{},ve({},e,n)))}),[e,t.setSelected])]},ai=["key","label","isSortable"],oi=["key"],ii=["query","headers","rows","caption","emptyMessage","emptyAction","onQueryChange","DisplayCell","canSelectRows","idProp","storeName"];function li(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ci(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?li(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):li(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var si="desc",ui=function(e,t,n){return n&&e[n]?e[n]:e.id?e.id:e.key?e.key:t},pi=function(e){var t=e.rows,n=e.idProp,a=e.storeName,o=he(ri(a),2),i=o[0],c=o[1],s=(0,r.useMemo)((function(){return t.map((function(e,t){return ui(e,t,n)}))}),[t,n]),u=i.length>0&&i.length===s.length,p=(0,r.useCallback)((function(){c(u?[]:s)}),[u,s,c]);return(0,r.createElement)(Go,{columnLabel:(0,se.__)("Toggle selection","newsletter-optin-box"),columnKey:"cb",align:"center",minWidth:"20px",display:(0,r.createElement)(l.CheckboxControl,{checked:u,onChange:p,__nextHasNoMarginBottom:!0}),cellClassName:"noptin-table-column__cb"})},di=function(e){var t=e.row,n=e.id,a=e.storeName,o=he(ri(a),2),i=o[0],c=o[1],s=(0,r.useCallback)((function(e){c(e?[].concat(Ar(i),[n]):i.filter((function(e){return e!==n})))}),[i,c,n]);return(0,r.createElement)(Xo,{headerKey:"cb",row:t,header:{key:"cb",align:"center",minWidth:"20px"},cellClassName:"noptin-table-column__cb",DisplayCell:(0,r.createElement)(l.CheckboxControl,{checked:i.includes(n),onChange:s,__nextHasNoMarginBottom:!0})})},fi=function(e){var t=e.headers,n=e.hasData,a=e.sortBy,o=e.sortDir,i=e.onQueryChange,l=e.rows,c=e.idProp,s=e.canSelectRows,u=e.storeName,p=(0,r.useCallback)((function(e){i(e===a?{order:"asc"===o?si:"asc"}:{orderby:e})}),[a,o,i]),d=(0,r.useMemo)((function(){return t.map((function(e){var t=e.key,i=e.label,l=e.isSortable,c=ga(e,ai);return(0,r.createElement)(Go,ci({key:t,columnLabel:i,columnKey:t,isSortable:l&&n,isSorted:a===t,sortDir:o,setSortBy:p,cellClassName:"noptin-table-column__"+t.replace(/_/g,"-")},c))}))}),[t,n,a,o,p]);return(0,r.createElement)("thead",null,(0,r.createElement)(xr,{className:"noptin-table__row"},s&&n&&(0,r.createElement)(pi,{rows:l,idProp:c,storeName:u}),d))},mi=function(e){var t=e.sortBy,n=e.headers,a=e.DisplayCell,o=e.canSelectRows,i=e.hasData,l=e.row,c=e.id,s=e.storeName,u=(0,r.useMemo)((function(){return n.map((function(e){var n=e.key,o=ga(e,oi);return(0,r.createElement)(Xo,{key:"".concat(c,"__").concat(n),headerKey:n,row:l,header:o,isSorted:t===n,cellClassName:"noptin-table__col-"+(null==n?void 0:n.replace(/_/g,"-")),DisplayCell:a})}))}),[n,l,t,a,c]);return(0,r.createElement)(xr,{className:"noptin-table__row"},o&&i&&(0,r.createElement)(di,{row:l,id:c,storeName:s}),u)};const hi=function(e){var t=e.query,n=e.headers,a=void 0===n?[]:n,o=e.rows,i=void 0===o?[]:o,l=e.caption,c=e.emptyMessage,s=e.emptyAction,u=e.onQueryChange,p=e.DisplayCell,d=e.canSelectRows,f=e.idProp,m=void 0===f?"id":f,h=e.storeName,g=ga(e,ii),v=t.orderby||"id",b=t.order||si,y=!!i.length;return(0,r.createElement)(_r,ci({tabIndex:"0","aria-label":"".concat(l," - ").concat((0,se.__)("(scroll to see more)","newsletter-optin-box")),role:"group"},g),(0,r.createElement)("table",null,(0,r.createElement)(fi,{headers:a,hasData:y,sortBy:v,sortDir:b,onQueryChange:u,canSelectRows:d,rows:i,idProp:m,storeName:h}),(0,r.createElement)("tbody",null,y?i.map((function(e,t){var n=ui(e,t,m);return(0,r.createElement)(mi,{key:n,sortBy:v,headers:a,DisplayCell:p,canSelectRows:d,storeName:h,hasData:y,row:e,id:n})})):(0,r.createElement)(xr,{className:"noptin-table__row"},(0,r.createElement)(Cr,{colSpan:a.length},null!=c?c:(0,se.__)("No data to display","newsletter-optin-box"),s)))))};var gi=["query","headers"];function vi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vi(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const yi=function(e){var t=e.query,n=e.headers,a=ga(e,gi),o=t.per_page?parseInt(t.per_page,10):25,i=(0,je.range)(o).map((function(){return{}})),l=bi({query:t,headers:n},a);return(0,r.createElement)(hi,bi(bi({},l),{},{rows:i,DisplayCell:Er,isLoading:!0,"aria-hidden":"true"}))},wi=function(e){var t=e.data;return(0,r.createElement)(jr,{role:"complementary"},t.map((function(e,t){var n=e.label,a=e.value;return(0,r.createElement)("li",{key:t},(0,r.createElement)("strong",null,a),(0,r.createElement)("span",null,n))})))};var Ei=function(){return(0,r.createElement)(jr,{role:"complementary"},(0,r.createElement)("li",null,(0,r.createElement)(Er,null)))};const _i=function(e){var t=e.value,n=e.onChange,a=e.searchPlaceholder,o=he((0,r.useState)(t||""),2),i=o[0],s=o[1],u=function(e,t,n){var r=this,a=(0,c.useRef)(null),o=(0,c.useRef)(0),i=(0,c.useRef)(null),l=(0,c.useRef)([]),s=(0,c.useRef)(),u=(0,c.useRef)(),p=(0,c.useRef)(e),d=(0,c.useRef)(!0);(0,c.useEffect)((function(){p.current=e}),[e]);var f=!t&&0!==t&&"undefined"!=typeof window;if("function"!=typeof e)throw new TypeError("Expected a function");t=+t||0;var m=!!(n=n||{}).leading,h=!("trailing"in n)||!!n.trailing,g="maxWait"in n,v=g?Math.max(+n.maxWait||0,t):null;(0,c.useEffect)((function(){return d.current=!0,function(){d.current=!1}}),[]);var b=(0,c.useMemo)((function(){var e=function(e){var t=l.current,n=s.current;return l.current=s.current=null,o.current=e,u.current=p.current.apply(n,t)},n=function(e,t){f&&cancelAnimationFrame(i.current),i.current=f?requestAnimationFrame(e):setTimeout(e,t)},c=function(e){if(!d.current)return!1;var n=e-a.current;return!a.current||n>=t||n<0||g&&e-o.current>=v},b=function(t){return i.current=null,h&&l.current?e(t):(l.current=s.current=null,u.current)},y=function e(){var r=Date.now();if(c(r))return b(r);if(d.current){var i=t-(r-a.current),l=g?Math.min(i,v-(r-o.current)):i;n(e,l)}},w=function(){var p=Date.now(),f=c(p);if(l.current=[].slice.call(arguments),s.current=r,a.current=p,f){if(!i.current&&d.current)return o.current=a.current,n(y,t),m?e(a.current):u.current;if(g)return n(y,t),e(a.current)}return i.current||n(y,t),u.current};return w.cancel=function(){i.current&&(f?cancelAnimationFrame(i.current):clearTimeout(i.current)),o.current=0,l.current=a.current=s.current=i.current=null},w.isPending=function(){return!!i.current},w.flush=function(){return i.current?b(Date.now()):u.current},w}),[m,g,t,v,h,f]);return b}((function(e){n(e)}),500);return(0,r.createElement)(l.FlexBlock,{style:{minWidth:"200px"}},(0,r.createElement)(l.SearchControl,{value:i,onChange:function(e){s(e),u(e)},placeholder:a,__nextHasNoMarginBottom:!0}))};var xi=["actions","filtersButton","className","hasSearch","searchPlaceholder","headers","ids","isLoading","onQueryChange","onRefresh","query","initialHiddenHeaders","rows","showMenu","showFooter","summary","title","totalRows","canSelectRows","DisplayCell","storeName"];function Oi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ki(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oi(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Si=function(e){var t=e.headers,n=e.caption,a=e.query,o=e.storeName;return(0,r.createElement)(r.Fragment,null,(0,r.createElement)("span",{className:"screen-reader-text"},(0,se.__)("Your requested data is loading","newsletter-optin-box")),(0,r.createElement)(yi,{headers:t,caption:n,query:a,storeName:o}))},Ci=function(e){var t=e.headers,n=e.hiddenHeaders,a=e.setHiddenHeaders,o=(0,r.useCallback)((function(e){a(n.includes(e)?(0,je.without)(n,e):[].concat(Ar(n),[e]))}),[t,n,a]);return(0,r.createElement)(qo,{label:(0,se.__)("Choose the columns to display","newsletter-optin-box")},(function(){return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(l.MenuGroup,{label:(0,se.__)("Columns","newsletter-optin-box")},t.map((function(e){var t=e.key,a=e.label;return e.required||void 0===t?null:(0,r.createElement)(l.MenuItem,{key:t},(0,r.createElement)(l.ToggleControl,{checked:!n.includes(t),onChange:function(){return o(t)},label:a,__nextHasNoMarginBottom:!0}))}))))}))},ji=function(e){var t=e.title,n=e.hasSearch,a=e.query,o=e.onQueryChange,i=e.onRefresh,c=e.searchPlaceholder,s=e.actions,u=e.filtersButton,p=e.headers,d=e.hiddenHeaders,f=e.setHiddenHeaders,m=e.totalRows,h=(0,r.useMemo)((function(){return s?(0,r.createElement)(l.FlexItem,null,s):null}),[s]),g=(0,r.useMemo)((function(){return n?(0,r.createElement)(_i,{value:a.search,onChange:function(e){return o({search:e})},placeholder:c}):null}),[n,a.search,o,c]),v=(0,r.useMemo)((function(){return(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(Ci,{headers:p,hiddenHeaders:d,setHiddenHeaders:f}))}),[p,d,f]);return(0,r.createElement)(l.CardHeader,null,(0,r.createElement)(l.Flex,{gap:2,wrap:!0},(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(fr,{as:"h2"},t)),i&&(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(l.Button,{icon:Mo,onClick:i,variant:"tertiary",label:(0,se.__)("Refresh","newsletter-optin-box"),showTooltip:!0})),u&&(0,r.createElement)(l.FlexItem,null,u),g,m>0&&h,v))},Pi=function(e){var t=e.isLoading,n=e.summary,a=e.query,o=e.onQueryChange,i=e.totalRows;return(0,r.createElement)(l.CardFooter,{justify:"center"},t?(0,r.createElement)(Ei,null):(0,r.createElement)(r.Fragment,null,(0,r.createElement)(Wo,{query:a,onQueryChange:o,total:i}),n&&(0,r.createElement)(wi,{data:n})))};const Ri=function(e){var t=e.actions,n=e.filtersButton,a=e.className,o=e.hasSearch,i=e.searchPlaceholder,c=e.headers,s=void 0===c?[]:c,u=(e.ids,e.isLoading),p=void 0!==u&&u,d=e.onQueryChange,f=void 0===d?function(){}:d,m=e.onRefresh,h=void 0!==m&&m,g=e.query,v=void 0===g?{}:g,b=e.initialHiddenHeaders,y=void 0===b?[]:b,w=e.rows,E=void 0===w?[]:w,_=(e.showMenu,e.showFooter),x=void 0===_||_,O=e.summary,k=e.title,S=e.totalRows,C=e.canSelectRows,j=e.DisplayCell,P=e.storeName,R=void 0===P?"default":P,D=ga(e,xi),A=he((0,r.useState)(y),2),F=A[0],T=A[1];(0,r.useEffect)((function(){if(R&&"default"!==R){var e=localStorage.getItem("noptin-table-".concat(R,"-hidden-headers"));e&&T(JSON.parse(e))}}),[R]),(0,r.useEffect)((function(){R&&"default"!==R&&localStorage.setItem("noptin-table-".concat(R,"-hidden-headers"),JSON.stringify(F))}),[F,R]);var I=ki({headers:(0,r.useMemo)((function(){return s.filter((function(e){return!F.includes(e.key)}))}),[s,F]),caption:k,onQueryChange:f,query:v,storeName:R},D);return(0,r.createElement)(l.Card,{className:No()("noptin-table",a),elevation:0},(0,r.createElement)(ji,{title:k,hasSearch:o,query:v,onQueryChange:f,onRefresh:!p&&h,searchPlaceholder:i,actions:!p&&t,filtersButton:n,headers:s,hiddenHeaders:F,setHiddenHeaders:T,totalRows:S}),p?(0,r.createElement)(Si,ki({},I)):(0,r.createElement)(hi,ki({rows:E,DisplayCell:j,canSelectRows:C},I)),x&&(0,r.createElement)(Pi,{isLoading:p,summary:O,query:v,onQueryChange:f,totalRows:S}))};function Di(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ai(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Di(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Di(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fi=function(e){var t=e.row,n=e.header,a=e.headerKey,o=n.is_list,i=n.item,c=n.args,s=n.is_primary,u=n.url,p=n.is_boolean;if(o)return Array.isArray(t[a])&&0!==t[a].length?(0,r.createElement)("ul",null,t[a].map((function(e,t){var n=e;if(i){var a=c.map((function(t){return e[t]}));n=se.sprintf.apply(void 0,[i].concat(Ar(a)))}return(0,r.createElement)("li",{key:t,dangerouslySetInnerHTML:{__html:n}})}))):"â€”";if(s&&u)return t[u]?(0,r.createElement)("a",{href:t[u],style:{textDecoration:"none"},target:"_blank"},(0,r.createElement)("strong",null,t[a])):(0,r.createElement)("strong",null,t[a]);if(p){var d=t[a]?"yes":"no";return(0,r.createElement)(l.Icon,{icon:d})}return(0,r.createElement)("div",{dangerouslySetInnerHTML:{__html:t[a]}})};function Ti(e){var t,n=e.tab,a=e.tabName,o=function(e,t,n,r){return n=parseInt(n,10),St((function(a){return a(xt(e,t)).getTabContent(n,r)}),[e,t,n,r])}(e.namespace,e.collection,e.recordId,a),i=(0,r.useMemo)((function(){return n.headers.map((function(e){return Ai({key:e.name,label:e.label,isSortable:!1,isNumeric:e.is_numeric},e)}))}),[n.headers]);return"ERROR"===o.status?(0,r.createElement)(Ne,{title:n.title},(0,r.createElement)(l.CardBody,null,(0,r.createElement)(l.Notice,{status:"error",isDismissible:!1},(null===(t=o.error)||void 0===t?void 0:t.message)||(0,se.__)("An unknown error occurred.","newsletter-optin-box")))):(0,r.createElement)(Ri,Ai(Ai({},n),{},{isLoading:o.isResolving,rows:o.data,headers:i,showFooter:!1,DisplayCell:Fi}))}var Ii=n(460),Ni=n.n(Ii),Mi=["namespace","collection"],Bi=["count","selected"];function Li(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Li(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Li(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qi=function(e){var t=e.fields,n=e.back,a=e.schema,o=e.namespace,i=e.collection,c=e.selected,s=e.query,u=0===c.length?zi({},s):{include:c.join(",")};u.__fields=t.join(","),u.number=-1,u.context="edit";var p=function(e,t){var n=kt(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return St((function(r){return r(xt(e,t)).getPartialRecords(n)}),[e,t,n])}(o,i,u),d=(0,r.useMemo)((function(){var e;if(null===(e=p.data)||void 0===e||!e.length)return[];var t=a.reduce((function(e,t){return e[t.name]=t.label,e}),{});return Object.keys(p.data[0]).map((function(e){return t[e]||e}))}),[a,p.data]),f=(0,r.useMemo)((function(){var e;return null!==(e=p.data)&&void 0!==e&&e.length?p.data.map((function(e){return Object.values(e)})):[]}),[p.data]),m=(0,r.createElement)(l.Button,{variant:"link",onClick:n},(0,se.__)("Go Back","newsletter-optin-box"));if(p.isResolving)return(0,r.createElement)(l.__experimentalText,{size:16,as:"p"},(0,r.createElement)(l.Spinner,{style:{marginLeft:0}}),(0,se.__)("Preparing records...","newsletter-optin-box"));if("ERROR"===p.status)return(0,r.createElement)(lr,{status:"error",isDismissible:!1},p.error.message||(0,se.__)("An unknown error occurred.","newsletter-optin-box"),"Â  Â ",m);if(!p.data.length)return(0,r.createElement)(lr,{status:"info",isDismissible:!1},(0,se.__)("Found no records to export.","newsletter-optin-box"),"Â  Â ",m);var h=Ni().unparse({fields:d,data:f},{escapeFormulae:!0}),g="".concat(o,"-").concat(i,"-").concat(Date.now(),".csv");return(0,r.createElement)(lr,{status:"success",isDismissible:!1},(0,se.__)("Done! Click the button below to download records.","newsletter-optin-box"),"Â  Â ",(0,r.createElement)(l.Button,{variant:"primary",href:"data:text/csv;charset=utf-8,".concat(encodeURIComponent(h)),download:g,text:(0,se.__)("Download CSV","newsletter-optin-box")}))},$i=function(e){var t=e.fields,n=e.setFields,a=e.schema,o=a.schema,i=a.ignore,c=e.next;return(0,r.createElement)(l.Flex,{direction:"column",gap:4},(0,r.createElement)(l.FlexItem,null,(0,r.createElement)("p",{className:"description"},(0,se.__)("Select the fields to include in your exported file","newsletter-optin-box"))),o.map((function(e){if(!i.includes(e.name))return(0,r.createElement)(l.FlexItem,{key:e.name},(0,r.createElement)(l.ToggleControl,{label:e.label===e.description?e.label:"".concat(e.label," (").concat(e.description,")"),checked:t.includes(e.name),onChange:function(){t.includes(e.name)?n(t.filter((function(t){return t!==e.name}))):n([].concat(Ar(t),[e.name]))},__nextHasNoMarginBottom:!0}))})),(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(sr,{variant:"primary",onClick:c},(0,r.createElement)(l.Icon,{icon:"download"}),(0,se.__)("Download","newsletter-optin-box"))))},Hi=function(e){var t=e.namespace,n=e.collection,a=ga(e,Mi),o=Rt(t,n),i=he((0,r.useState)((0,je.compact)(o.data.schema.map((function(e){return o.data.hidden.includes(e.name)||o.data.ignore.includes(e.name)?null:e.name})))),2),l=i[0],c=i[1],s=he((0,r.useState)("fields"),2),u=s[0],p=s[1];return"fields"===u?(0,r.createElement)($i,{fields:l,setFields:c,schema:o.data,next:function(){return p("progress")}}):"progress"===u?(0,r.createElement)(qi,zi({fields:l,schema:o.data.schema,back:function(){return p("fields")},namespace:t,collection:n},a)):void 0};function Ui(e){var t=e.count,n=e.selected,a=ga(e,Bi),o=he((0,r.useState)(!1),2),i=o[0],c=o[1],s=0===n.length,u=s?(0,se.__)("Download","newsletter-optin-box"):(0,se.__)("Download Selected","newsletter-optin-box"),p=s?(0,se.sprintf)((0,se.__)("Download all %s records","newsletter-optin-box"),t):(0,se.sprintf)((0,se.__)("Download %s selected records","newsletter-optin-box"),n.length);return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(l.Button,{onClick:function(){return c(!0)},variant:"tertiary",text:u}),i&&(0,r.createElement)(l.Modal,{title:p,onRequestClose:function(){return c(!1)}},(0,r.createElement)("div",{className:"hizzle-records-export-modal__body"},(0,r.createElement)(pe,null,(0,r.createElement)(Hi,zi({count:t,selected:n},a))))))}function Wi(e){var t=e.namespace,n=e.collection,a=e.query,o=e.count,c=e.selected,s=e.setSelected,u=(0,Me.useDispatch)("".concat(t,"/").concat(n)),p=he((0,r.useState)(!1),2),d=p[0],f=p[1],m=he((0,r.useState)(null),2),h=m[0],g=m[1],v=he((0,r.useState)(!1),2),b=v[0],y=v[1],w=0===c.length,E=w?(0,se.__)("Delete","newsletter-optin-box"):(0,se.__)("Delete Selected","newsletter-optin-box"),_=Zr(c,a);return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(l.Button,{onClick:function(){return f(!0)},variant:"tertiary",icon:"trash",text:E,isDestructive:!0}),d&&(0,r.createElement)(l.Modal,{title:E,onRequestClose:function(){return f(!1)}},(0,r.createElement)((function(){return(0,r.createElement)(r.Fragment,null,b?(0,r.createElement)(r.Fragment,null,(0,r.createElement)(l.Spinner,null),(0,se.__)("Deleting...","newsletter-optin-box")):(0,r.createElement)(r.Fragment,null,h?(0,r.createElement)(pr,null,h.message):(0,r.createElement)(pr,null,w&&(0,se.sprintf)((0,se.__)("Are you sure you want to delete %d matching records?","newsletter-optin-box"),o),!w&&(0,se.sprintf)((0,se.__)("Are you sure you want to delete %d selected records?","newsletter-optin-box"),c.length)),(0,r.createElement)(sr,{isDestructive:!0,onClick:function(){y(!0),u.deleteRecords((0,i.addQueryArgs)("",_),u).then((function(e){f(!1),s([])})).catch((function(e){g(e)})).finally((function(){y(!1)}))}},(0,se.__)("Yes, Delete!","newsletter-optin-box")),(0,r.createElement)(sr,{onClick:function(){return f(!1)},variant:"secondary",__withNoMargin:!0},(0,se.__)("Cancel","newsletter-optin-box"))))}),null)))}function Vi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vi(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ki=function(e){var t=e.editableFields,n=e.onSave,a=e.changes,o=e.setAttributes;return(0,r.createElement)("form",{onSubmit:n},t.map((function(e){var t=Qi(Qi({},wo(e)),{},{default:"",placeholder:(0,se.__)("Do not update","newsletter-optin-box")}),n=null;return e.multiple&&(t.label=(0,se.sprintf)((0,se.__)("%s - To Add","newsletter-optin-box"),e.label),t.name="".concat(e.name,"::add"),n=Qi(Qi({},t),{},{name:"".concat(e.name,"::remove"),label:(0,se.sprintf)((0,se.__)("%s - To Remove","newsletter-optin-box"),e.label)})),(0,r.createElement)(r.Fragment,{key:e.name},(0,r.createElement)("div",{style:{marginBottom:"1.6rem"}},(0,r.createElement)(fo,{settingKey:t.name,saved:a,setAttributes:o,setting:t})),n&&(0,r.createElement)("div",{style:{marginBottom:"1.6rem"}},(0,r.createElement)(fo,{settingKey:n.name,saved:a,setAttributes:o,setting:n})))})))},Gi=function(e){var t=e.editableFields,n=e.namespace,a=e.collection,o=e.query,i=e.selected,c=e.count,s=(0,Me.useDispatch)("".concat(n,"/").concat(a)),u=he((0,r.useState)(null),2),p=u[0],d=u[1],f=he((0,r.useState)(!1),2),m=f[0],h=f[1],g=he((0,r.useState)(!1),2),v=g[0],b=g[1],y=he((0,r.useState)({}),2),w=y[0],E=y[1],_=Zr(i,o),x=Object.keys(w).length>0,O=function(e){if(null==e||e.preventDefault(),!m){h(!0);var t={bulk_update:{merge:w,query:_}};s.batchAction(t,s).then((function(){b(!0),E({})})).catch((function(e){d(e)})).finally((function(){h(!1)}))}};return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(Ki,{editableFields:t,changes:w,onSave:O,setAttributes:function(e){E(Qi(Qi({},w),e)),p&&d(null),v&&b(!1)}}),x&&(0,r.createElement)(sr,{variant:"primary",onClick:O,isBusy:m},!m&&(0,r.createElement)(l.Icon,{icon:"cloud-saved"}),"Â ",(0,se.sprintf)(m?(0,se.__)("Saving %d records...","newsletter-optin-box"):(0,se.__)("Edit %d records","newsletter-optin-box"),i.length>0?i.length:c),m&&(0,r.createElement)(l.Spinner,null)),p&&!x&&(0,r.createElement)(l.Notice,{status:"error",isDismissible:!0},p.message),v&&!x&&(0,r.createElement)(l.Notice,{status:"success",isDismissible:!0},(0,se.__)("Records updated successfully.","newsletter-optin-box")))};function Yi(e){var t=he((0,r.useState)(!1),2),n=t[0],a=t[1],o=yo(e),i=o.length>0;return(0,r.createElement)(r.Fragment,null,i&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(l.Button,{onClick:function(){return a(!0)},variant:"tertiary",text:(0,se.__)("Bulk Edit","newsletter-optin-box")}),n&&(0,r.createElement)(l.Modal,{title:(0,se.__)("Bulk Edit","newsletter-optin-box"),onRequestClose:function(){return a(!1)}},(0,r.createElement)(Gi,Qi({editableFields:o},e)))))}var Ji=["namespace","collection","query","setQuery","schema"],Xi=["namespace","collection","defaultProps","inline"];function Zi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function el(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zi(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tl=function(e){var t,n=e.namespace,a=e.collection,o=Xr(),i=Rt(n,a).data;return(0,r.createElement)(l.Button,{onClick:function(){return o("".concat(n,"/").concat(a,"/add"))},variant:"primary",text:(null==i||null===(t=i.labels)||void 0===t?void 0:t.add_new)||(0,se.__)("Add New","newsletter-optin-box")})},nl=function(e){var t,n=e.namespace,a=e.collection,o=e.inline,i=e.query,c=(null===(t=Pt(n,a,i).data)||void 0===t?void 0:t.total)||0,s=he(ri("".concat(n,"/").concat(a)),2),u=s[0],p=s[1];return(0,r.createElement)(l.Flex,{gap:2,wrap:!0},o&&(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(tl,{namespace:n,collection:a,query:i,count:c,selected:u})),(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(Yi,{namespace:n,collection:a,query:i,count:c,selected:u,isBulkEditing:!0})),(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(Ui,{namespace:n,collection:a,query:i,count:c,selected:u})),(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(Wi,{namespace:n,collection:a,query:i,count:c,selected:u,setSelected:p})))},rl=function(e){var t=e.schema,n=t.schema,a=t.hidden,o=t.ignore,i=t.labels,l=e.total,c=e.summary,s=e.records,u=e.isLoading,p=e.namespace,d=e.collection,f=e.updateQueryString,m=e.query,h=e.emptyMessage,g=e.inline,v=e.basePath,b=void 0===v?"":v,y=(0,r.useMemo)((function(){var e=[];return n.forEach((function(t){var n;t.is_textarea||o.includes(t.name)||"hide"===(null===(n=t.js_props)||void 0===n?void 0:n.table)||e.push(el({key:t.name,isSortable:!t.is_dynamic&&!t.is_meta,isNumeric:t.is_numeric||t.is_float,basePath:b},t))})),e}),[n,o]),w=(0,r.useCallback)((function(e){e.paged||(e.paged=1),f(el(el({},m),e))}),[f]),E=(0,Me.useDispatch)("".concat(p,"/").concat(d)),_=(0,r.useCallback)((function(){E.invalidateResolutionForStoreSelector("getRecords")}),[p,d]);return(0,r.createElement)(Ri,{actions:(0,r.createElement)(nl,{namespace:p,collection:d,inline:g,query:m}),rows:s,headers:y,totalRows:l,summary:c?Object.values(c):[],isLoading:u,onQueryChange:w,onRefresh:_,query:m,className:"".concat(p,"-").concat(d,"__records-table"),hasSearch:!0,title:null==i?void 0:i.name,emptyMessage:h||(null==i?void 0:i.not_found),emptyAction:g?(0,r.createElement)("div",{style:{marginTop:"1rem"}},(0,r.createElement)(tl,{namespace:p,collection:d})):null,searchPlaceholder:null==i?void 0:i.search_items,canSelectRows:!0,idProp:"id",DisplayCell:oa,initialHiddenHeaders:a,storeName:"".concat(p,"/").concat(d)})},al=da((function(e){var t,n=e.namespace,a=e.collection,o=e.query,i=e.setQuery,c=e.schema,s=ga(e,Ji),u=Pt(n,a,o);return"ERROR"===u.status?(0,r.createElement)(Ne,{title:(0,se.__)("Error","newsletter-optin-box")},(0,r.createElement)(l.CardBody,null,(0,r.createElement)(l.Notice,{status:"error",isDismissible:!1},(null===(t=u.error)||void 0===t?void 0:t.message)||(0,se.__)("An unknown error occurred.","newsletter-optin-box")))):(0,r.createElement)(rl,el({schema:c,records:u.data.items,total:u.data.total,summary:u.data.summary,isLoading:u.isResolving,namespace:n,collection:a,updateQueryString:i,query:o},s))}));function ol(){var e,t,n,a,o,i,c=$(),s=c.namespace,u=c.collection,p=(e=he((0,r.useState)({}),2),t=e[0],n=e[1],a=he((0,r.useState)(!0),2),o=a[0],i=a[1],(0,r.useLayoutEffect)((function(){return e=function(){i(!0)},window.hizzleNavigation=null!==(t=window.hizzleNavigation)&&void 0!==t?t:{},window.hizzleNavigation.historyPatched||(n=window.history,r=n.pushState,a=n.replaceState,n.pushState=function(e){var t=new CustomEvent("pushstate",{state:e});return window.dispatchEvent(t),r.apply(n,arguments)},n.replaceState=function(e){var t=new CustomEvent("replacestate",{state:e});return window.dispatchEvent(t),a.apply(n,arguments)},window.hizzleNavigation.historyPatched=!0),window.addEventListener("popstate",e),window.addEventListener("pushstate",e),window.addEventListener("replacestate",e),function(){window.removeEventListener("popstate",e),window.removeEventListener("pushstate",e),window.removeEventListener("replacestate",e)};var e,t,n,r,a}),[]),(0,r.useEffect)((function(){if(o){var e=Ae();n(e),i(!1)}}),[o]),t);return(0,r.createElement)(l.Flex,{gap:2,direction:"column"},(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(Eo,{namespace:s,collection:u,query:p,setQuery:Te})),(0,r.createElement)(l.FlexBlock,null,(0,r.createElement)(al,{namespace:s,collection:u,setQuery:Te,query:p})))}var il=function(e){var t=e.namespace,n=e.collection,a=e.defaultProps,o=e.inline,i=ga(e,Xi),l=he((0,r.useState)(a),2),c=l[0],s=l[1],u=$(),p=u.id,d=u.tab;return(0,r.createElement)(al,el({namespace:t,collection:n,setQuery:s,query:c,inline:o,basePath:o?"".concat(p,"/").concat(d,"/").concat(t,"/").concat(n,"/"):""},i))};function ll(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ll(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ll(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sl=da((function(e){var t=e.tab,n=e.namespace,a=e.collection,o=e.recordId,i=e.schema,c=e.isInner,s=jt(n,a,o),u={namespace:n,collection:a,recordId:o,tabName:t};if(!Array.isArray(i.tabs)&&i.tabs[t]){var p=i.tabs[t];return"table"===p.type?(0,r.createElement)(Ti,cl({tab:p,record:s},u)):"collection"===p.type?(0,r.createElement)(il,cl(cl({},p),{},{defaultProps:ve({},p.filter_by,o)})):(0,r.createElement)(l.Slot,{name:"".concat(n,"-").concat(a,"-tab-").concat(t).concat(c?"--inner":""),fillProps:{tab:p,record:s.data}})}return c?(0,r.createElement)(To,null):(0,r.createElement)(Fo,null)})),ul=function(){var e=$(),t=e.tab,n=e.namespace,a=e.collection,o=e.id;return(0,r.createElement)("div",{className:"".concat(n,"-").concat(a,"__").concat(t||"overview","-content")},(0,r.createElement)(sl,{namespace:n,collection:a,tab:t,recordId:o}),(0,r.createElement)(J,null))},pl=function(){var e=$(),t=e.innerNamespace,n=e.innerCollection,a=e.innerId,o=e.innerTab;return(0,r.createElement)("div",{className:"".concat(namespace,"-").concat(collection,"__").concat(tab||"overview","-content")},(0,r.createElement)(sl,{namespace:t,collection:n,tab:o,recordId:a,isInner:!0}))},dl=da((function(e){var t,n=e.children,a=e.recordId,o=e.namespace,i=e.collection,c=e.schema,s=e.tab,u=e.basePath,p=jt(o,i,a),d=Jr(),f=[{title:(null==c||null===(t=c.labels)||void 0===t?void 0:t.edit_item)||(0,se.__)("Edit Item","newsletter-optin-box"),name:"overview"}];Array.isArray(null==c?void 0:c.tabs)||Object.keys(c.tabs).map((function(e){return f.push({title:c.tabs[e].title,name:e})}));var m,h,g=(0,r.useCallback)((function(e){var t,n=(null===(t=f[e])||void 0===t?void 0:t.name)||"overview";d("".concat(u,"/").concat(n))}),[u]);return p.isResolving?(0,r.createElement)(Ne,{title:(null===(m=c.labels)||void 0===m?void 0:m.edit_item)||(0,se.__)("Edit Item","newsletter-optin-box")},(0,r.createElement)(l.CardBody,null,(0,se.__)("Loading","newsletter-optin-box"),(0,r.createElement)(l.Spinner,null))):"ERROR"===p.status?(0,r.createElement)(Ne,{title:(0,se.__)("Error","newsletter-optin-box")},(0,r.createElement)(l.CardBody,null,(0,r.createElement)(l.Notice,{status:"error",isDismissible:!1},(null===(h=p.error)||void 0===h?void 0:h.message)||(0,se.__)("An unknown error occurred.","newsletter-optin-box")))):(0,r.createElement)(r.Fragment,null,f.length>1&&(0,r.createElement)(yr,{orientation:"horizontal",onNavigate:g},f.map((function(e,t){return(0,r.createElement)(l.Button,{key:e.name,isPressed:e.name===s||!s&&0===t,onClick:function(){return g(t)}},e.title)}))),n)})),fl=function(){var e=$(),t=e.namespace,n=e.collection,a=e.id,o=e.tab;return(0,r.createElement)(dl,{namespace:t,collection:n,recordId:a,tab:o,basePath:a},(0,r.createElement)(J,null))},ml=function(){var e=$(),t=e.innerNamespace,n=e.innerCollection,a=e.innerTab,o=e.innerId,i=e.id,l=e.tab;return(0,r.createElement)(dl,{namespace:t,collection:n,recordId:o,tab:a,basePath:"".concat(i,"/").concat(l,"/").concat(t,"/").concat(n,"/").concat(o)},(0,r.createElement)(J,null))},hl=rr("div",{target:"ei95lsh0"})({name:"1kd8sf",styles:"margin:1.6rem 0;max-width:600px"}),gl=sr.withComponent(l.FormFileUpload,{target:"ei95lsh1"});const vl=function(e){var t=e.onUpload;return(0,r.createElement)(hl,null,(0,r.createElement)(l.__experimentalText,{weight:600,as:"h3"},(0,se.__)("This tool allows you to import existing records from a CSV file.","newsletter-optin-box")),(0,r.createElement)(gl,{accept:"text/csv",onChange:function(e){return t(e.currentTarget.files[0])},variant:"primary"},(0,r.createElement)(l.Icon,{icon:"cloud-upload"}),(0,se.__)("Select a CSV file","newsletter-optin-box")),(0,r.createElement)(l.Tip,null,(0,se.__)("The first row of the CSV file should contain the field names/headers.","newsletter-optin-box"),(0,r.createElement)("br",null),(0,se.__)(" Have a different file type?","newsletter-optin-box"),"Â ",(0,r.createElement)(l.Button,{variant:"link",href:"https://convertio.co/csv-converter/",target:"_blank",text:(0,se.__)("Convert it to CSV","newsletter-optin-box")})))};function bl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bl(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wl=rr(l.FlexItem,{target:"eofxwao0"})({name:"ddbaxo",styles:"width:320px"}),El=wl.withComponent("div",{target:"eofxwao1"}),_l=function(e){return(e=(e=e.replace(/[^a-zA-Z0-9]/g,"")).toLowerCase()).startsWith("cf")&&(e=e.slice(2)),e.startsWith("meta")&&(e=e.slice(4)),e},xl=function(e){var t=e.options,n=e.field,a=e.value,o=e.setValue,i=e.customValue,c=e.setCustomValue;return(0,r.createElement)(l.Flex,{style:{marginTop:"1.6rem"},gap:4,justify:"flex-start",wrap:!0},(0,r.createElement)(wl,null,(0,r.createElement)(l.SelectControl,{label:n.label,value:a,onChange:o,options:t,__next36pxDefaultSize:!0,__nextHasNoMarginBottom:!0})),"-1"===a&&(0,r.createElement)(wl,null,n.options?(0,r.createElement)(l.SelectControl,{label:(0,se.__)("Select value","newsletter-optin-box"),value:i,onChange:c,options:[{value:"",label:(0,se.__)("Select value","newsletter-optin-box"),disabled:!0}].concat(Ar(n.options)),__next36pxDefaultSize:!0,__nextHasNoMarginBottom:!0}):(0,r.createElement)(l.TextControl,{label:(0,se.__)("Enter value","newsletter-optin-box"),placeholder:(0,se.__)("Enter a value to assign all imported records","newsletter-optin-box"),value:i,onChange:c,__nextHasNoMarginBottom:!0})))};const Ol=function(e){var t=e.file,n=e.schema,a=e.ignore,o=e.hidden,i=e.back,c=e.onContinue,s=e.namespace,u=e.collection,p=he((0,r.useState)([]),2),d=p[0],f=p[1],m=he((0,r.useState)({}),2),h=m[0],g=m[1],v=he((0,r.useState)(!1),2),b=v[0],y=v[1],w=he((0,r.useState)(null),2),E=w[0],_=w[1],x=(0,r.useMemo)((function(){return(0,je.compact)(n.map((function(e){return"date_created"!==e.name&&(e.readonly||a.includes(e.name)||["id"].includes(e.name))?null:{value:e.name,label:e.label,is_boolean:e.is_boolean,options:!Array.isArray(e.enum)&&Object.keys(e.enum).map((function(t){return{value:t,label:e.enum[t]}}))}})))}),[n,a,o]);(0,r.useEffect)((function(){Ni().parse(t,{header:!0,skipEmptyLines:"greedy",preview:5,complete:function(e){f(e.meta.fields)},error:function(e){_(e)}})}),[t]),(0,r.useEffect)((function(){if(d.length){var e={};d.forEach((function(t){var n=_l(t),r=!1,a=x.find((function(e){var t=_l(e.value),r=_l(e.label);return n===t||n===r}));a||(a=x.find((function(e){var t=_l(e.value),r=_l(e.label);return n.includes(t)||n.includes(r)||t.includes(n)||r.includes(n)})),r=!0),!a||r&&e[a.value]||(e[a.value]={mapped:!0,value:t,is_boolean:a.is_boolean})})),g(e)}}),[d,x]);var O=(0,r.useMemo)((function(){var e=[{value:"",label:(0,se.__)("Ignore Field","newsletter-optin-box")},{value:"-1",label:(0,se.__)("Manually enter value","newsletter-optin-box")},{value:"-2",label:(0,se.__)("Map Field","newsletter-optin-box"),disabled:!0}];return d.forEach((function(t){e.push({value:t,label:t})})),e}),[d]);return E?(0,r.createElement)(l.Notice,{status:"error",isDismissible:!1},(0,r.createElement)("p",null,E.message),(0,r.createElement)(l.Button,{variant:"link",onClick:i},(0,se.__)("Try again","newsletter-optin-box"))):(0,r.createElement)(r.Fragment,null,(0,r.createElement)(l.Tip,null,(0,se.__)("Map the headers of your CSV file to known fields.","newsletter-optin-box")),x.map((function(e){var t=h[e.value]||{is_boolean:e.is_boolean},n=t.value||"";return(0,r.createElement)(xl,{key:e.value,options:O,field:e,value:n,setValue:function(n){g(yl(yl({},h),{},ve({},e.value,yl(yl({},t),{},{mapped:!["","-1","-2"].includes(n),value:n}))))},customValue:t.customValue||"",setCustomValue:function(n){g(yl(yl({},h),{},ve({},e.value,yl(yl({},t),{},{customValue:n}))))}})})),(0,r.createElement)("div",{style:{marginTop:"1.6rem",marginBottom:"1.6rem"}},(0,r.createElement)(l.ToggleControl,{label:(0,se.__)("Update existing records","newsletter-optin-box"),checked:b,onChange:function(e){return y(e)},__nextHasNoMarginBottom:!0})),(0,r.createElement)(l.Slot,{name:"".concat(s,"_").concat(u,"_import_records_below")},(function(e){return e.map((function(e,t){return(0,r.createElement)(l.Tip,{key:t},e)}))})),(0,r.createElement)(El,null,(0,r.createElement)(sr,{variant:"primary",onClick:function(){return c(h,b)}},(0,se.__)("Import","newsletter-optin-box")),(0,r.createElement)(sr,{variant:"secondary",onClick:i,__withNoMargin:!0},(0,se.__)("Back","newsletter-optin-box"))))};var kl=function(e){var t=e.from,n=void 0===t?0:t,a=e.to,o=e.duration,i=void 0===o?5e3:o,l=he((0,r.useState)(n),2),c=l[0],s=l[1];return(0,r.useEffect)((function(){if(n!==a){var e,t=Date.now();return e=requestAnimationFrame((function r(){var o=Date.now()-t;if(o<i){var l=n+(a-n)*o/i;s(Math.round(l)),e=requestAnimationFrame(r)}else s(a)})),function(){return cancelAnimationFrame(e)}}s(a)}),[n,a,i]),(0,r.createElement)("span",null,Math.round(c))};const Sl=function(e){var t=e.file,n=e.headers,a=(e.back,e.updateRecords),o=e.namespace,i=e.collection,c=e.basePath,s=void 0===c?"":c,u=Jr(),p=he((0,r.useState)([]),2),d=p[0],f=p[1],m=he((0,r.useState)(!1),2),h=m[0],g=m[1],v=he((0,r.useState)(5e3),2),b=v[0],y=v[1],w=he((0,r.useState)(!1),2),E=w[0],_=w[1],x=he((0,r.useState)(!1),2),O=x[0],k=x[1],S=he((0,r.useState)(0),2),C=S[0],j=S[1],P=he((0,r.useState)(0),2),R=P[0],D=P[1],A=he((0,r.useState)(0),2),F=A[0],T=A[1],I=he((0,r.useState)(0),2),N=I[0],M=I[1],B=he((0,r.useState)(0),2),L=B[0],z=B[1],q=he((0,r.useState)(0),2),$=q[0],H=q[1],U=he((0,r.useState)(0),2),W=U[0],V=U[1],Q=he((0,r.useState)(0),2),K=Q[0],G=Q[1],Y=he((0,r.useState)(0),2),J=Y[0],X=Y[1],Z=he((0,r.useState)(0),2),ee=Z[0],te=Z[1],ne=he((0,r.useState)([]),2),re=ne[0],ae=ne[1],oe=(0,Me.useDispatch)("".concat(o,"/").concat(i)),ie=(0,r.useCallback)((function(e){var t={};return Object.keys(n).forEach((function(r){""!==n[r].value&&(n[r].mapped?t[r]=e[n[r].value]:void 0!==n[r].customValue&&(t[r]=n[r].customValue),n[r].is_boolean&&(t[r]=!["0","","false","FALSE","no"].includes(t[r])))})),t}),[n]);return(0,r.useEffect)((function(){if(!E){var e=(new Date).getTime(),t=Ar(re),n=t.shift();if(n){!0===h&&g(!1);var r={import:n,update:a};oe.batchAction(r,oe).then((function(e){var t=e.result,n=0,r=0,a=0,o=0,i=[];null!=t&&t.import&&t.import.length&&t.import.forEach((function(e){var t,l,c;null!==(t=e.data)&&void 0!==t&&t.skipped&&n++,null!==(l=e.data)&&void 0!==l&&l.updated&&r++,null!==(c=e.data)&&void 0!==c&&c.created&&a++,e.is_error&&(o++,i.push(e.data))})),te(J),X(J+n),M(F),T(F+r),H(L),z(L+a),G(W),V(W+o),f([].concat(i,i))})).catch((function(e){newFailed=W+n.length,V(W+n.length),f([].concat(Ar(d),[e]))})).finally((function(){if(D(R+n.length),0!==t.length){var r=((new Date).getTime()-e)/1e3;if(y(Math.ceil(1e3*r)),r<20){var a=20*Math.ceil(n.length/r);if(a<100){for(var o=[],i=t.flat(),l=0;l<i.length;l+=a){var c=i.slice(l,l+a);o.push(c)}return void ae(o)}}ae(t)}else ae(t)}))}else!1===h&&g(!0)}}),[re,E]),(0,r.useEffect)((function(){!function(e,t,n){Ni().parse(e,{header:!0,skipEmptyLines:"greedy",complete:function(e){!function(e){k(!0),j(e.data.length);for(var t=[],n=0;n<e.data.length;n+=10){var r=e.data.slice(n,n+10);t.push(r.map((function(e){return ie(e)})))}ae(t),_(!1)}(e)},error:function(e){f([e])}})}(t)}),[t,n]),O?0===C?(0,r.createElement)(pr,null,(0,se.sprintf)((0,se.__)("No records found in %s.","newsletter-optin-box"),t.name)):(0,r.createElement)("div",{className:"noptin-import-progress"},!h&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(dr,{as:"h3"},(0,se.__)("Importing","newsletter-optin-box"),(0,r.createElement)("code",null,t.name),"... Â ",!E&&(0,r.createElement)(l.Spinner,null),"Â  ",(0,r.createElement)(l.Button,{variant:"link",onClick:function(){return _(!E)}},E?(0,se.__)("Resume","newsletter-optin-box"):(0,se.__)("Pause","newsletter-optin-box"))),!E&&(0,r.createElement)(vr,{total:C,processed:R})),h&&(0,r.createElement)(dr,{as:"h3"},(0,se.__)("Processed","newsletter-optin-box"),(0,r.createElement)("code",null,t.name)),(0,r.createElement)(l.Flex,{justify:"flex-start",style:{margin:"1.6rem 0"},gap:4,wrap:!0},(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(Pa,{value:(0,r.createElement)(kl,{to:C,duration:3e3}),label:(0,se.__)("Records Found","newsletter-optin-box"),status:"light"})),L>0&&(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(Pa,{value:(0,r.createElement)(kl,{from:$,to:L,duration:h||E?300:b}),label:(0,se.__)("Records Created","newsletter-optin-box"),status:"success"})),F>0&&(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(Pa,{value:(0,r.createElement)(kl,{from:N,to:F,duration:h||E?300:b}),label:(0,se.__)("Records Updated","newsletter-optin-box"),status:"success"})),W>0&&(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(Pa,{value:(0,r.createElement)(kl,{from:K,to:W,duration:h||E?300:b}),label:(0,se.__)("Records Failed","newsletter-optin-box"),status:"error"})),J>0&&(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(Pa,{value:(0,r.createElement)(kl,{from:ee,to:J,duration:h||E?300:b}),label:(0,se.__)("Records Skipped","newsletter-optin-box"),status:"info"}))),h&&(0,r.createElement)(sr,{variant:"primary",text:(0,se.__)("View Records","newsletter-optin-box"),onClick:function(){return u(s)},maxWidth:"200px"}),d.length>0&&(0,r.createElement)(dr,{as:"h3"},(0,se.__)("Errors","newsletter-optin-box"),"Â ",h&&(0,r.createElement)(l.Button,{onClick:function(){return f([])},variant:"link"},(0,se.__)("Clear","newsletter-optin-box"))),d.map((function(e,t){return(0,r.createElement)(pr,{key:t},e.message)}))):(0,r.createElement)(dr,{as:"h3"},(0,se.__)("Parsing","newsletter-optin-box"),(0,r.createElement)("code",null,t.name),"... Â ",(0,r.createElement)(l.Spinner,null))};var Cl=["file","schema","back"];function jl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jl(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Rl=function(e){var t=e.file,n=e.schema,a=n.schema,o=n.ignore,i=n.hidden,l=n.id_prop,c=e.back,s=ga(e,Cl),u=he((0,r.useState)(null),2),p=u[0],d=u[1],f=he((0,r.useState)(!1),2),m=f[0],h=f[1];return p?(0,r.createElement)(Sl,Pl({file:t,headers:p,updateRecords:m,back:c,id_prop:l},s)):(0,r.createElement)(Ol,Pl({file:t,schema:a,ignore:o,hidden:i,back:c,onContinue:function(e,t){d(e),h(t),window.scrollTo({top:0,behavior:"smooth"})}},s))};function Dl(){var e,t=$(),n=t.namespace,a=t.collection,o=Rt(n,a).data,i=he((0,r.useState)(null),2),c=i[0],s=i[1];return(0,r.createElement)(Ne,{title:(null===(e=o.labels)||void 0===e?void 0:e.import)||(0,se.__)("Import","newsletter-optin-box")},(0,r.createElement)(l.CardBody,null,c?(0,r.createElement)(Rl,{file:c,schema:o,back:function(){return s(null)},namespace:n,collection:a}):(0,r.createElement)(vl,{onUpload:function(e){s(e),window.scrollTo({top:0,behavior:"smooth"})}})))}var Al=function(e){var t=e.defaultRoute,n=document.location.pathname,a=n.substring(0,n.lastIndexOf("/"));return(0,r.createElement)(l.SlotFillProvider,null,(0,r.createElement)(ni,null,(0,r.createElement)(pe,null,(0,r.createElement)(re,{history:Ce(t)},(0,r.createElement)(ee,{basename:a},(0,r.createElement)(X,{path:"/:namespace/:collection",exact:!0,element:(0,r.createElement)(ma,null)},(0,r.createElement)(X,{path:":id",exact:!0,element:(0,r.createElement)(fl,null)},(0,r.createElement)(X,{path:":tab",exact:!0,element:(0,r.createElement)(ul,null)},(0,r.createElement)(X,{path:":innerNamespace/:innerCollection",exact:!0,element:(0,r.createElement)(ha,null)},(0,r.createElement)(X,{path:":innerId",exact:!0,element:(0,r.createElement)(ml,null)},(0,r.createElement)(X,{path:":innerTab",exact:!0,element:(0,r.createElement)(pl,null)}),(0,r.createElement)(X,{index:!0,element:(0,r.createElement)(To,null)})),(0,r.createElement)(X,{path:"add",exact:!0,element:(0,r.createElement)(Co,null)}))),(0,r.createElement)(X,{index:!0,element:(0,r.createElement)(Fo,null)})),(0,r.createElement)(X,{path:"add",exact:!0,element:(0,r.createElement)(So,null),handle:{title:function(e){var t,n=e.labels,r=e.collection;return null!==(t=null==n?void 0:n.add_new_item)&&void 0!==t?t:r}}}),(0,r.createElement)(X,{path:"import",exact:!0,element:(0,r.createElement)(Dl,null)}),(0,r.createElement)(X,{index:!0,element:(0,r.createElement)(ol,null)})))))))};o()((function(){var e=document.getElementById("noptin-collection__overview-app");if(e){var t=e.dataset.defaultRoute,n=(0,i.getQueryArg)(window.location.search,"hizzle_path");n&&n.split("/").length>1&&(t=n),r.createRoot?(0,r.createRoot)(e).render((0,r.createElement)(Al,{defaultRoute:t})):(0,r.render)((0,r.createElement)(Al,{defaultRoute:t}),e)}}))})()})();