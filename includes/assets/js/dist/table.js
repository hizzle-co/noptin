/*! For license information please see table.js.LICENSE.txt */
(()=>{var e={184:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)){if(r.length){var i=a.apply(null,r);i&&e.push(i)}}else if("object"===o){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){e.push(r.toString());continue}for(var l in r)n.call(r,l)&&r[l]&&e.push(l)}}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},640:(e,t,r)=>{"use strict";var n=r(742),a={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var r,o,i,l,c,s,u=!1;t||(t={}),r=t.debug||!1;try{if(i=n(),l=document.createRange(),c=document.getSelection(),(s=document.createElement("span")).textContent=e,s.ariaHidden="true",s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",(function(n){if(n.stopPropagation(),t.format)if(n.preventDefault(),void 0===n.clipboardData){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var o=a[t.format]||a.default;window.clipboardData.setData(o,e)}else n.clipboardData.clearData(),n.clipboardData.setData(t.format,e);t.onCopy&&(n.preventDefault(),t.onCopy(n.clipboardData))})),document.body.appendChild(s),l.selectNodeContents(s),c.addRange(l),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(n){r&&console.error("unable to copy using execCommand: ",n),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),u=!0}catch(n){r&&console.error("unable to copy using clipboardData: ",n),r&&console.error("falling back to prompt"),o=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(o,e)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(l):c.removeAllRanges()),s&&document.body.removeChild(s),i()}return u}},679:(e,t,r)=>{"use strict";var n=r(296),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function c(e){return n.isMemo(e)?i:l[e.$$typeof]||a}l[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[n.Memo]=i;var s=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(m){var a=f(r);a&&a!==m&&e(t,a,n)}var i=u(r);d&&(i=i.concat(d(r)));for(var l=c(t),h=c(r),g=0;g<i.length;++g){var v=i[g];if(!(o[v]||n&&n[v]||h&&h[v]||l&&l[v])){var y=p(r,v);try{s(t,v,y)}catch(e){}}}}return t}},103:(e,t)=>{"use strict";var r="function"==typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,i=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,s=r?Symbol.for("react.context"):60110,u=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,h=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,v=r?Symbol.for("react.block"):60121,y=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case u:case d:case o:case l:case i:case f:return e;default:switch(e=e&&e.$$typeof){case s:case p:case g:case h:case c:return e;default:return t}}case a:return t}}}function E(e){return _(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=s,t.ContextProvider=c,t.Element=n,t.ForwardRef=p,t.Fragment=o,t.Lazy=g,t.Memo=h,t.Portal=a,t.Profiler=l,t.StrictMode=i,t.Suspense=f,t.isAsyncMode=function(e){return E(e)||_(e)===u},t.isConcurrentMode=E,t.isContextConsumer=function(e){return _(e)===s},t.isContextProvider=function(e){return _(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return _(e)===p},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===h},t.isPortal=function(e){return _(e)===a},t.isProfiler=function(e){return _(e)===l},t.isStrictMode=function(e){return _(e)===i},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===d||e===l||e===i||e===f||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===h||e.$$typeof===c||e.$$typeof===s||e.$$typeof===p||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=_},296:(e,t,r)=>{"use strict";e.exports=r(103)},460:function(e,t){var r,n;r=function e(){"use strict";var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},r=!t.document&&!!t.postMessage,n=t.IS_PAPA_WORKER||!1,a={},o=0,i={parse:function(r,n){var l=(n=n||{}).dynamicTyping||!1;if(_(l)&&(n.dynamicTypingFunction=l,l={}),n.dynamicTyping=l,n.transform=!!_(n.transform)&&n.transform,n.worker&&i.WORKERS_SUPPORTED){var c=function(){if(!i.WORKERS_SUPPORTED)return!1;var r,n,l=(r=t.URL||t.webkitURL||null,n=e.toString(),i.BLOB_URL||(i.BLOB_URL=r.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",n,")();"],{type:"text/javascript"})))),c=new t.Worker(l);return c.onmessage=g,c.id=o++,a[c.id]=c}();return c.userStep=n.step,c.userChunk=n.chunk,c.userComplete=n.complete,c.userError=n.error,n.step=_(n.step),n.chunk=_(n.chunk),n.complete=_(n.complete),n.error=_(n.error),delete n.worker,void c.postMessage({input:r,config:n,workerId:c.id})}var f=null;return i.NODE_STREAM_INPUT,"string"==typeof r?(r=function(e){return 65279===e.charCodeAt(0)?e.slice(1):e}(r),f=n.download?new s(n):new d(n)):!0===r.readable&&_(r.read)&&_(r.on)?f=new p(n):(t.File&&r instanceof File||r instanceof Object)&&(f=new u(n)),f.stream(r)},unparse:function(e,t){var r=!1,n=!0,a=",",o="\r\n",l='"',c=l+l,s=!1,u=null,d=!1;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||i.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(a=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(r=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(s=t.skipEmptyLines),"string"==typeof t.newline&&(o=t.newline),"string"==typeof t.quoteChar&&(l=t.quoteChar),"boolean"==typeof t.header&&(n=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");u=t.columns}void 0!==t.escapeChar&&(c=t.escapeChar+l),("boolean"==typeof t.escapeFormulae||t.escapeFormulae instanceof RegExp)&&(d=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var p=new RegExp(m(l),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return f(null,e,s);if("object"==typeof e[0])return f(u||Object.keys(e[0]),e,s)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||u),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),f(e.fields||[],e.data||[],s);throw new Error("Unable to serialize unrecognized input");function f(e,t,r){var i="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var l=Array.isArray(e)&&0<e.length,c=!Array.isArray(t[0]);if(l&&n){for(var s=0;s<e.length;s++)0<s&&(i+=a),i+=h(e[s],s);0<t.length&&(i+=o)}for(var u=0;u<t.length;u++){var d=l?e.length:t[u].length,p=!1,f=l?0===Object.keys(t[u]).length:0===t[u].length;if(r&&!l&&(p="greedy"===r?""===t[u].join("").trim():1===t[u].length&&0===t[u][0].length),"greedy"===r&&l){for(var m=[],g=0;g<d;g++){var v=c?e[g]:g;m.push(t[u][v])}p=""===m.join("").trim()}if(!p){for(var y=0;y<d;y++){0<y&&!f&&(i+=a);var b=l&&c?e[y]:y;i+=h(t[u][b],y)}u<t.length-1&&(!r||0<d&&!f)&&(i+=o)}}return i}function h(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var n=!1;d&&"string"==typeof e&&d.test(e)&&(e="'"+e,n=!0);var o=e.toString().replace(p,c);return(n=n||!0===r||"function"==typeof r&&r(e,t)||Array.isArray(r)&&r[t]||function(e,t){for(var r=0;r<t.length;r++)if(-1<e.indexOf(t[r]))return!0;return!1}(o,i.BAD_DELIMITERS)||-1<o.indexOf(a)||" "===o.charAt(0)||" "===o.charAt(o.length-1))?l+o+l:o}}};if(i.RECORD_SEP=String.fromCharCode(30),i.UNIT_SEP=String.fromCharCode(31),i.BYTE_ORDER_MARK="\ufeff",i.BAD_DELIMITERS=["\r","\n",'"',i.BYTE_ORDER_MARK],i.WORKERS_SUPPORTED=!r&&!!t.Worker,i.NODE_STREAM_INPUT=1,i.LocalChunkSize=10485760,i.RemoteChunkSize=5242880,i.DefaultDelimiter=",",i.Parser=h,i.ParserHandle=f,i.NetworkStreamer=s,i.FileStreamer=u,i.StringStreamer=d,i.ReadableStreamStreamer=p,t.jQuery){var l=t.jQuery;l.fn.parse=function(e){var r=e.config||{},n=[];return this.each((function(e){if("INPUT"!==l(this).prop("tagName").toUpperCase()||"file"!==l(this).attr("type").toLowerCase()||!t.FileReader||!this.files||0===this.files.length)return!0;for(var a=0;a<this.files.length;a++)n.push({file:this.files[a],inputElem:this,instanceConfig:l.extend({},r)})})),a(),this;function a(){if(0!==n.length){var t,r,a,c=n[0];if(_(e.before)){var s=e.before(c.file,c.inputElem);if("object"==typeof s){if("abort"===s.action)return"AbortError",t=c.file,r=c.inputElem,a=s.reason,void(_(e.error)&&e.error({name:"AbortError"},t,r,a));if("skip"===s.action)return void o();"object"==typeof s.config&&(c.instanceConfig=l.extend(c.instanceConfig,s.config))}else if("skip"===s)return void o()}var u=c.instanceConfig.complete;c.instanceConfig.complete=function(e){_(u)&&u(e,c.file,c.inputElem),o()},i.parse(c.file,c.instanceConfig)}else _(e.complete)&&e.complete()}function o(){n.splice(0,1),a()}}}function c(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=b(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new f(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,r){if(this.isFirstChunk&&_(this._config.beforeFirstChunk)){var a=this._config.beforeFirstChunk(e);void 0!==a&&(e=a)}this.isFirstChunk=!1,this._halted=!1;var o=this._partialLine+e;this._partialLine="";var l=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var c=l.meta.cursor;this._finished||(this._partialLine=o.substring(c-this._baseIndex),this._baseIndex=c),l&&l.data&&(this._rowCount+=l.data.length);var s=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(n)t.postMessage({results:l,workerId:i.WORKER_ID,finished:s});else if(_(this._config.chunk)&&!r){if(this._config.chunk(l,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);l=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(l.data),this._completeResults.errors=this._completeResults.errors.concat(l.errors),this._completeResults.meta=l.meta),this._completed||!s||!_(this._config.complete)||l&&l.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),s||l&&l.meta.paused||this._nextChunk(),l}this._halted=!0},this._sendError=function(e){_(this._config.error)?this._config.error(e):n&&this._config.error&&t.postMessage({workerId:i.WORKER_ID,error:e,finished:!1})}}function s(e){var t;(e=e||{}).chunkSize||(e.chunkSize=i.RemoteChunkSize),c.call(this,e),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),r||(t.onload=w(this._chunkLoaded,this),t.onerror=w(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var n in e)t.setRequestHeader(n,e[n])}if(this._config.chunkSize){var a=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+a)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}r&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader("Content-Range");return null===t?-1:parseInt(t.substring(t.lastIndexOf("/")+1))}(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){var r=t.statusText||e;this._sendError(new Error(r))}}function u(e){var t,r;(e=e||{}).chunkSize||(e.chunkSize=i.LocalChunkSize),c.call(this,e);var n="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,r=e.slice||e.webkitSlice||e.mozSlice,n?((t=new FileReader).onload=w(this._chunkLoaded,this),t.onerror=w(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var a=Math.min(this._start+this._config.chunkSize,this._input.size);e=r.call(e,this._start,a)}var o=t.readAsText(e,this._config.encoding);n||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function d(e){var t;c.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,r=this._config.chunkSize;return r?(e=t.substring(0,r),t=t.substring(r)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function p(e){c.call(this,e=e||{});var t=[],r=!0,n=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){n&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):r=!0},this._streamData=w((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),r&&(r=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=w((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=w((function(){this._streamCleanUp(),n=!0,this._streamData("")}),this),this._streamCleanUp=w((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function f(e){var t,r,n,a=Math.pow(2,53),o=-a,l=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,c=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,s=this,u=0,d=0,p=!1,f=!1,g=[],v={data:[],errors:[],meta:{}};if(_(e.step)){var y=e.step;e.step=function(t){if(v=t,x())E();else{if(E(),0===v.data.length)return;u+=t.data.length,e.preview&&u>e.preview?r.abort():(v.data=v.data[0],y(v,s))}}}function w(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function E(){return v&&n&&(C("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+i.DefaultDelimiter+"'"),n=!1),e.skipEmptyLines&&(v.data=v.data.filter((function(e){return!w(e)}))),x()&&function(){if(v)if(Array.isArray(v.data[0])){for(var t=0;x()&&t<v.data.length;t++)v.data[t].forEach(r);v.data.splice(0,1)}else v.data.forEach(r);function r(t,r){_(e.transformHeader)&&(t=e.transformHeader(t,r)),g.push(t)}}(),function(){if(!v||!e.header&&!e.dynamicTyping&&!e.transform)return v;function t(t,r){var n,a=e.header?{}:[];for(n=0;n<t.length;n++){var o=n,i=t[n];e.header&&(o=n>=g.length?"__parsed_extra":g[n]),e.transform&&(i=e.transform(i,o)),i=O(o,i),"__parsed_extra"===o?(a[o]=a[o]||[],a[o].push(i)):a[o]=i}return e.header&&(n>g.length?C("FieldMismatch","TooManyFields","Too many fields: expected "+g.length+" fields but parsed "+n,d+r):n<g.length&&C("FieldMismatch","TooFewFields","Too few fields: expected "+g.length+" fields but parsed "+n,d+r)),a}var r=1;return!v.data.length||Array.isArray(v.data[0])?(v.data=v.data.map(t),r=v.data.length):v.data=t(v.data,0),e.header&&v.meta&&(v.meta.fields=g),d+=r,v}()}function x(){return e.header&&0===g.length}function O(t,r){return n=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[n]&&(e.dynamicTyping[n]=e.dynamicTypingFunction(n)),!0===(e.dynamicTyping[n]||e.dynamicTyping)?"true"===r||"TRUE"===r||"false"!==r&&"FALSE"!==r&&(function(e){if(l.test(e)){var t=parseFloat(e);if(o<t&&t<a)return!0}return!1}(r)?parseFloat(r):c.test(r)?new Date(r):""===r?null:r):r;var n}function C(e,t,r,n){var a={type:e,code:t,message:r};void 0!==n&&(a.row=n),v.errors.push(a)}this.parse=function(a,o,l){var c=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var r=new RegExp(m(t)+"([^]*?)"+m(t),"gm"),n=(e=e.replace(r,"")).split("\r"),a=e.split("\n"),o=1<a.length&&a[0].length<n[0].length;if(1===n.length||o)return"\n";for(var i=0,l=0;l<n.length;l++)"\n"===n[l][0]&&i++;return i>=n.length/2?"\r\n":"\r"}(a,c)),n=!1,e.delimiter)_(e.delimiter)&&(e.delimiter=e.delimiter(a),v.meta.delimiter=e.delimiter);else{var s=function(t,r,n,a,o){var l,c,s,u;o=o||[",","\t","|",";",i.RECORD_SEP,i.UNIT_SEP];for(var d=0;d<o.length;d++){var p=o[d],f=0,m=0,g=0;s=void 0;for(var v=new h({comments:a,delimiter:p,newline:r,preview:10}).parse(t),y=0;y<v.data.length;y++)if(n&&w(v.data[y]))g++;else{var b=v.data[y].length;m+=b,void 0!==s?0<b&&(f+=Math.abs(b-s),s=b):s=b}0<v.data.length&&(m/=v.data.length-g),(void 0===c||f<=c)&&(void 0===u||u<m)&&1.99<m&&(c=f,l=p,u=m)}return{successful:!!(e.delimiter=l),bestDelimiter:l}}(a,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);s.successful?e.delimiter=s.bestDelimiter:(n=!0,e.delimiter=i.DefaultDelimiter),v.meta.delimiter=e.delimiter}var u=b(e);return e.preview&&e.header&&u.preview++,t=a,r=new h(u),v=r.parse(t,o,l),E(),p?{meta:{paused:!0}}:v||{meta:{paused:!1}}},this.paused=function(){return p},this.pause=function(){p=!0,r.abort(),t=_(e.chunk)?"":t.substring(r.getCharIndex())},this.resume=function(){s.streamer._halted?(p=!1,s.streamer.parseChunk(t,!0)):setTimeout(s.resume,3)},this.aborted=function(){return f},this.abort=function(){f=!0,r.abort(),v.meta.aborted=!0,_(e.complete)&&e.complete(v),t=""}}function m(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function h(e){var t,r=(e=e||{}).delimiter,n=e.newline,a=e.comments,o=e.step,l=e.preview,c=e.fastMode,s=t=void 0===e.quoteChar||null===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(s=e.escapeChar),("string"!=typeof r||-1<i.BAD_DELIMITERS.indexOf(r))&&(r=","),a===r)throw new Error("Comment character same as delimiter");!0===a?a="#":("string"!=typeof a||-1<i.BAD_DELIMITERS.indexOf(a))&&(a=!1),"\n"!==n&&"\r"!==n&&"\r\n"!==n&&(n="\n");var u=0,d=!1;this.parse=function(i,p,f){if("string"!=typeof i)throw new Error("Input must be a string");var h=i.length,g=r.length,v=n.length,y=a.length,b=_(o),w=[],E=[],x=[],O=u=0;if(!i)return W();if(e.header&&!p){var C=i.split(n)[0].split(r),k=[],S={},R=!1;for(var j in C){var P=C[j];_(e.transformHeader)&&(P=e.transformHeader(P,j));var D=P,T=S[P]||0;for(0<T&&(R=!0,D=P+"_"+T),S[P]=T+1;k.includes(D);)D=D+"_"+T;k.push(D)}if(R){var F=i.split(n);F[0]=k.join(r),i=F.join(n)}}if(c||!1!==c&&-1===i.indexOf(t)){for(var A=i.split(n),I=0;I<A.length;I++){if(x=A[I],u+=x.length,I!==A.length-1)u+=n.length;else if(f)return W();if(!a||x.substring(0,y)!==a){if(b){if(w=[],$(x.split(r)),Q(),d)return W()}else $(x.split(r));if(l&&l<=I)return w=w.slice(0,l),W(!0)}}return W()}for(var N=i.indexOf(r,u),M=i.indexOf(n,u),B=new RegExp(m(s)+m(t),"g"),L=i.indexOf(t,u);;)if(i[u]!==t)if(a&&0===x.length&&i.substring(u,u+y)===a){if(-1===M)return W();u=M+v,M=i.indexOf(n,u),N=i.indexOf(r,u)}else if(-1!==N&&(N<M||-1===M))x.push(i.substring(u,N)),u=N+g,N=i.indexOf(r,u);else{if(-1===M)break;if(x.push(i.substring(u,M)),U(M+v),b&&(Q(),d))return W();if(l&&w.length>=l)return W(!0)}else for(L=u,u++;;){if(-1===(L=i.indexOf(t,L+1)))return f||E.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:w.length,index:u}),V();if(L===h-1)return V(i.substring(u,L).replace(B,t));if(t!==s||i[L+1]!==s){if(t===s||0===L||i[L-1]!==s){-1!==N&&N<L+1&&(N=i.indexOf(r,L+1)),-1!==M&&M<L+1&&(M=i.indexOf(n,L+1));var z=q(-1===M?N:Math.min(N,M));if(i.substr(L+1+z,g)===r){x.push(i.substring(u,L).replace(B,t)),i[u=L+1+z+g]!==t&&(L=i.indexOf(t,u)),N=i.indexOf(r,u),M=i.indexOf(n,u);break}var H=q(M);if(i.substring(L+1+H,L+1+H+v)===n){if(x.push(i.substring(u,L).replace(B,t)),U(L+1+H+v),N=i.indexOf(r,u),L=i.indexOf(t,u),b&&(Q(),d))return W();if(l&&w.length>=l)return W(!0);break}E.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:w.length,index:u}),L++}}else L++}return V();function $(e){w.push(e),O=u}function q(e){var t=0;if(-1!==e){var r=i.substring(L+1,e);r&&""===r.trim()&&(t=r.length)}return t}function V(e){return f||(void 0===e&&(e=i.substring(u)),x.push(e),u=h,$(x),b&&Q()),W()}function U(e){u=e,$(x),x=[],M=i.indexOf(n,u)}function W(e){return{data:w,errors:E,meta:{delimiter:r,linebreak:n,aborted:d,truncated:!!e,cursor:O+(p||0)}}}function Q(){o(W()),w=[],E=[]}},this.abort=function(){d=!0},this.getCharIndex=function(){return u}}function g(e){var t=e.data,r=a[t.workerId],n=!1;if(t.error)r.userError(t.error,t.file);else if(t.results&&t.results.data){var o={abort:function(){n=!0,v(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(_(r.userStep)){for(var i=0;i<t.results.data.length&&(r.userStep({data:t.results.data[i],errors:t.results.errors,meta:t.results.meta},o),!n);i++);delete t.results}else _(r.userChunk)&&(r.userChunk(t.results,o,t.file),delete t.results)}t.finished&&!n&&v(t.workerId,t.results)}function v(e,t){var r=a[e];_(r.userComplete)&&r.userComplete(t),r.terminate(),delete a[e]}function y(){throw new Error("Not implemented.")}function b(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var r in e)t[r]=b(e[r]);return t}function w(e,t){return function(){e.apply(t,arguments)}}function _(e){return"function"==typeof e}return n&&(t.onmessage=function(e){var r=e.data;if(void 0===i.WORKER_ID&&r&&(i.WORKER_ID=r.workerId),"string"==typeof r.input)t.postMessage({workerId:i.WORKER_ID,results:i.parse(r.input,r.config),finished:!0});else if(t.File&&r.input instanceof File||r.input instanceof Object){var n=i.parse(r.input,r.config);n&&t.postMessage({workerId:i.WORKER_ID,results:n,finished:!0})}}),(s.prototype=Object.create(c.prototype)).constructor=s,(u.prototype=Object.create(c.prototype)).constructor=u,(d.prototype=Object.create(d.prototype)).constructor=d,(p.prototype=Object.create(c.prototype)).constructor=p,i},void 0===(n=r.apply(t,[]))||(e.exports=n)},742:e=>{e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,r=[],n=0;n<e.rangeCount;n++)r.push(e.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||r.forEach((function(t){e.addRange(t)})),t&&t.focus()}}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};r.r(e),r.d(e,{apiFetch:()=>yr.apiFetch,beforeDeleteRecord:()=>xr,setPartialRecords:()=>br,setRecord:()=>_r,setRecordOverview:()=>Cr,setRecords:()=>wr,setSchema:()=>Er,setTabContent:()=>Or});var t={};r.r(t),r.d(t,{getQuerySummary:()=>Nr,getQueryTotal:()=>Ir,getRecord:()=>Br,getRecordIDs:()=>Ar,getRecordOverview:()=>Hr,getRecords:()=>Mr,getSchema:()=>Lr,getTabContent:()=>zr});const n=window.wp.element,a=window.wp.domReady;var o=r.n(a);const i=window.wp.url;function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const u=window.wp.components,d=window.wp.i18n,p=window.React;function f(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}f({},"ErrorBoundary",(()=>g)),f({},"ErrorBoundaryContext",(()=>m));const m=(0,p.createContext)(null),h={didCatch:!1,error:null};class g extends p.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=h}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(...e){const{error:t}=this.state;null!==t&&(this.props.onReset?.({args:e,reason:"imperative-api"}),this.setState(h))}componentDidCatch(e,t){this.props.onError?.(e,t)}componentDidUpdate(e,t){const{didCatch:r}=this.state,{resetKeys:n}=this.props;r&&null!==t.error&&function(e=[],t=[]){return e.length!==t.length||e.some(((e,r)=>!Object.is(e,t[r])))}(e.resetKeys,n)&&(this.props.onReset?.({next:n,prev:e.resetKeys,reason:"keys"}),this.setState(h))}render(){const{children:e,fallbackRender:t,FallbackComponent:r,fallback:n}=this.props,{didCatch:a,error:o}=this.state;let i=e;if(a){const e={error:o,resetErrorBoundary:this.resetErrorBoundary};if((0,p.isValidElement)(n))i=n;else if("function"==typeof t)i=t(e);else{if(!r)throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop");i=(0,p.createElement)(r,e)}}return(0,p.createElement)(m.Provider,{value:{didCatch:a,error:o,resetErrorBoundary:this.resetErrorBoundary}},i)}}function v(){const e=(0,p.useContext)(m);!function(e){if(null==e||"boolean"!=typeof e.didCatch||"function"!=typeof e.resetErrorBoundary)throw new Error("ErrorBoundaryContext not found")}(e);const[t,r]=(0,p.useState)({error:null,hasError:!1}),n=(0,p.useMemo)((()=>({resetBoundary:()=>{e?.resetErrorBoundary(),r({error:null,hasError:!1})},showBoundary:e=>r({error:e,hasError:!0})})),[e?.resetErrorBoundary]);if(t.hasError)throw t.error;return n}function y(e,t){const r=(0,p.forwardRef)(((r,n)=>(0,p.createElement)(g,t,(0,p.createElement)(e,{...r,ref:n})))),n=e.displayName||e.name||"Unknown";return r.displayName=`withErrorBoundary(${n})`,r}function b(e){var t=e.error;return(0,n.createElement)(u.Notice,{status:"error",isDismissible:!1},(0,n.createElement)("strong",null,(0,d.__)("Error:","newsletter-optin-box"))," ",t.message)}function w(e){var t=e.children;return(0,n.createElement)(g,{FallbackComponent:b},t)}function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_.apply(this,arguments)}function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function x(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===E(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}f({},"useErrorBoundary",(()=>v)),f({},"withErrorBoundary",(()=>y));const O=(0,n.forwardRef)((function(e,t){var r=e.actions,a=e.className,o=e.title,i=e.menu,l=e.children;return(0,n.createElement)(u.Card,{className:a,ref:t},(0,n.createElement)(u.CardHeader,null,(0,n.createElement)(u.Flex,{justify:"start",wrap:!0},(0,n.createElement)(u.FlexItem,null,(0,n.createElement)(u.__experimentalText,{size:16,weight:600,as:"h2",color:"#23282d"},o)),r&&(0,n.createElement)(u.FlexItem,{className:"noptin-screen__actions"}," ",r," ")),i&&i),l)}));function C(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function k(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var S=r(184),R=r.n(S);const j=window.lodash,P=window.wp.primitives,D=(0,n.createElement)(P.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(P.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"}));var T=["children"];const F=function(e){var t=e.children,r=C(e,T);return(0,n.createElement)(u.DropdownMenu,_({icon:D},r),(function(e){var r=e.onClose;return(0,n.createElement)(n.Fragment,null,t&&t(r))}))},A=function(e){let{icon:t,size:r=24,...a}=e;return(0,n.cloneElement)(t,{width:r,height:r,...a})},I=(0,n.createElement)(P.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(P.Path,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"})),N=(0,n.createElement)(P.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(P.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"}));var M=[25,50,75,100];function B(e){var t=e.page,r=e.pageCount,a=e.onPageChange;if(r<=1)return null;var o=t>1,i=t-1,l=t<r,c=t+1;return(0,n.createElement)(u.FlexItem,{className:"noptin-pagination__page-arrows"},(0,n.createElement)(u.Flex,{wrap:!0,gap:2,align:"center",justify:"center"},(0,n.createElement)(u.FlexItem,{role:"status","aria-live":"polite"},(0,d.sprintf)((0,d.__)("Page %d of %d","newsletter-optin-box"),t,r)),(0,n.createElement)(u.FlexItem,{className:"noptin-pagination__page-arrows-buttons"},(0,n.createElement)(u.ButtonGroup,null,(0,n.createElement)(u.Button,{disabled:!o,onClick:function(){return a(i)},label:(0,d.__)("Previous Page","newsletter-optin-box")},(0,n.createElement)(A,{icon:I})),(0,n.createElement)(u.Button,{disabled:!l,onClick:function(){return a(c)},label:(0,d.__)("Next Page","newsletter-optin-box")},(0,n.createElement)(A,{icon:N}))))))}function L(e){var t=e.perPage,r=e.onChange,a=M.map((function(e){return{value:e,label:e}}));return(0,n.createElement)(u.FlexItem,{className:"noptin-pagination__per-page-picker"},(0,n.createElement)(u.SelectControl,{label:(0,d.__)("Rows per page","newsletter-optin-box"),labelPosition:"side",value:t,onChange:r,options:a,__nextHasNoMarginBottom:!0,__next36pxDefaultSize:!0}))}function z(e){var t=e.query,r=e.onQueryChange,a=e.total,o=e.className,i=e.showPerPagePicker,l=void 0===i||i;if(!a)return null;var c=t.paged?parseInt(t.paged,10):1,s=t.per_page?parseInt(t.per_page,10):25,d=Math.ceil(a/s),p=R()("noptin-pagination",o);function f(e){var t=parseInt(e,10);r({per_page:t||1});var n=t?Math.ceil(a/t):a;c>n&&r({paged:n})}return d<=1?a>M[0]&&(0,n.createElement)(u.Flex,{className:p,wrap:!0,gap:4,align:"center",justify:"center"},(0,n.createElement)(L,{perPage:s,onChange:f}))||null:(0,n.createElement)(u.Flex,{className:p,wrap:!0,gap:2,align:"center",justify:"center"},(0,n.createElement)(B,{page:c,pageCount:d,onPageChange:function(e){var t=parseInt(e,10);!t||t<1?t=1:t>d&&(t=d),r({paged:t})}}),l&&(0,n.createElement)(L,{perPage:s,onChange:f}))}function H(e){var t=Object.create(null);return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}var $=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;const q=H((function(e){return $.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var V=function(){function e(e){var t=this;this._insertTag=function(e){var r;r=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,r),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{r.insertRule(e,r.cssRules.length)}catch(e){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),U=Math.abs,W=String.fromCharCode,Q=Object.assign;function K(e){return e.trim()}function G(e,t,r){return e.replace(t,r)}function Y(e,t){return e.indexOf(t)}function X(e,t){return 0|e.charCodeAt(t)}function Z(e,t,r){return e.slice(t,r)}function J(e){return e.length}function ee(e){return e.length}function te(e,t){return t.push(e),e}var re=1,ne=1,ae=0,oe=0,ie=0,le="";function ce(e,t,r,n,a,o,i){return{value:e,root:t,parent:r,type:n,props:a,children:o,line:re,column:ne,length:i,return:""}}function se(e,t){return Q(ce("",null,null,"",null,null,0),e,{length:-e.length},t)}function ue(){return ie=oe>0?X(le,--oe):0,ne--,10===ie&&(ne=1,re--),ie}function de(){return ie=oe<ae?X(le,oe++):0,ne++,10===ie&&(ne=1,re++),ie}function pe(){return X(le,oe)}function fe(){return oe}function me(e,t){return Z(le,e,t)}function he(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ge(e){return re=ne=1,ae=J(le=e),oe=0,[]}function ve(e){return le="",e}function ye(e){return K(me(oe-1,_e(91===e?e+2:40===e?e+1:e)))}function be(e){for(;(ie=pe())&&ie<33;)de();return he(e)>2||he(ie)>3?"":" "}function we(e,t){for(;--t&&de()&&!(ie<48||ie>102||ie>57&&ie<65||ie>70&&ie<97););return me(e,fe()+(t<6&&32==pe()&&32==de()))}function _e(e){for(;de();)switch(ie){case e:return oe;case 34:case 39:34!==e&&39!==e&&_e(ie);break;case 40:41===e&&_e(e);break;case 92:de()}return oe}function Ee(e,t){for(;de()&&e+ie!==57&&(e+ie!==84||47!==pe()););return"/*"+me(t,oe-1)+"*"+W(47===e?e:de())}function xe(e){for(;!he(pe());)de();return me(e,oe)}var Oe="-ms-",Ce="-moz-",ke="-webkit-",Se="comm",Re="rule",je="decl",Pe="@keyframes";function De(e,t){for(var r="",n=ee(e),a=0;a<n;a++)r+=t(e[a],a,e,t)||"";return r}function Te(e,t,r,n){switch(e.type){case"@import":case je:return e.return=e.return||e.value;case Se:return"";case Pe:return e.return=e.value+"{"+De(e.children,n)+"}";case Re:e.value=e.props.join(",")}return J(r=De(e.children,n))?e.return=e.value+"{"+r+"}":""}function Fe(e){return ve(Ae("",null,null,null,[""],e=ge(e),0,[0],e))}function Ae(e,t,r,n,a,o,i,l,c){for(var s=0,u=0,d=i,p=0,f=0,m=0,h=1,g=1,v=1,y=0,b="",w=a,_=o,E=n,x=b;g;)switch(m=y,y=de()){case 40:if(108!=m&&58==X(x,d-1)){-1!=Y(x+=G(ye(y),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:x+=ye(y);break;case 9:case 10:case 13:case 32:x+=be(m);break;case 92:x+=we(fe()-1,7);continue;case 47:switch(pe()){case 42:case 47:te(Ne(Ee(de(),fe()),t,r),c);break;default:x+="/"}break;case 123*h:l[s++]=J(x)*v;case 125*h:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:-1==v&&(x=G(x,/\f/g,"")),f>0&&J(x)-d&&te(f>32?Me(x+";",n,r,d-1):Me(G(x," ","")+";",n,r,d-2),c);break;case 59:x+=";";default:if(te(E=Ie(x,t,r,s,u,a,l,b,w=[],_=[],d),o),123===y)if(0===u)Ae(x,t,E,E,w,o,d,l,_);else switch(99===p&&110===X(x,3)?100:p){case 100:case 109:case 115:Ae(e,E,E,n&&te(Ie(e,E,E,0,0,a,l,b,a,w=[],d),_),a,_,d,l,n?w:_);break;default:Ae(x,E,E,E,[""],_,0,l,_)}}s=u=f=0,h=v=1,b=x="",d=i;break;case 58:d=1+J(x),f=m;default:if(h<1)if(123==y)--h;else if(125==y&&0==h++&&125==ue())continue;switch(x+=W(y),y*h){case 38:v=u>0?1:(x+="\f",-1);break;case 44:l[s++]=(J(x)-1)*v,v=1;break;case 64:45===pe()&&(x+=ye(de())),p=pe(),u=d=J(b=x+=xe(fe())),y++;break;case 45:45===m&&2==J(x)&&(h=0)}}return o}function Ie(e,t,r,n,a,o,i,l,c,s,u){for(var d=a-1,p=0===a?o:[""],f=ee(p),m=0,h=0,g=0;m<n;++m)for(var v=0,y=Z(e,d+1,d=U(h=i[m])),b=e;v<f;++v)(b=K(h>0?p[v]+" "+y:G(y,/&\f/g,p[v])))&&(c[g++]=b);return ce(e,t,r,0===a?Re:l,c,s,u)}function Ne(e,t,r){return ce(e,t,r,Se,W(ie),Z(e,2,-2),0)}function Me(e,t,r,n){return ce(e,t,r,je,Z(e,0,n),Z(e,n+1,-1),n)}var Be=function(e,t,r){for(var n=0,a=0;n=a,a=pe(),38===n&&12===a&&(t[r]=1),!he(a);)de();return me(e,oe)},Le=new WeakMap,ze=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,r=e.parent,n=e.column===r.column&&e.line===r.line;"rule"!==r.type;)if(!(r=r.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Le.get(r))&&!n){Le.set(e,!0);for(var a=[],o=function(e,t){return ve(function(e,t){var r=-1,n=44;do{switch(he(n)){case 0:38===n&&12===pe()&&(t[r]=1),e[r]+=Be(oe-1,t,r);break;case 2:e[r]+=ye(n);break;case 4:if(44===n){e[++r]=58===pe()?"&\f":"",t[r]=e[r].length;break}default:e[r]+=W(n)}}while(n=de());return e}(ge(e),t))}(t,a),i=r.props,l=0,c=0;l<o.length;l++)for(var s=0;s<i.length;s++,c++)e.props[c]=a[l]?o[l].replace(/&\f/g,i[s]):i[s]+" "+o[l]}}},He=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function $e(e,t){switch(function(e,t){return 45^X(e,0)?(((t<<2^X(e,0))<<2^X(e,1))<<2^X(e,2))<<2^X(e,3):0}(e,t)){case 5103:return ke+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ke+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ke+e+Ce+e+Oe+e+e;case 6828:case 4268:return ke+e+Oe+e+e;case 6165:return ke+e+Oe+"flex-"+e+e;case 5187:return ke+e+G(e,/(\w+).+(:[^]+)/,ke+"box-$1$2"+Oe+"flex-$1$2")+e;case 5443:return ke+e+Oe+"flex-item-"+G(e,/flex-|-self/,"")+e;case 4675:return ke+e+Oe+"flex-line-pack"+G(e,/align-content|flex-|-self/,"")+e;case 5548:return ke+e+Oe+G(e,"shrink","negative")+e;case 5292:return ke+e+Oe+G(e,"basis","preferred-size")+e;case 6060:return ke+"box-"+G(e,"-grow","")+ke+e+Oe+G(e,"grow","positive")+e;case 4554:return ke+G(e,/([^-])(transform)/g,"$1"+ke+"$2")+e;case 6187:return G(G(G(e,/(zoom-|grab)/,ke+"$1"),/(image-set)/,ke+"$1"),e,"")+e;case 5495:case 3959:return G(e,/(image-set\([^]*)/,ke+"$1$`$1");case 4968:return G(G(e,/(.+:)(flex-)?(.*)/,ke+"box-pack:$3"+Oe+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ke+e+e;case 4095:case 3583:case 4068:case 2532:return G(e,/(.+)-inline(.+)/,ke+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(J(e)-1-t>6)switch(X(e,t+1)){case 109:if(45!==X(e,t+4))break;case 102:return G(e,/(.+:)(.+)-([^]+)/,"$1"+ke+"$2-$3$1"+Ce+(108==X(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Y(e,"stretch")?$e(G(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==X(e,t+1))break;case 6444:switch(X(e,J(e)-3-(~Y(e,"!important")&&10))){case 107:return G(e,":",":"+ke)+e;case 101:return G(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ke+(45===X(e,14)?"inline-":"")+"box$3$1"+ke+"$2$3$1"+Oe+"$2box$3")+e}break;case 5936:switch(X(e,t+11)){case 114:return ke+e+Oe+G(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ke+e+Oe+G(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ke+e+Oe+G(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ke+e+Oe+e+e}return e}var qe=[function(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case je:e.return=$e(e.value,e.length);break;case Pe:return De([se(e,{value:G(e.value,"@","@"+ke)})],n);case Re:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=/(::plac\w+|:read-\w+)/.exec(e))?e[0]:e}(t)){case":read-only":case":read-write":return De([se(e,{props:[G(t,/:(read-\w+)/,":"+Ce+"$1")]})],n);case"::placeholder":return De([se(e,{props:[G(t,/:(plac\w+)/,":"+ke+"input-$1")]}),se(e,{props:[G(t,/:(plac\w+)/,":"+Ce+"$1")]}),se(e,{props:[G(t,/:(plac\w+)/,Oe+"input-$1")]})],n)}return""}))}}];const Ve=function(e){var t=e.key;if("css"===t){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var n,a,o=e.stylisPlugins||qe,i={},l=[];n=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),r=1;r<t.length;r++)i[t[r]]=!0;l.push(e)}));var c,s,u=[Te,(s=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&s(e)})],d=function(e){var t=ee(e);return function(r,n,a,o){for(var i="",l=0;l<t;l++)i+=e[l](r,n,a,o)||"";return i}}([ze,He].concat(o,u));a=function(e,t,r,n){c=r,De(Fe(e?e+"{"+t.styles+"}":t.styles),d),n&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new V({key:t,container:n,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:a};return p.sheet.hydrate(l),p};var Ue={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},We=/[A-Z]|^ms/g,Qe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Ke=function(e){return 45===e.charCodeAt(1)},Ge=function(e){return null!=e&&"boolean"!=typeof e},Ye=H((function(e){return Ke(e)?e:e.replace(We,"-$&").toLowerCase()})),Xe=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(Qe,(function(e,t,r){return Je={name:t,styles:r,next:Je},t}))}return 1===Ue[e]||Ke(e)||"number"!=typeof t||0===t?t:t+"px"};function Ze(e,t,r){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return Je={name:r.name,styles:r.styles,next:Je},r.name;if(void 0!==r.styles){var n=r.next;if(void 0!==n)for(;void 0!==n;)Je={name:n.name,styles:n.styles,next:Je},n=n.next;return r.styles+";"}return function(e,t,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=Ze(e,t,r[a])+";";else for(var o in r){var i=r[o];if("object"!=typeof i)null!=t&&void 0!==t[i]?n+=o+"{"+t[i]+"}":Ge(i)&&(n+=Ye(o)+":"+Xe(o,i)+";");else if(!Array.isArray(i)||"string"!=typeof i[0]||null!=t&&void 0!==t[i[0]]){var l=Ze(e,t,i);switch(o){case"animation":case"animationName":n+=Ye(o)+":"+l+";";break;default:n+=o+"{"+l+"}"}}else for(var c=0;c<i.length;c++)Ge(i[c])&&(n+=Ye(o)+":"+Xe(o,i[c])+";")}return n}(e,t,r);case"function":if(void 0!==e){var a=Je,o=r(e);return Je=a,Ze(e,t,o)}}if(null==t)return r;var i=t[r];return void 0!==i?i:r}var Je,et=/label:\s*([^\s;\n{]+)\s*(;|$)/g,tt=function(e,t,r){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,a="";Je=void 0;var o=e[0];null==o||void 0===o.raw?(n=!1,a+=Ze(r,t,o)):a+=o[0];for(var i=1;i<e.length;i++)a+=Ze(r,t,e[i]),n&&(a+=o[i]);et.lastIndex=0;for(var l,c="";null!==(l=et.exec(a));)c+="-"+l[1];var s=function(e){for(var t,r=0,n=0,a=e.length;a>=4;++n,a-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(a){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)}(a)+c;return{name:s,styles:a,next:Je}},rt=!!p.useInsertionEffect&&p.useInsertionEffect||function(e){return e()},nt=(0,p.createContext)("undefined"!=typeof HTMLElement?Ve({key:"css"}):null);nt.Provider;var at=(0,p.createContext)({}),ot=function(e,t,r){var n=e.key+"-"+t.name;!1===r&&void 0===e.registered[n]&&(e.registered[n]=t.styles)},it=q,lt=function(e){return"theme"!==e},ct=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?it:lt},st=function(e,t,r){var n;if(t){var a=t.shouldForwardProp;n=e.__emotion_forwardProp&&a?function(t){return e.__emotion_forwardProp(t)&&a(t)}:a}return"function"!=typeof n&&r&&(n=e.__emotion_forwardProp),n},ut=function(e){var t=e.cache,r=e.serialized,n=e.isStringTag;return ot(t,r,n),rt((function(){return function(e,t,r){ot(e,t,r);var n=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+n:"",a,e.sheet,!0),a=a.next}while(void 0!==a)}}(t,r,n)})),null};const dt=function e(t,r){var n,a,o=t.__emotion_real===t,i=o&&t.__emotion_base||t;void 0!==r&&(n=r.label,a=r.target);var l=st(t,r,o),c=l||ct(i),s=!c("as");return function(){var u=arguments,d=o&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==n&&d.push("label:"+n+";"),null==u[0]||void 0===u[0].raw)d.push.apply(d,u);else{d.push(u[0][0]);for(var f=u.length,m=1;m<f;m++)d.push(u[m],u[0][m])}var h,g=(h=function(e,t,r){var n,o,u,f,m=s&&e.as||i,h="",g=[],v=e;if(null==e.theme){for(var y in v={},e)v[y]=e[y];v.theme=(0,p.useContext)(at)}"string"==typeof e.className?(n=t.registered,o=g,u=e.className,f="",u.split(" ").forEach((function(e){void 0!==n[e]?o.push(n[e]+";"):f+=e+" "})),h=f):null!=e.className&&(h=e.className+" ");var b=tt(d.concat(g),t.registered,v);h+=t.key+"-"+b.name,void 0!==a&&(h+=" "+a);var w=s&&void 0===l?ct(m):c,_={};for(var E in e)s&&"as"===E||w(E)&&(_[E]=e[E]);return _.className=h,_.ref=r,(0,p.createElement)(p.Fragment,null,(0,p.createElement)(ut,{cache:t,serialized:b,isStringTag:"string"==typeof m}),(0,p.createElement)(m,_))},(0,p.forwardRef)((function(e,t){var r=(0,p.useContext)(nt);return h(e,r,t)})));return g.displayName=void 0!==n?n:"Styled("+("string"==typeof i?i:i.displayName||i.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=d,g.__emotion_forwardProp=l,Object.defineProperty(g,"toString",{value:function(){return"."+a}}),g.withComponent=function(t,n){return e(t,_({},r,n,{shouldForwardProp:st(g,n,!0)})).apply(void 0,d)},g}};function pt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return tt(t)}r(679);var ft="#e2e4e7",mt=dt("div",{target:"er8lhlf18"})("border:1px solid ",ft,";"),ht=dt("div",{target:"er8lhlf17"})({name:"1uiai01",styles:"min-height:100vh"}),gt={name:"d3qjqk",styles:"margin-bottom:1.6rem"},vt=dt("span",{target:"er8lhlf16"})({name:"15xjqx9",styles:"color:#13881e;font-size:12px;display:inline-block;z-index:1;animation:hizzle-slideUp 1s linear;@keyframes hizzle-slideUp{0%{opacity:0;transform:translateY( 10px );}50%{opacity:1;transform:translateY( -10px );}100%{opacity:0;transform:translateY( -20px );}}"}),yt=dt(u.Button,{shouldForwardProp:function(e){return!["maxWidth","__withNoMargin"].includes(e)},target:"er8lhlf15"})("width:100%;justify-content:center;font-size:14px;min-height:50px;margin:",(function(e){return e.__withNoMargin?"0":"1.6rem 0"}),";max-width:",(function(e){return e.maxWidth?e.maxWidth:"100%"}),";"),bt=dt("div",{target:"er8lhlf14"})("background-color:#cbeeff;padding:1rem;border-radius:4px;display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100px;box-shadow:0 1px 3px rgba(0,0,0,0.12),0 1px 2px rgba(0,0,0,0.24);& p{font-size:14px;color:#001012;}& .components-button{margin-left:4px;}",gt,";"),wt=dt("div",{target:"er8lhlf13"})({name:"1e68saw",styles:"border-left:4px solid #cc1818;margin:5px 15px 2px 0;padding:16px 12px;background-color:#f8cbcb"}),_t=dt(u.__experimentalText,{target:"er8lhlf12"})({name:"drpcj0",styles:"margin-bottom:1.6rem;font-weight:600;font-size:20px"}),Et=dt(u.__experimentalText,{target:"er8lhlf11"})({name:"myqg3b",styles:"font-weight:600;font-size:16px;color:currentColor"}),xt=dt("div",{target:"er8lhlf10"})({name:"lqcu9l",styles:"width:100%;height:20px;background:#eee;margin:1.6rem 0;border-radius:0.25rem;max-width:600px;overflow:hidden"}),Ot=function(e){var t=e.total,r=e.processed;return pt("width:",t===r?"100%":r?"".concat(r/t*100,"%"):"1%",";","")},Ct=dt("div",{target:"er8lhlf9"})(Ot,";height:100%;transition:width 3s ease-in-out;animation:position 3s linear infinite;position:relative;border-radius:0.25rem;@keyframes position{0%{left:0;right:100%;background:#72aee6;}100%{right:0;left:100%;background:#007cba;}}"),kt=function(e){var t=e.total,r=e.processed;return(0,n.createElement)(xt,null,(0,n.createElement)(Ct,{total:t,processed:r}))},St=dt("img",{target:"er8lhlf8"})({name:"11l2wec",styles:"height:32px;width:32px;max-width:32px;overflow:hidden;border-radius:50%;box-shadow:2px 2px 2px rgb(0 0 0 / 5%);background-color:currentColor"}),Rt=dt(u.TabPanel,{target:"er8lhlf7"})({name:"1j6zybg",styles:"&>.components-tab-panel__tabs{border:1px solid #9E9E9E;background-color:#fff;margin-bottom:1rem;}"}),jt=function(e){var t=e.height,r=e.width,n=e.maxWidth;return pt("height:",t=t||"16px",";width:",r=r||"80%",";max-width:",n=n||"120px",";","")},Pt=dt("div",{target:"er8lhlf6"})(jt,";display:inline-block;min-height:1em;vertical-align:middle;cursor:wait;background-color:currentColor;opacity:.5;animation:placeholder-glow 2s ease-in-out infinite;@keyframes placeholder-glow{50%{opacity:.2;}}"),Dt=dt("div",{target:"er8lhlf5"})({name:"kl0c99",styles:"overflow-x:auto;&>table{width:100%;border-collapse:collapse;}"}),Tt=dt("tr",{target:"er8lhlf4"})({name:"o3suck",styles:"background-color:transparent;&:hover,&:focus-within,&:hover td,&:hover th{background-color:#f8f9fa;}&:last-child td,&:last-child th:not(.noptin-table__header){border-bottom:0;}"}),Ft=function(e){var t=e.align,r=void 0===t?"left":t,n=e.minWidth,a=void 0===n?"160px":n;a=a||"auto";var o="center"===(r=r||"left")?"center":"space-between",i="";return e.isSorted&&(i="\n\t\t\tbackground-color: #f8f9fa;\n\t\t\t&:not(:first-child) {\n\t\t\t\tborder-left: 1px solid ".concat(ft,";\n\t\t\t}\n\t\t\t&:not(:last-child) {\n\t\t\t\tborder-right: 1px solid ").concat(ft,";\n\t\t\t}\n\t\t")),pt("text-align:",r,";min-width:",a,";",i," &>.components-button{justify-content:",o,";}&>a:only-child{display:block;}","")},At=dt("th",{target:"er8lhlf3"})("padding:16px;background-color:#f8f9fa;font-weight:bold;white-space:nowrap;",Ft,";border-bottom:1px solid ",ft,";&>.components-button{height:auto;width:100%;text-align:left;vertical-align:middle;line-height:1;font-weight:bold;background:transparent!important;box-shadow:none!important;padding:0;}&>.components-button svg{visibility:hidden;margin-left:4px;}&.is-sorted>.components-button svg &>.components-button:hover svg &>.components-button:hover svg{visibility:visible;}"),It=dt("td",{target:"er8lhlf2"})("padding:16px;border-bottom:1px solid ",ft,";font-weight:normal;",Ft,";"),Nt=dt("td",{target:"er8lhlf1"})({name:"17w81qe",styles:"text-align:left;color:#757575;font-weight:bold;padding:16px 24px;@media (min-width: 782px){padding:2rem;font-size:1.125rem;}"}),Mt=dt("ul",{target:"er8lhlf0"})({name:"t5eiud",styles:"text-align:center;margin:0;&>li{display:inline-block;margin-bottom:0;margin-left:8px;margin-right:8px;}&>li>strong{margin-right:4px;display:inline-block;}"});const Bt=(0,n.createElement)(P.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)(P.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})),Lt=(0,n.createElement)(P.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)(P.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"}));function zt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ht(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $t=function(e,t){return e||t?"center"===e||t?{align:"center"}:{align:e}:{}};const qt=(0,n.memo)((function(e){var t=e.columnKey,r=e.columnLabel,a=e.screenReaderLabel,o=e.cellClassName,i=e.minWidth,l=e.display,c=e.align,s=e.isSortable,p=e.isNumeric,f=e.isSorted,m=e.sortDir,h=e.setSortBy,g=$t(c,p),v=Ht(Ht({className:R()("noptin-table__header",o)},g),{},{minWidth:i||void 0});s&&(v["aria-sort"]="none",f&&(v["aria-sort"]="asc"===m?"ascending":"descending"));var y="asc"!==m?(0,d.sprintf)((0,d.__)("Sort by %s in ascending order","newsletter-optin-box"),a||r):(0,d.sprintf)((0,d.__)("Sort by %s in descending order","newsletter-optin-box"),a||r),b=(0,n.createElement)(n.Fragment,null,(0,n.createElement)("span",{"aria-hidden":Boolean(a)},l||r),a&&(0,n.createElement)("span",{className:"screen-reader-text"},a)),w=(0,n.createElement)(A,{icon:"asc"!==m?Bt:Lt});return(0,n.createElement)(At,_({role:"columnheader",scope:"col",key:t,isSorted:f},v),s?(0,n.createElement)(u.Button,{onClick:function(){return h(t)},label:y,showTooltip:!0},"right"===g.align&&w,(0,n.createElement)("span",null," ",b," "),"right"!==g.align&&w):b)}));function Vt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ut(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Wt=(0,n.memo)((function(e){var t=e.row,r=e.header,a=e.DisplayCell,o=e.cellClassName,i=e.headerKey,l=e.isSorted,c=r.is_primary?It.withComponent("th",{target:"e1sk0yph0"}):It,s=Ut(Ut({className:R()("noptin-table__col",o)},$t(r.align,r.isNumeric)),{},{minWidth:r.minWidth||void 0});return(0,n.createElement)(c,_({scope:r.is_primary?"row":void 0,isSorted:l},s),a&&(0,n.createElement)(a,{row:t,header:r,headerKey:i}))}));var Qt=["key","label","isSortable"],Kt=["key"],Gt=["query","headers","rows","caption","emptyMessage","onQueryChange","DisplayCell","canSelectRows","selected","setSelected","idProp"],Yt="desc",Xt=function(e,t,r){return r&&e[r]?e[r]:e.id?e.id:e.key?e.key:t},Zt=function(e){var t=e.headers,r=e.hasData,a=e.sortBy,o=e.sortDir,i=e.onQueryChange,l=e.rows,c=e.idProp,s=e.canSelectRows,p=e.selected,f=e.setSelected,m=(0,n.useMemo)((function(){return l.map((function(e,t){return Xt(e,t,c)}))}),[l,c]),h=p.length>0&&p.length===m.length,g=(0,n.useCallback)((function(e){i(e===a?{order:"asc"===o?Yt:"asc"}:{orderby:e})}),[a,o,i]),v=(0,n.useMemo)((function(){return s?(0,n.createElement)(qt,{columnLabel:(0,d.__)("Toggle selection","newsletter-optin-box"),columnKey:"cb",align:"center",minWidth:"20px",display:(0,n.createElement)(u.CheckboxControl,{checked:h,onChange:function(){return f(h?[]:m)},__nextHasNoMarginBottom:!0}),cellClassName:"noptin-table-column__cb"}):null}),[s,h,m]),y=(0,n.useMemo)((function(){return t.map((function(e){var t=e.key,i=e.label,l=e.isSortable,c=C(e,Qt);return(0,n.createElement)(qt,_({key:t,columnLabel:i,columnKey:t,isSortable:l&&r,isSorted:a===t,sortDir:o,setSortBy:g,cellClassName:"noptin-table-column__"+t.replace(/_/g,"-")},c))}))}),[t,r,a,o,g]);return(0,n.createElement)("thead",null,(0,n.createElement)(Tt,{className:"noptin-table__row"},v,y))},Jt=function(e){var t=e.sortBy,r=e.headers,a=e.DisplayCell,o=e.canSelectRows,i=e.selected,l=e.setSelected,c=e.row,s=e.id,d=(0,n.useMemo)((function(){return o?(0,n.createElement)(Wt,{headerKey:"cb",row:c,header:{key:"cb",align:"center",minWidth:"20px"},cellClassName:"noptin-table__col-cb",DisplayCell:function(){return(0,n.createElement)(u.CheckboxControl,{checked:i.includes(s),onChange:function(){i.includes(s)?l(i.filter((function(e){return e!==s}))):l([].concat(k(i),[s]))},__nextHasNoMarginBottom:!0})}}):null}),[o,i,l,s]),p=(0,n.useMemo)((function(){return r.map((function(e){var r=e.key,o=C(e,Kt);return(0,n.createElement)(Wt,{key:"".concat(s,"__").concat(r),headerKey:r,row:c,header:o,isSorted:t===r,cellClassName:"noptin-table__col-"+(null==r?void 0:r.replace(/_/g,"-")),DisplayCell:a})}))}),[r,c,t,a,s]);return(0,n.createElement)(Tt,{className:"noptin-table__row"},d,p)};const er=function(e){var t=e.query,r=e.headers,a=void 0===r?[]:r,o=e.rows,i=void 0===o?[]:o,l=e.caption,c=e.emptyMessage,s=e.onQueryChange,u=e.DisplayCell,p=e.canSelectRows,f=e.selected,m=void 0===f?[]:f,h=e.setSelected,g=void 0===h?function(){}:h,v=e.idProp,y=void 0===v?"id":v,b=C(e,Gt),w=t.orderby||"id",E=t.order||Yt,x=!!i.length;return(0,n.createElement)(Dt,_({tabIndex:"0","aria-label":"".concat(l," - ").concat((0,d.__)("(scroll to see more)","newsletter-optin-box")),role:"group"},b),(0,n.createElement)("table",null,(0,n.createElement)(Zt,{headers:a,hasData:x,sortBy:w,sortDir:E,onQueryChange:s,canSelectRows:p,selected:m,setSelected:g,rows:i,idProp:y}),(0,n.createElement)("tbody",null,x?i.map((function(e,t){var r=Xt(e,t,y);return(0,n.createElement)(Jt,{key:r,sortBy:w,headers:a,DisplayCell:u,canSelectRows:p,selected:m,setSelected:g,row:e,id:r})})):(0,n.createElement)(Tt,{className:"noptin-table__row"},(0,n.createElement)(Nt,{colSpan:a.length},null!=c?c:(0,d.__)("No data to display","newsletter-optin-box"))))))};var tr=["query","headers"];function rr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}const nr=function(e){var t=e.query,r=e.headers,a=C(e,tr),o=t.per_page?parseInt(t.per_page,10):25,i=(0,j.range)(o).map((function(){return{}})),l=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rr(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({query:t,headers:r},a);return(0,n.createElement)(er,_({},l,{rows:i,DisplayCell:Pt,isLoading:!0,"aria-hidden":"true"}))},ar=function(e){var t=e.data;return(0,n.createElement)(Mt,{role:"complementary"},t.map((function(e,t){var r=e.label,a=e.value;return(0,n.createElement)("li",{key:t},(0,n.createElement)("strong",null,a),(0,n.createElement)("span",null,r))})))};var or=function(){return(0,n.createElement)(Mt,{role:"complementary"},(0,n.createElement)("li",null,(0,n.createElement)(Pt,null)))};const ir=function(e){var t=e.value,r=e.onChange,a=e.searchPlaceholder,o=s((0,n.useState)(t||""),2),i=o[0],l=o[1],c=function(e,t,r){var n=this,a=(0,p.useRef)(null),o=(0,p.useRef)(0),i=(0,p.useRef)(null),l=(0,p.useRef)([]),c=(0,p.useRef)(),s=(0,p.useRef)(),u=(0,p.useRef)(e),d=(0,p.useRef)(!0);(0,p.useEffect)((function(){u.current=e}),[e]);var f=!t&&0!==t&&"undefined"!=typeof window;if("function"!=typeof e)throw new TypeError("Expected a function");t=+t||0;var m=!!(r=r||{}).leading,h=!("trailing"in r)||!!r.trailing,g="maxWait"in r,v=g?Math.max(+r.maxWait||0,t):null;(0,p.useEffect)((function(){return d.current=!0,function(){d.current=!1}}),[]);var y=(0,p.useMemo)((function(){var e=function(e){var t=l.current,r=c.current;return l.current=c.current=null,o.current=e,s.current=u.current.apply(r,t)},r=function(e,t){f&&cancelAnimationFrame(i.current),i.current=f?requestAnimationFrame(e):setTimeout(e,t)},p=function(e){if(!d.current)return!1;var r=e-a.current;return!a.current||r>=t||r<0||g&&e-o.current>=v},y=function(t){return i.current=null,h&&l.current?e(t):(l.current=c.current=null,s.current)},b=function e(){var n=Date.now();if(p(n))return y(n);if(d.current){var i=t-(n-a.current),l=g?Math.min(i,v-(n-o.current)):i;r(e,l)}},w=function(){var u=Date.now(),f=p(u);if(l.current=[].slice.call(arguments),c.current=n,a.current=u,f){if(!i.current&&d.current)return o.current=a.current,r(b,t),m?e(a.current):s.current;if(g)return r(b,t),e(a.current)}return i.current||r(b,t),s.current};return w.cancel=function(){i.current&&(f?cancelAnimationFrame(i.current):clearTimeout(i.current)),o.current=0,l.current=a.current=c.current=i.current=null},w.isPending=function(){return!!i.current},w.flush=function(){return i.current?y(Date.now()):s.current},w}),[m,g,t,v,h,f]);return y}((function(e){r(e)}),500);return(0,n.createElement)(u.FlexBlock,{style:{minWidth:"200px"}},(0,n.createElement)(u.SearchControl,{value:i,onChange:function(e){l(e),c(e)},placeholder:a,__nextHasNoMarginBottom:!0}))};var lr=["actions","className","hasSearch","searchPlaceholder","headers","ids","isLoading","onQueryChange","query","initialHiddenHeaders","rows","showMenu","showFooter","summary","title","totalRows","canSelectRows","DisplayCell"];function cr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var sr=function(e){var t=e.headers,r=e.caption,a=e.query;return(0,n.createElement)(n.Fragment,null,(0,n.createElement)("span",{className:"screen-reader-text"},(0,d.__)("Your requested data is loading","newsletter-optin-box")),(0,n.createElement)(nr,{headers:t,caption:r,query:a}))},ur=function(e){var t=e.headers,r=e.hiddenHeaders,a=e.setHiddenHeaders,o=(0,n.useCallback)((function(e){a(r.includes(e)?(0,j.without)(r,e):[].concat(k(r),[e]))}),[t,r,a]);return(0,n.createElement)(F,{label:(0,d.__)("Choose the columns to display","newsletter-optin-box")},(function(){return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(u.MenuGroup,{label:(0,d.__)("Columns","newsletter-optin-box")},t.map((function(e){var t=e.key,a=e.label;return e.required||void 0===t?null:(0,n.createElement)(u.MenuItem,{key:t},(0,n.createElement)(u.ToggleControl,{checked:!r.includes(t),onChange:function(){return o(t)},label:a,__nextHasNoMarginBottom:!0}))}))))}))},dr=function(e){var t=e.title,r=e.hasSearch,a=e.query,o=e.onQueryChange,i=e.searchPlaceholder,l=e.actions,c=e.selected,s=e.setSelected,d=e.headers,p=e.hiddenHeaders,f=e.setHiddenHeaders;return(0,n.createElement)(u.CardHeader,null,(0,n.createElement)(u.Flex,{gap:2,wrap:!0},(0,n.createElement)(u.FlexItem,null,(0,n.createElement)(Et,{as:"h2"},t)),r&&(0,n.createElement)(ir,{value:a.search,onChange:function(e){return o({search:e})},placeholder:i}),l&&(0,n.createElement)(u.FlexItem,null,l({selected:c,setSelected:s})),(0,n.createElement)(u.FlexItem,null,(0,n.createElement)(ur,{headers:d,hiddenHeaders:p,setHiddenHeaders:f}))))},pr=function(e){var t=e.isLoading,r=e.summary,a=e.query,o=e.onQueryChange,i=e.totalRows;return(0,n.createElement)(u.CardFooter,{justify:"center"},t?(0,n.createElement)(or,null):(0,n.createElement)(n.Fragment,null,(0,n.createElement)(z,{query:a,onQueryChange:o,total:i}),r&&(0,n.createElement)(ar,{data:r})))};const fr=function(e){var t=e.actions,r=e.className,a=e.hasSearch,o=e.searchPlaceholder,i=e.headers,l=void 0===i?[]:i,c=(e.ids,e.isLoading),d=void 0!==c&&c,p=e.onQueryChange,f=void 0===p?function(){}:p,m=e.query,h=void 0===m?{}:m,g=e.initialHiddenHeaders,v=void 0===g?[]:g,y=e.rows,b=void 0===y?[]:y,w=(e.showMenu,e.showFooter),E=void 0===w||w,O=e.summary,k=e.title,S=e.totalRows,j=e.canSelectRows,P=e.DisplayCell,D=C(e,lr),T=s((0,n.useState)([]),2),F=T[0],A=T[1],I=s((0,n.useState)(v),2),N=I[0],M=I[1],B=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cr(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({headers:(0,n.useMemo)((function(){return l.filter((function(e){return!N.includes(e.key)}))}),[l,N]),caption:k,onQueryChange:f,query:h},D),L=mt.withComponent(u.Card,{target:"e17jst5e0"});return(0,n.createElement)(L,{className:R()("noptin-table",r),elevation:0},(0,n.createElement)(dr,{title:k,hasSearch:a,query:h,onQueryChange:f,searchPlaceholder:o,actions:t,selected:F,setSelected:A,headers:l,hiddenHeaders:N,setHiddenHeaders:M}),d?(0,n.createElement)(sr,B):(0,n.createElement)(er,_({rows:b,DisplayCell:P,canSelectRows:j,selected:F,setSelected:A},B)),E&&(0,n.createElement)(pr,{isLoading:d,summary:O,query:h,onQueryChange:f,totalRows:S}))},mr=window.wp.date;var hr={},gr=["info","success","warning","error","new","notification","pro"];const vr=window.wp.data,yr=window.wp.dataControls;var br=function(e,t){return{type:"SET_PARTIAL_RECORDS",records:e,queryString:t}},wr=function(e,t){return{type:"SET_RECORDS",records:e,queryString:t}},_r=function(e){return{type:"SET_RECORD",record:e}},Er=function(e){return{type:"SET_SCHEMA",schema:e}},xr=function(e){return{type:"BEFORE_DELETE_RECORD",id:e}},Or=function(e,t,r){return{type:"SET_TAB_CONTENT",id:e,tab_id:t,content:r}},Cr=function(e,t){return{type:"SET_RECORD_OVERVIEW",id:e,overview:t}};const kr=window.regeneratorRuntime;var Sr=r.n(kr);function Rr(e,t){return{createRecord:Sr().mark((function r(n,a){var o,i;return Sr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o="".concat(e,"/v1/").concat(t),r.next=4,(0,yr.apiFetch)({path:o,method:"POST",data:n});case 4:if(!(i=r.sent)){r.next=15;break}return r.next=8,a.invalidateResolutionForStoreSelector("getRecords");case 8:return r.next=10,a.invalidateResolution("getRecord",[i.id]);case 10:return r.next=12,a.startResolution("getRecord",[i.id]);case 12:return r.next=14,a.finishResolution("getRecord",[i.id]);case 14:return r.abrupt("return",_r(i));case 15:case"end":return r.stop()}}),r)})),updateRecord:Sr().mark((function r(n,a,o){var i,l;return Sr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i="".concat(e,"/v1/").concat(t,"/").concat(n),r.next=4,(0,yr.apiFetch)({path:i,method:"PUT",data:a});case 4:if(!(l=r.sent)){r.next=11;break}return r.next=8,o.startResolution("getRecord",[l.id]);case 8:return r.next=10,o.finishResolution("getRecord",[l.id]);case 10:return r.abrupt("return",o.setRecord(l));case 11:case"end":return r.stop()}}),r)})),deleteRecord:Sr().mark((function r(n,a){var o;return Sr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.beforeDeleteRecord(n);case 2:return o="".concat(e,"/v1/").concat(t,"/").concat(n),r.next=6,(0,yr.apiFetch)({path:o,method:"DELETE"});case 6:return r.next=8,a.invalidateResolution("getRecord",[result.id]);case 8:return r.abrupt("return",{type:"DELETE_RECORD",id:n});case 9:case"end":return r.stop()}}),r)})),deleteRecords:Sr().mark((function r(n,a){var o;return Sr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o="".concat(e,"/v1/").concat(t).concat(n),r.next=4,(0,yr.apiFetch)({path:o,method:"DELETE"});case 4:return r.next=6,a.emptyCache(a);case 6:return r.abrupt("return",{type:"DELETE_RECORDS"});case 7:case"end":return r.stop()}}),r)})),emptyCache:Sr().mark((function e(t){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.invalidateResolutionForStoreSelector("getRecords");case 2:return e.next=4,t.invalidateResolutionForStoreSelector("getRecord");case 4:return e.next=6,t.invalidateResolutionForStoreSelector("getRecordOverview");case 6:return e.next=8,t.invalidateResolutionForStoreSelector("getTabContent");case 8:case"end":return e.stop()}}),e)}))}}var jr={recordIDs:{},records:{},partialRecords:{},schema:{},tabContent:{},recordOverview:{}};function Pr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Tr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jr,t=arguments.length>1?arguments[1]:void 0,r=""===t.queryString?"all":t.queryString;switch(t.type){case"SET_SCHEMA":return Dr(Dr({},e),{},{schema:t.schema});case"SET_PARTIAL_RECORDS":return Dr(Dr({},e),{},{partialRecords:Dr(Dr({},e.partialRecords),{},x({},r,t.records))});case"SET_RECORDS":var n=Dr({},e.records),a=[],o=t.records.summary,i=t.records.total;return t.records.items.forEach((function(e){n[e.id]=e,a.push(e.id)})),Dr(Dr({},e),{},{records:n,recordIDs:Dr(Dr({},e.recordIDs),{},x({},r,{items:a,summary:o,total:i}))});case"SET_RECORD":return Dr(Dr({},e),{},{records:Dr(Dr({},e.records),{},x({},t.record.id,t.record))});case"BEFORE_DELETE_RECORD":var l=Dr({},e.recordIDs);return Object.keys(l).forEach((function(e){var r=l[e].items.indexOf(t.id);-1!==r&&(l[e].items.splice(r,1),l[e].total-=1)})),Dr(Dr({},e),{},{recordIDs:l});case"DELETE_RECORD":var c=Dr({},e.records);return delete c[t.id],Dr(Dr({},e),{},{records:c});case"DELETE_RECORDS":return Dr(Dr({},e),{},{records:{},recordIDs:{},tabContent:{},recordOverview:{},partialRecords:{}});case"SET_TAB_CONTENT":return Dr(Dr({},e),{},{tabContent:Dr(Dr({},e.tabContent),{},x({},"".concat(t.id,"_").concat(t.tab_id),t.content))});case"SET_RECORD_OVERVIEW":return Dr(Dr({},e),{},{recordOverview:Dr(Dr({},e.recordOverview),{},x({},t.id,t.overview))})}return e};function Fr(e,t){return{getRecords:Sr().mark((function r(n){var a,o,l,c,s;return Sr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a="".concat(e,"/v1/").concat(t).concat(n),o=(0,i.getQueryArg)(n,"__fields"),r.next=4,(0,yr.apiFetch)({path:a});case 4:if(!(l=r.sent)){r.next=15;break}if(!o){r.next=8;break}return r.abrupt("return",br(l.items,n));case 8:return c="".concat(e,"/").concat(t),s=l.items.map((function(e){return[e.id]})),r.next=12,vr.controls.dispatch(c,"startResolutions","getRecord",s);case 12:return r.next=14,vr.controls.dispatch(c,"finishResolutions","getRecord",s);case 14:return r.abrupt("return",wr(l,n));case 15:return r.abrupt("return",wr([],n));case 16:case"end":return r.stop()}}),r)})),getRecord:Sr().mark((function r(n){var a,o;return Sr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a="".concat(e,"/v1/").concat(t,"/").concat(n),r.next=3,(0,yr.apiFetch)({path:a});case 3:return o=r.sent,r.abrupt("return",_r(o));case 5:case"end":return r.stop()}}),r)})),getSchema:Sr().mark((function r(){var n,a;return Sr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n="".concat(e,"/v1/").concat(t,"/collection_schema"),r.next=3,(0,yr.apiFetch)({path:n});case 3:return a=r.sent,r.abrupt("return",Er(a));case 5:case"end":return r.stop()}}),r)})),getTabContent:Sr().mark((function r(n,a){var o,i;return Sr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o="".concat(e,"/v1/").concat(t,"/").concat(n,"/").concat(a),r.next=3,(0,yr.apiFetch)({path:o});case 3:return i=r.sent,r.abrupt("return",Or(n,a,i));case 5:case"end":return r.stop()}}),r)})),getRecordOverview:Sr().mark((function r(n){var a,o;return Sr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a="".concat(e,"/v1/").concat(t,"/").concat(n,"/overview"),r.next=3,(0,yr.apiFetch)({path:a});case 3:return o=r.sent,r.abrupt("return",Cr(n,o));case 5:case"end":return r.stop()}}),r)}))}}var Ar=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jr,r=arguments.length>1?arguments[1]:void 0;return r=""===r?"all":r,Array.isArray(null===(e=t.recordIDs[r])||void 0===e?void 0:e.items)?t.recordIDs[r].items:[]},Ir=function(){var e,t=arguments.length>1?arguments[1]:void 0;return t=""===t?"all":t,(null===(e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:jr).recordIDs[t])||void 0===e?void 0:e.total)||0},Nr=function(){var e,t=arguments.length>1?arguments[1]:void 0;return t=""===t?"all":t,(null===(e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:jr).recordIDs[t])||void 0===e?void 0:e.summary)||{}},Mr=function(){var e,t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jr,a=arguments.length>1?arguments[1]:void 0;return a=""===a?"all":a,(0,i.getQueryArg)(a,"__fields")?Array.isArray(null===(t=n.partialRecords[a])||void 0===t?void 0:t.items)?null===(r=n.partialRecords[a])||void 0===r?void 0:r.items:[]:Array.isArray(null===(e=n.recordIDs[a])||void 0===e?void 0:e.items)?n.recordIDs[a].items.map((function(e){return n.records[e]})):[]},Br=function(){var e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:jr).records[e]||null},Lr=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:jr).schema||{}},zr=function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:jr).tabContent["".concat(e,"_").concat(t)]||{}},Hr=function(){var e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:jr).recordOverview[e]||[]};function $r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$r(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$r(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Vr={};function Ur(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ur(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ur(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qr(e,t,r){var a="".concat(e,"/").concat(t);r=parseInt(r,10);var o=(0,vr.useDispatch)(a),i=(0,n.useMemo)((function(){return{save:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.updateRecord(r,e,o)},delete:function(){return o.deleteRecord(r,o).catch((function(e){console.error(e)}))}}}),[r]);return Wr(Wr({},(0,vr.useSelect)((function(e){var t=e(a);return{record:t.getRecord(r),isResolving:function(){return t.isResolving("getRecord",[r])||!t.hasStartedResolution("getRecord",[r])},hasResolutionFailed:function(){return t.hasResolutionFailed("getRecord",[r])},getResolutionError:function(){return t.getResolutionError("getRecord",[r])}}}),[r])),i)}function Kr(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n="".concat(e,"/").concat(t),a=(0,i.addQueryArgs)("",r);return(0,vr.useSelect)((function(e){var t=e(n);return{data:t.getRecords(a),total:t.getQueryTotal(a),summary:t.getQuerySummary(a),isResolving:function(){return t.isResolving("getRecords",[a])||!t.hasStartedResolution("getRecords",[a])},hasResolutionFailed:function(){return t.hasResolutionFailed("getRecords",[a])},getResolutionError:function(){return t.getResolutionError("getRecords",[a])}}}),[a])}function Gr(e,t){var r="".concat(e,"/").concat(t);return(0,vr.useSelect)((function(e){var t=e(r);return{data:t.getSchema(),isResolving:function(){return t.isResolving("getSchema")||!t.hasStartedResolution("getSchema")},hasResolutionFailed:function(){return t.hasResolutionFailed("getSchema")},getResolutionError:function(){return t.getResolutionError("getSchema")}}}),[])}var Yr=["hizzle_path","page"];function Xr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xr(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Jr=(0,n.createContext)(window.location.href),en={},tn=function(e){return"/"+e.replace(/^\/|\/$/g,"")},rn=function(e){return 3===tn(e).split("/").length};function nn(){var e=(0,u.__experimentalUseNavigator)(),t=e.location,r=e.goTo,a=e.goBack,o=e.goToParent,l=e.params,c=s((0,n.useContext)(Jr),2),d=c[0],p=c[1],f=(0,i.getQueryArgs)(d),m=f.hizzle_path,h=(f.page,C(f,Yr)),g=tn(m||t.path),v=g.split("/"),y=v[1],b=v[2];if(!y||!b)throw new Error("Invalid route.");return rn(g)&&!en[g]&&(en[g]=h),{path:g,namespace:y,collection:b,args:(0,n.useMemo)((function(){return Zr(Zr({},l),h)}),[l,h]),navigate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e=tn(e),rn(e)&&(t?en[e]=t:en[e]&&(t=en[e])),t=t||{},r(e);var n=Zr(Zr({},t),{},{hizzle_path:e,page:(0,i.getQueryArg)(window.location.href,"page")}),a=(0,i.addQueryArgs)(window.location.href.split("?")[0],n);p(a),history.pushState(null,null,a),window.scrollTo({top:0,behavior:"smooth"})},goBack:a,goToParent:o}}function an(){var e,t,r=nn(),n=r.path,a=r.namespace,o=r.collection,i=r.args,l=Gr(a,o).data,c={path:n,namespace:a,collection:o,args:i};return null!=l&&null!==(e=l.routes)&&void 0!==e&&e[n]?Zr(Zr({},c),{},{schema:null==l||null===(t=l.routes)||void 0===t?void 0:t[n]}):Zr(Zr({},c),{},{schema:{}})}var on=function(e){var t=e.record,r=e.name,a=nn(),o=a.namespace,i=a.collection,l=a.navigate,c=t[r],s=t.avatar_url?(0,n.createElement)(St,{src:t.avatar_url,alt:c}):null,d=s?(0,n.createElement)(u.Flex,null,(0,n.createElement)(u.FlexItem,null,s),(0,n.createElement)(u.FlexBlock,null,c)):c;return(0,n.createElement)(u.Button,{variant:"link",style:{width:"100%",alignItems:"start",textDecoration:"none"},onClick:function(){l("/".concat(o,"/").concat(i,"/update"),{id:t.id})}},d)};function ln(e){var t,r=e.row,a=e.header,o=e.headerKey,i=r[o];if(null==i||""===i)return(0,n.createElement)("span",{className:"noptin-table__cell--null"},"–");if(a.is_primary&&"string"==typeof i)return(0,n.createElement)(on,{record:r,name:o});if(a.is_boolean){var l=i?"yes":"no",c=i?"#3a9001":"#880000";return(0,n.createElement)(u.Icon,{size:24,style:{color:c},icon:l})}if(a.is_date&&i){var s=mr.getSettings?(0,mr.getSettings)():(0,mr.__experimentalGetSettings)();return(0,mr.dateI18n)(s.formats.datetime,i)}return a.enum&&a.enum[i]?(0,n.createElement)("span",{className:"noptin-badge ".concat((t=i,["subscribed","active","yes","true","1"].includes(t)?"success":["unsubscribed","inactive","no","false","0"].includes(t)?"error":["pending","waiting","maybe","2"].includes(t)?"warning":(hr[t]||(hr[t]=gr[Math.floor(Math.random()*gr.length)]),hr[t])))},a.enum[i]):a.is_numeric||a.is_float||"string"==typeof i?i:JSON.stringify(i)}const cn=(0,n.createElement)(P.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(P.Path,{d:"M18 11.3l-1-1.1-4 4V3h-1.5v11.3L7 10.2l-1 1.1 6.2 5.8 5.8-5.8zm.5 3.7v3.5h-13V15H4v5h16v-5h-1.5z"}));var sn=r(460),un=r.n(sn);function dn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dn(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var fn=function(e){var t=e.fields,r=e.back,a=e.schema,o=nn(),i=o.namespace,l=o.collection,c=Kr(i,l,pn(pn({},o.args),{},{__fields:t.join(","),number:-1,context:"edit"})),s=(0,n.useMemo)((function(){if(!c.data.length)return[];var e=a.reduce((function(e,t){return e[t.name]=t.label,e}),{});return Object.keys(c.data[0]).map((function(t){return e[t]||t}))}),[a,c.data]),p=(0,n.useMemo)((function(){return c.data.length?c.data.map((function(e){return Object.values(e)})):[]}),[c.data]),f=(0,n.createElement)(u.Button,{variant:"primary",onClick:r},(0,d.__)("Go Back","newsletter-optin-box"));if(c.isResolving())return(0,n.createElement)(u.__experimentalText,{size:16,weight:600,as:"h2",color:"#23282d"},(0,n.createElement)(u.Spinner,null),(0,d.__)("Fetching records...","newsletter-optin-box"));if(c.hasResolutionFailed()){var m=c.getResolutionError();return(0,n.createElement)(u.Notice,{status:"error",isDismissible:!1,style:{margin:0}},(0,n.createElement)("p",null,m.message||(0,d.__)("An unknown error occurred.","newsletter-optin-box")),f)}if(!c.data.length)return(0,n.createElement)(u.Notice,{status:"info",isDismissible:!1,style:{margin:0}},(0,n.createElement)("p",null,(0,d.__)("Found no records to export.","newsletter-optin-box")),f);var h=un().unparse({fields:s,data:p},{escapeFormulae:!0}),g="".concat(i,"-").concat(l,"-").concat(Date.now(),".csv");return(0,n.createElement)(u.Notice,{status:"success",isDismissible:!1},(0,d.__)("Done! Click the button below to download all matching records.","newsletter-optin-box"),"   ",(0,n.createElement)(u.Button,{variant:"primary",href:"data:text/csv;charset=utf-8,".concat(encodeURIComponent(h)),download:g,text:(0,d.__)("Download CSV","newsletter-optin-box")}))},mn=function(e){var t=e.fields,r=e.setFields,a=e.schema,o=a.schema,i=a.ignore,l=e.next;return(0,n.createElement)(u.Flex,{direction:"column",gap:4},(0,n.createElement)(u.FlexItem,null,(0,n.createElement)("p",{className:"description"},(0,d.__)("Select the fields to include in your exported file","newsletter-optin-box"))),o.map((function(e){if(!i.includes(e.name))return(0,n.createElement)(u.FlexItem,{key:e.name},(0,n.createElement)(u.ToggleControl,{label:e.label===e.description?e.label:"".concat(e.label," (").concat(e.description,")"),checked:t.includes(e.name),onChange:function(){t.includes(e.name)?r(t.filter((function(t){return t!==e.name}))):r([].concat(k(t),[e.name]))},__nextHasNoMarginBottom:!0}))})),(0,n.createElement)(u.FlexItem,null,(0,n.createElement)(yt,{variant:"primary",onClick:l},(0,n.createElement)(A,{icon:cn}),(0,d.__)("Download","newsletter-optin-box"))))},hn=function(){var e=nn(),t=Gr(e.namespace,e.collection),r=s((0,n.useState)((0,j.compact)(t.data.schema.map((function(e){return t.data.hidden.includes(e.name)||t.data.ignore.includes(e.name)?null:e.name})))),2),a=r[0],o=r[1],i=s((0,n.useState)("fields"),2),l=i[0],c=i[1];return"fields"===l?(0,n.createElement)(mn,{fields:a,setFields:o,schema:t.data,next:function(){return c("progress")}}):"progress"===l?(0,n.createElement)(fn,{fields:a,schema:t.data.schema,back:function(){return c("fields")}}):void 0};function gn(){var e=s((0,n.useState)(!1),2),t=e[0],r=e[1];return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(u.Button,{onClick:function(){return r(!0)},icon:cn,text:(0,d.__)("Export","newsletter-optin-box")}),t&&(0,n.createElement)(u.Modal,{title:(0,d.__)("Export","newsletter-optin-box"),onRequestClose:function(){return r(!1)}},(0,n.createElement)("div",{className:"hizzle-records-export-modal__body"},(0,n.createElement)(w,null,(0,n.createElement)(hn,null)))))}const vn=(0,n.createElement)(P.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(P.Path,{d:"M20 5h-5.7c0-1.3-1-2.3-2.3-2.3S9.7 3.7 9.7 5H4v2h1.5v.3l1.7 11.1c.1 1 1 1.7 2 1.7h5.7c1 0 1.8-.7 2-1.7l1.7-11.1V7H20V5zm-3.2 2l-1.7 11.1c0 .1-.1.2-.3.2H9.1c-.1 0-.3-.1-.3-.2L7.2 7h9.6z"}));function yn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yn(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wn(e){var t=e.selected,r=e.setSelected,a=nn(),o=a.namespace,l=a.collection,c=a.args,p="".concat(o,"/").concat(l),f=(0,vr.useDispatch)(p),m=s((0,n.useState)(!1),2),h=m[0],g=m[1],v=s((0,n.useState)(null),2),y=v[0],b=v[1],w=s((0,n.useState)(!1),2),_=w[0],E=w[1],x=0===t.length,O=x?(0,d.__)("Delete All","newsletter-optin-box"):(0,d.__)("Delete Selected","newsletter-optin-box"),C=x?(0,d.__)("Delete","newsletter-optin-box"):(0,d.__)("Delete Selected","newsletter-optin-box"),k=x?bn(bn({},c),{},{number:-1}):{include:t.join(",")};return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(u.Button,{onClick:function(){return g(!0)},icon:vn,text:O,isDestructive:!0}),h&&(0,n.createElement)(u.Modal,{title:C,onRequestClose:function(){return g(!1)}},(0,n.createElement)((function(){return(0,n.createElement)(n.Fragment,null,_?(0,n.createElement)(n.Fragment,null,(0,n.createElement)(u.Spinner,null),(0,d.__)("Deleting...","newsletter-optin-box")):(0,n.createElement)(n.Fragment,null,y?(0,n.createElement)(wt,null,y.message):(0,n.createElement)(wt,null,x&&(0,d.__)("Are you sure you want to delete all matching records?","newsletter-optin-box"),!x&&(0,d.sprintf)((0,d.__)("Are you sure you want to delete %d selected records?","newsletter-optin-box"),t.length)),(0,n.createElement)(yt,{isDestructive:!0,onClick:function(){E(!0),f.deleteRecords((0,i.addQueryArgs)("",k),f).then((function(e){g(!1),r([])})).catch((function(e){b(e)})).finally((function(){E(!1)}))}},(0,d.__)("Yes, Delete!","newsletter-optin-box")),(0,n.createElement)(yt,{onClick:function(){return g(!1)},variant:"secondary",__withNoMargin:!0},(0,d.__)("Cancel","newsletter-optin-box"))))}),null)))}function _n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function En(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_n(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var xn=function(e){var t=e.selected,r=e.setSelected;return(0,n.createElement)(u.Flex,{gap:2,wrap:!0},(0,n.createElement)(u.FlexItem,null,(0,n.createElement)(wn,{selected:t,setSelected:r})),(0,n.createElement)(gn,null))};function On(e){var t=e.schema,r=t.schema,a=t.hidden,o=t.ignore,i=t.labels,l=e.total,c=e.summary,s=e.records,u=e.isLoading,d=e.updateQuery,p=e.query,f=e.extra,m=nn(),h=m.namespace,g=m.collection,v=(0,n.useMemo)((function(){var e=[];return r.forEach((function(t){o.includes(t.name)||e.push(En({key:t.name,isSortable:!t.is_dynamic,isNumeric:t.is_numeric||t.is_float},t))})),e}),[r,o]);return(0,n.createElement)(fr,_({actions:xn,rows:s,headers:v,totalRows:l,summary:c?Object.values(c):[],isLoading:u,onQueryChange:d,query:p,className:"".concat(h,"-").concat(g,"__records-table"),hasSearch:!0,emptyMessage:null==i?void 0:i.not_found,searchPlaceholder:null==i?void 0:i.search_items,canSelectRows:!0,idProp:"id",DisplayCell:ln,initialHiddenHeaders:a},f))}function Cn(e){var t=e.component,r=nn(),a=r.namespace,o=r.collection,i=r.args,l=r.path,c=r.navigate,s=Kr(a,o,i),p=Gr(a,o);if(s.hasResolutionFailed()){var f=s.getResolutionError();return(0,n.createElement)(O,{title:t.title},(0,n.createElement)(u.CardBody,null,(0,n.createElement)(u.Notice,{status:"error",isDismissible:!1},f.message||(0,d.__)("An unknown error occurred.","newsletter-optin-box"))))}var m=(0,n.useCallback)((function(e){e.paged||(e.paged=1),c(l,En(En({},i),e))}),[c,l,i]);return(0,n.createElement)(On,{schema:p.data,records:s.data,total:s.total,summary:s.summary,isLoading:s.isResolving(),updateQuery:m,query:i,extra:t})}const kn=(0,n.createElement)(P.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(P.Path,{d:"M18.5 15v3.5H13V6.7l4.5 4.1 1-1.1-6.2-5.8-5.8 5.8 1 1.1 4-4v11.7h-6V15H4v5h16v-5z"}));var Sn=dt("div",{target:"ei95lsh0"})({name:"1kd8sf",styles:"margin:1.6rem 0;max-width:600px"}),Rn=yt.withComponent(u.FormFileUpload,{target:"ei95lsh1"});const jn=function(e){var t=e.onUpload;return(0,n.createElement)(Sn,null,(0,n.createElement)(u.__experimentalText,{weight:600,as:"h3"},(0,d.__)("This tool allows you to import existing records from a CSV file.","newsletter-optin-box")),(0,n.createElement)(Rn,{accept:"text/csv",onChange:function(e){return t(e.currentTarget.files[0])},variant:"primary"},(0,n.createElement)(A,{icon:kn}),(0,d.__)("Select a CSV file","newsletter-optin-box")),(0,n.createElement)(u.Tip,null,(0,d.__)("The first row of the CSV file should contain the field names/headers.","newsletter-optin-box"),(0,n.createElement)("br",null),(0,d.__)(" Have a different file type?","newsletter-optin-box")," ",(0,n.createElement)(u.Button,{variant:"link",href:"https://convertio.co/csv-converter/",target:"_blank",text:(0,d.__)("Convert it to CSV","newsletter-optin-box")})))};function Pn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pn(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Tn=dt(u.FlexItem,{target:"eofxwao0"})({name:"ddbaxo",styles:"width:320px"}),Fn=Tn.withComponent("div",{target:"eofxwao1"}),An=function(e){return(e=(e=e.replace(/[^a-zA-Z0-9]/g,"")).toLowerCase()).startsWith("cf")&&(e=e.slice(2)),e.startsWith("meta")&&(e=e.slice(4)),e},In=function(e){var t=e.options,r=e.field,a=e.value,o=e.setValue,i=e.customValue,l=e.setCustomValue;return(0,n.createElement)(u.Flex,{style:{marginTop:"1.6rem"},gap:4,justify:"flex-start",wrap:!0},(0,n.createElement)(Tn,null,(0,n.createElement)(u.SelectControl,{label:r.label,value:a,onChange:o,options:t,__next36pxDefaultSize:!0,__nextHasNoMarginBottom:!0})),"-1"===a&&(0,n.createElement)(Tn,null,(0,n.createElement)(u.TextControl,{label:(0,d.__)("Enter value","newsletter-optin-box"),placeholder:(0,d.__)("Enter a value to assign all imported records","newsletter-optin-box"),value:i,onChange:l,__next36pxDefaultSize:!0,__nextHasNoMarginBottom:!0})))};const Nn=function(e){var t,r=e.file,a=e.schema,o=e.ignore,i=e.hidden,l=e.back,c=e.onContinue,p=s((0,n.useState)([]),2),f=p[0],m=p[1],h=s((0,n.useState)({}),2),g=h[0],v=h[1],y=s((0,n.useState)(!1),2),b=y[0],w=y[1],_=s((0,n.useState)(null),2),E=_[0],O=_[1],C=an(),k=(0,n.useMemo)((function(){return(0,j.compact)(a.map((function(e){return e.readonly||o.includes(e.name)||i.includes(e.name)?null:{value:e.name,label:e.label,is_boolean:e.is_boolean}})))}),[a,o,i]);(0,n.useEffect)((function(){un().parse(r,{header:!0,skipEmptyLines:"greedy",preview:5,complete:function(e){m(e.meta.fields)},error:function(e){O(e)}})}),[r]),(0,n.useEffect)((function(){if(f.length){var e={};f.forEach((function(t){var r=An(t),n=k.find((function(e){var t=An(e.value),n=An(e.label);return r===t||r===n}));n&&(e[n.value]={mapped:!0,value:t,is_boolean:n.is_boolean})})),v(e)}}),[f,k]);var S=(0,n.useMemo)((function(){var e=[{value:"",label:(0,d.__)("Ignore Field","newsletter-optin-box")},{value:"-1",label:(0,d.__)("Manually enter value","newsletter-optin-box")},{value:"-2",label:(0,d.__)("Map Field","newsletter-optin-box"),disabled:!0}];return f.forEach((function(t){e.push({value:t,label:t})})),e}),[f]);return E?(0,n.createElement)(u.Notice,{status:"error",isDismissible:!1},(0,n.createElement)("p",null,E.message),(0,n.createElement)(u.Button,{variant:"link",onClick:l},(0,d.__)("Try again","newsletter-optin-box"))):(0,n.createElement)(n.Fragment,null,(0,n.createElement)(u.Tip,null,(0,d.__)("Map the headers of your CSV file to known fields.","newsletter-optin-box")),k.map((function(e){var t=g[e.value]||{is_boolean:e.is_boolean},r=t.value||"";return(0,n.createElement)(In,{key:e.value,options:S,field:e,value:r,setValue:function(n){v(Dn(Dn({},g),{},x({},e.value,Dn(Dn({},t),{},{mapped:!["","-1","-2"].includes(r),value:n}))))},customValue:t.customValue||"",setCustomValue:function(r){v(Dn(Dn({},g),{},x({},e.value,Dn(Dn({},t),{},{customValue:r}))))}})})),(0,n.createElement)("div",{style:{marginTop:"1.6rem",marginBottom:"1.6rem"}},(0,n.createElement)(u.ToggleControl,{label:(0,d.__)("Update existing records","newsletter-optin-box"),checked:b,onChange:function(e){return w(e)},__nextHasNoMarginBottom:!0})),(null===(t=C.schema)||void 0===t?void 0:t.tip)&&(0,n.createElement)(u.Tip,null,(0,n.createElement)("span",{dangerouslySetInnerHTML:{__html:C.schema.tip}})),(0,n.createElement)(Fn,null,(0,n.createElement)(yt,{variant:"primary",onClick:function(){return c(g,b)}},(0,d.__)("Import","newsletter-optin-box")),(0,n.createElement)(yt,{variant:"secondary",onClick:l,__withNoMargin:!0},(0,d.__)("Back","newsletter-optin-box"))))},Mn=window.wp.apiFetch;var Bn=r.n(Mn),Ln={name:"173gwd3",styles:"background-color:#f8f9fa;color:#212529;& h2,& h3{color:#212529;}"},zn={name:"p3ituj",styles:"background-color:#212529;color:#f8f9fa;& h2,& h3{color:#f8f9fa;}"},Hn={name:"1qvos4g",styles:"background-color:#f8cbcb;color:#cc1818;& h2,& h3{color:#cc1818;}"},$n={name:"1kbuu37",styles:"background-color:#fff3cd;color:#856404;& h2,& h3{color:#856404;}"},qn={name:"1k1g68i",styles:"background-color:#cbeeff;color:#0c5460;& h2,& h3{color:#0c5460;}"},Vn={name:"1dlti2z",styles:"background-color:#d4edda;color:#155724;& h2,& h3{color:#155724;}"},Un=function(e){var t=e.status;return"success"===t?Vn:"info"===t?qn:"warning"===t?$n:"error"===t?Hn:"dark"===t?zn:Ln},Wn=dt("div",{target:"ec8eek20"})(Un,";padding:0.25rem;text-align:center;box-shadow:2px 2px 2px rgb(0 0 0 / 5%);min-width:100px;border-radius:4px;");function Qn(e){var t=e.value,r=e.label,a=e.status;return(0,n.createElement)(Wn,{status:a},(0,n.createElement)(u.Flex,{direction:"column",justify:"center",style:{minHeight:"100px"}},(0,n.createElement)(u.FlexItem,null,(0,n.createElement)(u.__experimentalText,{size:48,weight:600,as:"h2"},t)),(0,n.createElement)(u.FlexItem,null,(0,n.createElement)(u.__experimentalText,{size:13,weight:400,as:"h3"},r))))}const Kn=function(e){var t=e.file,r=e.headers,a=(e.back,e.updateRecords),o=nn(),i=o.namespace,l=o.collection,c=o.navigate,p=s((0,n.useState)([]),2),f=p[0],m=p[1],h=s((0,n.useState)(!1),2),g=h[0],v=h[1],y=s((0,n.useState)(!1),2),b=y[0],w=y[1],_=s((0,n.useState)(!1),2),E=_[0],x=_[1],O=s((0,n.useState)(0),2),C=O[0],S=O[1],R=s((0,n.useState)(0),2),j=R[0],P=R[1],D=s((0,n.useState)(0),2),T=D[0],F=D[1],A=s((0,n.useState)(0),2),I=A[0],N=A[1],M=s((0,n.useState)(0),2),B=M[0],L=M[1],z=s((0,n.useState)(0),2),H=z[0],$=z[1],q=s((0,n.useState)([]),2),V=q[0],U=q[1],W=(0,vr.useDispatch)("".concat(i,"/").concat(l)),Q=(0,n.useCallback)((function(e){var t={};return Object.keys(r).forEach((function(n){""!==r[n].value&&(r[n].mapped?t[n]=e[r[n].value]:void 0!==r[n].customValue&&(t[n]=r[n].customValue),r[n].is_boolean&&(t[n]=!["0","","false","FALSE","no"].includes(t[n])))})),t}),[r]);return(0,n.useEffect)((function(){if(!b){var e=k(V),t=e.shift();t?(!0===g&&v(!1),Bn()({path:"".concat(i,"/v1/").concat(l,"/batch"),method:"POST",data:{import:t,update:a}}).then((function(e){var t=0,r=0,n=0,a=0,o=[];e.import&&e.import.length&&e.import.forEach((function(e){var i,l,c;null!==(i=e.data)&&void 0!==i&&i.skipped&&t++,null!==(l=e.data)&&void 0!==l&&l.updated&&r++,null!==(c=e.data)&&void 0!==c&&c.created&&n++,e.is_error&&(a++,o.push(e.data))})),$(H+t),F(T+r),N(I+n),L(B+a),m([].concat(o,o))})).catch((function(e){L(B+t.length),m([].concat(k(f),[e]))})).finally((function(){P(j+t.length),U(e)}))):!1===g&&(v(!0),j>0&&(W.emptyCache(W),c("/".concat(i,"/").concat(l))))}}),[V,b]),(0,n.useEffect)((function(){!function(e,t,r){un().parse(e,{header:!0,skipEmptyLines:"greedy",complete:function(e){!function(e){x(!0),S(e.data.length);for(var t=[],r=0;r<e.data.length;r+=10){var n=e.data.slice(r,r+10);t.push(n.map((function(e){return Q(e)})))}U(t),w(!1)}(e)},error:function(e){m([e])}})}(t)}),[t,r]),E?0===C?(0,n.createElement)(wt,null,(0,d.sprintf)((0,d.__)("No records found in %s.","newsletter-optin-box"),t.name)):(0,n.createElement)("div",{className:"noptin-import-progress"},!g&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)(_t,{as:"h3"},(0,d.__)("Importing","newsletter-optin-box"),(0,n.createElement)("code",null,t.name),"...  ",!b&&(0,n.createElement)(u.Spinner,null),"  ",(0,n.createElement)(u.Button,{variant:"link",onClick:function(){return w(!b)}},b?(0,d.__)("Resume","newsletter-optin-box"):(0,d.__)("Pause","newsletter-optin-box"))),!b&&(0,n.createElement)(kt,{total:C,processed:j})),g&&(0,n.createElement)(_t,{as:"h3"},(0,d.__)("Processed","newsletter-optin-box"),(0,n.createElement)("code",null,t.name)),(0,n.createElement)(u.Flex,{justify:"flex-start",style:{margin:"1.6rem 0"},gap:4,wrap:!0},(0,n.createElement)(u.FlexItem,null,(0,n.createElement)(Qn,{value:C,label:(0,d.__)("Records Found","newsletter-optin-box"),status:"light"})),I>0&&(0,n.createElement)(u.FlexItem,null,(0,n.createElement)(Qn,{value:I,label:(0,d.__)("Records Created","newsletter-optin-box"),status:"success"})),T>0&&(0,n.createElement)(u.FlexItem,null,(0,n.createElement)(Qn,{value:T,label:(0,d.__)("Records Updated","newsletter-optin-box"),status:"success"})),B>0&&(0,n.createElement)(u.FlexItem,null,(0,n.createElement)(Qn,{value:B,label:(0,d.__)("Records Failed","newsletter-optin-box"),status:"error"})),H>0&&(0,n.createElement)(u.FlexItem,null,(0,n.createElement)(Qn,{value:H,label:(0,d.__)("Records Skipped","newsletter-optin-box"),status:"info"}))),g&&(0,n.createElement)(yt,{variant:"primary",text:(0,d.__)("View Records","newsletter-optin-box"),onClick:function(){return c("/".concat(i,"/").concat(l))},maxWidth:"200px"}),f.length>0&&(0,n.createElement)(_t,{as:"h3"},(0,d.__)("Errors","newsletter-optin-box")," ",g&&(0,n.createElement)(u.Button,{onClick:function(){return m([])},variant:"link"},(0,d.__)("Clear","newsletter-optin-box"))),f.map((function(e,t){return(0,n.createElement)(wt,{key:t},e.message)}))):(0,n.createElement)(_t,{as:"h3"},(0,d.__)("Parsing","newsletter-optin-box"),(0,n.createElement)("code",null,t.name),"...  ",(0,n.createElement)(u.Spinner,null))},Gn=function(e){var t=e.file,r=e.schema,a=r.schema,o=r.ignore,i=r.hidden,l=r.id_prop,c=e.back,u=s((0,n.useState)(null),2),d=u[0],p=u[1],f=s((0,n.useState)(!1),2),m=f[0],h=f[1];return d?(0,n.createElement)(Kn,{file:t,headers:d,updateRecords:m,back:c,id_prop:l}):(0,n.createElement)(Nn,{file:t,schema:a,ignore:o,hidden:i,back:c,onContinue:function(e,t){p(e),h(t),window.scrollTo({top:0,behavior:"smooth"})}})};function Yn(e){var t=e.component.title,r=nn(),a=Gr(r.namespace,r.collection),o=s((0,n.useState)(null),2),i=o[0],l=o[1],c=function(e){l(e),window.scrollTo({top:0,behavior:"smooth"})};return(0,n.createElement)(O,{title:t},(0,n.createElement)(u.CardBody,null,(0,n.createElement)((function(){return i?(0,n.createElement)(Gn,{file:i,schema:a.data,back:function(){return l(null)}}):(0,n.createElement)(jn,{onUpload:c})}),null)))}function Xn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xn(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Jn=[{label:(0,d.__)("Only run if","newsletter-optin-box"),value:"allow"},{label:(0,d.__)("Do not run if","newsletter-optin-box"),value:"prevent"}],ea=[{label:(0,d.__)("all","newsletter-optin-box"),value:"all"},{label:(0,d.__)("any","newsletter-optin-box"),value:"any"}];function ta(e,t){return[{label:t,value:"",disabled:!0}].concat(k(e))}function ra(e){var t=e.type,r=e.action,a=e.ruleCount,o=e.setConditionalLogicAttribute,i=a>1;return(0,n.createElement)(u.Flex,{className:"noptin-component__field-lg",wrap:!0},(0,n.createElement)(u.FlexItem,null,(0,n.createElement)(u.SelectControl,{label:(0,d.__)("If","newsletter-optin-box"),hideLabelFromVision:!0,value:r||"allow",options:Jn,onChange:function(e){return o("action",e)},size:"default",__nextHasNoMarginBottom:!0})),i&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)(u.FlexItem,null,(0,n.createElement)(u.SelectControl,{label:(0,d.__)("all","newsletter-optin-box"),hideLabelFromVision:!0,value:t||"all",options:ea,onChange:function(e){return o("type",e)},size:"default",__nextHasNoMarginBottom:!0})),(0,n.createElement)(u.FlexBlock,null,(0,d.__)("of the following rules are true:","newsletter-optin-box"))))}function na(e){var t=e.rule,r=e.comparisons,a=e.availableConditionTypes,o=e.updateRule,i=e.removeRule,l=e.conditionType,c=e.isLastRule,s=(e.isFirstRule,(0,n.useMemo)((function(){return e=t.type,a[e]||{};var e}),[a,t.type])),p=(0,n.useMemo)((function(){return e=s.options,t=[],e?Array.isArray(e)?(e.forEach((function(e,r){t.push({label:e,value:r})})),t):(Object.keys(e).forEach((function(r){t.push({label:e[r],value:r})})),t):t;var e,t}),[s]),f=p.length>0,m=(0,n.useMemo)((function(){return s.type?s.type:"string"}),[s]),h=(0,n.useMemo)((function(){var e=[];return Object.keys(r).forEach((function(t){var n=r[t].type;if(f){if("string"===m&&"is"!=t&&"is_not"!=t)return;if("is_empty"===t||"is_not_empty"===t||"is_between"===t)return}"any"!==n&&n!=m||e.push({label:r[t].name,value:t})})),e}),[m]),g="",v=[];Object.keys(a).forEach((function(e){var t=a[e];""===g&&(g=t.type),v.push({label:t.label,value:e})}));var y=function(e,r){o(e,r),"type"!==e&&""===t.type&&o("type",g),"condition"!==e&&""===t.condition&&o("condition","is"),"type"===e&&(o("condition","is"),o("value",""))},b="is_empty"===t.condition||"is_not_empty"===t.condition,w=f&&!b,_=!f&&!b;return(0,n.createElement)(u.Flex,{className:"noptin-component__field-lg",wrap:!0},(0,n.createElement)(u.FlexItem,null,(0,n.createElement)(u.SelectControl,{label:(0,d.__)("Condition Type","newsletter-optin-box"),hideLabelFromVision:!0,value:t.type?t.type:g,options:ta(v,(0,d.__)("Select a condition","newsletter-optin-box")),onChange:function(e){return y("type",e)},size:"default",__nextHasNoMarginBottom:!0})),(0,n.createElement)(u.FlexItem,null,(0,n.createElement)(u.SelectControl,{label:(0,d.__)("Comparison","newsletter-optin-box"),hideLabelFromVision:!0,value:t.condition?t.condition:"is",options:ta(h,(0,d.__)("Select a comparison","newsletter-optin-box")),onChange:function(e){return y("condition",e)},size:"default",__nextHasNoMarginBottom:!0})),(0,n.createElement)(u.FlexItem,null,w&&(0,n.createElement)(u.SelectControl,{label:(0,d.__)("Value","newsletter-optin-box"),hideLabelFromVision:!0,value:t.value?t.value:"",options:ta(p,(0,d.__)("Select a value","newsletter-optin-box")),onChange:function(e){return o("value",e)},size:"default",__nextHasNoMarginBottom:!0}),_&&(0,n.createElement)(u.TextControl,{type:"number"===m?"number":"text",label:(0,d.__)("Value","newsletter-optin-box"),hideLabelFromVision:!0,value:t.value?t.value:"",onChange:function(e){return o("value",e)},__nextHasNoMarginBottom:!0})),(0,n.createElement)(u.FlexItem,null,(0,n.createElement)(u.Button,{onClick:i,icon:"trash"})),(0,n.createElement)(u.FlexBlock,null,!c&&(0,n.createElement)(n.Fragment,null,"any"===l&&(0,d.__)("or","newsletter-optin-box"),"all"===l&&(0,d.__)("and","newsletter-optin-box"))))}function aa(e){var t=e.rules,r=e.conditionType,a=e.comparisons,o=e.availableSmartTags,i=e.setConditionalLogicAttribute,l=Array.isArray(t)?t:[],c=(0,n.useMemo)((function(){var e={};return o.forEach((function(t){t.conditional_logic&&(e[t.smart_tag]={key:t.smart_tag,label:t.label,options:t.options,type:t.conditional_logic,placeholder:t.placeholder?t.placeholder:""})})),e}),[o]),s=l.length;return(0,n.createElement)("div",{className:"noptin-conditional-logic-rules"},l.map((function(e,t){return(0,n.createElement)(na,{key:t,rule:e,updateRule:function(e,r){return function(e,t,r){var n=k(l);n[e][t]=r,i("rules",n)}(t,e,r)},removeRule:function(){return function(e){var t=k(l);t.splice(e,1),i("rules",t)}(t)},availableConditionTypes:c,isLastRule:t===s-1,isFirstRule:0===t,conditionType:r,comparisons:a})})),(0,n.createElement)(u.Button,{className:"noptin-add-conditional-rule",onClick:function(){var e=Object.keys(c)[0],t=c[e].options,r=c[e].placeholder?c[e].placeholder:"",n=Array.isArray(t)&&t.length?Object.keys(t)[0]:r,a=k(l);a.push({type:e,condition:"is",value:n}),i("rules",a)},variant:"secondary"},0===s?(0,d.__)("Add a rule","newsletter-optin-box"):(0,d.__)("Add another rule","newsletter-optin-box")))}function oa(e){var t=e.onChange,r=e.value,a=e.comparisons,o=e.toggleText,i=e.availableSmartTags,l=e.className;"object"!==E(r)&&(r={enabled:!1,action:"allow",rules:[{condition:"is",type:"date",value:""}],type:"all"});var c=function(e,n){t(Zn(Zn({},r),{},x({},e,n)))};return(0,n.createElement)("div",{className:l},(0,n.createElement)(u.ToggleControl,{checked:!!r.enabled,onChange:function(e){return c("enabled",e)},className:"noptin-component__field",label:o||(0,d.__)("Optionally enable/disable this trigger depending on specific conditions.","newsletter-optin-box"),__nextHasNoMarginBottom:!0}),r.enabled&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)(ra,{ruleCount:r.rules?r.rules.length:0,type:r.type,action:r.action,setConditionalLogicAttribute:c}),(0,n.createElement)(aa,{rules:r.rules,conditionType:r.type,comparisons:a,availableSmartTags:i,setConditionalLogicAttribute:c})))}var ia=function(e){var t=e.mergeTag,r=e.onMergeTagClick,a=function(){if(t.example)return t.example;var e="default value";return t.replacement&&(e=t.replacement),t.default&&(e=t.default),e?"".concat(t.smart_tag,' default="').concat(e,'"'):"".concat(t.smart_tag)},o=t.description&&t.description!==t.label;return(0,n.createElement)("tr",{className:"noptin-merge-tag"},(0,n.createElement)("td",null,(0,n.createElement)("label",null,(0,n.createElement)("span",{className:"noptin-merge-tag-label"},t.label),(0,n.createElement)("input",{type:"text",className:"widefat",value:"[[".concat(a(),"]]"),onFocus:function(e){e.target.select(),r&&r("[[".concat(a(),"]]"))},readOnly:!0})),o&&(0,n.createElement)("p",{className:"description noptin-mb0"},t.description)))},la=function(e){var t=e.availableSmartTags,r=e.onMergeTagClick;return(0,n.createElement)("div",{className:"noptin-merge-tags-wrapper"},(0,n.createElement)("table",{className:"widefat striped"},(0,n.createElement)("tbody",null,t.map((function(e){return(0,n.createElement)(ia,{key:e.smart_tag,mergeTag:e,onMergeTagClick:r})})))))},ca=function(e){var t=e.isOpen,r=e.closeModal,a=e.availableSmartTags,o=e.onMergeTagClick;return(0,n.createElement)(n.Fragment,null,t&&(0,n.createElement)(u.Modal,{title:(0,d.__)("Smart Tags","newsletter-optin-box"),onRequestClose:r},(0,n.createElement)("div",{className:"noptin-component__field-lg noptin-component__field-noptin_description"},(0,n.createElement)(u.Tip,null,(0,d.__)("You can use the following smart tags to generate dynamic values.","newsletter-optin-box"))),(0,n.createElement)(la,{availableSmartTags:a,onMergeTagClick:o})))},sa=["setting","availableSmartTags","isPressEnterToChange"],ua=["setting","availableSmartTags","value","onChange"];function da(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?da(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):da(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var fa=["number","search","email","password","tel","url"],ma=[{id:"key",label:(0,d.__)("Key","noptin-addons-pack"),type:"text"},{id:"value",label:(0,d.__)("Value","noptin-addons-pack"),type:"text"}];function ha(e,t){var r=s((0,n.useState)(!1),2),a=r[0],o=r[1],i=(0,n.useCallback)((function(){o(!1)}),[o]),l=(0,n.useCallback)((function(e){t&&(t(e),i())})),c=null,p=null;return Array.isArray(e)&&e.length>0&&(p=(0,n.createElement)(ca,{isOpen:a,closeModal:i,availableSmartTags:e,onMergeTagClick:l}),c=(0,n.createElement)(u.Button,{icon:"shortcode",variant:"tertiary",isPressed:a,label:(0,d.__)("Insert merge tag","newsletter-optin-box"),onClick:function(){o(!0)},showTooltip:!0})),[c,p]}function ga(e){var t=e.setting,r=e.availableSmartTags,a=e.isPressEnterToChange,o=C(e,sa);void 0===a&&(a=!0);var i=s(ha(r,(0,n.useCallback)((function(e){o.onChange&&o.onChange(o.value?o.value+e:e)}),[o.value,o.onChange])),2),l=i[0],c=i[1];return t.disabled&&(o.readOnly=!0,o.onFocus=function(e){return e.target.select()}),(0,n.createElement)(n.Fragment,null,c,(0,n.createElement)(u.__experimentalInputControl,_({},o,{type:fa.includes(t.type)?t.type:"text",placeholder:t.placeholder?t.placeholder:"",suffix:l,isPressEnterToChange:a,__nextHasNoMarginBottom:!0,__next36pxDefaultSize:!0})))}function va(e){var t=e.setting,r=e.availableSmartTags,a=e.value,o=e.onChange,i=C(e,ua),l=s((0,n.useState)(!1),2),c=l[0],p=l[1],f=s(ha(r,(0,n.useCallback)((function(e){Array.isArray(c)&&((a=k(a))[c[0]][c[1]]+=e,o(a))}),[c,a,o])),2),m=f[0],h=f[1],g=(0,u.useBaseControlProps)(i),v=g.baseControlProps,y=g.controlProps;Array.isArray(a)||(a=[]);var b=(0,n.useCallback)((function(e){var t=e.item,r=e.field,a=e.index,o=e.onChange;return(0,n.createElement)(u.FlexBlock,null,(0,n.createElement)(u.__experimentalInputControl,{label:r.label,type:r.type,value:void 0===t[r.id]?"":t[r.id],placeholder:(0,d.sprintf)((0,d.__)("Enter %s","noptin-addons-pack"),r.label),className:"noptin-component__field noptin-condition-field",suffix:m,onChange:o,onFocus:function(){p([a,r.id])},isPressEnterToChange:!0,__nextHasNoMarginBottom:!0,__next36pxDefaultSize:!0}))}),[m]),w=(0,n.useCallback)((function(e){var t=e.item,r=e.index;return(0,n.createElement)(u.Flex,{className:"noptin-repeater-item",wrap:!0},ma.map((function(e,i){return(0,n.createElement)(b,{key:i,index:r,item:t,field:e,onChange:function(t){var n=k(a);n[r][e.id]=t,o(n)}})})),(0,n.createElement)(u.FlexItem,null,(0,n.createElement)(u.Button,{icon:"trash",variant:"tertiary",className:"noptin-component__field",label:(0,d.__)("Delete","noptin-addons-pack"),showTooltip:!0,onClick:function(){var e=k(a);e.splice(r,1),o(e)}})))}),[a,o]);return(0,n.createElement)(u.BaseControl,v,h,(0,n.createElement)("div",y,a.map((function(e,t){return(0,n.createElement)(w,{key:t,item:e,index:t})})),(0,n.createElement)(u.Button,{onClick:function(){var e=k(a);e.push({}),o(e)},variant:"secondary"},t.add_field?t.add_field:(0,d.__)("Add","newsletter-optin-box"))))}function ya(e){var t=e.settingKey,r=e.setting,a=e.availableSmartTags,o=e.prop,i=e.saved,l=e.setAttributes,c=(0,n.useCallback)((function(e){if(!o)return l(x({},t,e));var r=i[o]?i[o]:{},n=x({},o,pa(pa({},r),{},x({},t,e)));l(n)}),[t,o,i,l]);if(r.if&&!i[r.if])return null;if(r.condition&&!r.condition(i))return null;var s=i[t];o&&(s=i[o]?i[o][t]:void 0),(void 0===s||r.disabled)&&(s=r.default);var d=void 0!==s&&""!==s&&null!==s,p=[];r.options&&(p=Object.keys(r.options).map((function(e){return{label:r.options[e],value:e}})));var f=r.fullWidth?"noptin-component__field noptin-component__field-".concat(t):"noptin-component__field-lg noptin-component__field-".concat(t),m=r.description?(0,n.createElement)("span",{dangerouslySetInnerHTML:{__html:r.description}}):"",h={label:r.label,value:d?s:"",onChange:c,className:"".concat(f),help:m};return"select"===r.el?(r.placeholder&&p.unshift({label:r.placeholder,value:"",disabled:!0}),(0,n.createElement)(u.SelectControl,_({},h,{options:p,__nextHasNoMarginBottom:!0,__next36pxDefaultSize:!0}))):"conditional_logic"===r.el?(0,n.createElement)(oa,_({},h,{availableSmartTags:a,comparisons:r.comparisons,toggleText:r.toggle_text})):"input"===r.el?r.type&&["toggle","switch","checkbox","checkbox_alt"].includes(r.type)?(0,n.createElement)(u.ToggleControl,_({},h,{checked:!!d&&s,onChange:function(e){c(e)}})):(0,n.createElement)(ga,_({},h,{setting:r,availableSmartTags:"trigger_settings"===o?[]:a,isPressEnterToChange:!r.isInputToChange})):"textarea"===r.el?(0,n.createElement)(u.TextareaControl,_({},h,{setting:r,placeholder:r.placeholder?r.placeholder:"",__nextHasNoMarginBottom:!0})):"paragraph"===r.el?(0,n.createElement)("div",{className:f},(0,n.createElement)(u.Tip,null,r.content)):"hero"===r.el?(0,n.createElement)("div",{className:f},(0,n.createElement)("h3",null,r.content)):"key_value_repeater"===r.el||"webhook_key_value_repeater"===r.el?(0,n.createElement)(va,_({},h,{setting:r,availableSmartTags:"trigger_settings"===o?[]:a})):t}const ba=(0,n.forwardRef)((function(e,t){var r=e.schema,a=e.record,o=e.error,i=e.onSaveRecord,l=e.setAttributes,c=(0,n.useMemo)((function(){return(0,j.compact)(r.schema.map((function(e){if(e.readonly||e.is_dynamic)return null;if(r.hidden&&r.hidden.includes(e.name))return null;if(r.ignore&&r.ignore.includes(e.name))return null;var t={default:e.default,label:e.label,el:"input",type:"text",name:e.name,isInputToChange:!0};return e.enum&&!Array.isArray(e.enum)&&(t.el="select",t.options=e.enum),e.isLongText&&(t.el="textarea"),(e.is_numeric||e.is_float)&&(t.type="number"),e.is_boolean&&(t.type="toggle"),e.description&&e.description!==e.label&&(t.description=e.description),t})))}),[r]);return(0,n.createElement)("form",{onSubmit:i,ref:t},c.map((function(e){return(0,n.createElement)("div",{style:{marginBottom:"1.6rem"},key:e.name},(0,n.createElement)(ya,{settingKey:e.name,saved:a,setAttributes:l,setting:e}))})),o&&(0,n.createElement)(u.Notice,{status:"error"},o.message))}));var wa=r(640),_a=r.n(wa);function Ea(e){var t=e.label,r=e.value,a=t.toLowerCase().replace(/[^a-z0-9]/g,"-");return(0,n.createElement)("li",{className:"noptin-list-item noptin-list-item__".concat(a)},(0,n.createElement)("div",{className:"noptin-list-item__key"},t),(0,n.createElement)("div",{className:"noptin-list-item__value"},r))}function xa(e){var t=e.items;return(0,n.createElement)("ul",{className:"noptin-component__list"},t.map((function(e){return(0,n.createElement)(Ea,{key:e.label,label:e.label,value:e.value})})))}var Oa=function(e){var t=e.items,r=e.title;return(0,n.createElement)(u.Card,{className:gt},(0,n.createElement)(u.CardHeader,null,r),(0,n.createElement)(u.CardBody,null,(0,n.createElement)(xa,{items:t})))},Ca=function(e){var t=e.cards;return(0,n.createElement)(u.Flex,{className:gt,gap:2,wrap:!0},t.map((function(e){var t=e.title,r=e.value,a=e.status;return(0,n.createElement)(u.FlexItem,{key:t},(0,n.createElement)(Qn,{status:a||"info",label:t,value:(0,n.createElement)("span",{dangerouslySetInnerHTML:{__html:r}})}))})))},ka=function(e){var t=e.content,r=e.buttonText,a=e.buttonLink;return(0,n.createElement)(u.Card,{className:gt,variant:"secondary"},(0,n.createElement)(u.CardBody,null,(0,n.createElement)("div",{className:gt,dangerouslySetInnerHTML:{__html:t}}),r&&a&&(0,n.createElement)(u.Button,{variant:"secondary",href:a,text:r})))},Sa=function(e){var t=e.confirm,r=e.label,a=nn(),o=a.namespace,i=a.collection,l=a.navigate,c=a.args,s="".concat(o,"/").concat(i),p=Qr(o,i,c.id);return(0,n.createElement)(u.FlexItem,null,(0,n.createElement)(u.Button,{isDestructive:!0,onClick:function(){window.confirm(t||(0,d.__)("Are you sure you want to delete this record?","newsletter-optin-box"))&&(p.delete(),l(s))},variant:"secondary"},r))},Ra=function(e){var t=e.value,r=e.label,a=s((0,n.useState)(!1),2),o=a[0],i=a[1];return(0,n.createElement)(u.FlexItem,null,(0,n.createElement)(u.Button,{onClick:function(){_a()(t,{format:"text/plain",onCopy:function(){i(!0),setTimeout((function(){i(!1)}),1e3)}})},variant:"secondary"},o?(0,n.createElement)(vt,null," ",(0,d.__)("Copied to clipboard!","newsletter-optin-box")," "):r))},ja=function(e){var t=e.links;return(0,n.createElement)(u.Flex,{className:gt,justify:"flex-start",gap:2,wrap:!0},t.map((function(e){var t=e.label,r=e.value,a=e.action;return e.hide?null:"delete"===a?(0,n.createElement)(Sa,{key:t,label:t,confirm:r}):"copy"===a?(0,n.createElement)(Ra,{key:t,label:t,value:r}):(0,n.createElement)(u.FlexItem,{key:t},(0,n.createElement)(u.Button,{href:r,variant:"secondary",target:"_blank"},t))})))};const Pa=(0,n.forwardRef)((function(e,t){var r=e.namespace,a=e.collection,o=e.recordID,i=e.upsell,l=void 0===i?null:i,c=function(e,t,r){var n="".concat(e,"/").concat(t);return r=parseInt(r,10),(0,vr.useSelect)((function(e){var t=e(n);return{data:t.getRecordOverview(r),isResolving:function(){return t.isResolving("getRecordOverview",[r])||!t.hasStartedResolution("getRecordOverview",[r])},hasResolutionFailed:function(){return t.hasResolutionFailed("getRecordOverview",[r])},getResolutionError:function(){return t.getResolutionError("getRecordOverview",[r])}}}),[r])}(r,a,o);return c.isResolving()?(0,n.createElement)(n.Fragment,null,l,(0,n.createElement)(u.Flex,{className:gt,gap:4,wrap:!0},[1,2,3].map((function(e){return(0,n.createElement)(u.FlexItem,{key:e},(0,n.createElement)(Pt,{width:"100px",height:"100px",ref:t}))})))):!c.hasResolutionFailed()&&Array.isArray(c.data)&&c.data.length?(0,n.createElement)("div",{ref:t},l,c.data.map((function(e,t){switch(e.type){case"stat_cards":return(0,n.createElement)(Ca,{key:t,cards:e.cards});case"action_links":return(0,n.createElement)(ja,{key:t,links:e.links});case"card":return(0,n.createElement)(ka,_({key:t},e));case"card_list":return(0,n.createElement)(Oa,_({key:t},e));default:return null}}))):l})),Da=function(e){var t=e.upsell;if(!t)return null;var r=t.content,a=t.buttonURL,o=t.buttonText;return(0,n.createElement)(bt,null,(0,n.createElement)(u.Tip,null,r,(0,n.createElement)(u.Button,{href:a,target:"_blank",variant:"link"},o)))};function Ta(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ta(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ta(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Aa=dt(u.FlexItem,{target:"e1hbx4l60"})({name:"odxgfg",styles:"width:400px;max-width:100%"});const Ia=(0,n.forwardRef)((function(e,t){var r,a,o=e.tab.title,i=an(),l=nn(),c=l.namespace,p=l.collection,f=l.args,m=s((0,n.useState)(null),2),h=m[0],g=m[1],v=s((0,n.useState)(!1),2),y=v[0],b=v[1],w=s((0,n.useState)({}),2),_=w[0],E=w[1],x=Gr(c,p),C=Qr(c,p,f.id),k=function(e){null==e||e.preventDefault(),y||(b(!0),C.save(_).then((function(){E({})})).catch((function(e){g(e)})).finally((function(){b(!1)})))},S=(0,n.createElement)(yt,{variant:"primary",onClick:k,isBusy:y},y?(0,d.__)("Saving...","newsletter-optin-box"):(0,d.__)("Save Changes","newsletter-optin-box"),y&&(0,n.createElement)(u.Spinner,null));return(0,n.createElement)(O,{title:o,ref:t},(0,n.createElement)(u.CardBody,null,(0,n.createElement)(u.Flex,{align:"flex-start",wrap:!0},(0,n.createElement)(Aa,null,(0,n.createElement)(ba,{schema:x.data,record:Fa(Fa({},C.record),_),error:h,onSaveRecord:k,setAttributes:function(e){E(Fa(Fa({},_),e)),h&&g(null)}}),S,(null===(r=i.schema)||void 0===r?void 0:r.tip)&&(0,n.createElement)(u.Tip,null,(0,n.createElement)("span",{dangerouslySetInnerHTML:{__html:i.schema.tip}}))),(0,n.createElement)(Aa,null,(0,n.createElement)(Pa,{namespace:c,collection:p,recordID:f.id,upsell:(0,n.createElement)(Da,{upsell:null===(a=i.schema)||void 0===a?void 0:a.upsell})})))))}));function Na(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ma(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Na(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Na(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ba(){var e,t,r,a,o=nn(),i=o.namespace,l=o.collection,c=o.navigate,p="".concat(i,"/").concat(l),f=(0,vr.useDispatch)(p),m=s((0,n.useState)(null),2),h=m[0],g=m[1],v=s((0,n.useState)(!1),2),y=v[0],b=v[1],w=s((0,n.useState)({}),2),_=w[0],E=w[1],x=Gr(i,l),C=an(),k=function(e){null==e||e.preventDefault(),y||(b(!0),f.createRecord(_,f).then((function(e){var t;c("/".concat(p,"/update"),{id:null==e||null===(t=e.record)||void 0===t?void 0:t.id})})).catch((function(e){g(e)})).finally((function(){b(!1)})))},S=function(e){E(Ma(Ma({},_),e)),h&&g(null)},R=(0,n.useMemo)((function(){return(0,j.compact)(x.data.schema.map((function(e){if(e.readonly||e.is_dynamic)return null;if(x.data.hidden&&x.data.hidden.includes(e.name))return null;if(x.data.ignore&&x.data.ignore.includes(e.name))return null;var t={default:e.default,label:e.label,el:"input",type:"text",name:e.name,isInputToChange:!0};return e.enum&&!Array.isArray(e.enum)&&(t.el="select",t.options=e.enum),e.isLongText&&(t.el="textarea"),(e.is_numeric||e.is_float)&&(t.type="number"),e.is_boolean&&(t.type="toggle"),e.description&&e.description!==e.label&&(t.description=e.description),t})))}),[x.data]);return(0,n.createElement)(O,{title:null===(e=x.data.labels)||void 0===e?void 0:e.new_item},(0,n.createElement)(u.CardBody,{style:{opacity:y?.5:1}},(0,n.createElement)(u.Flex,{align:"flex-start",wrap:!0},(0,n.createElement)(Aa,null,(0,n.createElement)("form",{onSubmit:k},R.map((function(e){return(0,n.createElement)("div",{style:{marginBottom:"1.6rem"},key:e.name},(0,n.createElement)(ya,{settingKey:e.name,saved:_,setAttributes:S,setting:e}))})),(null===(t=C.schema)||void 0===t?void 0:t.tip)&&(0,n.createElement)(u.Tip,null,(0,n.createElement)("span",{dangerouslySetInnerHTML:{__html:C.schema.tip}})),(0,n.createElement)(yt,{variant:"primary",onClick:k,isBusy:y},y?(0,d.__)("Saving...","newsletter-optin-box"):(0,d.__)("Save","newsletter-optin-box"),y&&(0,n.createElement)(u.Spinner,null)),h&&(0,n.createElement)(u.Notice,{status:"error"},h.message))),(null===(r=C.schema)||void 0===r?void 0:r.upsell)&&(0,n.createElement)(Aa,null,(0,n.createElement)(Da,{upsell:null===(a=C.schema)||void 0===a?void 0:a.upsell})))))}function La(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var za=function(e){var t=e.row,r=e.header,a=e.headerKey,o=r.is_list,i=r.item,l=r.args,c=r.is_primary,s=r.url,p=r.is_boolean;if(o)return Array.isArray(t[a])&&0!==t[a].length?(0,n.createElement)("ul",null,t[a].map((function(e,t){var r=e;if(i){var a=l.map((function(t){return e[t]}));r=d.sprintf.apply(void 0,[i].concat(k(a)))}return(0,n.createElement)("li",{key:t,dangerouslySetInnerHTML:{__html:r}})}))):"—";if(c&&s)return t[s]?(0,n.createElement)("a",{href:t[s],style:{textDecoration:"none"},target:"_blank"},(0,n.createElement)("strong",null,t[a])):(0,n.createElement)("strong",null,t[a]);if(p){var f=t[a]?"yes":"no";return(0,n.createElement)(u.Icon,{icon:f})}return(0,n.createElement)("div",{dangerouslySetInnerHTML:{__html:t[a]}})};function Ha(e){var t=e.tab,r=nn(),a=function(e,t,r,n){var a="".concat(e,"/").concat(t);return r=parseInt(r,10),(0,vr.useSelect)((function(e){var t=e(a);return{data:t.getTabContent(r,n),isResolving:function(){return t.isResolving("getTabContent",[r,n])||!t.hasStartedResolution("getTabContent",[r,n])},hasResolutionFailed:function(){return t.hasResolutionFailed("getTabContent",[r,n])},getResolutionError:function(){return t.getResolutionError("getTabContent",[r,n])}}}),[r,n])}(r.namespace,r.collection,r.args.id,t.name);if(a.hasResolutionFailed()){var o=a.getResolutionError();return(0,n.createElement)(O,{title:t.title},(0,n.createElement)(u.CardBody,null,(0,n.createElement)(u.Notice,{status:"error",isDismissible:!1},o.message||(0,d.__)("An unknown error occurred.","newsletter-optin-box"))))}var i=(0,n.useMemo)((function(){return t.headers.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?La(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):La(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({key:e.name,label:e.label,isSortable:!1,isNumeric:e.is_numeric},e)}))}),[t.headers]);return(0,n.createElement)(fr,_({},t,{isLoading:a.isResolving(),rows:a.data,headers:i,showFooter:!1,DisplayCell:za}))}function $a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$a(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Va=function(e){var t=e.tab;return"table"===t.type?(0,n.createElement)(Ha,{tab:t}):"overview"===t.name?(0,n.createElement)(Ia,{tab:t}):(0,n.createElement)(O,{title:t.title},(0,n.createElement)("p",null,"Tab content"))};const Ua=(0,n.forwardRef)((function(e,t){var r=e.component.title,a=nn(),o=a.namespace,l=a.collection,c=a.args,s=c.hizzle_tab,p=c.id,f=Gr(o,l),m=Qr(o,l,p),h=s||"overview",g=(0,n.useCallback)((function(e){var t=(0,i.addQueryArgs)(window.location.href,{hizzle_tab:e});window.history.replaceState({},"",t)}),[]);if(m.isResolving())return(0,n.createElement)(O,{title:(0,d.__)("Loading","newsletter-optin-box"),ref:t},(0,n.createElement)(u.CardBody,null,(0,n.createElement)(u.Spinner,null)));if(m.hasResolutionFailed()){var v=m.getResolutionError();return(0,n.createElement)(O,{title:(0,d.__)("Error","newsletter-optin-box"),ref:t},(0,n.createElement)(u.CardBody,null,(0,n.createElement)(u.Notice,{status:"error",isDismissible:!1},v.message||(0,d.__)("An unknown error occurred.","newsletter-optin-box"))))}var y=[{title:r,name:"overview"}];return!Array.isArray(f.data.tabs)&&y&&Object.keys(f.data.tabs).map((function(e){return y.push(qa(qa({},f.data.tabs[e]),{},{name:e}))})),(0,n.createElement)("div",{ref:t},1===y.length?(0,n.createElement)(O,{title:r},(0,n.createElement)(Va,{tab:y[0]})):(0,n.createElement)(Rt,{tabs:y,initialTabName:h,onSelect:g},(function(e){return(0,n.createElement)(Va,{tab:e})})))}));function Wa(e){var t=e.path,r=nn(),a=Gr(r.namespace,r.collection).data;if(!a.routes[t])return(0,n.createElement)(O,{title:(0,d.__)("Error:","newsletter-optin-box")},(0,n.createElement)(u.CardBody,null,(0,n.createElement)(u.Notice,{status:"error",isDismissible:!1},(0,d.__)("Route not found","newsletter-optin-box"))));var o=a.routes[t].component,i={component:a.routes[t],path:t};return"list-records"===o?(0,n.createElement)(Cn,i):"import"===o?(0,n.createElement)(Yn,i):"create-record"===o?(0,n.createElement)(Ba,null):"update-record"===o?(0,n.createElement)(Ua,i):t}const Qa=(0,n.createElement)(P.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(P.Path,{d:"M17.3 10.1c0-2.5-2.1-4.4-4.8-4.4-2.2 0-4.1 1.4-4.6 3.3h-.2C5.7 9 4 10.7 4 12.8c0 2.1 1.7 3.8 3.7 3.8h9c1.8 0 3.2-1.5 3.2-3.3.1-1.6-1.1-2.9-2.6-3.2zm-.5 5.1h-4v-2.4L14 14l1-1-3-3-3 3 1 1 1.2-1.2v2.4H7.7c-1.2 0-2.2-1.1-2.2-2.3s1-2.4 2.2-2.4H9l.3-1.1c.4-1.3 1.7-2.2 3.2-2.2 1.8 0 3.3 1.3 3.3 2.9v1.3l1.3.2c.8.1 1.4.9 1.4 1.8 0 1-.8 1.8-1.7 1.8z"}));function Ka(e){var t=e.size,r=void 0===t?24:t,a=(0,n.createElement)(u.SVG,{className:"noptin-app-icon",width:r,height:r,viewBox:"0 0 512 512",fill:"none"},(0,n.createElement)(u.Circle,{cx:"256",cy:"256",r:"256",fill:"#E91E63"}),(0,n.createElement)(u.Path,{d:"M303.061 140.185L316.194 139.872C319.415 140.499 321.869 141.692 323.557 143.452C325.244 145.213 325.965 146.726 325.719 147.991C325.495 149.142 324.872 150.811 323.85 153C322.827 155.189 313.808 176.715 296.792 217.578C279.776 258.442 267.22 288.95 259.124 309.104C283.846 286.332 313.041 258.044 346.712 224.238C380.383 190.432 400.645 167.569 407.498 155.65C409.661 151.892 412.048 149.133 414.658 147.372C417.269 145.611 419.47 144.726 421.263 144.717C423.078 144.592 425.768 144.876 429.335 145.569C432.901 146.262 436.943 147.884 441.461 150.433C446.117 152.89 448.098 155.902 447.405 159.468C446.086 166.255 432.219 183.854 405.805 212.266C379.39 240.677 349.709 270.543 316.76 301.863C283.927 333.205 256.768 357.771 235.283 375.561C231.439 378.753 227.274 379.914 222.788 379.042C218.417 378.192 213.903 376.539 209.247 374.082C204.729 371.532 202.85 368.302 203.61 364.39C206.07 351.737 228.988 293.099 272.365 188.477C248.599 209.405 218.871 239.202 183.182 277.868C146.051 317.806 124.583 342.881 118.777 353.094C115.432 359.248 112.336 362.586 109.489 363.107C107.492 363.554 105.458 363.577 103.387 363.174L89.454 362.078C86.8082 361.563 84.5378 360.346 82.6428 358.426C80.6328 356.483 79.7843 354.707 80.0974 353.096C80.9918 348.495 89.9908 335.978 107.094 315.546C124.313 295.136 143.982 273.173 166.102 249.657C188.36 226.048 211.219 203.332 234.682 181.51C258.144 159.687 275.786 145.389 287.609 138.614C290.037 137.176 292.574 136.714 295.22 137.228L303.061 140.185Z",fill:"white"}));return(0,n.createElement)(u.Icon,{size:r,icon:a})}var Ga=function(e){var t,r,a=e.append,o=e.avatarURL,i=e.isSingle,l=nn(),c=l.namespace,s=l.collection,p=l.path,f=l.navigate,m=Gr(c,s).data;a=a?" - ".concat(a):"";var h=(0,n.useMemo)((function(){var e,t;return i&&null!==(e=m.labels)&&void 0!==e&&e.view_item?"".concat(m.labels.view_item).concat(a):null!==(t=m.labels)&&void 0!==t&&t.name?"".concat(m.labels.name).concat(a):"Noptin".concat(a)}),[m,a]),g=o?(0,n.createElement)(St,{src:o,alt:h,width:24,height:24}):(0,n.createElement)(Ka,null);return(0,n.createElement)(u.Flex,{justify:"start",wrap:!0},(0,n.createElement)(u.FlexItem,null,g),(0,n.createElement)(u.FlexItem,null,(0,n.createElement)(u.__experimentalText,{size:16,weight:600,as:"h2",color:"#23282d"},h)),(0,n.createElement)(u.FlexItem,null,"/".concat(c,"/").concat(s)!==p?(0,n.createElement)(u.Button,{variant:"primary",onClick:function(){return f("/".concat(c,"/").concat(s))},style:{marginLeft:"10px"}},(null===(t=m.labels)||void 0===t?void 0:t.view_items)||(0,d.__)("View Records","newsletter-optin-box")):(0,n.createElement)(u.Button,{variant:"primary",onClick:function(){return f("/".concat(c,"/").concat(s,"/add"))},style:{marginLeft:"10px"}},(null===(r=m.labels)||void 0===r?void 0:r.add_new)||(0,d.__)("Add New","newsletter-optin-box"))))},Ya=function(){var e=nn(),t=e.namespace,r=e.collection,a=e.args.id,o=Gr(t,r),i=Qr(t,r,a);if(i.isResolving()||i.hasResolutionFailed())return(0,n.createElement)(Ga,null);var l=o.data.id_prop?i.record[o.data.id_prop]:i.record.id,c=i.record.avatar_url;return(0,n.createElement)(Ga,{append:l,avatarURL:c,isSingle:!0})};function Xa(){var e=nn(),t=e.namespace,r=e.collection,a=e.path,o=e.navigate,i=Gr(t,r).data,l=a==="/".concat(t,"/").concat(r,"/update"),c=Object.keys(i.routes).map((function(e){if(i.routes[e].hide||a===e||"create-record"===i.routes[e].component||"/".concat(t,"/").concat(r)===e)return null;var l=i.routes[e].icon;if(!l)switch(i.routes[e].component){case"import":l=Qa;break;case"delete":l=vn}return(0,n.createElement)(u.FlexItem,{key:e},(0,n.createElement)(u.Button,{onClick:function(){return o(e)},variant:"secondary"},l&&(0,n.createElement)(u.Icon,{icon:l}),i.routes[e].title))}));return(0,n.createElement)(u.Card,null,(0,n.createElement)(u.CardHeader,null,(0,n.createElement)(u.Flex,{wrap:!0},(0,n.createElement)(u.FlexBlock,null,l?(0,n.createElement)(Ya,null):(0,n.createElement)(Ga,null)),c)))}!function(r,n){var a="".concat(r,"/").concat(n);Vr[a]||(Vr[a]=(0,vr.createReduxStore)(a,{reducer:Tr,actions:qr(qr({},e),Rr(r,n)),selectors:qr({},t),controls:qr(qr({},yr.controls),vr.controls),resolvers:Fr(r,n)}),(0,vr.register)(Vr[a])),Vr[a]}("noptin","subscribers");var Za=function(){var e=nn(),t=Gr(e.namespace,e.collection);if(t.isResolving())return(0,n.createElement)(O,{title:(0,d.__)("Loading","newsletter-optin-box")},(0,n.createElement)(u.CardBody,null,(0,n.createElement)(u.Spinner,null)));if(t.hasResolutionFailed()){var r=records.getResolutionError();return(0,n.createElement)(O,{title:(0,d.__)("Error","newsletter-optin-box")},(0,n.createElement)(u.CardBody,null,(0,n.createElement)(u.Notice,{status:"error",isDismissible:!1},r.message||(0,d.__)("An unknown error occurred.","newsletter-optin-box"))))}return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(u.FlexItem,null,(0,n.createElement)(Xa,null)),(0,n.createElement)(u.FlexBlock,null,Object.keys(t.data.routes).map((function(e){return(0,n.createElement)(u.__experimentalNavigatorScreen,{key:e,path:e,style:{overflowX:"hidden"}},(0,n.createElement)(w,null,(0,n.createElement)(Wa,{path:e})))}))))},Ja=function(){var e=(0,u.__experimentalUseNavigator)().goTo,t=s((0,n.useState)(window.location.href),2),r=t[0],a=t[1];return(0,n.useEffect)((function(){var t=function(){a(window.location.href);var t=(0,i.getQueryArg)(window.location.href,"hizzle_path");t&&e(t)};return window.addEventListener("popstate",t),function(){window.removeEventListener("popstate",t)}}),[]),(0,n.createElement)(Jr.Provider,{value:[r,a]},(0,n.createElement)(w,null,(0,n.createElement)(Za,null)))};const eo=function(e){var t=e.defaultRoute,r=ht.withComponent(u.__experimentalNavigatorProvider,{target:"e1q9rml40"});return(0,n.createElement)(r,{initialPath:t,as:u.Flex,direction:"column",gap:4},(0,n.createElement)(Ja,null))};o()((function(){var e=document.getElementById("noptin-collection__overview-app");if(e){var t=e.dataset.defaultRoute,r=(0,i.getQueryArg)(window.location.search,"hizzle_path");r&&r.split("/").length>1&&(t=r);var a=(0,n.createElement)(eo,{defaultRoute:t});n.createRoot?(0,n.createRoot)(e).render(a):(0,n.render)(a,e)}}))})()})();