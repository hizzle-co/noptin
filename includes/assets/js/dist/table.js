/*! For license information please see table.js.LICENSE.txt */
(()=>{var e={640:(e,t,n)=>{"use strict";var r=n(742),a={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,o,i,l,c,s,u=!1;t||(t={}),n=t.debug||!1;try{if(i=r(),l=document.createRange(),c=document.getSelection(),(s=document.createElement("span")).textContent=e,s.ariaHidden="true",s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),void 0===r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var o=a[t.format]||a.default;window.clipboardData.setData(o,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(s),l.selectNodeContents(s),c.addRange(l),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(r){n&&console.error("unable to copy using execCommand: ",r),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),u=!0}catch(r){n&&console.error("unable to copy using clipboardData: ",r),n&&console.error("falling back to prompt"),o=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(o,e)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(l):c.removeAllRanges()),s&&document.body.removeChild(s),i()}return u}},679:(e,t,n)=>{"use strict";var r=n(296),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function c(e){return r.isMemo(e)?i:l[e.$$typeof]||a}l[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[r.Memo]=i;var s=Object.defineProperty,u=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(m){var a=f(n);a&&a!==m&&e(t,a,r)}var i=u(n);p&&(i=i.concat(p(n)));for(var l=c(t),h=c(n),g=0;g<i.length;++g){var v=i[g];if(!(o[v]||r&&r[v]||h&&h[v]||l&&l[v])){var b=d(n,v);try{s(t,v,b)}catch(e){}}}}return t}},103:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,s=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,h=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function E(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case p:case o:case l:case i:case f:return e;default:switch(e=e&&e.$$typeof){case s:case d:case g:case h:case c:return e;default:return t}}case a:return t}}}function _(e){return E(e)===p}t.AsyncMode=u,t.ConcurrentMode=p,t.ContextConsumer=s,t.ContextProvider=c,t.Element=r,t.ForwardRef=d,t.Fragment=o,t.Lazy=g,t.Memo=h,t.Portal=a,t.Profiler=l,t.StrictMode=i,t.Suspense=f,t.isAsyncMode=function(e){return _(e)||E(e)===u},t.isConcurrentMode=_,t.isContextConsumer=function(e){return E(e)===s},t.isContextProvider=function(e){return E(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return E(e)===d},t.isFragment=function(e){return E(e)===o},t.isLazy=function(e){return E(e)===g},t.isMemo=function(e){return E(e)===h},t.isPortal=function(e){return E(e)===a},t.isProfiler=function(e){return E(e)===l},t.isStrictMode=function(e){return E(e)===i},t.isSuspense=function(e){return E(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===p||e===l||e===i||e===f||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===h||e.$$typeof===c||e.$$typeof===s||e.$$typeof===d||e.$$typeof===b||e.$$typeof===y||e.$$typeof===w||e.$$typeof===v)},t.typeOf=E},296:(e,t,n)=>{"use strict";e.exports=n(103)},460:function(e,t){var n,r;n=function e(){"use strict";var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},n=!t.document&&!!t.postMessage,r=t.IS_PAPA_WORKER||!1,a={},o=0,i={parse:function(n,r){var l=(r=r||{}).dynamicTyping||!1;if(E(l)&&(r.dynamicTypingFunction=l,l={}),r.dynamicTyping=l,r.transform=!!E(r.transform)&&r.transform,r.worker&&i.WORKERS_SUPPORTED){var c=function(){if(!i.WORKERS_SUPPORTED)return!1;var n,r,l=(n=t.URL||t.webkitURL||null,r=e.toString(),i.BLOB_URL||(i.BLOB_URL=n.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",r,")();"],{type:"text/javascript"})))),c=new t.Worker(l);return c.onmessage=g,c.id=o++,a[c.id]=c}();return c.userStep=r.step,c.userChunk=r.chunk,c.userComplete=r.complete,c.userError=r.error,r.step=E(r.step),r.chunk=E(r.chunk),r.complete=E(r.complete),r.error=E(r.error),delete r.worker,void c.postMessage({input:n,config:r,workerId:c.id})}var f=null;return i.NODE_STREAM_INPUT,"string"==typeof n?(n=function(e){return 65279===e.charCodeAt(0)?e.slice(1):e}(n),f=r.download?new s(r):new p(r)):!0===n.readable&&E(n.read)&&E(n.on)?f=new d(r):(t.File&&n instanceof File||n instanceof Object)&&(f=new u(r)),f.stream(n)},unparse:function(e,t){var n=!1,r=!0,a=",",o="\r\n",l='"',c=l+l,s=!1,u=null,p=!1;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||i.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(a=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(s=t.skipEmptyLines),"string"==typeof t.newline&&(o=t.newline),"string"==typeof t.quoteChar&&(l=t.quoteChar),"boolean"==typeof t.header&&(r=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");u=t.columns}void 0!==t.escapeChar&&(c=t.escapeChar+l),("boolean"==typeof t.escapeFormulae||t.escapeFormulae instanceof RegExp)&&(p=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var d=new RegExp(m(l),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return f(null,e,s);if("object"==typeof e[0])return f(u||Object.keys(e[0]),e,s)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||u),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),f(e.fields||[],e.data||[],s);throw new Error("Unable to serialize unrecognized input");function f(e,t,n){var i="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var l=Array.isArray(e)&&0<e.length,c=!Array.isArray(t[0]);if(l&&r){for(var s=0;s<e.length;s++)0<s&&(i+=a),i+=h(e[s],s);0<t.length&&(i+=o)}for(var u=0;u<t.length;u++){var p=l?e.length:t[u].length,d=!1,f=l?0===Object.keys(t[u]).length:0===t[u].length;if(n&&!l&&(d="greedy"===n?""===t[u].join("").trim():1===t[u].length&&0===t[u][0].length),"greedy"===n&&l){for(var m=[],g=0;g<p;g++){var v=c?e[g]:g;m.push(t[u][v])}d=""===m.join("").trim()}if(!d){for(var b=0;b<p;b++){0<b&&!f&&(i+=a);var y=l&&c?e[b]:b;i+=h(t[u][y],b)}u<t.length-1&&(!n||0<p&&!f)&&(i+=o)}}return i}function h(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var r=!1;p&&"string"==typeof e&&p.test(e)&&(e="'"+e,r=!0);var o=e.toString().replace(d,c);return(r=r||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(o,i.BAD_DELIMITERS)||-1<o.indexOf(a)||" "===o.charAt(0)||" "===o.charAt(o.length-1))?l+o+l:o}}};if(i.RECORD_SEP=String.fromCharCode(30),i.UNIT_SEP=String.fromCharCode(31),i.BYTE_ORDER_MARK="\ufeff",i.BAD_DELIMITERS=["\r","\n",'"',i.BYTE_ORDER_MARK],i.WORKERS_SUPPORTED=!n&&!!t.Worker,i.NODE_STREAM_INPUT=1,i.LocalChunkSize=10485760,i.RemoteChunkSize=5242880,i.DefaultDelimiter=",",i.Parser=h,i.ParserHandle=f,i.NetworkStreamer=s,i.FileStreamer=u,i.StringStreamer=p,i.ReadableStreamStreamer=d,t.jQuery){var l=t.jQuery;l.fn.parse=function(e){var n=e.config||{},r=[];return this.each((function(e){if("INPUT"!==l(this).prop("tagName").toUpperCase()||"file"!==l(this).attr("type").toLowerCase()||!t.FileReader||!this.files||0===this.files.length)return!0;for(var a=0;a<this.files.length;a++)r.push({file:this.files[a],inputElem:this,instanceConfig:l.extend({},n)})})),a(),this;function a(){if(0!==r.length){var t,n,a,c=r[0];if(E(e.before)){var s=e.before(c.file,c.inputElem);if("object"==typeof s){if("abort"===s.action)return"AbortError",t=c.file,n=c.inputElem,a=s.reason,void(E(e.error)&&e.error({name:"AbortError"},t,n,a));if("skip"===s.action)return void o();"object"==typeof s.config&&(c.instanceConfig=l.extend(c.instanceConfig,s.config))}else if("skip"===s)return void o()}var u=c.instanceConfig.complete;c.instanceConfig.complete=function(e){E(u)&&u(e,c.file,c.inputElem),o()},i.parse(c.file,c.instanceConfig)}else E(e.complete)&&e.complete()}function o(){r.splice(0,1),a()}}}function c(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=y(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new f(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,n){if(this.isFirstChunk&&E(this._config.beforeFirstChunk)){var a=this._config.beforeFirstChunk(e);void 0!==a&&(e=a)}this.isFirstChunk=!1,this._halted=!1;var o=this._partialLine+e;this._partialLine="";var l=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var c=l.meta.cursor;this._finished||(this._partialLine=o.substring(c-this._baseIndex),this._baseIndex=c),l&&l.data&&(this._rowCount+=l.data.length);var s=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)t.postMessage({results:l,workerId:i.WORKER_ID,finished:s});else if(E(this._config.chunk)&&!n){if(this._config.chunk(l,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);l=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(l.data),this._completeResults.errors=this._completeResults.errors.concat(l.errors),this._completeResults.meta=l.meta),this._completed||!s||!E(this._config.complete)||l&&l.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),s||l&&l.meta.paused||this._nextChunk(),l}this._halted=!0},this._sendError=function(e){E(this._config.error)?this._config.error(e):r&&this._config.error&&t.postMessage({workerId:i.WORKER_ID,error:e,finished:!1})}}function s(e){var t;(e=e||{}).chunkSize||(e.chunkSize=i.RemoteChunkSize),c.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),n||(t.onload=w(this._chunkLoaded,this),t.onerror=w(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var r in e)t.setRequestHeader(r,e[r])}if(this._config.chunkSize){var a=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+a)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader("Content-Range");return null===t?-1:parseInt(t.substring(t.lastIndexOf("/")+1))}(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){var n=t.statusText||e;this._sendError(new Error(n))}}function u(e){var t,n;(e=e||{}).chunkSize||(e.chunkSize=i.LocalChunkSize),c.call(this,e);var r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=w(this._chunkLoaded,this),t.onerror=w(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var a=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,a)}var o=t.readAsText(e,this._config.encoding);r||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function p(e){var t;c.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,n=this._config.chunkSize;return n?(e=t.substring(0,n),t=t.substring(n)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function d(e){c.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=w((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=w((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=w((function(){this._streamCleanUp(),r=!0,this._streamData("")}),this),this._streamCleanUp=w((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function f(e){var t,n,r,a=Math.pow(2,53),o=-a,l=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,c=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,s=this,u=0,p=0,d=!1,f=!1,g=[],v={data:[],errors:[],meta:{}};if(E(e.step)){var b=e.step;e.step=function(t){if(v=t,x())_();else{if(_(),0===v.data.length)return;u+=t.data.length,e.preview&&u>e.preview?n.abort():(v.data=v.data[0],b(v,s))}}}function w(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function _(){return v&&r&&(k("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+i.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines&&(v.data=v.data.filter((function(e){return!w(e)}))),x()&&function(){if(v)if(Array.isArray(v.data[0])){for(var t=0;x()&&t<v.data.length;t++)v.data[t].forEach(n);v.data.splice(0,1)}else v.data.forEach(n);function n(t,n){E(e.transformHeader)&&(t=e.transformHeader(t,n)),g.push(t)}}(),function(){if(!v||!e.header&&!e.dynamicTyping&&!e.transform)return v;function t(t,n){var r,a=e.header?{}:[];for(r=0;r<t.length;r++){var o=r,i=t[r];e.header&&(o=r>=g.length?"__parsed_extra":g[r]),e.transform&&(i=e.transform(i,o)),i=O(o,i),"__parsed_extra"===o?(a[o]=a[o]||[],a[o].push(i)):a[o]=i}return e.header&&(r>g.length?k("FieldMismatch","TooManyFields","Too many fields: expected "+g.length+" fields but parsed "+r,p+n):r<g.length&&k("FieldMismatch","TooFewFields","Too few fields: expected "+g.length+" fields but parsed "+r,p+n)),a}var n=1;return!v.data.length||Array.isArray(v.data[0])?(v.data=v.data.map(t),n=v.data.length):v.data=t(v.data,0),e.header&&v.meta&&(v.meta.fields=g),p+=n,v}()}function x(){return e.header&&0===g.length}function O(t,n){return r=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[r]&&(e.dynamicTyping[r]=e.dynamicTypingFunction(r)),!0===(e.dynamicTyping[r]||e.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(e){if(l.test(e)){var t=parseFloat(e);if(o<t&&t<a)return!0}return!1}(n)?parseFloat(n):c.test(n)?new Date(n):""===n?null:n):n;var r}function k(e,t,n,r){var a={type:e,code:t,message:n};void 0!==r&&(a.row=r),v.errors.push(a)}this.parse=function(a,o,l){var c=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var n=new RegExp(m(t)+"([^]*?)"+m(t),"gm"),r=(e=e.replace(n,"")).split("\r"),a=e.split("\n"),o=1<a.length&&a[0].length<r[0].length;if(1===r.length||o)return"\n";for(var i=0,l=0;l<r.length;l++)"\n"===r[l][0]&&i++;return i>=r.length/2?"\r\n":"\r"}(a,c)),r=!1,e.delimiter)E(e.delimiter)&&(e.delimiter=e.delimiter(a),v.meta.delimiter=e.delimiter);else{var s=function(t,n,r,a,o){var l,c,s,u;o=o||[",","\t","|",";",i.RECORD_SEP,i.UNIT_SEP];for(var p=0;p<o.length;p++){var d=o[p],f=0,m=0,g=0;s=void 0;for(var v=new h({comments:a,delimiter:d,newline:n,preview:10}).parse(t),b=0;b<v.data.length;b++)if(r&&w(v.data[b]))g++;else{var y=v.data[b].length;m+=y,void 0!==s?0<y&&(f+=Math.abs(y-s),s=y):s=y}0<v.data.length&&(m/=v.data.length-g),(void 0===c||f<=c)&&(void 0===u||u<m)&&1.99<m&&(c=f,l=d,u=m)}return{successful:!!(e.delimiter=l),bestDelimiter:l}}(a,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);s.successful?e.delimiter=s.bestDelimiter:(r=!0,e.delimiter=i.DefaultDelimiter),v.meta.delimiter=e.delimiter}var u=y(e);return e.preview&&e.header&&u.preview++,t=a,n=new h(u),v=n.parse(t,o,l),_(),d?{meta:{paused:!0}}:v||{meta:{paused:!1}}},this.paused=function(){return d},this.pause=function(){d=!0,n.abort(),t=E(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){s.streamer._halted?(d=!1,s.streamer.parseChunk(t,!0)):setTimeout(s.resume,3)},this.aborted=function(){return f},this.abort=function(){f=!0,n.abort(),v.meta.aborted=!0,E(e.complete)&&e.complete(v),t=""}}function m(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function h(e){var t,n=(e=e||{}).delimiter,r=e.newline,a=e.comments,o=e.step,l=e.preview,c=e.fastMode,s=t=void 0===e.quoteChar||null===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(s=e.escapeChar),("string"!=typeof n||-1<i.BAD_DELIMITERS.indexOf(n))&&(n=","),a===n)throw new Error("Comment character same as delimiter");!0===a?a="#":("string"!=typeof a||-1<i.BAD_DELIMITERS.indexOf(a))&&(a=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var u=0,p=!1;this.parse=function(i,d,f){if("string"!=typeof i)throw new Error("Input must be a string");var h=i.length,g=n.length,v=r.length,b=a.length,y=E(o),w=[],_=[],x=[],O=u=0;if(!i)return V();if(e.header&&!d){var k=i.split(r)[0].split(n),S=[],C={},j=!1;for(var P in k){var R=k[P];E(e.transformHeader)&&(R=e.transformHeader(R,P));var D=R,A=C[R]||0;for(0<A&&(j=!0,D=R+"_"+A),C[R]=A+1;S.includes(D);)D=D+"_"+A;S.push(D)}if(j){var F=i.split(r);F[0]=S.join(n),i=F.join(r)}}if(c||!1!==c&&-1===i.indexOf(t)){for(var T=i.split(r),I=0;I<T.length;I++){if(x=T[I],u+=x.length,I!==T.length-1)u+=r.length;else if(f)return V();if(!a||x.substring(0,b)!==a){if(y){if(w=[],$(x.split(n)),Q(),p)return V()}else $(x.split(n));if(l&&l<=I)return w=w.slice(0,l),V(!0)}}return V()}for(var N=i.indexOf(n,u),M=i.indexOf(r,u),B=new RegExp(m(s)+m(t),"g"),L=i.indexOf(t,u);;)if(i[u]!==t)if(a&&0===x.length&&i.substring(u,u+b)===a){if(-1===M)return V();u=M+v,M=i.indexOf(r,u),N=i.indexOf(n,u)}else if(-1!==N&&(N<M||-1===M))x.push(i.substring(u,N)),u=N+g,N=i.indexOf(n,u);else{if(-1===M)break;if(x.push(i.substring(u,M)),W(M+v),y&&(Q(),p))return V();if(l&&w.length>=l)return V(!0)}else for(L=u,u++;;){if(-1===(L=i.indexOf(t,L+1)))return f||_.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:w.length,index:u}),U();if(L===h-1)return U(i.substring(u,L).replace(B,t));if(t!==s||i[L+1]!==s){if(t===s||0===L||i[L-1]!==s){-1!==N&&N<L+1&&(N=i.indexOf(n,L+1)),-1!==M&&M<L+1&&(M=i.indexOf(r,L+1));var z=H(-1===M?N:Math.min(N,M));if(i.substr(L+1+z,g)===n){x.push(i.substring(u,L).replace(B,t)),i[u=L+1+z+g]!==t&&(L=i.indexOf(t,u)),N=i.indexOf(n,u),M=i.indexOf(r,u);break}var q=H(M);if(i.substring(L+1+q,L+1+q+v)===r){if(x.push(i.substring(u,L).replace(B,t)),W(L+1+q+v),N=i.indexOf(n,u),L=i.indexOf(t,u),y&&(Q(),p))return V();if(l&&w.length>=l)return V(!0);break}_.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:w.length,index:u}),L++}}else L++}return U();function $(e){w.push(e),O=u}function H(e){var t=0;if(-1!==e){var n=i.substring(L+1,e);n&&""===n.trim()&&(t=n.length)}return t}function U(e){return f||(void 0===e&&(e=i.substring(u)),x.push(e),u=h,$(x),y&&Q()),V()}function W(e){u=e,$(x),x=[],M=i.indexOf(r,u)}function V(e){return{data:w,errors:_,meta:{delimiter:n,linebreak:r,aborted:p,truncated:!!e,cursor:O+(d||0)}}}function Q(){o(V()),w=[],_=[]}},this.abort=function(){p=!0},this.getCharIndex=function(){return u}}function g(e){var t=e.data,n=a[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var o={abort:function(){r=!0,v(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:b,resume:b};if(E(n.userStep)){for(var i=0;i<t.results.data.length&&(n.userStep({data:t.results.data[i],errors:t.results.errors,meta:t.results.meta},o),!r);i++);delete t.results}else E(n.userChunk)&&(n.userChunk(t.results,o,t.file),delete t.results)}t.finished&&!r&&v(t.workerId,t.results)}function v(e,t){var n=a[e];E(n.userComplete)&&n.userComplete(t),n.terminate(),delete a[e]}function b(){throw new Error("Not implemented.")}function y(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=y(e[n]);return t}function w(e,t){return function(){e.apply(t,arguments)}}function E(e){return"function"==typeof e}return r&&(t.onmessage=function(e){var n=e.data;if(void 0===i.WORKER_ID&&n&&(i.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:i.WORKER_ID,results:i.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var r=i.parse(n.input,n.config);r&&t.postMessage({workerId:i.WORKER_ID,results:r,finished:!0})}}),(s.prototype=Object.create(c.prototype)).constructor=s,(u.prototype=Object.create(c.prototype)).constructor=u,(p.prototype=Object.create(p.prototype)).constructor=p,(d.prototype=Object.create(c.prototype)).constructor=d,i},void 0===(r=n.apply(t,[]))||(e.exports=r)},742:e=>{e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},967:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=i(e,o(n)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=i(t,n));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{apiFetch:()=>Le.apiFetch,beforeDeleteRecord:()=>Ue,setPartialRecords:()=>ze,setRecord:()=>$e,setRecordOverview:()=>Ve,setRecords:()=>qe,setSchema:()=>He,setTabContent:()=>We});var t={};n.r(t),n.d(t,{getAllRecords:()=>vt,getPartialRecords:()=>yt,getQuerySummary:()=>gt,getQueryTotal:()=>ht,getRecord:()=>wt,getRecordIDs:()=>mt,getRecordOverview:()=>xt,getRecords:()=>bt,getSchema:()=>Et,getTabContent:()=>_t});const r=window.React,a=window.wp.domReady;var o=n.n(a);const i=window.wp.element,l=window.wp.url,c=window.wp.components,s=window.ReactDOM;var u,p;function d(e,t){if(!1===e||null==e)throw new Error(t)}function f(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function h(e,t,n){void 0===n&&(n="/");let r=P(("string"==typeof t?m(t):t).pathname||"/",n);if(null==r)return null;let a=g(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]))?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let o=null;for(let e=0;null==o&&e<a.length;++e)o=S(a[e],j(r));return o}function g(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let a=(e,a,o)=>{let i={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};i.relativePath.startsWith("/")&&(d(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(r.length));let l=R([r,i.relativePath]),c=n.concat(i);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),g(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:k(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of v(e.path))a(e,t,n);else a(e,t)})),t}function v(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return a?[o,""]:[o];let i=v(r.join("/")),l=[];return l.push(...i.map((e=>""===e?o:[o,e].join("/")))),a&&l.push(...i),l.map((t=>e.startsWith("/")&&""===t?"/":t))}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(u||(u={})),function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(p||(p={})),new Set(["lazy","caseSensitive","path","id","index","children"]);const b=/^:[\w-]+$/,y=3,w=2,E=1,_=10,x=-2,O=e=>"*"===e;function k(e,t){let n=e.split("/"),r=n.length;return n.some(O)&&(r+=x),t&&(r+=w),n.filter((e=>!O(e))).reduce(((e,t)=>e+(b.test(t)?y:""===t?E:_)),r)}function S(e,t){let{routesMeta:n}=e,r={},a="/",o=[];for(let e=0;e<n.length;++e){let i=n[e],l=e===n.length-1,c="/"===a?t:t.slice(a.length)||"/",s=C({path:i.relativePath,caseSensitive:i.caseSensitive,end:l},c);if(!s)return null;Object.assign(r,s.params);let u=i.route;o.push({params:r,pathname:R([a,s.pathname]),pathnameBase:D(R([a,s.pathnameBase])),route:u}),"/"!==s.pathnameBase&&(a=R([a,s.pathnameBase]))}return o}function C(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),f("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),l=a.slice(1),c=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=l[n]||"";i=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const c=l[n];return e[r]=a&&!c?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return f(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c||"",r),e}),{});return{params:c,pathname:o,pathnameBase:i,pattern:e}}function j(e){try{return decodeURI(e)}catch(t){return f(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}const R=e=>e.join("/").replace(/\/\/+/g,"/"),D=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");Error;const A=["post","put","patch","delete"],F=(new Set(A),["get",...A]);function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(this,arguments)}new Set(F),new Set([301,302,303,307,308]),new Set([307,308]),Symbol("deferred");const I=r.createContext(null),N=r.createContext(null),M=r.createContext(null),B=r.createContext(null),L=r.createContext({outlet:null,matches:[],isDataRoute:!1}),z=r.createContext(null);function q(){return null!=r.useContext(B)}const $=r.createContext(null);function H(){let{matches:e}=r.useContext(L),t=e[e.length-1];return t?t.params:{}}function U(e,t,n,a){q()||d(!1);let{navigator:o}=r.useContext(M),{matches:i}=r.useContext(L),l=i[i.length-1],c=l?l.params:{},s=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let p,f=(q()||d(!1),r.useContext(B).location);if(t){var g;let e="string"==typeof t?m(t):t;"/"===s||(null==(g=e.pathname)?void 0:g.startsWith(s))||d(!1),p=e}else p=f;let v=p.pathname||"/",b=h(e,{pathname:"/"===s?v:v.slice(s.length)||"/"}),y=function(e,t,n,a){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===a&&(a=null),null==e){var i;if(null==(i=n)||!i.errors)return null;e=n.matches}let l=e,c=null==(o=n)?void 0:o.errors;if(null!=c){let e=l.findIndex((e=>e.route.id&&(null==c?void 0:c[e.route.id])));e>=0||d(!1),l=l.slice(0,Math.min(l.length,e+1))}let s=!1,u=-1;if(n&&a&&a.v7_partialHydration)for(let e=0;e<l.length;e++){let t=l[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(u=e),t.route.id){let{loaderData:e,errors:r}=n,a=t.route.loader&&void 0===e[t.route.id]&&(!r||void 0===r[t.route.id]);if(t.route.lazy||a){s=!0,l=u>=0?l.slice(0,u+1):[l[0]];break}}}return l.reduceRight(((e,a,o)=>{let i,p=!1,d=null,f=null;var m;n&&(i=c&&a.route.id?c[a.route.id]:void 0,d=a.route.errorElement||V,s&&(u<0&&0===o?(Y[m="route-fallback"]||(Y[m]=!0),p=!0,f=null):u===o&&(p=!0,f=a.route.hydrateFallbackElement||null)));let h=t.concat(l.slice(0,o+1)),g=()=>{let t;return t=i?d:p?f:a.route.Component?r.createElement(a.route.Component,null):a.route.element?a.route.element:e,r.createElement(K,{match:a,routeContext:{outlet:e,matches:h,isDataRoute:null!=n},children:t})};return n&&(a.route.ErrorBoundary||a.route.errorElement||0===o)?r.createElement(Q,{location:n.location,revalidation:n.revalidation,component:d,error:i,children:g(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):g()}),null)}(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:R([s,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?s:R([s,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),i,n,a);return t&&y?r.createElement(B.Provider,{value:{location:T({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:u.Pop}},y):y}function W(){let e=function(){var e;let t=r.useContext(z),n=function(e){let t=r.useContext(N);return t||d(!1),t}(G.UseRouteError),a=function(e){let t=function(e){let t=r.useContext(L);return t||d(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}(G.UseRouteError);return void 0!==t?t:null==(e=n.errors)?void 0:e[a]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,null)}const V=r.createElement(W,null);class Q extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(L.Provider,{value:this.props.routeContext},r.createElement(z.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function K(e){let{routeContext:t,match:n,children:a}=e,o=r.useContext(I);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(L.Provider,{value:t},a)}var G=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(G||{});const Y={};function J(e){return function(e){let t=r.useContext(L).outlet;return t?r.createElement($.Provider,{value:e},t):t}(e.context)}function X(e){d(!1)}function Z(e){let{basename:t="/",children:n=null,location:a,navigationType:o=u.Pop,navigator:i,static:l=!1,future:c}=e;q()&&d(!1);let s=t.replace(/^\/*/,"/"),p=r.useMemo((()=>({basename:s,navigator:i,static:l,future:T({v7_relativeSplatPath:!1},c)})),[s,c,i,l]);"string"==typeof a&&(a=m(a));let{pathname:f="/",search:h="",hash:g="",state:v=null,key:b="default"}=a,y=r.useMemo((()=>{let e=P(f,s);return null==e?null:{location:{pathname:e,search:h,hash:g,state:v,key:b},navigationType:o}}),[s,f,h,g,v,b,o]);return null==y?null:r.createElement(M.Provider,{value:p},r.createElement(B.Provider,{children:n,value:y}))}function ee(e){let{children:t,location:n}=e;return U(te(t),n)}function te(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,((e,a)=>{if(!r.isValidElement(e))return;let o=[...t,a];if(e.type===r.Fragment)return void n.push.apply(n,te(e.props.children,o));e.type!==X&&d(!1),e.props.index&&e.props.children&&d(!1);let i={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=te(e.props.children,o)),n.push(i)})),n}r.startTransition,new Promise((()=>{})),r.Component,new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]),new Map;const ne=r.startTransition;function re(e){let{basename:t,children:n,future:a,history:o}=e,[i,l]=r.useState({action:o.action,location:o.location}),{v7_startTransition:c}=a||{},s=r.useCallback((e=>{c&&ne?ne((()=>l(e))):l(e)}),[l,c]);return r.useLayoutEffect((()=>o.listen(s)),[o,s]),r.createElement(Z,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:o,future:a})}var ae,oe,ie;s.flushSync,r.useId,"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement,(ie=ae||(ae={})).UseScrollRestoration="useScrollRestoration",ie.UseSubmit="useSubmit",ie.UseSubmitFetcher="useSubmitFetcher",ie.UseFetcher="useFetcher",ie.useViewTransitionState="useViewTransitionState",function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(oe||(oe={}));const le=(0,r.createContext)(null),ce={didCatch:!1,error:null};class se extends r.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=ce}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(null!==e){for(var t,n,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];null===(t=(n=this.props).onReset)||void 0===t||t.call(n,{args:a,reason:"imperative-api"}),this.setState(ce)}}componentDidCatch(e,t){var n,r;null===(n=(r=this.props).onError)||void 0===n||n.call(r,e,t)}componentDidUpdate(e,t){const{didCatch:n}=this.state,{resetKeys:r}=this.props;var a,o;n&&null!==t.error&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length!==t.length||e.some(((e,n)=>!Object.is(e,t[n])))}(e.resetKeys,r)&&(null===(a=(o=this.props).onReset)||void 0===a||a.call(o,{next:r,prev:e.resetKeys,reason:"keys"}),this.setState(ce))}render(){const{children:e,fallbackRender:t,FallbackComponent:n,fallback:a}=this.props,{didCatch:o,error:i}=this.state;let l=e;if(o){const e={error:i,resetErrorBoundary:this.resetErrorBoundary};if("function"==typeof t)l=t(e);else if(n)l=(0,r.createElement)(n,e);else{if(null!==a&&!(0,r.isValidElement)(a))throw i;l=a}}return(0,r.createElement)(le.Provider,{value:{didCatch:o,error:i,resetErrorBoundary:this.resetErrorBoundary}},l)}}const ue=window.wp.i18n;function pe(e){var t=e.error;return(0,r.createElement)(c.Notice,{status:"error",isDismissible:!1},(0,r.createElement)("strong",null,(0,ue.__)("Error:","newsletter-optin-box")),"Â ",t.message)}function de(e){var t=e.children;return(0,r.createElement)(se,{FallbackComponent:pe},t)}var fe;function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function he(e,t){if(e){if("string"==typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?me(e,t):void 0}}function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||he(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ve(e)}function be(e,t,n){return r=function(e,t){if("object"!=ve(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=ve(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==ve(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e;var r}function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ye.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(fe||(fe={}));var we,Ee=function(e){return e},_e="beforeunload",xe="popstate";function Oe(e){e.preventDefault(),e.returnValue=""}function ke(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function je(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";if(!we){var t=function(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function a(){var e=n.location,t=e.pathname,a=e.search,o=e.hash,i=r.state||{};return[i.idx,Ee({pathname:t,search:a,hash:o,state:i.usr||null,key:i.key||"default"})]}var o=null;n.addEventListener(xe,(function(){if(o)p.call(o),o=null;else{var e=fe.Pop,t=a(),n=t[0],r=t[1];if(p.length){if(null!=n){var i=c-n;i&&(o={action:e,location:r,retry:function(){v(-1*i)}},v(i))}}else g(e)}}));var i=fe.Pop,l=a(),c=l[0],s=l[1],u=ke(),p=ke();function d(e){return"string"==typeof e?e:function(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,a=void 0===r?"":r,o=e.hash,i=void 0===o?"":o;return a&&"?"!==a&&(n+="?"===a.charAt(0)?a:"?"+a),i&&"#"!==i&&(n+="#"===i.charAt(0)?i:"#"+i),n}(e)}function f(e,t){return void 0===t&&(t=null),Ee(ye({pathname:s.pathname,hash:"",search:""},"string"==typeof e?function(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}(e):e,{state:t,key:Math.random().toString(36).substr(2,8)}))}function m(e,t){return[{usr:e.state,key:e.key,idx:t},d(e)]}function h(e,t,n){return!p.length||(p.call({action:e,location:t,retry:n}),!1)}function g(e){i=e;var t=a();c=t[0],s=t[1],u.call({action:i,location:s})}function v(e){r.go(e)}return null==c&&(c=0,r.replaceState(ye({},r.state,{idx:c}),"")),{get action(){return i},get location(){return s},createHref:d,push:function e(t,a){var o=fe.Push,i=f(t,a);if(h(o,i,(function(){e(t,a)}))){var l=m(i,c+1),s=l[0],u=l[1];try{r.pushState(s,"",u)}catch(e){n.location.assign(u)}g(o)}},replace:function e(t,n){var a=fe.Replace,o=f(t,n);if(h(a,o,(function(){e(t,n)}))){var i=m(o,c),l=i[0],s=i[1];r.replaceState(l,"",s),g(a)}},go:v,back:function(){v(-1)},forward:function(){v(1)},listen:function(e){return u.push(e)},block:function(e){var t=p.push(e);return 1===p.length&&n.addEventListener(_e,Oe),function(){t(),p.length||n.removeEventListener(_e,Oe)}}}}();we={get action(){return t.action},get location(){var n=t.location,r=(0,l.getQueryArgs)(n.search).hizzle_path||e;return Ce(Ce({},n),{},{pathname:r})},createHref:t.createHref,push:t.push,replace:t.replace,go:t.go,back:t.back,forward:t.forward,block:t.block,listen:function(e){var n=this;return t.listen((function(){e({action:n.action,location:n.location})}))}}}return window._history=we,we}const Pe=window.lodash;function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ae=function(){return je().location.pathname};function Fe(){var e=je().location.search;return e.length&&(0,l.getQueryArgs)(e)||{}}function Te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ae(),n=De(De({},arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fe()),e);return"/"!==t&&(n.hizzle_path=t.replace(/\/{2,}/g,"/")),Object.keys(n).forEach((function(e){""===n[e]&&delete n[e]})),(0,l.addQueryArgs)("admin.php",n)}function Ie(e){var t=Te(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ae(),arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fe());je().push(t)}var Ne=function(e){je().push((0,l.addQueryArgs)("admin.php",(0,l.getQueryArgs)(e))),window.scrollTo({top:0,behavior:"smooth"})};const Me=(0,i.forwardRef)((function(e,t){var n=e.actions,a=e.className,o=e.title,i=e.menu,l=e.children;return(0,r.createElement)(c.Card,{className:a,ref:t},(0,r.createElement)(de,null,(0,r.createElement)(c.CardHeader,null,(0,r.createElement)(c.Flex,{justify:"start",wrap:!0},(0,r.createElement)(c.FlexItem,null,(0,r.createElement)(c.__experimentalText,{size:16,weight:600,as:"h2",color:"#23282d"},o)),n&&(0,r.createElement)(c.FlexItem,{className:"noptin-screen__actions"}," ",n," ")),i&&i),l))})),Be=window.wp.data,Le=window.wp.dataControls;var ze=function(e,t){return{type:"SET_PARTIAL_RECORDS",records:e,queryString:t}},qe=function(e,t){return{type:"SET_RECORDS",records:e,queryString:t}},$e=function(e){return{type:"SET_RECORD",record:e}},He=function(e){return{type:"SET_SCHEMA",schema:e}},Ue=function(e){return{type:"BEFORE_DELETE_RECORD",id:e}},We=function(e,t,n){return{type:"SET_TAB_CONTENT",id:e,tab_id:t,content:n}},Ve=function(e,t){return{type:"SET_RECORD_OVERVIEW",id:e,overview:t}};const Qe=window.regeneratorRuntime;var Ke=n.n(Qe);function Ge(e,t){return{createRecord:Ke().mark((function n(r,a){var o,i;return Ke().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o="".concat(e,"/v1/").concat(t),n.next=4,(0,Le.apiFetch)({path:o,method:"POST",data:r});case 4:if(!(i=n.sent)){n.next=17;break}return n.next=8,a.invalidateResolutionForStoreSelector("getRecords");case 8:return n.next=10,a.invalidateResolutionForStoreSelector("getPartialRecords");case 10:return n.next=12,a.invalidateResolution("getRecord",[i.id]);case 12:return n.next=14,a.startResolution("getRecord",[i.id]);case 14:return n.next=16,a.finishResolution("getRecord",[i.id]);case 16:return n.abrupt("return",$e(i));case 17:case"end":return n.stop()}}),n)})),updateRecord:Ke().mark((function n(r,a,o){var i,l;return Ke().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i="".concat(e,"/v1/").concat(t,"/").concat(r),n.next=4,(0,Le.apiFetch)({path:i,method:"PUT",data:a});case 4:if(!(l=n.sent)){n.next=11;break}return n.next=8,o.startResolution("getRecord",[l.id]);case 8:return n.next=10,o.finishResolution("getRecord",[l.id]);case 10:return n.abrupt("return",o.setRecord(l));case 11:case"end":return n.stop()}}),n)})),deleteRecord:Ke().mark((function n(r,a){var o;return Ke().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.beforeDeleteRecord(r);case 2:return o="".concat(e,"/v1/").concat(t,"/").concat(r),n.next=6,(0,Le.apiFetch)({path:o,method:"DELETE"});case 6:return n.next=8,a.emptyCache(a);case 8:return n.abrupt("return",{type:"DELETE_RECORD",id:r});case 9:case"end":return n.stop()}}),n)})),deleteRecords:Ke().mark((function n(r,a){var o;return Ke().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o="".concat(e,"/v1/").concat(t).concat(r),n.next=4,(0,Le.apiFetch)({path:o,method:"DELETE"});case 4:return n.next=6,a.emptyCache(a);case 6:return n.abrupt("return",{type:"DELETE_RECORDS"});case 7:case"end":return n.stop()}}),n)})),batchAction:Ke().mark((function n(r,a){var o,i;return Ke().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o="".concat(e,"/v1/").concat(t,"/batch"),n.next=4,(0,Le.apiFetch)({path:o,method:"POST",data:r});case 4:return i=n.sent,n.next=7,a.emptyCache(a);case 7:return n.abrupt("return",{type:"BATCH_ACTION",result:i});case 8:case"end":return n.stop()}}),n)})),emptyCache:Ke().mark((function e(t){return Ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.invalidateResolutionForStoreSelector("getRecords");case 2:return e.next=4,t.invalidateResolutionForStoreSelector("getPartialRecords");case 4:return e.next=6,t.invalidateResolutionForStoreSelector("getRecord");case 6:return e.next=8,t.invalidateResolutionForStoreSelector("getRecordOverview");case 8:return e.next=10,t.invalidateResolutionForStoreSelector("getTabContent");case 10:case"end":return e.stop()}}),e)}))}}var Ye={records:{byID:{},queries:{}},partialRecords:{},schema:{},tabContent:{},recordOverview:{}};function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ze=(0,Be.combineReducers)({schema:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"SET_SCHEMA"===t.type?t.schema:e},records:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{byID:{},queries:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_RECORDS":var n=""===t.queryString?"all":t.queryString;return{byID:Xe(Xe({},e.byID),t.records.items.reduce((function(e,t){return Xe(Xe({},e),{},be({},t.id,t))}),{})),queries:Xe(Xe({},e.queries),{},be({},n,{items:t.records.items.map((function(e){return e.id})),summary:t.records.summary,total:t.records.total}))};case"SET_RECORD":return Xe(Xe({},e),{},{byID:Xe(Xe({},e.byID),{},be({},t.record.id,t.record))});case"BEFORE_DELETE_RECORD":var r=Xe({},e.queries);return Object.keys(r).forEach((function(e){var n=r[e].items.indexOf(t.id);-1!==n&&(r[e].items.splice(n,1),r[e].total-=1)})),Xe(Xe({},e),{},{queries:r});case"DELETE_RECORD":var a=Xe({},e.byID);return delete a[t.id],Xe(Xe({},e),{},{byID:a});case"DELETE_RECORDS":return Xe(Xe({},e),{},{queries:{},byID:{}})}return e},partialRecords:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if("SET_PARTIAL_RECORDS"===t.type){var n=""===t.queryString?"all":t.queryString;return Xe(Xe({},e),{},be({},n,t.records))}return e},tabContent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"SET_TAB_CONTENT"===t.type?Xe(Xe({},e),{},be({},"".concat(t.id,"_").concat(t.tab_id),t.content)):e},recordOverview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"SET_RECORD_OVERVIEW"===t.type?Xe(Xe({},e),{},be({},t.id,t.overview)):e}});var et=function(e){return(0,l.addQueryArgs)(e,{uniqid:Math.random()})};function tt(e,t){return{getRecords:Ke().mark((function n(r){var a,o,i,l;return Ke().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=et("".concat(e,"/v1/").concat(t).concat(r)),n.next=3,(0,Le.apiFetch)({path:a});case 3:if(!(o=n.sent)){n.next=12;break}return i="".concat(e,"/").concat(t),l=o.items.map((function(e){return[e.id]})),n.next=9,Be.controls.dispatch(i,"startResolutions","getRecord",l);case 9:return n.next=11,Be.controls.dispatch(i,"finishResolutions","getRecord",l);case 11:return n.abrupt("return",qe(o,r));case 12:case"end":return n.stop()}}),n)})),getPartialRecords:Ke().mark((function n(r){var a,o;return Ke().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=et("".concat(e,"/v1/").concat(t).concat(r)),n.next=3,(0,Le.apiFetch)({path:a});case 3:if(!(o=n.sent)){n.next=6;break}return n.abrupt("return",ze(o.items,r));case 6:case"end":return n.stop()}}),n)})),getRecord:Ke().mark((function n(r){var a,o;return Ke().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r){n.next=2;break}throw new Error("Record not found.");case 2:return a=et("".concat(e,"/v1/").concat(t,"/").concat(r)),n.next=5,(0,Le.apiFetch)({path:a});case 5:return o=n.sent,n.abrupt("return",$e(o));case 7:case"end":return n.stop()}}),n)})),getSchema:Ke().mark((function n(){var r,a;return Ke().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=et("".concat(e,"/v1/").concat(t,"/collection_schema")),n.next=3,(0,Le.apiFetch)({path:r});case 3:return a=n.sent,n.abrupt("return",He(a));case 5:case"end":return n.stop()}}),n)})),getTabContent:Ke().mark((function n(r,a){var o,i;return Ke().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r){n.next=2;break}throw new Error("Record not found.");case 2:return o=et("".concat(e,"/v1/").concat(t,"/").concat(r,"/").concat(a)),n.next=5,(0,Le.apiFetch)({path:o});case 5:return i=n.sent,n.abrupt("return",We(r,a,i));case 7:case"end":return n.stop()}}),n)})),getRecordOverview:Ke().mark((function n(r){var a,o;return Ke().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r){n.next=2;break}throw new Error("Record not found.");case 2:return a=et("".concat(e,"/v1/").concat(t,"/").concat(r,"/overview")),n.next=5,(0,Le.apiFetch)({path:a});case 5:return o=n.sent,n.abrupt("return",Ve(r,o));case 7:case"end":return n.stop()}}),n)}))}}var nt=e=>Array.isArray(e)?e:[e];Symbol(),Object.getPrototypeOf({});var rt="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}},at=0,ot=1;function it(){return{s:at,v:void 0,o:null,p:null}}function lt(e,t={}){let n=it();const{resultEqualityCheck:r}=t;let a,o=0;function i(){let t=n;const{length:i}=arguments;for(let e=0,n=i;e<n;e++){const n=arguments[e];if("function"==typeof n||"object"==typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t=it(),e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t=it(),e.set(n,t)):t=r}}const l=t;let c;if(t.s===ot?c=t.v:(c=e.apply(null,arguments),o++),l.s=ot,r){const e=a?.deref?.()??a;null!=e&&r(e,c)&&(c=e,0!==o&&o--),a="object"==typeof c&&null!==c||"function"==typeof c?new rt(c):c}return l.v=c,c}return i.clearCache=()=>{n=it(),i.resetResultsCount()},i.resultsCount=()=>o,i.resetResultsCount=()=>{o=0},i}function ct(e,...t){const n="function"==typeof e?{memoize:e,memoizeOptions:t}:e,r=(...e)=>{let t,r=0,a=0,o={},i=e.pop();"object"==typeof i&&(o=i,i=e.pop()),function(e,t="expected a function, instead received "+typeof e){if("function"!=typeof e)throw new TypeError(t)}(i,`createSelector expects an output function after the inputs, but received: [${typeof i}]`);const l={...n,...o},{memoize:c,memoizeOptions:s=[],argsMemoize:u=lt,argsMemoizeOptions:p=[],devModeChecks:d={}}=l,f=nt(s),m=nt(p),h=function(e){const t=Array.isArray(e[0])?e[0]:e;return function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every((e=>"function"==typeof e))){const n=e.map((e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e)).join(", ");throw new TypeError(`${t}[${n}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}(e),g=c((function(){return r++,i.apply(null,arguments)}),...f),v=u((function(){a++;const e=function(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}(h,arguments);return t=g.apply(null,e),t}),...m);return Object.assign(v,{resultFunc:i,memoizedResultFunc:g,dependencies:h,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>t,recomputations:()=>r,resetRecomputations:()=>{r=0},memoize:c,argsMemoize:u})};return Object.assign(r,{withTypes:()=>r}),r}var st=ct(lt),ut=Object.assign(((e,t=st)=>{!function(e,t="expected an object, instead received "+typeof e){if("object"!=typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const n=Object.keys(e);return t(n.map((t=>e[t])),((...e)=>e.reduce(((e,t,r)=>(e[n[r]]=t,e)),{})))}),{withTypes:()=>ut});function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ft={items:[],summary:{},total:0},mt=function(){var e,t=arguments.length>1?arguments[1]:void 0;return t=""===t?"all":t,null!==(e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye).records.queries[t])&&void 0!==e?e:ft},ht=function(){var e,t=arguments.length>1?arguments[1]:void 0;return t=""===t?"all":t,(null===(e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye).records.queries[t])||void 0===e?void 0:e.total)||0},gt=function(){var e,t=arguments.length>1?arguments[1]:void 0;return t=""===t?"all":t,(null===(e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye).records.queries[t])||void 0===e?void 0:e.summary)||{}},vt=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye).records.byID||{}},bt=st(mt,vt,(function(e,t){return dt(dt({},e),{},{items:e.items.map((function(e){return t[e]}))})})),yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;return t=""===t?"all":t,Array.isArray(e.partialRecords[t])?e.partialRecords[t]:[]},wt=function(){var e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye).records.byID[e]||null},Et=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye).schema||{}},_t=function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye).tabContent["".concat(e,"_").concat(t)]||{}},xt=function(){var e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye).recordOverview[e]||[]};function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var St={};function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pt(n,r){return function(n,r){var a="".concat(n,"/").concat(r);return St[a]||(St[a]=(0,Be.createReduxStore)(a,{reducer:Ze,actions:kt(kt({},e),Ge(n,r)),selectors:kt({},t),controls:Le.controls,resolvers:tt(n,r)}),(0,Be.register)(St[a])),St[a]}(n,r)}var Rt=["getIsResolving","hasStartedResolution","hasFinishedResolution","isResolving","getCachedResolvers","getResolutionError","hasResolutionFailed","getAllRecordData"],Dt=function(e){var t=jt({},e);return delete t.hizzle_path,delete t.page,1===parseInt(t.paged)&&delete t.paged,(0,l.addQueryArgs)("",t)};function At(e,t){return(0,Be.useSelect)((function(t,n){return e((function(e){return Ft(t(e))}),n)}),t)}var Ft=function(e,t){var n,r,a=0;function o(){var o,i,l=n,c=arguments.length;e:for(;l;){if(l.args.length===arguments.length){for(i=0;i<c;i++)if(l.args[i]!==arguments[i]){l=l.next;continue e}return l!==n&&(l===r&&(r=l.prev),l.prev.next=l.next,l.next&&(l.next.prev=l.prev),l.next=n,l.prev=null,n.prev=l,n=l),l.val}l=l.next}for(o=new Array(c),i=0;i<c;i++)o[i]=arguments[i];return l={args:o,val:e.apply(null,o)},n?(n.prev=l,l.next=n):r=l,a===t.maxSize?(r=r.prev).next=null:a++,n=l,l.val}return t=t||{},o.clear=function(){n=null,r=null,a=0},o}((function(e){var t={},n=function(n){if(Rt.includes(n))return t[n]=e[n],1;Object.defineProperty(t,n,{get:function(){return function(){for(var t=e.getIsResolving,r=e.hasFinishedResolution,a=e.getResolutionError,o=e.hasResolutionFailed,i=e.hasStartedResolution,l=arguments.length,c=new Array(l),s=0;s<l;s++)c[s]=arguments[s];var u=a(n,c),p=!!t(n,c)||!i(n,c),d=!p&&r(n,c);return{data:e[n].apply(e,c),status:p?"RESOLVING":d?o(n,c)||u?"ERROR":"SUCCESS":"IDLE",isResolving:p,hasResolved:d,error:u}}}})};for(var r in e)n(r);return t}));function Tt(e,t,n){var r=Pt(e,t);n=parseInt(n,10);var a=(0,Be.useDispatch)(r),o=(0,i.useMemo)((function(){return{save:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.updateRecord(n,e,a)},delete:function(){return a.deleteRecord(n,a).catch((function(e){console.error(e)}))}}}),[n]);return jt(jt({},At((function(e){return e(r).getRecord(n)}),[e,t,n])),o)}function It(e,t){var n=Dt(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return At((function(r){return r(Pt(e,t)).getRecords(n)}),[e,t,n])}function Nt(e,t){return At((function(n){return n(Pt(e,t)).getSchema()}),[e,t])}function Mt(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var Bt=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Lt=Mt((function(e){return Bt.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),zt=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(e){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),qt=Math.abs,$t=String.fromCharCode,Ht=Object.assign;function Ut(e){return e.trim()}function Wt(e,t,n){return e.replace(t,n)}function Vt(e,t){return e.indexOf(t)}function Qt(e,t){return 0|e.charCodeAt(t)}function Kt(e,t,n){return e.slice(t,n)}function Gt(e){return e.length}function Yt(e){return e.length}function Jt(e,t){return t.push(e),e}var Xt=1,Zt=1,en=0,tn=0,nn=0,rn="";function an(e,t,n,r,a,o,i){return{value:e,root:t,parent:n,type:r,props:a,children:o,line:Xt,column:Zt,length:i,return:""}}function on(e,t){return Ht(an("",null,null,"",null,null,0),e,{length:-e.length},t)}function ln(){return nn=tn>0?Qt(rn,--tn):0,Zt--,10===nn&&(Zt=1,Xt--),nn}function cn(){return nn=tn<en?Qt(rn,tn++):0,Zt++,10===nn&&(Zt=1,Xt++),nn}function sn(){return Qt(rn,tn)}function un(){return tn}function pn(e,t){return Kt(rn,e,t)}function dn(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function fn(e){return Xt=Zt=1,en=Gt(rn=e),tn=0,[]}function mn(e){return rn="",e}function hn(e){return Ut(pn(tn-1,bn(91===e?e+2:40===e?e+1:e)))}function gn(e){for(;(nn=sn())&&nn<33;)cn();return dn(e)>2||dn(nn)>3?"":" "}function vn(e,t){for(;--t&&cn()&&!(nn<48||nn>102||nn>57&&nn<65||nn>70&&nn<97););return pn(e,un()+(t<6&&32==sn()&&32==cn()))}function bn(e){for(;cn();)switch(nn){case e:return tn;case 34:case 39:34!==e&&39!==e&&bn(nn);break;case 40:41===e&&bn(e);break;case 92:cn()}return tn}function yn(e,t){for(;cn()&&e+nn!==57&&(e+nn!==84||47!==sn()););return"/*"+pn(t,tn-1)+"*"+$t(47===e?e:cn())}function wn(e){for(;!dn(sn());)cn();return pn(e,tn)}var En="-ms-",_n="-moz-",xn="-webkit-",On="comm",kn="rule",Sn="decl",Cn="@keyframes";function jn(e,t){for(var n="",r=Yt(e),a=0;a<r;a++)n+=t(e[a],a,e,t)||"";return n}function Pn(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case Sn:return e.return=e.return||e.value;case On:return"";case Cn:return e.return=e.value+"{"+jn(e.children,r)+"}";case kn:e.value=e.props.join(",")}return Gt(n=jn(e.children,r))?e.return=e.value+"{"+n+"}":""}function Rn(e){return mn(Dn("",null,null,null,[""],e=fn(e),0,[0],e))}function Dn(e,t,n,r,a,o,i,l,c){for(var s=0,u=0,p=i,d=0,f=0,m=0,h=1,g=1,v=1,b=0,y="",w=a,E=o,_=r,x=y;g;)switch(m=b,b=cn()){case 40:if(108!=m&&58==Qt(x,p-1)){-1!=Vt(x+=Wt(hn(b),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:x+=hn(b);break;case 9:case 10:case 13:case 32:x+=gn(m);break;case 92:x+=vn(un()-1,7);continue;case 47:switch(sn()){case 42:case 47:Jt(Fn(yn(cn(),un()),t,n),c);break;default:x+="/"}break;case 123*h:l[s++]=Gt(x)*v;case 125*h:case 59:case 0:switch(b){case 0:case 125:g=0;case 59+u:-1==v&&(x=Wt(x,/\f/g,"")),f>0&&Gt(x)-p&&Jt(f>32?Tn(x+";",r,n,p-1):Tn(Wt(x," ","")+";",r,n,p-2),c);break;case 59:x+=";";default:if(Jt(_=An(x,t,n,s,u,a,l,y,w=[],E=[],p),o),123===b)if(0===u)Dn(x,t,_,_,w,o,p,l,E);else switch(99===d&&110===Qt(x,3)?100:d){case 100:case 108:case 109:case 115:Dn(e,_,_,r&&Jt(An(e,_,_,0,0,a,l,y,a,w=[],p),E),a,E,p,l,r?w:E);break;default:Dn(x,_,_,_,[""],E,0,l,E)}}s=u=f=0,h=v=1,y=x="",p=i;break;case 58:p=1+Gt(x),f=m;default:if(h<1)if(123==b)--h;else if(125==b&&0==h++&&125==ln())continue;switch(x+=$t(b),b*h){case 38:v=u>0?1:(x+="\f",-1);break;case 44:l[s++]=(Gt(x)-1)*v,v=1;break;case 64:45===sn()&&(x+=hn(cn())),d=sn(),u=p=Gt(y=x+=wn(un())),b++;break;case 45:45===m&&2==Gt(x)&&(h=0)}}return o}function An(e,t,n,r,a,o,i,l,c,s,u){for(var p=a-1,d=0===a?o:[""],f=Yt(d),m=0,h=0,g=0;m<r;++m)for(var v=0,b=Kt(e,p+1,p=qt(h=i[m])),y=e;v<f;++v)(y=Ut(h>0?d[v]+" "+b:Wt(b,/&\f/g,d[v])))&&(c[g++]=y);return an(e,t,n,0===a?kn:l,c,s,u)}function Fn(e,t,n){return an(e,t,n,On,$t(nn),Kt(e,2,-2),0)}function Tn(e,t,n,r){return an(e,t,n,Sn,Kt(e,0,r),Kt(e,r+1,-1),r)}var In=function(e,t,n){for(var r=0,a=0;r=a,a=sn(),38===r&&12===a&&(t[n]=1),!dn(a);)cn();return pn(e,tn)},Nn=new WeakMap,Mn=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Nn.get(n))&&!r){Nn.set(e,!0);for(var a=[],o=function(e,t){return mn(function(e,t){var n=-1,r=44;do{switch(dn(r)){case 0:38===r&&12===sn()&&(t[n]=1),e[n]+=In(tn-1,t,n);break;case 2:e[n]+=hn(r);break;case 4:if(44===r){e[++n]=58===sn()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=$t(r)}}while(r=cn());return e}(fn(e),t))}(t,a),i=n.props,l=0,c=0;l<o.length;l++)for(var s=0;s<i.length;s++,c++)e.props[c]=a[l]?o[l].replace(/&\f/g,i[s]):i[s]+" "+o[l]}}},Bn=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Ln(e,t){switch(function(e,t){return 45^Qt(e,0)?(((t<<2^Qt(e,0))<<2^Qt(e,1))<<2^Qt(e,2))<<2^Qt(e,3):0}(e,t)){case 5103:return xn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return xn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return xn+e+_n+e+En+e+e;case 6828:case 4268:return xn+e+En+e+e;case 6165:return xn+e+En+"flex-"+e+e;case 5187:return xn+e+Wt(e,/(\w+).+(:[^]+)/,xn+"box-$1$2"+En+"flex-$1$2")+e;case 5443:return xn+e+En+"flex-item-"+Wt(e,/flex-|-self/,"")+e;case 4675:return xn+e+En+"flex-line-pack"+Wt(e,/align-content|flex-|-self/,"")+e;case 5548:return xn+e+En+Wt(e,"shrink","negative")+e;case 5292:return xn+e+En+Wt(e,"basis","preferred-size")+e;case 6060:return xn+"box-"+Wt(e,"-grow","")+xn+e+En+Wt(e,"grow","positive")+e;case 4554:return xn+Wt(e,/([^-])(transform)/g,"$1"+xn+"$2")+e;case 6187:return Wt(Wt(Wt(e,/(zoom-|grab)/,xn+"$1"),/(image-set)/,xn+"$1"),e,"")+e;case 5495:case 3959:return Wt(e,/(image-set\([^]*)/,xn+"$1$`$1");case 4968:return Wt(Wt(e,/(.+:)(flex-)?(.*)/,xn+"box-pack:$3"+En+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+xn+e+e;case 4095:case 3583:case 4068:case 2532:return Wt(e,/(.+)-inline(.+)/,xn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Gt(e)-1-t>6)switch(Qt(e,t+1)){case 109:if(45!==Qt(e,t+4))break;case 102:return Wt(e,/(.+:)(.+)-([^]+)/,"$1"+xn+"$2-$3$1"+_n+(108==Qt(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Vt(e,"stretch")?Ln(Wt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Qt(e,t+1))break;case 6444:switch(Qt(e,Gt(e)-3-(~Vt(e,"!important")&&10))){case 107:return Wt(e,":",":"+xn)+e;case 101:return Wt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+xn+(45===Qt(e,14)?"inline-":"")+"box$3$1"+xn+"$2$3$1"+En+"$2box$3")+e}break;case 5936:switch(Qt(e,t+11)){case 114:return xn+e+En+Wt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return xn+e+En+Wt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return xn+e+En+Wt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return xn+e+En+e+e}return e}var zn=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Sn:e.return=Ln(e.value,e.length);break;case Cn:return jn([on(e,{value:Wt(e.value,"@","@"+xn)})],r);case kn:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=/(::plac\w+|:read-\w+)/.exec(e))?e[0]:e}(t)){case":read-only":case":read-write":return jn([on(e,{props:[Wt(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return jn([on(e,{props:[Wt(t,/:(plac\w+)/,":"+xn+"input-$1")]}),on(e,{props:[Wt(t,/:(plac\w+)/,":-moz-$1")]}),on(e,{props:[Wt(t,/:(plac\w+)/,En+"input-$1")]})],r)}return""}))}}],qn=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,a,o=e.stylisPlugins||zn,i={},l=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)i[t[n]]=!0;l.push(e)}));var c,s,u=[Pn,(s=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&s(e)})],p=function(e){var t=Yt(e);return function(n,r,a,o){for(var i="",l=0;l<t;l++)i+=e[l](n,r,a,o)||"";return i}}([Mn,Bn].concat(o,u));a=function(e,t,n,r){c=n,jn(Rn(e?e+"{"+t.styles+"}":t.styles),p),r&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new zt({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:a};return d.sheet.hydrate(l),d},$n={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Hn=/[A-Z]|^ms/g,Un=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Wn=function(e){return 45===e.charCodeAt(1)},Vn=function(e){return null!=e&&"boolean"!=typeof e},Qn=Mt((function(e){return Wn(e)?e:e.replace(Hn,"-$&").toLowerCase()})),Kn=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(Un,(function(e,t,n){return Yn={name:t,styles:n,next:Yn},t}))}return 1===$n[e]||Wn(e)||"number"!=typeof t||0===t?t:t+"px"};function Gn(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Yn={name:n.name,styles:n.styles,next:Yn},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Yn={name:r.name,styles:r.styles,next:Yn},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var a=0;a<n.length;a++)r+=Gn(e,t,n[a])+";";else for(var o in n){var i=n[o];if("object"!=typeof i)null!=t&&void 0!==t[i]?r+=o+"{"+t[i]+"}":Vn(i)&&(r+=Qn(o)+":"+Kn(o,i)+";");else if(!Array.isArray(i)||"string"!=typeof i[0]||null!=t&&void 0!==t[i[0]]){var l=Gn(e,t,i);switch(o){case"animation":case"animationName":r+=Qn(o)+":"+l+";";break;default:r+=o+"{"+l+"}"}}else for(var c=0;c<i.length;c++)Vn(i[c])&&(r+=Qn(o)+":"+Kn(o,i[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var a=Yn,o=n(e);return Yn=a,Gn(e,t,o)}}if(null==t)return n;var i=t[n];return void 0!==i?i:n}var Yn,Jn=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Xn=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,a="";Yn=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,a+=Gn(n,t,o)):a+=o[0];for(var i=1;i<e.length;i++)a+=Gn(n,t,e[i]),r&&(a+=o[i]);Jn.lastIndex=0;for(var l,c="";null!==(l=Jn.exec(a));)c+="-"+l[1];var s=function(e){for(var t,n=0,r=0,a=e.length;a>=4;++r,a-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(a){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(a)+c;return{name:s,styles:a,next:Yn}},Zn=!!r.useInsertionEffect&&r.useInsertionEffect,er=Zn||function(e){return e()},tr=(Zn||r.useLayoutEffect,r.createContext("undefined"!=typeof HTMLElement?qn({key:"css"}):null));tr.Provider;var nr=r.createContext({}),rr=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},ar=Lt,or=function(e){return"theme"!==e},ir=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?ar:or},lr=function(e,t,n){var r;if(t){var a=t.shouldForwardProp;r=e.__emotion_forwardProp&&a?function(t){return e.__emotion_forwardProp(t)&&a(t)}:a}return"function"!=typeof r&&n&&(r=e.__emotion_forwardProp),r},cr=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return rr(t,n,r),er((function(){return function(e,t,n){rr(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+r:"",a,e.sheet,!0),a=a.next}while(void 0!==a)}}(t,n,r)})),null},sr=function e(t,n){var a,o,i=t.__emotion_real===t,l=i&&t.__emotion_base||t;void 0!==n&&(a=n.label,o=n.target);var c=lr(t,n,i),s=c||ir(l),u=!s("as");return function(){var p=arguments,d=i&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==a&&d.push("label:"+a+";"),null==p[0]||void 0===p[0].raw)d.push.apply(d,p);else{d.push(p[0][0]);for(var f=p.length,m=1;m<f;m++)d.push(p[m],p[0][m])}var h,g=(h=function(e,t,n){var a,i,p,f,m=u&&e.as||l,h="",g=[],v=e;if(null==e.theme){for(var b in v={},e)v[b]=e[b];v.theme=r.useContext(nr)}"string"==typeof e.className?(a=t.registered,i=g,p=e.className,f="",p.split(" ").forEach((function(e){void 0!==a[e]?i.push(a[e]+";"):f+=e+" "})),h=f):null!=e.className&&(h=e.className+" ");var y=Xn(d.concat(g),t.registered,v);h+=t.key+"-"+y.name,void 0!==o&&(h+=" "+o);var w=u&&void 0===c?ir(m):s,E={};for(var _ in e)u&&"as"===_||w(_)&&(E[_]=e[_]);return E.className=h,E.ref=n,r.createElement(r.Fragment,null,r.createElement(cr,{cache:t,serialized:y,isStringTag:"string"==typeof m}),r.createElement(m,E))},(0,r.forwardRef)((function(e,t){var n=(0,r.useContext)(tr);return h(e,n,t)})));return g.displayName=void 0!==a?a:"Styled("+("string"==typeof l?l:l.displayName||l.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=l,g.__emotion_styles=d,g.__emotion_forwardProp=c,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(t,r){return e(t,ye({},n,r,{shouldForwardProp:lr(g,r,!0)})).apply(void 0,d)},g}};function ur(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Xn(t)}n(679);var pr="#e2e4e7",dr={name:"d3qjqk",styles:"margin-bottom:1.6rem"},fr=sr(c.Notice,{target:"er8lhlf18"})({name:"1ep9nyp",styles:"margin:0!important"}),mr=sr("span",{target:"er8lhlf17"})({name:"15xjqx9",styles:"color:#13881e;font-size:12px;display:inline-block;z-index:1;animation:hizzle-slideUp 1s linear;@keyframes hizzle-slideUp{0%{opacity:0;transform:translateY( 10px );}50%{opacity:1;transform:translateY( -10px );}100%{opacity:0;transform:translateY( -20px );}}"}),hr=sr(c.Button,{shouldForwardProp:function(e){return!["maxWidth","__withNoMargin"].includes(e)},target:"er8lhlf16"})("width:100%;justify-content:center;font-size:14px;min-height:50px;margin:",(function(e){return e.__withNoMargin?"0":"1.6rem 0"}),";max-width:",(function(e){return e.maxWidth?e.maxWidth:"100%"}),";"),gr=sr("div",{target:"er8lhlf15"})("background-color:#cbeeff;padding:1rem;border-radius:4px;display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100px;box-shadow:0 1px 3px rgba(0,0,0,0.12),0 1px 2px rgba(0,0,0,0.24);& p{font-size:14px;color:#001012;}& .components-button{margin-left:4px;}",dr,";"),vr=sr("div",{target:"er8lhlf14"})({name:"1e68saw",styles:"border-left:4px solid #cc1818;margin:5px 15px 2px 0;padding:16px 12px;background-color:#f8cbcb"}),br=sr(c.__experimentalText,{target:"er8lhlf13"})({name:"drpcj0",styles:"margin-bottom:1.6rem;font-weight:600;font-size:20px"}),yr=sr(c.__experimentalText,{target:"er8lhlf12"})({name:"myqg3b",styles:"font-weight:600;font-size:16px;color:currentColor"}),wr=sr("div",{target:"er8lhlf11"})({name:"lqcu9l",styles:"width:100%;height:20px;background:#eee;margin:1.6rem 0;border-radius:0.25rem;max-width:600px;overflow:hidden"}),Er=function(e){var t=e.total,n=e.processed;return ur("width:",t===n?"100%":n?"".concat(n/t*100,"%"):"1%",";","")},_r=sr("div",{target:"er8lhlf10"})(Er,";height:100%;transition:width 3s ease-in-out;animation:position 3s linear infinite;position:relative;border-radius:0.25rem;@keyframes position{0%{left:0;right:100%;background:#72aee6;}100%{right:0;left:100%;background:#007cba;}}"),xr=function(e){var t=e.total,n=e.processed;return(0,r.createElement)(wr,null,(0,r.createElement)(_r,{total:t,processed:n}))},Or=sr("img",{target:"er8lhlf9"})({name:"18p3jlm",styles:"height:32px;width:32px;max-width:32px;max-height:32px;overflow:hidden;border-radius:50%;box-shadow:2px 2px 2px rgb(0 0 0 / 5%)"}),kr=sr(c.NavigableMenu,{target:"er8lhlf8"})({name:"1pw29mq",styles:"border:1px solid #9E9E9E;background-color:#fff;margin-bottom:1rem;padding:0.3rem"}),Sr=function(e){var t=e.height,n=e.width,r=e.maxWidth;return ur("height:",t=t||"16px",";width:",n=n||"80%",";max-width:",r=r||"120px",";","")},Cr=sr("div",{target:"er8lhlf7"})(Sr,";display:inline-block;min-height:1em;vertical-align:middle;cursor:wait;background-color:currentColor;opacity:.5;animation:placeholder-glow 2s ease-in-out infinite;@keyframes placeholder-glow{50%{opacity:.2;}}"),jr=sr("div",{target:"er8lhlf6"})({name:"kl0c99",styles:"overflow-x:auto;&>table{width:100%;border-collapse:collapse;}"}),Pr=sr("tr",{target:"er8lhlf5"})({name:"o3suck",styles:"background-color:transparent;&:hover,&:focus-within,&:hover td,&:hover th{background-color:#f8f9fa;}&:last-child td,&:last-child th:not(.noptin-table__header){border-bottom:0;}"}),Rr=function(e){var t=e.align,n=void 0===t?"left":t,r=e.minWidth,a=void 0===r?"160px":r;a=a||"auto";var o="center"===(n=n||"left")?"center":"space-between",i="";return e.isSorted&&(i="\n\t\t\tbackground-color: #f8f9fa;\n\t\t\t&:not(:first-child) {\n\t\t\t\tborder-left: 1px solid ".concat(pr,";\n\t\t\t}\n\t\t\t&:not(:last-child) {\n\t\t\t\tborder-right: 1px solid ").concat(pr,";\n\t\t\t}\n\t\t\t& > .components-button svg,\n\t\t\t& > .components-button .dashicon {\n\t\t\t\tvisibility: visible !important;\n\t\t\t}\n\t\t")),ur("text-align:",n,";min-width:",a,";",i," &>.components-button{justify-content:",o,";}&>a:only-child{display:block;}","")},Dr=sr("th",{target:"er8lhlf4"})("padding:16px;background-color:#f8f9fa;font-weight:bold;white-space:nowrap;",Rr,";border-bottom:1px solid ",pr,";&>.components-button{height:auto;width:100%;text-align:left;vertical-align:middle;line-height:1;font-weight:bold;background:transparent!important;box-shadow:none!important;padding:0;}&>.components-button svg,&>.components-button .dashicon{visibility:hidden;margin-left:4px;}&>.components-button:hover svg,&>.components-button:hover .dashicon{visibility:visible;}"),Ar=sr("td",{target:"er8lhlf3"})("padding:16px;border-bottom:1px solid ",pr,";font-weight:normal;",Rr,";"),Fr=sr("td",{target:"er8lhlf2"})({name:"17w81qe",styles:"text-align:left;color:#757575;font-weight:bold;padding:16px 24px;@media (min-width: 782px){padding:2rem;font-size:1.125rem;}"}),Tr=sr("ul",{target:"er8lhlf1"})({name:"t5eiud",styles:"text-align:center;margin:0;&>li{display:inline-block;margin-bottom:0;margin-left:8px;margin-right:8px;}&>li>strong{margin-right:4px;display:inline-block;}"}),Ir=function(e){var t=e.color,n=e.backgroundColor;return ur("background-color:",n=n||"#efeeea",";color:",t=t||"#241c15",";","")},Nr=sr("span",{shouldForwardProp:function(e){return!["color","backgroundColor"].includes(e)},target:"er8lhlf0"})(Ir," white-space:nowrap;border-radius:200px;height:24px;line-height:24px;padding:3px 9px;display:inline-block;");const Mr=window.wp.date;function Br(e){return function(e){if(Array.isArray(e))return me(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||he(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Lr=[0,100],zr=[0,100],qr=function(e){return"".concat(1===e.length?"0":"").concat(e)},$r=function(e,t,n){return Math.max(Math.min(e,n),t)},Hr=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},Ur=function e(t,n,r){for(var a=Hr(t,n),o=0;o<(null==r?void 0:r.length);o++){var i=r[o];if(2===(null==i?void 0:i.length)&&a>=i[0]&&a<=i[1])return e(t,n,r)}return a},Wr=function(e,t){return"number"==typeof t?t:e%Math.abs(t[1]-t[0])+t[0]},Vr=function(e,t){return"number"==typeof e?$r.apply(void 0,[Math.abs(e)].concat(Br(t))):1===e.length||e[0]===e[1]?$r.apply(void 0,[Math.abs(e[0])].concat(Br(t))):[Math.abs($r.apply(void 0,[e[0]].concat(Br(t)))),$r.apply(void 0,[Math.abs(e[1])].concat(Br(t)))]},Qr=function(e,t,n){return n<0?n+=1:n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},Kr=function(e,t,n){var r,a,o;if(e/=360,n/=100,0==(t/=100))r=a=o=n;else{var i=n<.5?n*(1+t):n+t-n*t,l=2*n-i;r=Qr(l,i,e+1/3),a=Qr(l,i,e),o=Qr(l,i,e-1/3)}return[Math.round(255*r),Math.round(255*a),Math.round(255*o)]},Gr=function(e,t,n,r){return(299*e+587*t+114*n)/1e3>=r},Yr=function(e,t,n){return"hsl(".concat(e,", ").concat(t,"%, ").concat(n,"%)")},Jr=function(e,t,n,r){return"rgb"===r?"rgb(".concat(e,", ").concat(t,", ").concat(n,")"):"#".concat(qr(e.toString(16))).concat(qr(t.toString(16))).concat(qr(n.toString(16)))},Xr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.format,r=void 0===n?"hex":n,a=t.saturation,o=void 0===a?[50,55]:a,i=t.lightness,l=void 0===i?[50,60]:i,c=t.differencePoint,s=void 0===c?130:c,u=Math.abs(function(e){for(var t=e.length,n=0,r=0;r<t;r++)n=(n<<5)-n+e.charCodeAt(r),n&=n;return n}(String(e))),p=Wr(u,[0,360]),d=Wr(u,Vr(o,Lr)),f=Wr(u,Vr(l,zr)),m=ge(Kr(p,d,f),3),h=m[0],g=m[1],v=m[2];return{color:"hsl"===r?Yr(p,d,f):Jr(h,g,v,r),isLight:Gr(h,g,v,s)}};Xr.random=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.format,n=void 0===t?"hex":t,r=e.saturation,a=void 0===r?[50,55]:r,o=e.lightness,i=void 0===o?[50,60]:o,l=e.differencePoint,c=void 0===l?130:l,s=e.excludeHue;a=Vr(a,Lr),i=Vr(i,zr);var u=s?Ur(0,359,s):Hr(0,359),p="number"==typeof a?a:Hr.apply(void 0,Br(a)),d="number"==typeof i?i:Hr.apply(void 0,Br(i)),f=ge(Kr(u,p,d),3),m=f[0],h=f[1],g=f[2];return{color:"hsl"===n?Yr(u,p,d):Jr(m,h,g,n),isLight:Gr(m,h,g,c)}};const Zr=Xr;function ea(e){if(["subscribed","active","yes","true","1"].includes(e))return{backgroundColor:"#78c67a",color:"#111111"};if(["unsubscribed","inactive","no","false","0"].includes(e))return{backgroundColor:"#fbcfbd",color:"#241c15"};if(["pending","waiting","maybe","2"].includes(e))return{backgroundColor:"#fbeeca",color:"#241c15"};var t=Zr(e,{saturation:[60,100],lightness:[30,45]});return{backgroundColor:t.color,color:t.isLight?"#111111":"#ffffff"}}function ta(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function na(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ta(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ta(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ra(){var e=H(),t=e.namespace,n=e.collection;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Ne(Te({},"/".concat(t,"/").concat(n,"/").concat(e)))}}function aa(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Ae();t.endsWith("/")&&(t.substring(0,t.length-1),function(e){throw new TypeError('"path" is read-only')}()),e.startsWith("/")||(e="/".concat(e)),Ne(Te({},"".concat(t).concat(e)))}}function oa(e,t){if(e.length>0)return{include:e.join(","),number:-1};var n=na(na({},t),{},{number:-1});return["order","hizzle_path","orderby","paged","page"].forEach((function(e){delete n[e]})),n}function ia(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function la(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ia(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ia(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ca=function(e,t){if(!e)return e;var n=(0,l.getQueryArg)(e,"d");if(!n||!n.includes("ui-avatars.com"))return e;var r=n.match(/\/api\/(.*?)\/64\//),a=r&&r.length>1?r[1]:n,o=ea(t||a),i=n.indexOf("/64/");return-1!==i?(0,l.addQueryArgs)(e,{d:"".concat(n.substring(0,i+4),"/").concat(o.backgroundColor.replace("#",""),"/").concat(o.color.replace("#",""))}):e},sa=function(e){var t=e.record,n=e.name,a=e.basePath,o=void 0===a?"":a,l=ra(),s=t[n],u=ca(t.avatar_url,s),p=u?(0,r.createElement)(Or,{src:u,alt:s}):null,d=(0,i.useCallback)((function(){return l("".concat(o).concat(t.id))}),[o,t.id]),f=p?(0,r.createElement)(c.Flex,null,(0,r.createElement)(c.FlexItem,null,p),(0,r.createElement)(c.FlexBlock,null,s)):s;return(0,r.createElement)(c.Button,{variant:"link",style:{width:"100%",alignItems:"start",textDecoration:"none"},onClick:d},f)},ua=function(e){var t=e.value,n=e.enums,a=void 0===n?{}:n,o=ge((0,i.useState)(!1),2),l=o[0],s=o[1],u=l?t:t.slice(0,2),p=t.length>2;return(0,r.createElement)(c.Flex,{gap:2,justify:"flex-start",wrap:!0},u.map((function(e){return(0,r.createElement)(c.FlexItem,{key:e},(0,r.createElement)(Nr,la({},ea(e)),a[e]||e))})),p&&(0,r.createElement)(c.FlexItem,null,(0,r.createElement)(c.Button,{variant:"link",onClick:function(){return s(!l)}},l?(0,ue.__)("Hide","newsletter-optin-box"):(0,ue.__)("Show all","newsletter-optin-box"))))};function pa(e){var t,n=e.row,a=e.header,o=e.headerKey,i=n[o];if(null==i||""===i)return(0,r.createElement)("span",{className:"noptin-table__cell--null"},"â€“");if(Array.isArray(i)&&0===i.length)return(0,r.createElement)("span",{className:"noptin-table__cell--null"},"â€“");if(a.is_primary&&"string"==typeof i)return(0,r.createElement)(sa,{record:n,name:o,basePath:a.basePath||""});if(a.is_boolean){var l=i?"yes":"no",s=i?"#3a9001":"#880000";return(0,r.createElement)(c.Icon,{size:24,style:{color:s},icon:l})}if(a.is_date&&i){var u=Mr.getSettings?(0,Mr.getSettings)():(0,Mr.__experimentalGetSettings)();return 10===i.length?(0,Mr.dateI18n)(u.formats.date,i):(0,Mr.dateI18n)(u.formats.datetime,i)}return a.is_tokens&&Array.isArray(i)?(0,r.createElement)(ua,{value:i}):a.enum&&Array.isArray(i)?(0,r.createElement)(ua,{value:i,enums:a.enum}):a.is_numeric||a.is_float||"string"==typeof i?(t=a.enum)&&"object"===ve(t)&&t.constructor===Object?(0,r.createElement)(Nr,la({},ea(i)),a.enum[i]||i):i:JSON.stringify(i)}var da=function(e){var t,n,a=e.namespace,o=e.collection,l=e.append,s=e.avatarURL,u=e.isSingle,p=e.schema;s=ca(s||(null==p?void 0:p.avatar_url),l),l=l?" - ".concat(l):"";var d=(0,i.useMemo)((function(){var e,t;return u&&null!=p&&null!==(e=p.labels)&&void 0!==e&&e.singular_name?"".concat(p.labels.singular_name).concat(l):null!=p&&null!==(t=p.labels)&&void 0!==t&&t.name?"".concat(p.labels.name).concat(l):"Noptin".concat(l)}),[p,l]);return(0,r.createElement)(c.Flex,{justify:"start",wrap:!0},(0,r.createElement)(c.FlexItem,null,s&&(0,r.createElement)(Or,{src:s,alt:d,width:24,height:24})),(0,r.createElement)(c.FlexItem,null,(0,r.createElement)(c.__experimentalText,{size:16,weight:600,as:"h2",color:"#23282d"},d)),(0,r.createElement)(c.FlexItem,null,"/".concat(a,"/").concat(o)!==Ae()?(0,r.createElement)(c.Button,{variant:"primary",onClick:function(){return Ne(Te({},"/".concat(a,"/").concat(o)))},style:{marginLeft:"10px"}},(null==p||null===(t=p.labels)||void 0===t?void 0:t.view_items)||(0,ue.__)("View Records","newsletter-optin-box")):(0,r.createElement)(c.Button,{variant:"primary",onClick:function(){return Ne(Te({},"/".concat(a,"/").concat(o,"/add")))},style:{marginLeft:"10px"}},(null==p||null===(n=p.labels)||void 0===n?void 0:n.add_new)||(0,ue.__)("Add New","newsletter-optin-box"))))},fa=function(e){var t=e.namespace,n=e.collection,a=e.id,o=e.schema,i=Tt(t,n,a);if("SUCCESS"!==i.status)return(0,r.createElement)(da,{namespace:t,collection:n,schema:o,isSingle:!0});var l=o.id_prop?i.data[o.id_prop]:"",c=i.data.avatar_url;return(0,r.createElement)(da,{namespace:t,collection:n,append:l,avatarURL:c,schema:o,isSingle:!0})},ma=function(e){var t=e.schema,n=e.namespace,a=e.collection,o=e.id;return(0,r.createElement)(c.Card,null,(0,r.createElement)(c.CardHeader,null,(0,r.createElement)(c.Flex,{wrap:!0},(0,r.createElement)(c.FlexBlock,null,o?(0,r.createElement)(fa,{namespace:n,collection:a,id:o,schema:t}):(0,r.createElement)(da,{namespace:n,collection:a,schema:t})),t.routes&&Object.keys(t.routes).map((function(e){return(0,r.createElement)(c.FlexItem,{key:e},t.routes[e].href?(0,r.createElement)(c.Button,{href:t.routes[e].href,variant:"secondary"},t.routes[e].title):(0,r.createElement)(c.Button,{onClick:function(){return Ne(Te({},e))},variant:"secondary"},t.routes[e].title))})))))};const ha=function(e){var t=e.upsell;if(!t)return null;var n=t.content,a=t.buttonURL,o=t.buttonText;return(0,r.createElement)(gr,null,(0,r.createElement)(c.Tip,null,n,(0,r.createElement)(c.Button,{href:a,target:"_blank",variant:"link"},o)))};function ga(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function va(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ga(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ga(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ba=function(e){return function(e){return function(e,t){const n=(0,r.forwardRef)(((n,a)=>(0,r.createElement)(se,t,(0,r.createElement)(e,{...n,ref:a})))),a=e.displayName||e.name||"Unknown";return n.displayName="withErrorBoundary(".concat(a,")"),n}(e,{FallbackComponent:pe})}((function(t){var n,a=Nt(t.namespace,t.collection);return a.isResolving||!a.hasResolved?(0,r.createElement)(Me,{title:(0,ue.__)("Loading","newsletter-optin-box")},(0,r.createElement)(c.CardBody,null,(0,r.createElement)(c.Spinner,null))):"ERROR"===a.status?(0,r.createElement)(Me,{title:(0,ue.__)("Error","newsletter-optin-box")},(0,r.createElement)(c.CardBody,null,(0,r.createElement)(c.Notice,{status:"error",isDismissible:!1},(null===(n=a.error)||void 0===n?void 0:n.message)||(0,ue.__)("An unknown error occurred.","newsletter-optin-box")))):(0,r.createElement)(e,va(va({},t),{},{schema:a.data}))}))},ya=ba((function(e){var t=e.namespace,n=e.collection,a=e.isParent,o=e.id,i=e.schema;return(0,r.createElement)(c.Flex,{gap:2,direction:"column"},a&&(0,r.createElement)(c.FlexItem,null,(0,r.createElement)(ma,{namespace:t,collection:n,id:o,schema:i})),(0,r.createElement)(c.FlexBlock,null,(0,r.createElement)(de,null,(0,r.createElement)(J,null))),i.fills&&i.fills.map((function(e){return(0,r.createElement)(c.Fill,{key:e.name,name:"".concat(e.name).concat(a?"":"--inner")},(0,r.createElement)(de,null,e.content&&(0,r.createElement)("span",{dangerouslySetInnerHTML:{__html:e.content}}),e.upsell&&(0,r.createElement)(ha,{upsell:e.upsell})))})))})),wa=function(){var e=H(),t=e.namespace,n=e.collection,a=e.id;return(0,r.createElement)(ya,{namespace:t,collection:n,id:a,isParent:!0})},Ea=function(){var e,t=H(),n=t.id,a=t.tab,o=t.innerTab,l=t.innerNamespace,s=t.innerCollection,u=t.innerId,p=ra(),d=(0,i.useCallback)((function(){return p("".concat(n,"/").concat(a))}),[p,a,n]),f=(null===(e=Nt(l,s).data)||void 0===e?void 0:e.labels)||{},m={add_new_item:(0,ue.__)("Add New Item","newsletter-optin-box"),view_item:(0,ue.__)("View Item","newsletter-optin-box")},h={add:"add_new_item",edit:"view_item"},g=h[o]?f[h[o]]||m[h[o]]:f.name||(0,ue.__)("Items","newsletter-optin-box");return(0,r.createElement)(c.Modal,{title:g,onRequestClose:d},(0,r.createElement)(ya,{namespace:l,collection:s,id:u,isParent:!1}))};function _a(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var xa=n(640),Oa=n.n(xa);function ka(e){var t=e.label,n=e.value,a=t.toLowerCase().replace(/[^a-z0-9]/g,"-");return(0,r.createElement)("li",{className:"noptin-list-item noptin-list-item__".concat(a)},(0,r.createElement)("div",{className:"noptin-list-item__key"},t),(0,r.createElement)("div",{className:"noptin-list-item__value"},n))}function Sa(e){var t=e.items;return(0,r.createElement)("ul",{className:"noptin-component__list"},t.map((function(e){return(0,r.createElement)(ka,{key:e.label,label:e.label,value:e.value})})))}var Ca={name:"173gwd3",styles:"background-color:#f8f9fa;color:#212529;& h2,& h3{color:#212529;}"},ja={name:"p3ituj",styles:"background-color:#212529;color:#f8f9fa;& h2,& h3{color:#f8f9fa;}"},Pa={name:"1qvos4g",styles:"background-color:#f8cbcb;color:#cc1818;& h2,& h3{color:#cc1818;}"},Ra={name:"1kbuu37",styles:"background-color:#fff3cd;color:#856404;& h2,& h3{color:#856404;}"},Da={name:"1k1g68i",styles:"background-color:#cbeeff;color:#0c5460;& h2,& h3{color:#0c5460;}"},Aa={name:"1dlti2z",styles:"background-color:#d4edda;color:#155724;& h2,& h3{color:#155724;}"},Fa=function(e){var t=e.status;return"success"===t?Aa:"info"===t?Da:"warning"===t?Ra:"error"===t?Pa:"dark"===t?ja:Ca},Ta=sr("div",{target:"ec8eek20"})(Fa,";padding:0.25rem;text-align:center;box-shadow:2px 2px 2px rgb(0 0 0 / 5%);min-width:100px;border-radius:4px;");function Ia(e){var t=e.value,n=e.label,a=e.status;return(0,r.createElement)(Ta,{status:a},(0,r.createElement)(c.Flex,{direction:"column",justify:"center",style:{minHeight:"100px"}},(0,r.createElement)(c.FlexItem,null,(0,r.createElement)(c.__experimentalText,{size:48,weight:600,as:"h2"},t)),(0,r.createElement)(c.FlexItem,null,(0,r.createElement)(c.__experimentalText,{size:13,weight:400,as:"h3"},n))))}var Na=["links"];function Ma(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ba(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ma(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ma(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var La=function(e){var t=e.items,n=e.title;return(0,r.createElement)(c.Card,{className:dr},(0,r.createElement)(c.CardHeader,null,n),(0,r.createElement)(c.CardBody,null,(0,r.createElement)(Sa,{items:t})))},za=function(e){var t=e.cards;return(0,r.createElement)(c.Flex,{className:dr,gap:2,justify:"flex-end",wrap:!0},t.map((function(e){var t=e.title,n=e.value,a=e.status;return(0,r.createElement)(c.FlexItem,{key:t},(0,r.createElement)(Ia,{status:a||"info",label:t,value:(0,r.createElement)("span",{dangerouslySetInnerHTML:{__html:n}})}))})))},qa=function(e){var t=e.content,n=e.buttonText,a=e.buttonLink;return(0,r.createElement)(c.Card,{className:dr,variant:"secondary"},(0,r.createElement)(c.CardBody,null,(0,r.createElement)("div",{className:dr,dangerouslySetInnerHTML:{__html:t}}),n&&a&&(0,r.createElement)(c.Button,{variant:"secondary",href:a,text:n})))},$a=function(e){var t=e.confirm,n=e.label,a=e.namespace,o=e.collection,i=e.id,l=e.basePath,s=Tt(a,o,i),u=ra();return(0,r.createElement)(c.FlexItem,null,(0,r.createElement)(c.Button,{isDestructive:!0,onClick:function(){window.confirm(t||(0,ue.__)("Are you sure you want to delete this record?","newsletter-optin-box"))&&(s.delete(),u(l))},variant:"secondary"},n))},Ha=function(e){var t=e.value,n=e.label,a=ge((0,i.useState)(!1),2),o=a[0],l=a[1];return(0,r.createElement)(c.FlexItem,null,(0,r.createElement)(c.Button,{onClick:function(){Oa()(t,{format:"text/plain",onCopy:function(){l(!0),setTimeout((function(){l(!1)}),1e3)}})},variant:"secondary"},o?(0,r.createElement)(mr,null," ",(0,ue.__)("Copied to clipboard!","newsletter-optin-box")," "):n))},Ua=function(e){var t=e.links,n=_a(e,Na);return(0,r.createElement)(c.Flex,{className:dr,justify:"flex-end",gap:2,wrap:!0},t.map((function(e){var t=e.label,a=e.value,o=e.action;return e.hide?null:"delete"===o?(0,r.createElement)($a,Ba({key:t,label:t,confirm:a},n)):"copy"===o?(0,r.createElement)(Ha,Ba({key:t,label:t,value:a},n)):(0,r.createElement)(c.FlexItem,{key:t},(0,r.createElement)(c.Button,{href:a,variant:"secondary",target:"_blank"},t))})))},Wa=function(e){var t=e.namespace,n=e.collection,a=e.id,o=e.basePath,i=function(e,t,n){return n=parseInt(n,10),At((function(r){return r(Pt(e,t)).getRecordOverview(n)}),[e,t,n])}(t,n,a);return i.isResolving?(0,r.createElement)(r.Fragment,null,(0,r.createElement)(c.Flex,{className:dr,gap:4,wrap:!0},[1,2,3].map((function(e){return(0,r.createElement)(c.FlexItem,{key:e},(0,r.createElement)(Cr,{width:"100px",height:"100px"}))})))):"ERROR"!==i.status&&Array.isArray(i.data)&&i.data.length?(0,r.createElement)(r.Fragment,null,i.data.map((function(e,i){switch(e.type){case"stat_cards":return(0,r.createElement)(za,{key:i,cards:e.cards});case"action_links":return(0,r.createElement)(Ua,{key:i,links:e.links,namespace:t,collection:n,id:a,basePath:o});case"card":return(0,r.createElement)(qa,Ba({key:i},e));case"card_list":return(0,r.createElement)(La,Ba({key:i},e));default:return null}}))):null};const Va=window.wp.primitives,Qa=(0,r.createElement)(Va.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(Va.Path,{d:"M6.6 6L5.4 7l4.5 5-4.5 5 1.1 1 5.5-6-5.4-6zm6 0l-1.1 1 4.5 5-4.5 5 1.1 1 5.5-6-5.5-6z"}));function Ka(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ga(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ka(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ka(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ya=[{label:(0,ue.__)("Only run if","newsletter-optin-box"),value:"allow"},{label:(0,ue.__)("Do not run if","newsletter-optin-box"),value:"prevent"}],Ja=[{label:(0,ue.__)("all","newsletter-optin-box"),value:"all"},{label:(0,ue.__)("any","newsletter-optin-box"),value:"any"}];function Xa(e,t){return(0,i.useMemo)((function(){return[{label:t,value:"",disabled:!0}].concat(Br(e))}),[e,t])}function Za(e){var t=e.type,n=e.action,a=e.ruleCount,o=e.setConditionalLogicAttribute,i=a>1;return(0,r.createElement)(c.Flex,{className:"noptin-component__field-lg",wrap:!0},(0,r.createElement)(c.FlexItem,null,(0,r.createElement)(c.SelectControl,{label:(0,ue.__)("If","newsletter-optin-box"),hideLabelFromVision:!0,value:n||"allow",options:Ya,onChange:function(e){return o("action",e)},size:"default",__nextHasNoMarginBottom:!0})),i&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(c.FlexItem,null,(0,r.createElement)(c.SelectControl,{label:(0,ue.__)("all","newsletter-optin-box"),hideLabelFromVision:!0,value:t||"all",options:Ja,onChange:function(e){return o("type",e)},size:"default",__nextHasNoMarginBottom:!0})),(0,r.createElement)(c.FlexBlock,null,(0,ue.__)("of the following rules are true:","newsletter-optin-box"))))}function eo(e){var t,n=e.rule,a=e.comparisons,o=e.availableSmartTags,l=e.index,s=e.updateRule,u=e.removeRule,p=(0,i.useCallback)((function(e){return s(l,"value",e)}),[l,s]),d=(0,i.useCallback)((function(e){return s(l,"condition",e)}),[l,s]),f=(0,i.useCallback)((function(){return u(l)}),[l,u]),m=(0,i.useMemo)((function(){var e=n.type;if(void 0!==o[e])return o[e];var t,r=e.replace("_",".",1);if(void 0!==o[r])return o[r];for(var a=0,i=Object.entries(o);a<i.length;a++){var l=ge(i[a],2),c=l[0],s=l[1];if(-1!==c.indexOf(".")&&c.split(".").slice(1).join(".")===e)return s;if(s.deprecated&&(t=s.deprecated,Array.isArray(t)?t:t.split(/[\s,]+/)).includes(e))return s}return null}),[n.type,o]),h=(0,i.useMemo)((function(){if(!m)return n.type;var e=m.group||"General",t=m.label||n.type;return"".concat(e," >> ").concat(t)}),[n.type,o]),g=Xa((t=null==m?void 0:m.options,(0,i.useMemo)((function(){return t?Array.isArray(t)?t.map((function(e,t){return{label:e,value:t}})):Object.keys(t).map((function(e){return{label:t[e],value:e}})):[]}),[t])),(0,ue.__)("Select a value","newsletter-optin-box")),v=g.length>1,b=(null==m?void 0:m.conditional_logic)||"string",y=Xa((0,i.useMemo)((function(){var e=[];return Object.keys(a).forEach((function(t){var n=a[t].type;if(v){if("string"===b&&"is"!=t&&"is_not"!=t)return;if("is_empty"===t||"is_not_empty"===t||"is_between"===t)return}"any"!==n&&n!=b||e.push({label:a[t].name,value:t})})),e}),[b,a]),(0,ue.__)("Select a comparison","newsletter-optin-box")),w="is_empty"===n.condition||"is_not_empty"===n.condition;return(0,r.createElement)(c.Flex,{className:"noptin-component__field-lg",wrap:!0,expanded:!0},(0,r.createElement)(c.FlexBlock,null,(0,r.createElement)(Nr,Ga({},ea(h)),h)),(0,r.createElement)(c.FlexBlock,null,(0,r.createElement)(c.Flex,{justify:"flex-end",wrap:!0},(0,r.createElement)(c.FlexItem,null,(0,r.createElement)(c.SelectControl,{label:(0,ue.__)("Comparison","newsletter-optin-box"),hideLabelFromVision:!0,value:n.condition?n.condition:"is",options:y,onChange:d,size:"default",__nextHasNoMarginBottom:!0})),!w&&(0,r.createElement)(c.FlexBlock,null,v&&(0,r.createElement)(c.SelectControl,{label:(0,ue.__)("Value","newsletter-optin-box"),hideLabelFromVision:!0,value:n.value?n.value:"",options:g,onChange:p,size:"default",__nextHasNoMarginBottom:!0}),!v&&(0,r.createElement)(c.TextControl,{type:"number"===b?"number":"text",label:(0,ue.__)("Value","newsletter-optin-box"),hideLabelFromVision:!0,value:n.value?n.value:"",onChange:p,__nextHasNoMarginBottom:!0})),(0,r.createElement)(c.FlexItem,null,(0,r.createElement)(c.Button,{onClick:f,icon:"trash",variant:"tertiary",isDestructive:!0})))))}function to(e){var t=e.rules,n=e.comparisons,a=e.availableSmartTags,o=e.setConditionalLogicAttribute,l=(0,i.useMemo)((function(){return Array.isArray(t)?t.filter((function(e){return e.type&&""!==e.type})):[]}),[a]),c=(0,i.useMemo)((function(){var e={};return a.forEach((function(t){t.conditional_logic&&(e[t.smart_tag]=Ga(Ga({},t),{},{key:t.smart_tag,type:t.conditional_logic}))})),e}),[a]),s=(0,i.useCallback)((function(e){var t=Br(l);t.splice(e,1),o("rules",t)}),[l,o]),u=(0,i.useCallback)((function(e,t,n){var r=Br(l);r[e][t]=n,o("rules",r)}),[l,o]),p=(0,i.useMemo)((function(){return Object.values(c)}),[c]),d=(0,i.useCallback)((function(e){var t=c[e],n=(null==t?void 0:t.options)||[],r=(null==t?void 0:t.placeholder)||"",a=Array.isArray(n)&&n.length?Object.keys(n)[0]:r;null!=t&&t.default&&(a=t.default);var i=Br(l);i.push({type:e,condition:"is",value:a}),o("rules",i)}),[l]),f=l.length?(0,ue.__)("Add a rule","newsletter-optin-box"):(0,ue.__)("Add another rule","newsletter-optin-box"),m=ho({availableSmartTags:p,onMergeTagClick:d,raw:!0,icon:"plus",label:f,text:f,toggleProps:{variant:"secondary"}});return(0,r.createElement)("div",{className:"noptin-conditional-logic-rules"},l.map((function(e,t){return(0,r.createElement)(eo,{key:t,rule:e,index:t,updateRule:u,removeRule:s,comparisons:n,availableSmartTags:c})})),m)}function no(e){var t=e.onChange,n=e.value,a=e.comparisons,o=e.toggleText,i=e.availableSmartTags,l=e.className;"object"!==ve(n)&&(n={enabled:!1,action:"allow",rules:[{condition:"is",type:"date",value:""}],type:"all"});var s=function(e,r){t(Ga(Ga({},n),{},be({},e,r)))};return(0,r.createElement)("div",{className:l},(0,r.createElement)(c.ToggleControl,{checked:!!n.enabled,onChange:function(e){return s("enabled",e)},className:"noptin-component__field",label:o||(0,ue.__)("Optionally enable/disable this trigger depending on specific conditions.","newsletter-optin-box"),__nextHasNoMarginBottom:!0}),n.enabled&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(Za,{ruleCount:Array.isArray(n.rules)?n.rules.length:0,type:n.type,action:n.action,setConditionalLogicAttribute:s}),(0,r.createElement)(to,{rules:n.rules,comparisons:a,availableSmartTags:i,setConditionalLogicAttribute:s})))}var ro={"==":function(e,t){return e==t},"===":function(e,t){return e===t},"!=":function(e,t){return e!=t},"!==":function(e,t){return e!==t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},includes:function(e,t){return e.includes(t)},"!includes":function(e,t){return!e.includes(t)},empty:function(e){return!e},"!empty":function(e){return e}},ao=function(e,t,n){return!!ro[t]&&ro[t](e,n)},oo=["setting","availableSmartTags","isPressEnterToChange"],io=["availableSmartTags","onMergeTagClick","raw","icon","label"],lo=["setting","availableSmartTags","value","onChange"],co=["setting","value","options","onChange"];function so(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?so(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):so(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var po=["number","search","email","password","tel","url","date"];function fo(e){var t=e.setting,n=e.availableSmartTags,a=e.isPressEnterToChange,o=_a(e,oo);void 0===a&&(a=!0);var l=ho({availableSmartTags:n,onMergeTagClick:(0,i.useCallback)((function(e){o.onChange&&o.onChange(o.value?"".concat(o.value," ").concat(e).trim():e)}),[o.value,o.onChange])});return"string"==typeof o.suffix||o.suffix instanceof String?o.suffix=(0,r.createElement)(c.__experimentalInputControlSuffixWrapper,null,o.suffix):o.suffix=l,t.disabled&&(o.readOnly=!0,o.onFocus=function(e){return e.target.select()}),("string"==typeof o.prefix||o.prefix instanceof String)&&(o.prefix=(0,r.createElement)(c.__experimentalInputControlPrefixWrapper,null,o.prefix)),(0,r.createElement)(r.Fragment,null,(0,r.createElement)(c.__experimentalInputControl,uo(uo({},o),{},{type:po.includes(t.type)?t.type:"text",placeholder:t.placeholder?t.placeholder:"",isPressEnterToChange:a,__nextHasNoMarginBottom:!0,__next36pxDefaultSize:!0})))}var mo=[{id:"key",label:(0,ue.__)("Key","noptin-addons-pack"),type:"text"},{id:"value",label:(0,ue.__)("Value","noptin-addons-pack"),type:"text"}];function ho(e){var t=e.availableSmartTags,n=void 0===t?[]:t,a=e.onMergeTagClick,o=void 0===a?function(){}:a,l=e.raw,s=void 0!==l&&l,u=e.icon,p=void 0===u?"shortcode":u,d=e.label,f=void 0===d?(0,ue.__)("Insert merge tag","newsletter-optin-box"):d,m=_a(e,io),h=function(e){return(0,i.useMemo)((function(){if(!Array.isArray(e))return{};var t={};return e.forEach((function(e){var n=e.group?e.group:(0,ue.__)("General","newsletter-optin-box");Array.isArray(t[n])||(t[n]=[]),t[n].push(e)})),t}),[e])}(n),g=Object.keys(h).length,v=null;return g>0&&(v=(0,r.createElement)(c.DropdownMenu,uo({icon:p,label:f},m),(function(e){var t=e.onClose;return(0,r.createElement)(r.Fragment,null,Object.keys(h).map((function(e,n){return(0,r.createElement)(c.MenuGroup,{label:g>1?e:void 0,key:n},h[e].map((function(e){return(0,r.createElement)(c.MenuItem,{icon:e.icon||Qa,iconPosition:"left",onClick:function(){if(o){var n=s?e.smart_tag:"[[".concat((r=e).example?r.example:r.default?"".concat(r.smart_tag,' default="').concat(r.default,'"'):"".concat(r.smart_tag),"]]");o(n)}var r;t()},key:e.smart_tag},e.label)})))})))}))),v}function go(e){var t=e.setting,n=e.availableSmartTags,a=e.value,o=e.onChange,l=_a(e,lo),s=(0,c.useBaseControlProps)(l),u=s.baseControlProps,p=s.controlProps;Array.isArray(a)||(a=[]);var d=(0,i.useCallback)((function(e){var t=e.item,i=e.index;return(0,r.createElement)(c.Flex,{className:"noptin-repeater-item",wrap:!0},mo.map((function(e,l){return(0,r.createElement)(vo,{key:l,availableSmartTags:n,field:e,value:void 0===t[e.id]?"":t[e.id],onChange:function(t){var n=Br(a);n[i][e.id]=t,o(n)}})})),(0,r.createElement)(c.FlexItem,null,(0,r.createElement)(c.Button,{icon:"trash",variant:"tertiary",className:"noptin-component__field",label:(0,ue.__)("Delete","noptin-addons-pack"),showTooltip:!0,onClick:function(){var e=Br(a);e.splice(i,1),o(e)},isDestructive:!0})))}),[a,o]);return(0,r.createElement)(c.BaseControl,uo({},u),(0,r.createElement)("div",uo({},p),a.map((function(e,t){return(0,r.createElement)(d,{key:t,item:e,index:t})})),(0,r.createElement)(c.Button,{onClick:function(){var e=Br(a);e.push({}),o(e)},variant:"secondary"},t.add_field?t.add_field:(0,ue.__)("Add","newsletter-optin-box"))))}function vo(e){var t=e.field,n=e.availableSmartTags,a=e.value,o=e.onChange,l=ho({availableSmartTags:n,onMergeTagClick:(0,i.useCallback)((function(e){o&&o(a?"".concat(a," ").concat(e).trim():e)}),[a,o])});return(0,r.createElement)(c.FlexBlock,null,(0,r.createElement)(c.__experimentalInputControl,{label:t.label,type:t.type,value:a,placeholder:(0,ue.sprintf)((0,ue.__)("Enter %s","noptin-addons-pack"),t.label),className:"noptin-component__field noptin-condition-field",suffix:l,onChange:o,isPressEnterToChange:!0,__nextHasNoMarginBottom:!0,__next36pxDefaultSize:!0}))}function bo(e){e.setting;var t=e.value,n=e.options,a=e.onChange,o=_a(e,co),i=(0,c.useBaseControlProps)(o),l=i.baseControlProps,s=i.controlProps;return Array.isArray(t)||(t=[]),(0,r.createElement)(c.BaseControl,uo({},l),(0,r.createElement)("div",uo({},s),n.map((function(e,n){return(0,r.createElement)(c.CheckboxControl,{key:n,label:e.label,checked:t.includes(e.value),onChange:function(n){a(n?[].concat(Br(t),[e.value]):t.filter((function(t){return t!==e.value})))}})}))))}function yo(e){var t=e.settingKey,n=e.setting,a=e.availableSmartTags,o=e.prop,l=e.saved,s=e.setAttributes,u=(0,i.useCallback)((function(e){if(!o)return s(be({},t,e));var n=l[o]?l[o]:{},r=be({},o,uo(uo({},n),{},be({},t,e)));s(r)}),[t,o,l,s]);if(n.if||n.restrict){var p=n.restrict?n.restrict.split("."):n.if.split(".");if(!(2!==p.length||l[p[0]]&&l[p[0]][p[1]]))return null;if(1===p.length&&!l[p[0]])return null}if(Array.isArray(n.conditions)){var d=n.conditions.every((function(e){var t=e.key.split("."),n=e.operator?e.operator:"==",r=l[t[0]];return 2===t.length?r&&r[t[1]]&&ao(e.value,n,r[t[1]]):ao(e.value,n,r)}));if(!d)return null}if(n.condition&&!n.condition(l))return null;var f=l[t];o&&(f=l[o]?l[o][t]:void 0),(void 0===f||n.disabled)&&(f=n.default);var m=void 0!==f&&""!==f&&null!==f,h=[];n.options&&(h=Object.keys(n.options).map((function(e){return{label:n.options[e],value:e}})));var g=n.fullWidth?"noptin-component__field noptin-component__field-".concat(t):"noptin-component__field-lg noptin-component__field-".concat(t),v=n.description?(0,r.createElement)("span",{dangerouslySetInnerHTML:{__html:n.description}}):"",b=n.customAttributes?n.customAttributes:{},y=uo({label:n.label,value:m?f:"",onChange:u,className:"".concat(g),help:v},b);return"select"===n.el?(h.unshift({label:n.placeholder?n.placeholder:(0,ue.__)("Select an option","newsletter-optin-box"),value:"",disabled:!n.canSelectPlaceholder}),(0,r.createElement)(c.SelectControl,uo(uo({},y),{},{options:h,__nextHasNoMarginBottom:!0,__next36pxDefaultSize:!0}))):"form_token"===n.el?(0,r.createElement)(c.FormTokenField,uo(uo({},y),{},{value:Array.isArray(y.value)?y.value:[],suggestions:Array.isArray(n.suggestions)?n.suggestions:[],__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})):"multi_checkbox"===n.el||"multi_checkbox_alt"===n.el?(0,r.createElement)(bo,uo(uo({},y),{},{options:h})):"conditional_logic"===n.el?(0,r.createElement)(no,uo(uo({},y),{},{availableSmartTags:a,comparisons:n.comparisons,toggleText:n.toggle_text})):"input"===n.el?n.type&&["toggle","switch","checkbox","checkbox_alt"].includes(n.type)?(0,r.createElement)(c.ToggleControl,uo(uo({},y),{},{checked:!!m&&f,onChange:function(e){u(e)}})):(0,r.createElement)(fo,uo(uo({},y),{},{setting:n,availableSmartTags:"trigger_settings"===o?[]:a,isPressEnterToChange:!n.isInputToChange})):"textarea"===n.el?(0,r.createElement)(c.TextareaControl,uo(uo({},y),{},{setting:n,placeholder:n.placeholder?n.placeholder:"",__nextHasNoMarginBottom:!0})):"paragraph"===n.el?(0,r.createElement)("div",{className:g},(0,r.createElement)(c.Tip,null,n.content)):"hero"===n.el?(0,r.createElement)("div",{className:g},(0,r.createElement)("h3",null,n.content)):"key_value_repeater"===n.el||"webhook_key_value_repeater"===n.el?(0,r.createElement)(go,uo(uo({},y),{},{setting:n,availableSmartTags:"trigger_settings"===o?[]:a})):t}var wo=["query","setQuery"];function Eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eo(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xo=function(e){var t=e.fields,n=e.onApplyFilters,a=e.filters,o=e.setAttributes;return(0,r.createElement)("form",{onSubmit:n},t.map((function(e){var t=_o(_o({},So(e)),{},{default:"",placeholder:(0,ue.__)("Any","newsletter-optin-box"),canSelectPlaceholder:!0}),n=null;return e.is_boolean?(t.el="select",t.options={1:(0,ue.__)("Yes","newsletter-optin-box"),0:(0,ue.__)("No","newsletter-optin-box")}):e.is_numeric||e.is_float?(t.name="".concat(e.name,"_min"),t.label=(0,ue.sprintf)((0,ue.__)("%s - Min","newsletter-optin-box"),e.label),n=_o(_o({},t),{},{name:"".concat(e.name,"_max"),label:(0,ue.sprintf)((0,ue.__)("%s - Max","newsletter-optin-box"),e.label)})):e.is_date?(t.name="".concat(e.name,"_after"),t.label=(0,ue.sprintf)((0,ue.__)("%s - After","newsletter-optin-box"),e.label),n=_o(_o({},t),{},{name:"".concat(e.name,"_before"),label:(0,ue.sprintf)((0,ue.__)("%s - Before","newsletter-optin-box"),e.label)})):n=_o(_o({},t),{},{name:"".concat(e.name,"_not"),label:(0,ue.sprintf)((0,ue.__)("%s - Exclude","newsletter-optin-box"),e.label)}),(0,r.createElement)(i.Fragment,{key:e.name},(0,r.createElement)("div",{style:{marginBottom:"1.6rem"}},(0,r.createElement)(yo,{settingKey:t.name,saved:a,setAttributes:o,setting:t})),n&&(0,r.createElement)("div",{style:{marginBottom:"1.6rem"}},(0,r.createElement)(yo,{settingKey:n.name,saved:a,setAttributes:o,setting:n})))})))},Oo=function(e){var t=e.currentFilters,n=e.fields,a=e.setOpen,o=e.setQuery,l=ge((0,i.useState)(_o({},t)),2),c=l[0],s=l[1],u=function(e){null==e||e.preventDefault(),o(c),a(!1)};return(0,r.createElement)(i.Fragment,null,(0,r.createElement)(xo,{fields:n,filters:c,onApplyFilters:u,setAttributes:function(e){s(_o(_o({},c),e))}}),(0,r.createElement)(hr,{variant:"primary",onClick:u,text:(0,ue.__)("Apply Filters","newsletter-optin-box")}))},ko=function(e){var t=e.namespace,n=e.collection,r=e.isBulkEditing,a=void 0!==r&&r,o=Nt(t,n).data;return(0,i.useMemo)((function(){return o.schema?o.schema.filter((function(e){return!(e.readonly&&a||e.is_dynamic||Array.isArray(o.ignore)&&o.ignore.includes(e.name)||Array.isArray(o.hidden)&&o.hidden.includes(e.name)||!e.is_tokens&&(a||!(e.is_numeric||e.is_float||e.is_date))&&(!e.enum||Array.isArray(e.enum)))})):[]}),[o,a])},So=function(e){var t,n,r,a={default:e.default,label:e.label,el:"input",type:"text",name:e.name,isInputToChange:!0};return null!==(t=e.js_props)&&void 0!==t&&t.setting&&(a.customAttributes=e.js_props.setting),null!==(n=e.js_props)&&void 0!==n&&n.conditions&&(a.conditions=null===(r=e.js_props)||void 0===r?void 0:r.conditions),e.is_tokens?(a.el="form_token",a.suggestions=e.suggestions):e.enum&&!Array.isArray(e.enum)?(a.el="select",a.options=e.enum,e.multiple&&(a.el="multi_checkbox")):e.is_textarea&&(a.el="textarea"),(e.is_numeric||e.is_float)&&(a.type="number"),e.is_date&&(a.type="date"),e.is_boolean&&(a.type="toggle"),e.description&&e.description!==e.label&&(a.description=e.description),a};function Co(e){var t=e.query,n=e.setQuery,a=_a(e,wo),o=ge((0,i.useState)(!1),2),l=o[0],s=o[1],u=ko(a),p=(0,i.useMemo)((function(){var e={};return u.forEach((function(n){["","_not","_min","_max","_before","_after"].forEach((function(r){var a=n.name+r;t[a]&&(e[a]=t[a])}))})),e}),[t,u]),d=Object.keys(p).length,f=d>0?(0,ue.sprintf)((0,ue.__)("Filters (%d)","newsletter-optin-box"),d):(0,ue.__)("Filter Records","newsletter-optin-box");return(0,r.createElement)(i.Fragment,null,u.length>0&&(0,r.createElement)(i.Fragment,null,(0,r.createElement)(c.Button,{onClick:function(){return s(!0)},variant:"tertiary",icon:"filter",text:f}),l&&(0,r.createElement)(c.Modal,{title:(0,ue.__)("Filter records","newsletter-optin-box"),onRequestClose:function(){return s(!1)}},(0,r.createElement)(Oo,{fields:u,currentFilters:p,setOpen:s,setQuery:n}))))}function jo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Po(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jo(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ro=function(e){var t=e.record,n=e.onChange,a=e.schema,o=e.hidden,l=e.ignore,s=e.onSubmit,u=e.loading,p=e.children,d=e.isInner,f=e.slotName,m=e.submitText,h=e.error,g=(0,i.useMemo)((function(){return function(e,t,n){return(0,Pe.compact)(e.map((function(e){return e.readonly||e.is_dynamic||"metadata"===e.name||Array.isArray(t)&&t.includes(e.name)||Array.isArray(n)&&n.includes(e.name)?null:So(e)})))}(a,o,l)}),[a,o,l]);return(0,r.createElement)("form",{style:{opacity:u?.5:1},onSubmit:s},p,g.map((function(e){return(0,r.createElement)("div",{style:{marginBottom:"1.6rem"},key:e.name},(0,r.createElement)(yo,{settingKey:e.name,saved:t,setAttributes:n,setting:e}))})),(0,r.createElement)(c.Slot,{name:d?"".concat(f,"--inner"):f},(function(e){return e.map((function(e,t){return(0,r.createElement)(c.Tip,{key:t},e)}))})),(0,r.createElement)(hr,{variant:"primary",onClick:s,isBusy:u},m,u&&(0,r.createElement)(c.Spinner,null)),h&&(0,r.createElement)(c.Notice,{status:"error"},h.message))},Do=ba((function(e){var t=e.namespace,n=e.collection,a=e.basePath,o=void 0===a?"":a,l=e.isInner,c=void 0!==l&&l,s=e.defaultProps,u=void 0===s?{}:s,p=e.schema,d=p.schema,f=p.hidden,m=p.ignore,h=(0,Be.useDispatch)("".concat(t,"/").concat(n)),g=ge((0,i.useState)(null),2),v=g[0],b=g[1],y=ge((0,i.useState)(!1),2),w=y[0],E=y[1],_=ge((0,i.useState)({}),2),x=_[0],O=_[1],k=ra(),S=[].concat(Br(m),Br(Object.keys(u)));return(0,r.createElement)(Ro,{record:x,onChange:function(e){O(Po(Po({},x),e)),v&&b(null)},onSubmit:function(e){null==e||e.preventDefault(),w||(E(!0),h.createRecord(Po(Po({},x),u),h).then((function(e){k("".concat(o,"/").concat(e.record.id))})).catch((function(e){b(e)})).finally((function(){E(!1)})))},submitText:w?(0,ue.__)("Saving...","newsletter-optin-box"):(0,ue.__)("Save","newsletter-optin-box"),schema:d,hidden:f,ignore:S,loading:w,isInner:c,slotName:"".concat(t,"_").concat(n,"_record_create_below"),error:v})}));function Ao(){var e,t=H(),n=t.namespace,a=t.collection,o=Nt(n,a);return(0,r.createElement)(Me,{title:(null===(e=o.data)||void 0===e||null===(e=e.labels)||void 0===e?void 0:e.add_new_item)||(0,ue.__)("Add New Item","newsletter-optin-box")},(0,r.createElement)(c.CardBody,null,(0,r.createElement)(c.Flex,{align:"flex-start",wrap:!0},(0,r.createElement)(No,null,(0,r.createElement)(Do,{namespace:n,collection:a})),(0,r.createElement)(c.Slot,{name:"".concat(n,"_").concat(a,"_record_create_upsell")},(function(e){return e.length>0&&(0,r.createElement)(No,null,e)})))))}function Fo(){var e=H(),t=e.namespace,n=e.collection,a=e.innerNamespace,o=e.innerCollection,i=e.id,l=e.tab,s=Nt(t,n).data;if(!l||!s)return!1;var u=s.tabs[l];return(0,r.createElement)(Do,{namespace:a,collection:o,basePath:"".concat(i,"/").concat(l,"/").concat(a,"/").concat(o),defaultProps:be({},u.filter_by,i),isInner:!0},(0,r.createElement)(c.Slot,{name:"".concat(a,"_").concat(o,"_record_create_upsell--inner")}))}function To(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Io(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?To(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):To(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var No=sr(c.FlexItem,{target:"e15gjem90"})({name:"odxgfg",styles:"width:400px;max-width:100%"}),Mo=function(e){var t=e.children,n=e.title;return e.isInner?t:(0,r.createElement)(Me,{title:n},(0,r.createElement)(c.CardBody,null,t))},Bo=ba((function(e){var t,n,a=e.namespace,o=e.collection,l=e.id,s=e.schema,u=e.isInner,p=e.basePath,d=ge((0,i.useState)(null),2),f=d[0],m=d[1],h=ge((0,i.useState)(!1),2),g=h[0],v=h[1],b=ge((0,i.useState)({}),2),y=b[0],w=b[1],E=Tt(a,o,l);return(0,r.createElement)(Mo,{title:(null===(t=s.labels)||void 0===t?void 0:t.edit_item)||(0,ue.__)("Edit Item","newsletter-optin-box"),isInner:u},(0,r.createElement)(c.Flex,{align:"flex-start",wrap:!0},(0,r.createElement)(No,null,(0,r.createElement)(Ro,Io({record:Io(Io({},E.data),y),error:f,onSubmit:function(e){null==e||e.preventDefault(),g||(v(!0),E.save(y).then((function(){w({})})).catch((function(e){m(e)})).finally((function(){v(!1)})))},submitText:g?(0,ue.__)("Saving...","newsletter-optin-box"):(0,ue.__)("Save Changes","newsletter-optin-box"),onChange:function(e){w(Io(Io({},y),e)),f&&m(null)},namespace:a,collection:o,loading:g,isInner:u,slotName:"".concat(a,"_").concat(o,"_record_overview_below")},s))),(0,r.createElement)(No,null,(0,r.createElement)(c.Slot,{name:(n="".concat(a,"_").concat(o,"_record_overview_upsell"),u?"".concat(n,"--inner"):n)}),(0,r.createElement)(Wa,{namespace:a,collection:o,id:l,basePath:p}))))})),Lo=function(){var e=H(),t=e.namespace,n=e.collection,a=e.id;return(0,r.createElement)(Bo,{namespace:t,collection:n,basePath:"",id:a})},zo=function(){var e=H(),t=e.innerNamespace,n=e.innerCollection,a=e.innerId,o=e.id,i=e.tab,l="".concat(o,"/").concat(i);return(0,r.createElement)(Bo,{namespace:t,collection:n,id:a,basePath:l,isInner:!0})},qo=n(967),$o=n.n(qo);const Ho=(0,r.createElement)(Va.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(Va.Path,{d:"M15.1 4.8l-3-2.5V4c-4.4 0-8 3.6-8 8 0 3.7 2.5 6.9 6 7.7.3.1.6.1 1 .2l.2-1.5c-.4 0-.7-.1-1.1-.2l-.1.2v-.2c-2.6-.8-4.5-3.3-4.5-6.2 0-3.6 2.9-6.5 6.5-6.5v1.8l3-2.5zM20 11c-.2-1.4-.7-2.7-1.6-3.8l-1.2.8c.7.9 1.1 2 1.3 3.1L20 11zm-1.5 1.8c-.1.5-.2 1.1-.4 1.6s-.5 1-.8 1.5l1.2.9c.4-.5.8-1.1 1-1.8s.5-1.3.5-2l-1.5-.2zm-5.6 5.6l.2 1.5c1.4-.2 2.7-.7 3.8-1.6l-.9-1.1c-.9.7-2 1.1-3.1 1.2z"})),Uo=(0,r.createElement)(Va.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(Va.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"}));var Wo=["children"];function Vo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const Qo=function(e){var t=e.children,n=_a(e,Wo);return(0,r.createElement)(c.DropdownMenu,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vo(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({icon:Uo},n),(function(e){var n=e.onClose;return(0,r.createElement)(r.Fragment,null,t&&t(n))}))};var Ko=[25,50,75,100];function Go(e){var t=e.page,n=e.pageCount,a=e.onPageChange;if(n<=1)return null;var o=t>1,i=t-1,l=t<n,s=t+1,u=(0,r.createElement)(c.__experimentalInputControlPrefixWrapper,null,(0,ue.__)("Page","newsletter-optin-box"));return(0,r.createElement)(c.FlexItem,{className:"noptin-pagination__page-arrows"},(0,r.createElement)(c.Flex,{wrap:!0,gap:2,align:"center",justify:"center"},(0,r.createElement)(c.FlexItem,{role:"status","aria-live":"polite"},(0,r.createElement)(c.__experimentalInputControl,{type:"number",value:t,onChange:a,min:1,max:n,prefix:u,label:(0,ue.__)("Page","newsletter-optin-box"),isPressEnterToChange:!0,hideLabelFromVision:!0,__next36pxDefaultSize:!0})),(0,r.createElement)(c.FlexItem,null,(0,ue.sprintf)((0,ue.__)("of %d","newsletter-optin-box"),n)),(0,r.createElement)(c.FlexItem,{className:"noptin-pagination__page-arrows-buttons"},(0,r.createElement)(c.ButtonGroup,null,(0,r.createElement)(c.Button,{disabled:!o,onClick:function(){return a(i)},label:(0,ue.__)("Previous Page","newsletter-optin-box")},(0,r.createElement)(c.Icon,{icon:"arrow-left-alt2"})),(0,r.createElement)(c.Button,{disabled:!l,onClick:function(){return a(s)},label:(0,ue.__)("Next Page","newsletter-optin-box")},(0,r.createElement)(c.Icon,{icon:"arrow-right-alt2"}))))))}function Yo(e){var t=e.perPage,n=e.onChange,a=Ko.map((function(e){return{value:e,label:e}}));return(0,r.createElement)(c.FlexItem,{className:"noptin-pagination__per-page-picker"},(0,r.createElement)(c.SelectControl,{label:(0,ue.__)("Rows per page","newsletter-optin-box"),labelPosition:"side",value:t,onChange:n,options:a,__nextHasNoMarginBottom:!0,__next36pxDefaultSize:!0}))}function Jo(e){var t=e.query,n=e.onQueryChange,a=e.total,o=e.className,i=e.showPerPagePicker,l=void 0===i||i;if(!a)return null;var s=t.paged?parseInt(t.paged,10):1,u=t.per_page?parseInt(t.per_page,10):25,p=Math.ceil(a/u),d=$o()("noptin-pagination",o);function f(e){var t=parseInt(e,10);n({per_page:t||1});var r=t?Math.ceil(a/t):a;s>r&&n({paged:r})}return p<=1?a>Ko[0]&&(0,r.createElement)(c.Flex,{className:d,wrap:!0,gap:4,align:"center",justify:"center"},(0,r.createElement)(Yo,{perPage:u,onChange:f}))||null:(0,r.createElement)(c.Flex,{className:d,wrap:!0,gap:2,align:"center",justify:"center"},(0,r.createElement)(Go,{page:s,pageCount:p,onPageChange:function(e){var t=parseInt(e,10);!t||t<1?t=1:t>p&&(t=p),n({paged:t})}}),l&&(0,r.createElement)(Yo,{perPage:u,onChange:f}))}function Xo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xo(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ei=function(e,t){return e||t?"center"===e||t?{align:"center"}:{align:e}:{}};const ti=(0,i.memo)((function(e){var t=e.columnKey,n=e.columnLabel,a=e.screenReaderLabel,o=e.cellClassName,i=e.minWidth,l=e.display,s=e.align,u=e.isSortable,p=e.isNumeric,d=e.isSorted,f=e.sortDir,m=e.setSortBy,h=ei(s,p),g=Zo(Zo({className:$o()("noptin-table__header",o)},h),{},{minWidth:i||void 0});u&&(g["aria-sort"]="none",d&&(g["aria-sort"]="asc"===f?"ascending":"descending"));var v="asc"!==f?(0,ue.sprintf)((0,ue.__)("Sort by %s in ascending order","newsletter-optin-box"),a||n):(0,ue.sprintf)((0,ue.__)("Sort by %s in descending order","newsletter-optin-box"),a||n),b=(0,r.createElement)(r.Fragment,null,(0,r.createElement)("span",{"aria-hidden":Boolean(a)},l||n),a&&(0,r.createElement)("span",{className:"screen-reader-text"},a)),y=(0,r.createElement)(c.Icon,{icon:"asc"!==f?"arrow-down-alt2":"arrow-up-alt2"});return(0,r.createElement)(Dr,Zo({role:"columnheader",scope:"col",key:t,isSorted:d},g),u?(0,r.createElement)(c.Button,{onClick:function(){return m(t)},label:v,showTooltip:!0},"right"===h.align&&y,(0,r.createElement)("span",null," ",b," "),"right"!==h.align&&y):b)}));function ni(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ri(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ni(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ni(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ai=(0,i.memo)((function(e){var t=e.row,n=e.header,a=e.DisplayCell,o=e.cellClassName,l=e.headerKey,c=e.isSorted,s=n.is_primary?Ar.withComponent("th",{target:"e1sk0yph0"}):Ar,u=ri(ri({className:$o()("noptin-table__col",o)},ei(n.align,n.isNumeric)),{},{minWidth:n.minWidth||void 0}),p=(0,i.isValidElement)(a);return(0,r.createElement)(s,ri({scope:n.is_primary?"row":void 0,isSorted:c},u),p?a:(0,r.createElement)(a,{row:t,header:n,headerKey:l}))}));function oi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ii(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oi(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var li=(0,i.createContext)({}),ci=function(e){var t=e.children,n=ge((0,i.useState)({}),2),a=n[0],o=n[1];return(0,r.createElement)(li.Provider,{value:{selected:a,setSelected:o}},t)},si=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=(0,i.useContext)(li);return[t.selected[e]||[],(0,i.useCallback)((function(n){t.setSelected(ii(ii({},t.selected),{},be({},e,n)))}),[e,t.setSelected])]},ui=["key","label","isSortable"],pi=["key"],di=["query","headers","rows","caption","emptyMessage","emptyAction","onQueryChange","DisplayCell","canSelectRows","idProp","storeName"];function fi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fi(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hi="desc",gi=function(e,t,n){return n&&e[n]?e[n]:e.id?e.id:e.key?e.key:t},vi=function(e){var t=e.rows,n=e.idProp,a=e.storeName,o=ge(si(a),2),l=o[0],s=o[1],u=(0,i.useMemo)((function(){return t.map((function(e,t){return gi(e,t,n)}))}),[t,n]),p=l.length>0&&l.length===u.length,d=(0,i.useCallback)((function(){s(p?[]:u)}),[p,u,s]);return(0,r.createElement)(ti,{columnLabel:(0,ue.__)("Toggle selection","newsletter-optin-box"),columnKey:"cb",align:"center",minWidth:"20px",display:(0,r.createElement)(c.CheckboxControl,{checked:p,onChange:d,__nextHasNoMarginBottom:!0}),cellClassName:"noptin-table-column__cb"})},bi=function(e){var t=e.row,n=e.id,a=e.storeName,o=ge(si(a),2),l=o[0],s=o[1],u=(0,i.useCallback)((function(e){s(e?[].concat(Br(l),[n]):l.filter((function(e){return e!==n})))}),[l,s,n]);return(0,r.createElement)(ai,{headerKey:"cb",row:t,header:{key:"cb",align:"center",minWidth:"20px"},cellClassName:"noptin-table-column__cb",DisplayCell:(0,r.createElement)(c.CheckboxControl,{checked:l.includes(n),onChange:u,__nextHasNoMarginBottom:!0})})},yi=function(e){var t=e.headers,n=e.hasData,a=e.sortBy,o=e.sortDir,l=e.onQueryChange,c=e.rows,s=e.idProp,u=e.canSelectRows,p=e.storeName,d=(0,i.useCallback)((function(e){l(e===a?{order:"asc"===o?hi:"asc"}:{orderby:e})}),[a,o,l]),f=(0,i.useMemo)((function(){return t.map((function(e){var t=e.key,i=e.label,l=e.isSortable,c=_a(e,ui);return(0,r.createElement)(ti,mi({key:t,columnLabel:i,columnKey:t,isSortable:l&&n,isSorted:a===t,sortDir:o,setSortBy:d,cellClassName:"noptin-table-column__"+t.replace(/_/g,"-")},c))}))}),[t,n,a,o,d]);return(0,r.createElement)("thead",null,(0,r.createElement)(Pr,{className:"noptin-table__row"},u&&n&&(0,r.createElement)(vi,{rows:c,idProp:s,storeName:p}),f))},wi=function(e){var t=e.sortBy,n=e.headers,a=e.DisplayCell,o=e.canSelectRows,l=e.hasData,c=e.row,s=e.id,u=e.storeName,p=(0,i.useMemo)((function(){return n.map((function(e){var n=e.key,o=_a(e,pi);return(0,r.createElement)(ai,{key:"".concat(s,"__").concat(n),headerKey:n,row:c,header:o,isSorted:t===n,cellClassName:"noptin-table__col-"+(null==n?void 0:n.replace(/_/g,"-")),DisplayCell:a})}))}),[n,c,t,a,s]);return(0,r.createElement)(Pr,{className:"noptin-table__row"},o&&l&&(0,r.createElement)(bi,{row:c,id:s,storeName:u}),p)};const Ei=function(e){var t=e.query,n=e.headers,a=void 0===n?[]:n,o=e.rows,i=void 0===o?[]:o,l=e.caption,c=e.emptyMessage,s=e.emptyAction,u=e.onQueryChange,p=e.DisplayCell,d=e.canSelectRows,f=e.idProp,m=void 0===f?"id":f,h=e.storeName,g=_a(e,di),v=t.orderby||"id",b=t.order||hi,y=!!i.length;return(0,r.createElement)(jr,mi({tabIndex:"0","aria-label":"".concat(l," - ").concat((0,ue.__)("(scroll to see more)","newsletter-optin-box")),role:"group"},g),(0,r.createElement)("table",null,(0,r.createElement)(yi,{headers:a,hasData:y,sortBy:v,sortDir:b,onQueryChange:u,canSelectRows:d,rows:i,idProp:m,storeName:h}),(0,r.createElement)("tbody",null,y?i.map((function(e,t){var n=gi(e,t,m);return(0,r.createElement)(wi,{key:n,sortBy:v,headers:a,DisplayCell:p,canSelectRows:d,storeName:h,hasData:y,row:e,id:n})})):(0,r.createElement)(Pr,{className:"noptin-table__row"},(0,r.createElement)(Fr,{colSpan:a.length},null!=c?c:(0,ue.__)("No data to display","newsletter-optin-box"),s)))))};var _i=["query","headers"];function xi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xi(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ki=function(e){var t=e.query,n=e.headers,a=_a(e,_i),o=t.per_page?parseInt(t.per_page,10):25,i=(0,Pe.range)(o).map((function(){return{}})),l=Oi({query:t,headers:n},a);return(0,r.createElement)(Ei,Oi(Oi({},l),{},{rows:i,DisplayCell:Cr,isLoading:!0,"aria-hidden":"true"}))},Si=function(e){var t=e.data;return(0,r.createElement)(Tr,{role:"complementary"},t.map((function(e,t){var n=e.label,a=e.value;return(0,r.createElement)("li",{key:t},(0,r.createElement)("strong",null,a),(0,r.createElement)("span",null,n))})))};var Ci=function(){return(0,r.createElement)(Tr,{role:"complementary"},(0,r.createElement)("li",null,(0,r.createElement)(Cr,null)))};const ji=function(e){var t=e.value,n=e.onChange,a=e.searchPlaceholder,o=ge((0,i.useState)(t||""),2),l=o[0],s=o[1],u=function(e,t,n){var a=this,o=(0,r.useRef)(null),i=(0,r.useRef)(0),l=(0,r.useRef)(null),c=(0,r.useRef)([]),s=(0,r.useRef)(),u=(0,r.useRef)(),p=(0,r.useRef)(e),d=(0,r.useRef)(!0);p.current=e;var f="undefined"!=typeof window,m=!t&&0!==t&&f;if("function"!=typeof e)throw new TypeError("Expected a function");t=+t||0;var h=!!(n=n||{}).leading,g=!("trailing"in n)||!!n.trailing,v="maxWait"in n,b="debounceOnServer"in n&&!!n.debounceOnServer,y=v?Math.max(+n.maxWait||0,t):null;(0,r.useEffect)((function(){return d.current=!0,function(){d.current=!1}}),[]);var w=(0,r.useMemo)((function(){var e=function(e){var t=c.current,n=s.current;return c.current=s.current=null,i.current=e,u.current=p.current.apply(n,t)},n=function(e,t){m&&cancelAnimationFrame(l.current),l.current=m?requestAnimationFrame(e):setTimeout(e,t)},r=function(e){if(!d.current)return!1;var n=e-o.current;return!o.current||n>=t||n<0||v&&e-i.current>=y},w=function(t){return l.current=null,g&&c.current?e(t):(c.current=s.current=null,u.current)},E=function e(){var a=Date.now();if(r(a))return w(a);if(d.current){var l=t-(a-o.current),c=v?Math.min(l,y-(a-i.current)):l;n(e,c)}},_=function(){if(f||b){var p=Date.now(),m=r(p);if(c.current=[].slice.call(arguments),s.current=a,o.current=p,m){if(!l.current&&d.current)return i.current=o.current,n(E,t),h?e(o.current):u.current;if(v)return n(E,t),e(o.current)}return l.current||n(E,t),u.current}};return _.cancel=function(){l.current&&(m?cancelAnimationFrame(l.current):clearTimeout(l.current)),i.current=0,c.current=o.current=s.current=l.current=null},_.isPending=function(){return!!l.current},_.flush=function(){return l.current?w(Date.now()):u.current},_}),[h,v,t,y,g,m,f,b]);return w}((function(e){n(e)}),500);return(0,r.createElement)(c.FlexBlock,{style:{minWidth:"200px"}},(0,r.createElement)(c.SearchControl,{value:l,onChange:function(e){s(e),u(e)},placeholder:a,__nextHasNoMarginBottom:!0}))};var Pi=["actions","filtersButton","className","hasSearch","searchPlaceholder","headers","ids","isLoading","onQueryChange","onRefresh","query","initialHiddenHeaders","rows","showMenu","showFooter","summary","title","totalRows","canSelectRows","DisplayCell","storeName"];function Ri(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Di(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ri(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ri(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ai=function(e){var t=e.headers,n=e.caption,a=e.query,o=e.storeName;return(0,r.createElement)(r.Fragment,null,(0,r.createElement)("span",{className:"screen-reader-text"},(0,ue.__)("Your requested data is loading","newsletter-optin-box")),(0,r.createElement)(ki,{headers:t,caption:n,query:a,storeName:o}))},Fi=function(e){var t=e.headers,n=e.hiddenHeaders,a=e.setHiddenHeaders,o=(0,i.useCallback)((function(e){a(n.includes(e)?(0,Pe.without)(n,e):[].concat(Br(n),[e]))}),[t,n,a]);return(0,r.createElement)(Qo,{label:(0,ue.__)("Choose the columns to display","newsletter-optin-box")},(function(){return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(c.MenuGroup,{label:(0,ue.__)("Columns","newsletter-optin-box")},t.map((function(e){var t=e.key,a=e.label;return e.required||void 0===t?null:(0,r.createElement)(c.MenuItem,{key:t},(0,r.createElement)(c.ToggleControl,{checked:!n.includes(t),onChange:function(){return o(t)},label:a,__nextHasNoMarginBottom:!0}))}))))}))},Ti=function(e){var t=e.title,n=e.hasSearch,a=e.query,o=e.onQueryChange,l=e.onRefresh,s=e.searchPlaceholder,u=e.actions,p=e.filtersButton,d=e.headers,f=e.hiddenHeaders,m=e.setHiddenHeaders,h=e.totalRows,g=(0,i.useMemo)((function(){return u?(0,r.createElement)(c.FlexItem,null,u):null}),[u]),v=(0,i.useMemo)((function(){return n?(0,r.createElement)(ji,{value:a.search,onChange:function(e){return o({search:e})},placeholder:s}):null}),[n,a.search,o,s]),b=(0,i.useMemo)((function(){return(0,r.createElement)(c.FlexItem,null,(0,r.createElement)(Fi,{headers:d,hiddenHeaders:f,setHiddenHeaders:m}))}),[d,f,m]);return(0,r.createElement)(c.CardHeader,null,(0,r.createElement)(c.Flex,{gap:2,wrap:!0},(0,r.createElement)(c.FlexItem,null,(0,r.createElement)(yr,{as:"h2"},t)),l&&(0,r.createElement)(c.FlexItem,null,(0,r.createElement)(c.Button,{icon:Ho,onClick:l,variant:"tertiary",label:(0,ue.__)("Refresh","newsletter-optin-box"),showTooltip:!0})),p&&(0,r.createElement)(c.FlexItem,null,p),v,h>0&&g,b))},Ii=function(e){var t=e.isLoading,n=e.summary,a=e.query,o=e.onQueryChange,i=e.totalRows;return(0,r.createElement)(c.CardFooter,{justify:"center"},t?(0,r.createElement)(Ci,null):(0,r.createElement)(r.Fragment,null,(0,r.createElement)(Jo,{query:a,onQueryChange:o,total:i}),n&&(0,r.createElement)(Si,{data:n})))};const Ni=function(e){var t=e.actions,n=e.filtersButton,a=e.className,o=e.hasSearch,l=e.searchPlaceholder,s=e.headers,u=void 0===s?[]:s,p=(e.ids,e.isLoading),d=void 0!==p&&p,f=e.onQueryChange,m=void 0===f?function(){}:f,h=e.onRefresh,g=void 0!==h&&h,v=e.query,b=void 0===v?{}:v,y=e.initialHiddenHeaders,w=void 0===y?[]:y,E=e.rows,_=void 0===E?[]:E,x=(e.showMenu,e.showFooter),O=void 0===x||x,k=e.summary,S=e.title,C=e.totalRows,j=e.canSelectRows,P=e.DisplayCell,R=e.storeName,D=void 0===R?"default":R,A=_a(e,Pi),F=ge((0,i.useState)(w),2),T=F[0],I=F[1];(0,i.useEffect)((function(){if(D&&"default"!==D){var e=localStorage.getItem("noptin-table-".concat(D,"-hidden-headers"));e&&I(JSON.parse(e))}}),[D]),(0,i.useEffect)((function(){D&&"default"!==D&&localStorage.setItem("noptin-table-".concat(D,"-hidden-headers"),JSON.stringify(T))}),[T,D]);var N=Di({headers:(0,i.useMemo)((function(){return u.filter((function(e){return!T.includes(e.key)}))}),[u,T]),caption:S,onQueryChange:m,query:b,storeName:D},A);return(0,r.createElement)(c.Card,{className:$o()("noptin-table",a),elevation:0},(0,r.createElement)(Ti,{title:S,hasSearch:o,query:b,onQueryChange:m,onRefresh:!d&&g,searchPlaceholder:l,actions:!d&&t,filtersButton:n,headers:u,hiddenHeaders:T,setHiddenHeaders:I,totalRows:C}),d?(0,r.createElement)(Ai,Di({},N)):(0,r.createElement)(Ei,Di({rows:_,DisplayCell:P,canSelectRows:j},N)),O&&(0,r.createElement)(Ii,{isLoading:d,summary:k,query:b,onQueryChange:m,totalRows:C}))};function Mi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mi(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Li=function(e){var t=e.row,n=e.header,a=e.headerKey,o=n.is_list,i=n.item,l=n.args,s=n.is_primary,u=n.url,p=n.is_boolean,d=n.is_badge;if(o)return Array.isArray(t[a])&&0!==t[a].length?(0,r.createElement)("ul",null,t[a].map((function(e,t){var n=e;if(i){var a=l.map((function(t){return e[t]}));n=ue.sprintf.apply(void 0,[i].concat(Br(a)))}return(0,r.createElement)("li",{key:t,dangerouslySetInnerHTML:{__html:n}})}))):"â€”";if(s&&u)return t[u]?(0,r.createElement)("a",{href:t[u],style:{textDecoration:"none"},target:"_blank"},(0,r.createElement)("strong",null,t[a])):(0,r.createElement)("strong",null,t[a]);if(p){var f=t[a]?"yes":"no";return(0,r.createElement)(c.Icon,{icon:f})}return d&&t[a]?(0,r.createElement)(Nr,Bi({},ea(t[a])),t[a]):(0,r.createElement)("div",{dangerouslySetInnerHTML:{__html:t[a]}})};function zi(e){var t,n=e.tab,a=e.tabName,o=function(e,t,n,r){return n=parseInt(n,10),At((function(a){return a(Pt(e,t)).getTabContent(n,r)}),[e,t,n,r])}(e.namespace,e.collection,e.recordId,a),l=(0,i.useMemo)((function(){return n.headers.map((function(e){return Bi({key:e.name,label:e.label,isSortable:!1,isNumeric:e.is_numeric},e)}))}),[n.headers]);return"ERROR"===o.status?(0,r.createElement)(Me,{title:n.title},(0,r.createElement)(c.CardBody,null,(0,r.createElement)(c.Notice,{status:"error",isDismissible:!1},(null===(t=o.error)||void 0===t?void 0:t.message)||(0,ue.__)("An unknown error occurred.","newsletter-optin-box")))):(0,r.createElement)(Ni,Bi(Bi({},n),{},{isLoading:o.isResolving,rows:o.data,headers:l,showFooter:!1,DisplayCell:Li}))}var qi=n(460),$i=n.n(qi),Hi=["namespace","collection"],Ui=["count","selected"];function Wi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wi(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qi=function(e){var t=e.fields,n=e.back,a=e.schema,o=e.namespace,l=e.collection,s=e.selected,u=e.query,p=0===s.length?Vi({},u):{include:s.join(",")};p.__fields=t.join(","),p.number=-1,p.context="edit";var d=function(e,t){var n=Dt(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{});return At((function(r){return r(Pt(e,t)).getPartialRecords(n)}),[e,t,n])}(o,l,p),f=(0,i.useMemo)((function(){var e;if(null===(e=d.data)||void 0===e||!e.length)return[];var t=a.reduce((function(e,t){return e[t.name]=t.label,e}),{});return Object.keys(d.data[0]).map((function(e){return t[e]||e}))}),[a,d.data]),m=(0,i.useMemo)((function(){var e;return null!==(e=d.data)&&void 0!==e&&e.length?d.data.map((function(e){return Object.values(e)})):[]}),[d.data]),h=(0,r.createElement)(c.Button,{variant:"link",onClick:n},(0,ue.__)("Go Back","newsletter-optin-box"));if(d.isResolving)return(0,r.createElement)(c.__experimentalText,{size:16,as:"p"},(0,r.createElement)(c.Spinner,{style:{marginLeft:0}}),(0,ue.__)("Preparing records...","newsletter-optin-box"));if("ERROR"===d.status)return(0,r.createElement)(fr,{status:"error",isDismissible:!1},d.error.message||(0,ue.__)("An unknown error occurred.","newsletter-optin-box"),"Â  Â ",h);if(!d.data.length)return(0,r.createElement)(fr,{status:"info",isDismissible:!1},(0,ue.__)("Found no records to export.","newsletter-optin-box"),"Â  Â ",h);var g=$i().unparse({fields:f,data:m},{escapeFormulae:!0}),v="".concat(o,"-").concat(l,"-").concat(Date.now(),".csv");return(0,r.createElement)(fr,{status:"success",isDismissible:!1},(0,ue.__)("Done! Click the button below to download records.","newsletter-optin-box"),"Â  Â ",(0,r.createElement)(c.Button,{variant:"primary",href:"data:text/csv;charset=utf-8,".concat(encodeURIComponent(g)),download:v,text:(0,ue.__)("Download CSV","newsletter-optin-box")}))},Ki=function(e){var t=e.fields,n=e.setFields,a=e.schema,o=a.schema,i=a.ignore,l=e.next;return(0,r.createElement)(c.Flex,{direction:"column",gap:4},(0,r.createElement)(c.FlexItem,null,(0,r.createElement)("p",{className:"description"},(0,ue.__)("Select the fields to include in your exported file","newsletter-optin-box"))),o.map((function(e){if(!i.includes(e.name))return(0,r.createElement)(c.FlexItem,{key:e.name},(0,r.createElement)(c.ToggleControl,{label:e.label===e.description?e.label:"".concat(e.label," (").concat(e.description,")"),checked:t.includes(e.name),onChange:function(){t.includes(e.name)?n(t.filter((function(t){return t!==e.name}))):n([].concat(Br(t),[e.name]))},__nextHasNoMarginBottom:!0}))})),(0,r.createElement)(c.FlexItem,null,(0,r.createElement)(hr,{variant:"primary",onClick:l},(0,r.createElement)(c.Icon,{icon:"download"}),(0,ue.__)("Download","newsletter-optin-box"))))},Gi=function(e){var t=e.namespace,n=e.collection,a=_a(e,Hi),o=Nt(t,n),l=ge((0,i.useState)((0,Pe.compact)(o.data.schema.map((function(e){return o.data.hidden.includes(e.name)||o.data.ignore.includes(e.name)?null:e.name})))),2),c=l[0],s=l[1],u=ge((0,i.useState)("fields"),2),p=u[0],d=u[1];return"fields"===p?(0,r.createElement)(Ki,{fields:c,setFields:s,schema:o.data,next:function(){return d("progress")}}):"progress"===p?(0,r.createElement)(Qi,Vi({fields:c,schema:o.data.schema,back:function(){return d("fields")},namespace:t,collection:n},a)):void 0};function Yi(e){var t=e.count,n=e.selected,a=_a(e,Ui),o=ge((0,i.useState)(!1),2),l=o[0],s=o[1],u=0===n.length,p=u?(0,ue.__)("Download","newsletter-optin-box"):(0,ue.__)("Download Selected","newsletter-optin-box"),d=u?(0,ue.sprintf)((0,ue.__)("Download all %s records","newsletter-optin-box"),t):(0,ue.sprintf)((0,ue.__)("Download %s selected records","newsletter-optin-box"),n.length);return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(c.Button,{onClick:function(){return s(!0)},variant:"tertiary",text:p}),l&&(0,r.createElement)(c.Modal,{title:d,onRequestClose:function(){return s(!1)}},(0,r.createElement)("div",{className:"hizzle-records-export-modal__body"},(0,r.createElement)(de,null,(0,r.createElement)(Gi,Vi({count:t,selected:n},a))))))}function Ji(e){var t=e.namespace,n=e.collection,a=e.query,o=e.count,s=e.selected,u=e.setSelected,p=(0,Be.useDispatch)("".concat(t,"/").concat(n)),d=ge((0,i.useState)(!1),2),f=d[0],m=d[1],h=ge((0,i.useState)(null),2),g=h[0],v=h[1],b=ge((0,i.useState)(!1),2),y=b[0],w=b[1],E=0===s.length,_=E?(0,ue.__)("Delete","newsletter-optin-box"):(0,ue.__)("Delete Selected","newsletter-optin-box"),x=oa(s,a);return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(c.Button,{onClick:function(){return m(!0)},variant:"tertiary",icon:"trash",text:_,isDestructive:!0}),f&&(0,r.createElement)(c.Modal,{title:_,onRequestClose:function(){return m(!1)}},(0,r.createElement)((function(){return(0,r.createElement)(r.Fragment,null,y?(0,r.createElement)(r.Fragment,null,(0,r.createElement)(c.Spinner,null),(0,ue.__)("Deleting...","newsletter-optin-box")):(0,r.createElement)(r.Fragment,null,g?(0,r.createElement)(vr,null,g.message):(0,r.createElement)(vr,null,E&&(0,ue.sprintf)((0,ue.__)("Are you sure you want to delete %d matching records?","newsletter-optin-box"),o),!E&&(0,ue.sprintf)((0,ue.__)("Are you sure you want to delete %d selected records?","newsletter-optin-box"),s.length)),(0,r.createElement)(hr,{isDestructive:!0,onClick:function(){w(!0),p.deleteRecords((0,l.addQueryArgs)("",x),p).then((function(e){m(!1),u([])})).catch((function(e){v(e)})).finally((function(){w(!1)}))}},(0,ue.__)("Yes, Delete!","newsletter-optin-box")),(0,r.createElement)(hr,{onClick:function(){return m(!1)},variant:"secondary",__withNoMargin:!0},(0,ue.__)("Cancel","newsletter-optin-box"))))}),null)))}function Xi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xi(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var el=function(e){var t=e.editableFields,n=e.onSave,a=e.changes,o=e.setAttributes;return(0,r.createElement)("form",{onSubmit:n},t.map((function(e){var t=Zi(Zi({},So(e)),{},{default:"",placeholder:(0,ue.__)("Do not update","newsletter-optin-box")}),n=null;return e.multiple&&(t.label=(0,ue.sprintf)((0,ue.__)("%s - To Add","newsletter-optin-box"),e.label),t.name="".concat(e.name,"::add"),n=Zi(Zi({},t),{},{name:"".concat(e.name,"::remove"),label:(0,ue.sprintf)((0,ue.__)("%s - To Remove","newsletter-optin-box"),e.label)})),(0,r.createElement)(i.Fragment,{key:e.name},(0,r.createElement)("div",{style:{marginBottom:"1.6rem"}},(0,r.createElement)(yo,{settingKey:t.name,saved:a,setAttributes:o,setting:t})),n&&(0,r.createElement)("div",{style:{marginBottom:"1.6rem"}},(0,r.createElement)(yo,{settingKey:n.name,saved:a,setAttributes:o,setting:n})))})))},tl=function(e){var t=e.editableFields,n=e.namespace,a=e.collection,o=e.query,l=e.selected,s=e.count,u=(0,Be.useDispatch)("".concat(n,"/").concat(a)),p=ge((0,i.useState)(null),2),d=p[0],f=p[1],m=ge((0,i.useState)(!1),2),h=m[0],g=m[1],v=ge((0,i.useState)(!1),2),b=v[0],y=v[1],w=ge((0,i.useState)({}),2),E=w[0],_=w[1],x=oa(l,o),O=Object.keys(E).length>0,k=function(e){if(null==e||e.preventDefault(),!h){g(!0);var t={bulk_update:{merge:E,query:x}};u.batchAction(t,u).then((function(){y(!0),_({})})).catch((function(e){f(e)})).finally((function(){g(!1)}))}};return(0,r.createElement)(i.Fragment,null,(0,r.createElement)(el,{editableFields:t,changes:E,onSave:k,setAttributes:function(e){_(Zi(Zi({},E),e)),d&&f(null),b&&y(!1)}}),O&&(0,r.createElement)(hr,{variant:"primary",onClick:k,isBusy:h},!h&&(0,r.createElement)(c.Icon,{icon:"cloud-saved"}),"Â ",(0,ue.sprintf)(h?(0,ue.__)("Saving %d records...","newsletter-optin-box"):(0,ue.__)("Edit %d records","newsletter-optin-box"),l.length>0?l.length:s),h&&(0,r.createElement)(c.Spinner,null)),d&&!O&&(0,r.createElement)(c.Notice,{status:"error",isDismissible:!0},d.message),b&&!O&&(0,r.createElement)(c.Notice,{status:"success",isDismissible:!0},(0,ue.__)("Records updated successfully.","newsletter-optin-box")))};function nl(e){var t=ge((0,i.useState)(!1),2),n=t[0],a=t[1],o=ko(e),l=o.length>0;return(0,r.createElement)(i.Fragment,null,l&&(0,r.createElement)(i.Fragment,null,(0,r.createElement)(c.Button,{onClick:function(){return a(!0)},variant:"tertiary",text:(0,ue.__)("Bulk Edit","newsletter-optin-box")}),n&&(0,r.createElement)(c.Modal,{title:(0,ue.__)("Bulk Edit","newsletter-optin-box"),onRequestClose:function(){return a(!1)}},(0,r.createElement)(tl,Zi({editableFields:o},e)))))}var rl=["namespace","collection","query","setQuery","schema"],al=["namespace","collection","defaultProps","inline"];function ol(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function il(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ol(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ol(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ll=function(e){var t,n=e.namespace,a=e.collection,o=aa(),i=Nt(n,a).data;return(0,r.createElement)(c.Button,{onClick:function(){return o("".concat(n,"/").concat(a,"/add"))},variant:"primary",text:(null==i||null===(t=i.labels)||void 0===t?void 0:t.add_new)||(0,ue.__)("Add New","newsletter-optin-box")})},cl=function(e){var t,n=e.namespace,a=e.collection,o=e.inline,i=e.query,l=(null===(t=It(n,a,i).data)||void 0===t?void 0:t.total)||0,s=ge(si("".concat(n,"/").concat(a)),2),u=s[0],p=s[1];return(0,r.createElement)(c.Flex,{gap:2,wrap:!0},o&&(0,r.createElement)(c.FlexItem,null,(0,r.createElement)(ll,{namespace:n,collection:a,query:i,count:l,selected:u})),(0,r.createElement)(c.FlexItem,null,(0,r.createElement)(nl,{namespace:n,collection:a,query:i,count:l,selected:u,isBulkEditing:!0})),(0,r.createElement)(c.FlexItem,null,(0,r.createElement)(Yi,{namespace:n,collection:a,query:i,count:l,selected:u})),(0,r.createElement)(c.FlexItem,null,(0,r.createElement)(Ji,{namespace:n,collection:a,query:i,count:l,selected:u,setSelected:p})))},sl=function(e){var t=e.schema,n=t.schema,a=t.hidden,o=t.ignore,l=t.labels,c=e.total,s=e.summary,u=e.records,p=e.isLoading,d=e.namespace,f=e.collection,m=e.updateQueryString,h=e.query,g=e.emptyMessage,v=e.inline,b=e.basePath,y=void 0===b?"":b,w=(0,i.useMemo)((function(){var e=[];return n.forEach((function(t){var n;t.is_textarea&&!t.is_tokens||o.includes(t.name)||"hide"===(null===(n=t.js_props)||void 0===n?void 0:n.table)||e.push(il({key:t.name,isSortable:!t.is_dynamic&&!t.is_meta,isNumeric:t.is_numeric||t.is_float,basePath:y},t))})),e}),[n,o]),E=(0,i.useCallback)((function(e){e.paged||(e.paged=1),m(il(il({},h),e))}),[m]),_=(0,Be.useDispatch)("".concat(d,"/").concat(f)),x=(0,i.useCallback)((function(){_.invalidateResolutionForStoreSelector("getRecords")}),[d,f]);return(0,r.createElement)(Ni,{actions:(0,r.createElement)(cl,{namespace:d,collection:f,inline:v,query:h}),rows:u,headers:w,totalRows:c,summary:s?Object.values(s):[],isLoading:p,onQueryChange:E,onRefresh:x,query:h,className:"".concat(d,"-").concat(f,"__records-table"),hasSearch:!0,title:null==l?void 0:l.name,emptyMessage:g||(null==l?void 0:l.not_found),emptyAction:v?(0,r.createElement)("div",{style:{marginTop:"1rem"}},(0,r.createElement)(ll,{namespace:d,collection:f})):null,searchPlaceholder:null==l?void 0:l.search_items,canSelectRows:!0,idProp:"id",DisplayCell:pa,initialHiddenHeaders:a,storeName:"".concat(d,"/").concat(f)})},ul=ba((function(e){var t,n=e.namespace,a=e.collection,o=e.query,i=e.setQuery,l=e.schema,s=_a(e,rl),u=It(n,a,o);return"ERROR"===u.status?(0,r.createElement)(Me,{title:(0,ue.__)("Error","newsletter-optin-box")},(0,r.createElement)(c.CardBody,null,(0,r.createElement)(c.Notice,{status:"error",isDismissible:!1},(null===(t=u.error)||void 0===t?void 0:t.message)||(0,ue.__)("An unknown error occurred.","newsletter-optin-box")))):(0,r.createElement)(sl,il({schema:l,records:u.data.items,total:u.data.total,summary:u.data.summary,isLoading:u.isResolving,namespace:n,collection:a,updateQueryString:i,query:o},s))}));function pl(){var e,t,n,a,o,l,s=H(),u=s.namespace,p=s.collection,d=(e=ge((0,i.useState)({}),2),t=e[0],n=e[1],a=ge((0,i.useState)(!0),2),o=a[0],l=a[1],(0,i.useLayoutEffect)((function(){return e=function(){l(!0)},window.hizzleNavigation=null!==(t=window.hizzleNavigation)&&void 0!==t?t:{},window.hizzleNavigation.historyPatched||(n=window.history,r=n.pushState,a=n.replaceState,n.pushState=function(e){var t=new CustomEvent("pushstate",{state:e});return window.dispatchEvent(t),r.apply(n,arguments)},n.replaceState=function(e){var t=new CustomEvent("replacestate",{state:e});return window.dispatchEvent(t),a.apply(n,arguments)},window.hizzleNavigation.historyPatched=!0),window.addEventListener("popstate",e),window.addEventListener("pushstate",e),window.addEventListener("replacestate",e),function(){window.removeEventListener("popstate",e),window.removeEventListener("pushstate",e),window.removeEventListener("replacestate",e)};var e,t,n,r,a}),[]),(0,i.useEffect)((function(){if(o){var e=Fe();n(e),l(!1)}}),[o]),t);return(0,r.createElement)(c.Flex,{gap:2,direction:"column"},(0,r.createElement)(c.FlexItem,null,(0,r.createElement)(Co,{namespace:u,collection:p,query:d,setQuery:Ie})),(0,r.createElement)(c.FlexBlock,null,(0,r.createElement)(ul,{namespace:u,collection:p,setQuery:Ie,query:d})))}var dl=function(e){var t=e.namespace,n=e.collection,a=e.defaultProps,o=e.inline,l=_a(e,al),c=ge((0,i.useState)(a),2),s=c[0],u=c[1],p=H(),d=p.id,f=p.tab;return(0,r.createElement)(ul,il({namespace:t,collection:n,setQuery:u,query:s,inline:o,basePath:o?"".concat(d,"/").concat(f,"/").concat(t,"/").concat(n,"/"):""},l))};function fl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ml(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fl(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hl=ba((function(e){var t=e.tab,n=e.namespace,a=e.collection,o=e.recordId,i=e.schema,l=e.isInner,s=Tt(n,a,o),u={namespace:n,collection:a,recordId:o,tabName:t};if(!Array.isArray(i.tabs)&&i.tabs[t]){var p=i.tabs[t];return"table"===p.type?(0,r.createElement)(zi,ml({tab:p,record:s},u)):"collection"===p.type?(0,r.createElement)(dl,ml(ml({},p),{},{defaultProps:be({},p.filter_by,o)})):(0,r.createElement)(c.Slot,{name:"".concat(n,"-").concat(a,"-tab-").concat(t).concat(l?"--inner":""),fillProps:{tab:p,record:s.data}})}return l?(0,r.createElement)(zo,null):(0,r.createElement)(Lo,null)})),gl=function(){var e=H(),t=e.tab,n=e.namespace,a=e.collection,o=e.id;return(0,r.createElement)("div",{className:"".concat(n,"-").concat(a,"__").concat(t||"overview","-content")},(0,r.createElement)(hl,{namespace:n,collection:a,tab:t,recordId:o}),(0,r.createElement)(J,null))},vl=function(){var e=H(),t=e.innerNamespace,n=e.innerCollection,a=e.innerId,o=e.innerTab;return(0,r.createElement)("div",{className:"".concat(namespace,"-").concat(collection,"__").concat(tab||"overview","-content")},(0,r.createElement)(hl,{namespace:t,collection:n,tab:o,recordId:a,isInner:!0}))},bl=ba((function(e){var t,n=e.children,a=e.recordId,o=e.namespace,l=e.collection,s=e.schema,u=e.tab,p=e.basePath,d=Tt(o,l,a),f=ra(),m=[{title:(null==s||null===(t=s.labels)||void 0===t?void 0:t.edit_item)||(0,ue.__)("Edit Item","newsletter-optin-box"),name:"overview"}];Array.isArray(null==s?void 0:s.tabs)||Object.keys(s.tabs).map((function(e){return m.push({title:s.tabs[e].title,name:e})}));var h,g,v=(0,i.useCallback)((function(e){var t,n=(null===(t=m[e])||void 0===t?void 0:t.name)||"overview";f("".concat(p,"/").concat(n))}),[p]);return d.isResolving?(0,r.createElement)(Me,{title:(null===(h=s.labels)||void 0===h?void 0:h.edit_item)||(0,ue.__)("Edit Item","newsletter-optin-box")},(0,r.createElement)(c.CardBody,null,(0,ue.__)("Loading","newsletter-optin-box"),(0,r.createElement)(c.Spinner,null))):"ERROR"===d.status?(0,r.createElement)(Me,{title:(0,ue.__)("Error","newsletter-optin-box")},(0,r.createElement)(c.CardBody,null,(0,r.createElement)(c.Notice,{status:"error",isDismissible:!1},(null===(g=d.error)||void 0===g?void 0:g.message)||(0,ue.__)("An unknown error occurred.","newsletter-optin-box")))):(0,r.createElement)(r.Fragment,null,m.length>1&&(0,r.createElement)(kr,{orientation:"horizontal",onNavigate:v},m.map((function(e,t){return(0,r.createElement)(c.Button,{key:e.name,isPressed:e.name===u||!u&&0===t,onClick:function(){return v(t)}},e.title)}))),n)})),yl=function(){var e=H(),t=e.namespace,n=e.collection,a=e.id,o=e.tab;return(0,r.createElement)(bl,{namespace:t,collection:n,recordId:a,tab:o,basePath:a},(0,r.createElement)(J,null))},wl=function(){var e=H(),t=e.innerNamespace,n=e.innerCollection,a=e.innerTab,o=e.innerId,i=e.id,l=e.tab;return(0,r.createElement)(bl,{namespace:t,collection:n,recordId:o,tab:a,basePath:"".concat(i,"/").concat(l,"/").concat(t,"/").concat(n,"/").concat(o)},(0,r.createElement)(J,null))},El=sr("div",{target:"ei95lsh0"})({name:"1kd8sf",styles:"margin:1.6rem 0;max-width:600px"}),_l=hr.withComponent(c.FormFileUpload,{target:"ei95lsh1"});const xl=function(e){var t=e.onUpload;return(0,r.createElement)(El,null,(0,r.createElement)(c.__experimentalText,{weight:600,as:"h3"},(0,ue.__)("This tool allows you to import existing records from a CSV file.","newsletter-optin-box")),(0,r.createElement)(_l,{accept:"text/csv",onChange:function(e){return t(e.currentTarget.files[0])},variant:"primary"},(0,r.createElement)(c.Icon,{icon:"cloud-upload"}),(0,ue.__)("Select a CSV file","newsletter-optin-box")),(0,r.createElement)(c.Tip,null,(0,ue.__)("The first row of the CSV file should contain the field names/headers.","newsletter-optin-box"),(0,r.createElement)("br",null),(0,ue.__)(" Have a different file type?","newsletter-optin-box"),"Â ",(0,r.createElement)(c.Button,{variant:"link",href:"https://convertio.co/csv-converter/",target:"_blank",text:(0,ue.__)("Convert it to CSV","newsletter-optin-box")})))};function Ol(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ol(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ol(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Sl=sr(c.FlexItem,{target:"eofxwao0"})({name:"ddbaxo",styles:"width:320px"}),Cl=Sl.withComponent("div",{target:"eofxwao1"}),jl=function(e){return(e=(e=e.replace(/[^a-zA-Z0-9]/g,"")).toLowerCase()).startsWith("cf")&&(e=e.slice(2)),e.startsWith("meta")&&(e=e.slice(4)),e},Pl=function(e){var t=e.options,n=e.field,a=e.value,o=e.setValue,i=e.customValue,l=e.setCustomValue;return(0,r.createElement)(c.Flex,{style:{marginTop:"1.6rem"},gap:4,justify:"flex-start",wrap:!0},(0,r.createElement)(Sl,null,(0,r.createElement)(c.SelectControl,{label:n.label,value:a,onChange:o,options:t,__next36pxDefaultSize:!0,__nextHasNoMarginBottom:!0})),"-1"===a&&(0,r.createElement)(Sl,null,n.options?(0,r.createElement)(c.SelectControl,{label:(0,ue.__)("Select value","newsletter-optin-box"),value:i,onChange:l,options:[{value:"",label:(0,ue.__)("Select value","newsletter-optin-box"),disabled:!0}].concat(Br(n.options)),__next36pxDefaultSize:!0,__nextHasNoMarginBottom:!0}):(0,r.createElement)(c.TextControl,{label:(0,ue.__)("Enter value","newsletter-optin-box"),placeholder:(0,ue.__)("Enter a value to assign all imported records","newsletter-optin-box"),value:i,onChange:l,__nextHasNoMarginBottom:!0})))};const Rl=function(e){var t=e.file,n=e.schema,a=e.ignore,o=e.hidden,l=e.back,s=e.onContinue,u=e.namespace,p=e.collection,d=ge((0,i.useState)([]),2),f=d[0],m=d[1],h=ge((0,i.useState)({}),2),g=h[0],v=h[1],b=ge((0,i.useState)(!1),2),y=b[0],w=b[1],E=ge((0,i.useState)(null),2),_=E[0],x=E[1],O=(0,i.useMemo)((function(){return(0,Pe.compact)(n.map((function(e){return"date_created"!==e.name&&(e.readonly||a.includes(e.name)||["id"].includes(e.name))?null:{value:e.name,label:e.label,is_boolean:e.is_boolean,options:!Array.isArray(e.enum)&&Object.keys(e.enum).map((function(t){return{value:t,label:e.enum[t]}}))}})))}),[n,a,o]);(0,i.useEffect)((function(){$i().parse(t,{header:!0,skipEmptyLines:"greedy",preview:5,complete:function(e){m(e.meta.fields)},error:function(e){x(e)}})}),[t]),(0,i.useEffect)((function(){if(f.length){var e={};f.forEach((function(t){var n=jl(t),r=!1,a=O.find((function(e){var t=jl(e.value),r=jl(e.label);return n===t||n===r}));a||(a=O.find((function(e){var t=jl(e.value),r=jl(e.label);return n.includes(t)||n.includes(r)||t.includes(n)||r.includes(n)})),r=!0),!a||r&&e[a.value]||(e[a.value]={mapped:!0,value:t,is_boolean:a.is_boolean})})),v(e)}}),[f,O]);var k=(0,i.useMemo)((function(){var e=[{value:"",label:(0,ue.__)("Ignore Field","newsletter-optin-box")},{value:"-1",label:(0,ue.__)("Manually enter value","newsletter-optin-box")},{value:"-2",label:(0,ue.__)("Map Field","newsletter-optin-box"),disabled:!0}];return f.forEach((function(t){e.push({value:t,label:t})})),e}),[f]);return _?(0,r.createElement)(c.Notice,{status:"error",isDismissible:!1},(0,r.createElement)("p",null,_.message),(0,r.createElement)(c.Button,{variant:"link",onClick:l},(0,ue.__)("Try again","newsletter-optin-box"))):(0,r.createElement)(r.Fragment,null,(0,r.createElement)(c.Tip,null,(0,ue.__)("Map the headers of your CSV file to known fields.","newsletter-optin-box")),O.map((function(e){var t=g[e.value]||{is_boolean:e.is_boolean},n=t.value||"";return(0,r.createElement)(Pl,{key:e.value,options:k,field:e,value:n,setValue:function(n){v(kl(kl({},g),{},be({},e.value,kl(kl({},t),{},{mapped:!["","-1","-2"].includes(n),value:n}))))},customValue:t.customValue||"",setCustomValue:function(n){v(kl(kl({},g),{},be({},e.value,kl(kl({},t),{},{customValue:n}))))}})})),(0,r.createElement)("div",{style:{marginTop:"1.6rem",marginBottom:"1.6rem"}},(0,r.createElement)(c.ToggleControl,{label:(0,ue.__)("Update existing records","newsletter-optin-box"),checked:y,onChange:function(e){return w(e)},__nextHasNoMarginBottom:!0})),(0,r.createElement)(c.Slot,{name:"".concat(u,"_").concat(p,"_import_records_below")},(function(e){return e.map((function(e,t){return(0,r.createElement)(c.Tip,{key:t},e)}))})),(0,r.createElement)(Cl,null,(0,r.createElement)(hr,{variant:"primary",onClick:function(){return s(g,y)}},(0,ue.__)("Import","newsletter-optin-box")),(0,r.createElement)(hr,{variant:"secondary",onClick:l,__withNoMargin:!0},(0,ue.__)("Back","newsletter-optin-box"))))};var Dl=function(e){var t=e.from,n=void 0===t?0:t,a=e.to,o=e.duration,l=void 0===o?5e3:o,c=ge((0,i.useState)(n),2),s=c[0],u=c[1];return(0,i.useEffect)((function(){if(n!==a){var e,t=Date.now();return e=requestAnimationFrame((function r(){var o=Date.now()-t;if(o<l){var i=n+(a-n)*o/l;u(Math.round(i)),e=requestAnimationFrame(r)}else u(a)})),function(){return cancelAnimationFrame(e)}}u(a)}),[n,a,l]),(0,r.createElement)("span",null,Math.round(s))};const Al=function(e){var t=e.file,n=e.headers,a=(e.back,e.updateRecords),o=e.namespace,l=e.collection,s=e.basePath,u=void 0===s?"":s,p=ra(),d=ge((0,i.useState)([]),2),f=d[0],m=d[1],h=ge((0,i.useState)(!1),2),g=h[0],v=h[1],b=ge((0,i.useState)(5e3),2),y=b[0],w=b[1],E=ge((0,i.useState)(!1),2),_=E[0],x=E[1],O=ge((0,i.useState)(!1),2),k=O[0],S=O[1],C=ge((0,i.useState)(0),2),j=C[0],P=C[1],R=ge((0,i.useState)(0),2),D=R[0],A=R[1],F=ge((0,i.useState)(0),2),T=F[0],I=F[1],N=ge((0,i.useState)(0),2),M=N[0],B=N[1],L=ge((0,i.useState)(0),2),z=L[0],q=L[1],$=ge((0,i.useState)(0),2),H=$[0],U=$[1],W=ge((0,i.useState)(0),2),V=W[0],Q=W[1],K=ge((0,i.useState)(0),2),G=K[0],Y=K[1],J=ge((0,i.useState)(0),2),X=J[0],Z=J[1],ee=ge((0,i.useState)(0),2),te=ee[0],ne=ee[1],re=ge((0,i.useState)([]),2),ae=re[0],oe=re[1],ie=(0,Be.useDispatch)("".concat(o,"/").concat(l)),le=(0,i.useCallback)((function(e){var t={};return Object.keys(n).forEach((function(r){""!==n[r].value&&(n[r].mapped?t[r]=e[n[r].value]:void 0!==n[r].customValue&&(t[r]=n[r].customValue),n[r].is_boolean&&(t[r]=!["0","","false","FALSE","no"].includes(t[r])))})),t}),[n]);return(0,i.useEffect)((function(){if(!_){var e=(new Date).getTime(),t=Br(ae),n=t.shift();if(n){!0===g&&v(!1);var r={import:n,update:a};ie.batchAction(r,ie).then((function(e){var t=e.result,n=0,r=0,a=0,o=0,i=[];null!=t&&t.import&&t.import.length&&t.import.forEach((function(e){var t,l,c;null!==(t=e.data)&&void 0!==t&&t.skipped&&n++,null!==(l=e.data)&&void 0!==l&&l.updated&&r++,null!==(c=e.data)&&void 0!==c&&c.created&&a++,e.is_error&&(o++,i.push(e.data))})),ne(X),Z(X+n),B(T),I(T+r),U(z),q(z+a),Y(V),Q(V+o),m([].concat(i,i))})).catch((function(e){newFailed=V+n.length,Q(V+n.length),m([].concat(Br(f),[e]))})).finally((function(){if(A(D+n.length),0!==t.length){var r=((new Date).getTime()-e)/1e3;if(w(Math.ceil(1e3*r)),r<20){var a=20*Math.ceil(n.length/r);if(a<100){for(var o=[],i=t.flat(),l=0;l<i.length;l+=a){var c=i.slice(l,l+a);o.push(c)}return void oe(o)}}oe(t)}else oe(t)}))}else!1===g&&v(!0)}}),[ae,_]),(0,i.useEffect)((function(){!function(e,t,n){$i().parse(e,{header:!0,skipEmptyLines:"greedy",complete:function(e){!function(e){S(!0),P(e.data.length);for(var t=[],n=0;n<e.data.length;n+=10){var r=e.data.slice(n,n+10);t.push(r.map((function(e){return le(e)})))}oe(t),x(!1)}(e)},error:function(e){m([e])}})}(t)}),[t,n]),k?0===j?(0,r.createElement)(vr,null,(0,ue.sprintf)((0,ue.__)("No records found in %s.","newsletter-optin-box"),t.name)):(0,r.createElement)("div",{className:"noptin-import-progress"},!g&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(br,{as:"h3"},(0,ue.__)("Importing","newsletter-optin-box"),(0,r.createElement)("code",null,t.name),"... Â ",!_&&(0,r.createElement)(c.Spinner,null),"Â  ",(0,r.createElement)(c.Button,{variant:"link",onClick:function(){return x(!_)}},_?(0,ue.__)("Resume","newsletter-optin-box"):(0,ue.__)("Pause","newsletter-optin-box"))),!_&&(0,r.createElement)(xr,{total:j,processed:D})),g&&(0,r.createElement)(br,{as:"h3"},(0,ue.__)("Processed","newsletter-optin-box"),(0,r.createElement)("code",null,t.name)),(0,r.createElement)(c.Flex,{justify:"flex-start",style:{margin:"1.6rem 0"},gap:4,wrap:!0},(0,r.createElement)(c.FlexItem,null,(0,r.createElement)(Ia,{value:(0,r.createElement)(Dl,{to:j,duration:3e3}),label:(0,ue.__)("Records Found","newsletter-optin-box"),status:"light"})),z>0&&(0,r.createElement)(c.FlexItem,null,(0,r.createElement)(Ia,{value:(0,r.createElement)(Dl,{from:H,to:z,duration:g||_?300:y}),label:(0,ue.__)("Records Created","newsletter-optin-box"),status:"success"})),T>0&&(0,r.createElement)(c.FlexItem,null,(0,r.createElement)(Ia,{value:(0,r.createElement)(Dl,{from:M,to:T,duration:g||_?300:y}),label:(0,ue.__)("Records Updated","newsletter-optin-box"),status:"success"})),V>0&&(0,r.createElement)(c.FlexItem,null,(0,r.createElement)(Ia,{value:(0,r.createElement)(Dl,{from:G,to:V,duration:g||_?300:y}),label:(0,ue.__)("Records Failed","newsletter-optin-box"),status:"error"})),X>0&&(0,r.createElement)(c.FlexItem,null,(0,r.createElement)(Ia,{value:(0,r.createElement)(Dl,{from:te,to:X,duration:g||_?300:y}),label:(0,ue.__)("Records Skipped","newsletter-optin-box"),status:"info"}))),g&&(0,r.createElement)(hr,{variant:"primary",text:(0,ue.__)("View Records","newsletter-optin-box"),onClick:function(){return p(u)},maxWidth:"200px"}),f.length>0&&(0,r.createElement)(br,{as:"h3"},(0,ue.__)("Errors","newsletter-optin-box"),"Â ",g&&(0,r.createElement)(c.Button,{onClick:function(){return m([])},variant:"link"},(0,ue.__)("Clear","newsletter-optin-box"))),f.map((function(e,t){return(0,r.createElement)(vr,{key:t},e.message)}))):(0,r.createElement)(br,{as:"h3"},(0,ue.__)("Parsing","newsletter-optin-box"),(0,r.createElement)("code",null,t.name),"... Â ",(0,r.createElement)(c.Spinner,null))};var Fl=["file","schema","back"];function Tl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Il(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tl(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Nl=function(e){var t=e.file,n=e.schema,a=n.schema,o=n.ignore,l=n.hidden,c=n.id_prop,s=e.back,u=_a(e,Fl),p=ge((0,i.useState)(null),2),d=p[0],f=p[1],m=ge((0,i.useState)(!1),2),h=m[0],g=m[1];return d?(0,r.createElement)(Al,Il({file:t,headers:d,updateRecords:h,back:s,id_prop:c},u)):(0,r.createElement)(Rl,Il({file:t,schema:a,ignore:o,hidden:l,back:s,onContinue:function(e,t){f(e),g(t),window.scrollTo({top:0,behavior:"smooth"})}},u))};function Ml(){var e,t=H(),n=t.namespace,a=t.collection,o=Nt(n,a).data,l=ge((0,i.useState)(null),2),s=l[0],u=l[1];return(0,r.createElement)(Me,{title:(null===(e=o.labels)||void 0===e?void 0:e.import)||(0,ue.__)("Import","newsletter-optin-box")},(0,r.createElement)(c.CardBody,null,s?(0,r.createElement)(Nl,{file:s,schema:o,back:function(){return u(null)},namespace:n,collection:a}):(0,r.createElement)(xl,{onUpload:function(e){u(e),window.scrollTo({top:0,behavior:"smooth"})}})))}var Bl=function(e){var t=e.defaultRoute,n=document.location.pathname,a=n.substring(0,n.lastIndexOf("/"));return(0,r.createElement)(c.SlotFillProvider,null,(0,r.createElement)(ci,null,(0,r.createElement)(de,null,(0,r.createElement)(re,{history:je(t)},(0,r.createElement)(ee,{basename:a},(0,r.createElement)(X,{path:"/:namespace/:collection",exact:!0,element:(0,r.createElement)(wa,null)},(0,r.createElement)(X,{path:":id",exact:!0,element:(0,r.createElement)(yl,null)},(0,r.createElement)(X,{path:":tab",exact:!0,element:(0,r.createElement)(gl,null)},(0,r.createElement)(X,{path:":innerNamespace/:innerCollection",exact:!0,element:(0,r.createElement)(Ea,null)},(0,r.createElement)(X,{path:":innerId",exact:!0,element:(0,r.createElement)(wl,null)},(0,r.createElement)(X,{path:":innerTab",exact:!0,element:(0,r.createElement)(vl,null)}),(0,r.createElement)(X,{index:!0,element:(0,r.createElement)(zo,null)})),(0,r.createElement)(X,{path:"add",exact:!0,element:(0,r.createElement)(Fo,null)}))),(0,r.createElement)(X,{index:!0,element:(0,r.createElement)(Lo,null)})),(0,r.createElement)(X,{path:"add",exact:!0,element:(0,r.createElement)(Ao,null),handle:{title:function(e){var t,n=e.labels,r=e.collection;return null!==(t=null==n?void 0:n.add_new_item)&&void 0!==t?t:r}}}),(0,r.createElement)(X,{path:"import",exact:!0,element:(0,r.createElement)(Ml,null)}),(0,r.createElement)(X,{index:!0,element:(0,r.createElement)(pl,null)})))))))};o()((function(){var e=document.getElementById("noptin-collection__overview-app");if(e){var t=e.dataset.defaultRoute,n=(0,l.getQueryArg)(window.location.search,"hizzle_path");n&&n.split("/").length>1&&(t=n),i.createRoot?(0,i.createRoot)(e).render((0,r.createElement)(Bl,{defaultRoute:t})):(0,i.render)((0,r.createElement)(Bl,{defaultRoute:t}),e)}}))})()})();