/*! For license information please see table.js.LICENSE.txt */
(()=>{var e={184:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var i=a.apply(null,n);i&&e.push(i)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var l in n)r.call(n,l)&&n[l]&&e.push(l)}}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},640:(e,t,n)=>{"use strict";var r=n(742),a={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,o,i,l,c,s,u=!1;t||(t={}),n=t.debug||!1;try{if(i=r(),l=document.createRange(),c=document.getSelection(),(s=document.createElement("span")).textContent=e,s.ariaHidden="true",s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),void 0===r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var o=a[t.format]||a.default;window.clipboardData.setData(o,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(s),l.selectNodeContents(s),c.addRange(l),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(r){n&&console.error("unable to copy using execCommand: ",r),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),u=!0}catch(r){n&&console.error("unable to copy using clipboardData: ",r),n&&console.error("falling back to prompt"),o=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(o,e)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(l):c.removeAllRanges()),s&&document.body.removeChild(s),i()}return u}},679:(e,t,n)=>{"use strict";var r=n(296),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function c(e){return r.isMemo(e)?i:l[e.$$typeof]||a}l[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[r.Memo]=i;var s=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(m){var a=f(n);a&&a!==m&&e(t,a,r)}var i=u(n);d&&(i=i.concat(d(n)));for(var l=c(t),h=c(n),g=0;g<i.length;++g){var v=i[g];if(!(o[v]||r&&r[v]||h&&h[v]||l&&l[v])){var y=p(n,v);try{s(t,v,y)}catch(e){}}}}return t}},103:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,s=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,h=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,E=n?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case l:case i:case f:return e;default:switch(e=e&&e.$$typeof){case s:case p:case g:case h:case c:return e;default:return t}}case a:return t}}}function w(e){return _(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=s,t.ContextProvider=c,t.Element=r,t.ForwardRef=p,t.Fragment=o,t.Lazy=g,t.Memo=h,t.Portal=a,t.Profiler=l,t.StrictMode=i,t.Suspense=f,t.isAsyncMode=function(e){return w(e)||_(e)===u},t.isConcurrentMode=w,t.isContextConsumer=function(e){return _(e)===s},t.isContextProvider=function(e){return _(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===p},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===h},t.isPortal=function(e){return _(e)===a},t.isProfiler=function(e){return _(e)===l},t.isStrictMode=function(e){return _(e)===i},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===d||e===l||e===i||e===f||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===h||e.$$typeof===c||e.$$typeof===s||e.$$typeof===p||e.$$typeof===y||e.$$typeof===b||e.$$typeof===E||e.$$typeof===v)},t.typeOf=_},296:(e,t,n)=>{"use strict";e.exports=n(103)},460:function(e,t){var n,r;n=function e(){"use strict";var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},n=!t.document&&!!t.postMessage,r=t.IS_PAPA_WORKER||!1,a={},o=0,i={parse:function(n,r){var l=(r=r||{}).dynamicTyping||!1;if(_(l)&&(r.dynamicTypingFunction=l,l={}),r.dynamicTyping=l,r.transform=!!_(r.transform)&&r.transform,r.worker&&i.WORKERS_SUPPORTED){var c=function(){if(!i.WORKERS_SUPPORTED)return!1;var n,r,l=(n=t.URL||t.webkitURL||null,r=e.toString(),i.BLOB_URL||(i.BLOB_URL=n.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",r,")();"],{type:"text/javascript"})))),c=new t.Worker(l);return c.onmessage=g,c.id=o++,a[c.id]=c}();return c.userStep=r.step,c.userChunk=r.chunk,c.userComplete=r.complete,c.userError=r.error,r.step=_(r.step),r.chunk=_(r.chunk),r.complete=_(r.complete),r.error=_(r.error),delete r.worker,void c.postMessage({input:n,config:r,workerId:c.id})}var f=null;return i.NODE_STREAM_INPUT,"string"==typeof n?(n=function(e){return 65279===e.charCodeAt(0)?e.slice(1):e}(n),f=r.download?new s(r):new d(r)):!0===n.readable&&_(n.read)&&_(n.on)?f=new p(r):(t.File&&n instanceof File||n instanceof Object)&&(f=new u(r)),f.stream(n)},unparse:function(e,t){var n=!1,r=!0,a=",",o="\r\n",l='"',c=l+l,s=!1,u=null,d=!1;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||i.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(a=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(s=t.skipEmptyLines),"string"==typeof t.newline&&(o=t.newline),"string"==typeof t.quoteChar&&(l=t.quoteChar),"boolean"==typeof t.header&&(r=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");u=t.columns}void 0!==t.escapeChar&&(c=t.escapeChar+l),("boolean"==typeof t.escapeFormulae||t.escapeFormulae instanceof RegExp)&&(d=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var p=new RegExp(m(l),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return f(null,e,s);if("object"==typeof e[0])return f(u||Object.keys(e[0]),e,s)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||u),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),f(e.fields||[],e.data||[],s);throw new Error("Unable to serialize unrecognized input");function f(e,t,n){var i="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var l=Array.isArray(e)&&0<e.length,c=!Array.isArray(t[0]);if(l&&r){for(var s=0;s<e.length;s++)0<s&&(i+=a),i+=h(e[s],s);0<t.length&&(i+=o)}for(var u=0;u<t.length;u++){var d=l?e.length:t[u].length,p=!1,f=l?0===Object.keys(t[u]).length:0===t[u].length;if(n&&!l&&(p="greedy"===n?""===t[u].join("").trim():1===t[u].length&&0===t[u][0].length),"greedy"===n&&l){for(var m=[],g=0;g<d;g++){var v=c?e[g]:g;m.push(t[u][v])}p=""===m.join("").trim()}if(!p){for(var y=0;y<d;y++){0<y&&!f&&(i+=a);var b=l&&c?e[y]:y;i+=h(t[u][b],y)}u<t.length-1&&(!n||0<d&&!f)&&(i+=o)}}return i}function h(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var r=!1;d&&"string"==typeof e&&d.test(e)&&(e="'"+e,r=!0);var o=e.toString().replace(p,c);return(r=r||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(o,i.BAD_DELIMITERS)||-1<o.indexOf(a)||" "===o.charAt(0)||" "===o.charAt(o.length-1))?l+o+l:o}}};if(i.RECORD_SEP=String.fromCharCode(30),i.UNIT_SEP=String.fromCharCode(31),i.BYTE_ORDER_MARK="\ufeff",i.BAD_DELIMITERS=["\r","\n",'"',i.BYTE_ORDER_MARK],i.WORKERS_SUPPORTED=!n&&!!t.Worker,i.NODE_STREAM_INPUT=1,i.LocalChunkSize=10485760,i.RemoteChunkSize=5242880,i.DefaultDelimiter=",",i.Parser=h,i.ParserHandle=f,i.NetworkStreamer=s,i.FileStreamer=u,i.StringStreamer=d,i.ReadableStreamStreamer=p,t.jQuery){var l=t.jQuery;l.fn.parse=function(e){var n=e.config||{},r=[];return this.each((function(e){if("INPUT"!==l(this).prop("tagName").toUpperCase()||"file"!==l(this).attr("type").toLowerCase()||!t.FileReader||!this.files||0===this.files.length)return!0;for(var a=0;a<this.files.length;a++)r.push({file:this.files[a],inputElem:this,instanceConfig:l.extend({},n)})})),a(),this;function a(){if(0!==r.length){var t,n,a,c=r[0];if(_(e.before)){var s=e.before(c.file,c.inputElem);if("object"==typeof s){if("abort"===s.action)return"AbortError",t=c.file,n=c.inputElem,a=s.reason,void(_(e.error)&&e.error({name:"AbortError"},t,n,a));if("skip"===s.action)return void o();"object"==typeof s.config&&(c.instanceConfig=l.extend(c.instanceConfig,s.config))}else if("skip"===s)return void o()}var u=c.instanceConfig.complete;c.instanceConfig.complete=function(e){_(u)&&u(e,c.file,c.inputElem),o()},i.parse(c.file,c.instanceConfig)}else _(e.complete)&&e.complete()}function o(){r.splice(0,1),a()}}}function c(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=b(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new f(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,n){if(this.isFirstChunk&&_(this._config.beforeFirstChunk)){var a=this._config.beforeFirstChunk(e);void 0!==a&&(e=a)}this.isFirstChunk=!1,this._halted=!1;var o=this._partialLine+e;this._partialLine="";var l=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var c=l.meta.cursor;this._finished||(this._partialLine=o.substring(c-this._baseIndex),this._baseIndex=c),l&&l.data&&(this._rowCount+=l.data.length);var s=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)t.postMessage({results:l,workerId:i.WORKER_ID,finished:s});else if(_(this._config.chunk)&&!n){if(this._config.chunk(l,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);l=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(l.data),this._completeResults.errors=this._completeResults.errors.concat(l.errors),this._completeResults.meta=l.meta),this._completed||!s||!_(this._config.complete)||l&&l.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),s||l&&l.meta.paused||this._nextChunk(),l}this._halted=!0},this._sendError=function(e){_(this._config.error)?this._config.error(e):r&&this._config.error&&t.postMessage({workerId:i.WORKER_ID,error:e,finished:!1})}}function s(e){var t;(e=e||{}).chunkSize||(e.chunkSize=i.RemoteChunkSize),c.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),n||(t.onload=E(this._chunkLoaded,this),t.onerror=E(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var r in e)t.setRequestHeader(r,e[r])}if(this._config.chunkSize){var a=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+a)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader("Content-Range");return null===t?-1:parseInt(t.substring(t.lastIndexOf("/")+1))}(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){var n=t.statusText||e;this._sendError(new Error(n))}}function u(e){var t,n;(e=e||{}).chunkSize||(e.chunkSize=i.LocalChunkSize),c.call(this,e);var r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=E(this._chunkLoaded,this),t.onerror=E(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var a=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,a)}var o=t.readAsText(e,this._config.encoding);r||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function d(e){var t;c.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,n=this._config.chunkSize;return n?(e=t.substring(0,n),t=t.substring(n)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function p(e){c.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=E((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=E((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=E((function(){this._streamCleanUp(),r=!0,this._streamData("")}),this),this._streamCleanUp=E((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function f(e){var t,n,r,a=Math.pow(2,53),o=-a,l=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,c=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,s=this,u=0,d=0,p=!1,f=!1,g=[],v={data:[],errors:[],meta:{}};if(_(e.step)){var y=e.step;e.step=function(t){if(v=t,x())w();else{if(w(),0===v.data.length)return;u+=t.data.length,e.preview&&u>e.preview?n.abort():(v.data=v.data[0],y(v,s))}}}function E(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function w(){return v&&r&&(k("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+i.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines&&(v.data=v.data.filter((function(e){return!E(e)}))),x()&&function(){if(v)if(Array.isArray(v.data[0])){for(var t=0;x()&&t<v.data.length;t++)v.data[t].forEach(n);v.data.splice(0,1)}else v.data.forEach(n);function n(t,n){_(e.transformHeader)&&(t=e.transformHeader(t,n)),g.push(t)}}(),function(){if(!v||!e.header&&!e.dynamicTyping&&!e.transform)return v;function t(t,n){var r,a=e.header?{}:[];for(r=0;r<t.length;r++){var o=r,i=t[r];e.header&&(o=r>=g.length?"__parsed_extra":g[r]),e.transform&&(i=e.transform(i,o)),i=O(o,i),"__parsed_extra"===o?(a[o]=a[o]||[],a[o].push(i)):a[o]=i}return e.header&&(r>g.length?k("FieldMismatch","TooManyFields","Too many fields: expected "+g.length+" fields but parsed "+r,d+n):r<g.length&&k("FieldMismatch","TooFewFields","Too few fields: expected "+g.length+" fields but parsed "+r,d+n)),a}var n=1;return!v.data.length||Array.isArray(v.data[0])?(v.data=v.data.map(t),n=v.data.length):v.data=t(v.data,0),e.header&&v.meta&&(v.meta.fields=g),d+=n,v}()}function x(){return e.header&&0===g.length}function O(t,n){return r=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[r]&&(e.dynamicTyping[r]=e.dynamicTypingFunction(r)),!0===(e.dynamicTyping[r]||e.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(e){if(l.test(e)){var t=parseFloat(e);if(o<t&&t<a)return!0}return!1}(n)?parseFloat(n):c.test(n)?new Date(n):""===n?null:n):n;var r}function k(e,t,n,r){var a={type:e,code:t,message:n};void 0!==r&&(a.row=r),v.errors.push(a)}this.parse=function(a,o,l){var c=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var n=new RegExp(m(t)+"([^]*?)"+m(t),"gm"),r=(e=e.replace(n,"")).split("\r"),a=e.split("\n"),o=1<a.length&&a[0].length<r[0].length;if(1===r.length||o)return"\n";for(var i=0,l=0;l<r.length;l++)"\n"===r[l][0]&&i++;return i>=r.length/2?"\r\n":"\r"}(a,c)),r=!1,e.delimiter)_(e.delimiter)&&(e.delimiter=e.delimiter(a),v.meta.delimiter=e.delimiter);else{var s=function(t,n,r,a,o){var l,c,s,u;o=o||[",","\t","|",";",i.RECORD_SEP,i.UNIT_SEP];for(var d=0;d<o.length;d++){var p=o[d],f=0,m=0,g=0;s=void 0;for(var v=new h({comments:a,delimiter:p,newline:n,preview:10}).parse(t),y=0;y<v.data.length;y++)if(r&&E(v.data[y]))g++;else{var b=v.data[y].length;m+=b,void 0!==s?0<b&&(f+=Math.abs(b-s),s=b):s=b}0<v.data.length&&(m/=v.data.length-g),(void 0===c||f<=c)&&(void 0===u||u<m)&&1.99<m&&(c=f,l=p,u=m)}return{successful:!!(e.delimiter=l),bestDelimiter:l}}(a,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);s.successful?e.delimiter=s.bestDelimiter:(r=!0,e.delimiter=i.DefaultDelimiter),v.meta.delimiter=e.delimiter}var u=b(e);return e.preview&&e.header&&u.preview++,t=a,n=new h(u),v=n.parse(t,o,l),w(),p?{meta:{paused:!0}}:v||{meta:{paused:!1}}},this.paused=function(){return p},this.pause=function(){p=!0,n.abort(),t=_(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){s.streamer._halted?(p=!1,s.streamer.parseChunk(t,!0)):setTimeout(s.resume,3)},this.aborted=function(){return f},this.abort=function(){f=!0,n.abort(),v.meta.aborted=!0,_(e.complete)&&e.complete(v),t=""}}function m(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function h(e){var t,n=(e=e||{}).delimiter,r=e.newline,a=e.comments,o=e.step,l=e.preview,c=e.fastMode,s=t=void 0===e.quoteChar||null===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(s=e.escapeChar),("string"!=typeof n||-1<i.BAD_DELIMITERS.indexOf(n))&&(n=","),a===n)throw new Error("Comment character same as delimiter");!0===a?a="#":("string"!=typeof a||-1<i.BAD_DELIMITERS.indexOf(a))&&(a=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var u=0,d=!1;this.parse=function(i,p,f){if("string"!=typeof i)throw new Error("Input must be a string");var h=i.length,g=n.length,v=r.length,y=a.length,b=_(o),E=[],w=[],x=[],O=u=0;if(!i)return V();if(e.header&&!p){var k=i.split(r)[0].split(n),S=[],C={},R=!1;for(var P in k){var j=k[P];_(e.transformHeader)&&(j=e.transformHeader(j,P));var D=j,T=C[j]||0;for(0<T&&(R=!0,D=j+"_"+T),C[j]=T+1;S.includes(D);)D=D+"_"+T;S.push(D)}if(R){var A=i.split(r);A[0]=S.join(n),i=A.join(r)}}if(c||!1!==c&&-1===i.indexOf(t)){for(var F=i.split(r),I=0;I<F.length;I++){if(x=F[I],u+=x.length,I!==F.length-1)u+=r.length;else if(f)return V();if(!a||x.substring(0,y)!==a){if(b){if(E=[],H(x.split(n)),K(),d)return V()}else H(x.split(n));if(l&&l<=I)return E=E.slice(0,l),V(!0)}}return V()}for(var M=i.indexOf(n,u),N=i.indexOf(r,u),B=new RegExp(m(s)+m(t),"g"),L=i.indexOf(t,u);;)if(i[u]!==t)if(a&&0===x.length&&i.substring(u,u+y)===a){if(-1===N)return V();u=N+v,N=i.indexOf(r,u),M=i.indexOf(n,u)}else if(-1!==M&&(M<N||-1===N))x.push(i.substring(u,M)),u=M+g,M=i.indexOf(n,u);else{if(-1===N)break;if(x.push(i.substring(u,N)),W(N+v),b&&(K(),d))return V();if(l&&E.length>=l)return V(!0)}else for(L=u,u++;;){if(-1===(L=i.indexOf(t,L+1)))return f||w.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:E.length,index:u}),q();if(L===h-1)return q(i.substring(u,L).replace(B,t));if(t!==s||i[L+1]!==s){if(t===s||0===L||i[L-1]!==s){-1!==M&&M<L+1&&(M=i.indexOf(n,L+1)),-1!==N&&N<L+1&&(N=i.indexOf(r,L+1));var z=U(-1===N?M:Math.min(M,N));if(i.substr(L+1+z,g)===n){x.push(i.substring(u,L).replace(B,t)),i[u=L+1+z+g]!==t&&(L=i.indexOf(t,u)),M=i.indexOf(n,u),N=i.indexOf(r,u);break}var $=U(N);if(i.substring(L+1+$,L+1+$+v)===r){if(x.push(i.substring(u,L).replace(B,t)),W(L+1+$+v),M=i.indexOf(n,u),L=i.indexOf(t,u),b&&(K(),d))return V();if(l&&E.length>=l)return V(!0);break}w.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:E.length,index:u}),L++}}else L++}return q();function H(e){E.push(e),O=u}function U(e){var t=0;if(-1!==e){var n=i.substring(L+1,e);n&&""===n.trim()&&(t=n.length)}return t}function q(e){return f||(void 0===e&&(e=i.substring(u)),x.push(e),u=h,H(x),b&&K()),V()}function W(e){u=e,H(x),x=[],N=i.indexOf(r,u)}function V(e){return{data:E,errors:w,meta:{delimiter:n,linebreak:r,aborted:d,truncated:!!e,cursor:O+(p||0)}}}function K(){o(V()),E=[],w=[]}},this.abort=function(){d=!0},this.getCharIndex=function(){return u}}function g(e){var t=e.data,n=a[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var o={abort:function(){r=!0,v(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(_(n.userStep)){for(var i=0;i<t.results.data.length&&(n.userStep({data:t.results.data[i],errors:t.results.errors,meta:t.results.meta},o),!r);i++);delete t.results}else _(n.userChunk)&&(n.userChunk(t.results,o,t.file),delete t.results)}t.finished&&!r&&v(t.workerId,t.results)}function v(e,t){var n=a[e];_(n.userComplete)&&n.userComplete(t),n.terminate(),delete a[e]}function y(){throw new Error("Not implemented.")}function b(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=b(e[n]);return t}function E(e,t){return function(){e.apply(t,arguments)}}function _(e){return"function"==typeof e}return r&&(t.onmessage=function(e){var n=e.data;if(void 0===i.WORKER_ID&&n&&(i.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:i.WORKER_ID,results:i.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var r=i.parse(n.input,n.config);r&&t.postMessage({workerId:i.WORKER_ID,results:r,finished:!0})}}),(s.prototype=Object.create(c.prototype)).constructor=s,(u.prototype=Object.create(c.prototype)).constructor=u,(d.prototype=Object.create(d.prototype)).constructor=d,(p.prototype=Object.create(c.prototype)).constructor=p,i},void 0===(r=n.apply(t,[]))||(e.exports=r)},742:e=>{e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{apiFetch:()=>He.apiFetch,beforeDeleteRecord:()=>Ke,setPartialRecords:()=>Ue,setRecord:()=>We,setRecordOverview:()=>Ge,setRecords:()=>qe,setSchema:()=>Ve,setTabContent:()=>Qe});var t={};n.r(t),n.d(t,{getPartialRecords:()=>pt,getQuerySummary:()=>ut,getQueryTotal:()=>st,getRecord:()=>ft,getRecordIDs:()=>ct,getRecordOverview:()=>gt,getRecords:()=>dt,getSchema:()=>mt,getTabContent:()=>ht});const r=window.wp.element,a=window.wp.domReady;var o=n.n(a);const i=window.wp.url,l=window.wp.components,c=window.React;var s,u;function d(e,t){if(!1===e||null==e)throw new Error(t)}function p(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function f(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(e,t,n){void 0===n&&(n="/");let r=R(("string"==typeof t?f(t):t).pathname||"/",n);if(null==r)return null;let a=h(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]))?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let o=null;for(let e=0;null==o&&e<a.length;++e)o=k(a[e],C(r));return o}function h(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let a=(e,a,o)=>{let i={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};i.relativePath.startsWith("/")&&(d(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(r.length));let l=P([r,i.relativePath]),c=n.concat(i);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),h(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:O(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of g(e.path))a(e,t,n);else a(e,t)})),t}function g(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return a?[o,""]:[o];let i=g(r.join("/")),l=[];return l.push(...i.map((e=>""===e?o:[o,e].join("/")))),a&&l.push(...i),l.map((t=>e.startsWith("/")&&""===t?"/":t))}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(s||(s={})),function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(u||(u={})),new Set(["lazy","caseSensitive","path","id","index","children"]);const v=/^:\w+$/,y=3,b=2,E=1,_=10,w=-2,x=e=>"*"===e;function O(e,t){let n=e.split("/"),r=n.length;return n.some(x)&&(r+=w),t&&(r+=b),n.filter((e=>!x(e))).reduce(((e,t)=>e+(v.test(t)?y:""===t?E:_)),r)}function k(e,t){let{routesMeta:n}=e,r={},a="/",o=[];for(let e=0;e<n.length;++e){let i=n[e],l=e===n.length-1,c="/"===a?t:t.slice(a.length)||"/",s=S({path:i.relativePath,caseSensitive:i.caseSensitive,end:l},c);if(!s)return null;Object.assign(r,s.params);let u=i.route;o.push({params:r,pathname:P([a,s.pathname]),pathnameBase:j(P([a,s.pathnameBase])),route:u}),"/"!==s.pathnameBase&&(a=P([a,s.pathnameBase]))}return o}function S(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),p("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,((e,t)=>(r.push(t),"/([^\\/]+)")));return e.endsWith("*")?(r.push("*"),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce(((e,t,n)=>{if("*"===t){let e=l[n]||"";i=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return p(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l[n]||"",t),e}),{}),pathname:o,pathnameBase:i,pattern:e}}function C(e){try{return decodeURI(e)}catch(t){return p(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}const P=e=>e.join("/").replace(/\/\/+/g,"/"),j=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");class D extends Error{}const T=["post","put","patch","delete"],A=(new Set(T),["get",...T]);function F(){return F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F.apply(this,arguments)}new Set(A),new Set([301,302,303,307,308]),new Set([307,308]),Symbol("deferred");var I=c.startTransition;const M=c.createContext(null),N=c.createContext(null),B=c.createContext(null),L=c.createContext(null),z=c.createContext({outlet:null,matches:[],isDataRoute:!1}),$=c.createContext(null);function H(){return null!=c.useContext(L)}const U=c.createContext(null);function q(){let{matches:e}=c.useContext(z),t=e[e.length-1];return t?t.params:{}}function W(e,t,n){H()||d(!1);let{navigator:r}=c.useContext(B),{matches:a}=c.useContext(z),o=a[a.length-1],i=o?o.params:{},l=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let u,p=(H()||d(!1),c.useContext(L).location);if(t){var h;let e="string"==typeof t?f(t):t;"/"===l||(null==(h=e.pathname)?void 0:h.startsWith(l))||d(!1),u=e}else u=p;let g=u.pathname||"/",v=m(e,{pathname:"/"===l?g:g.slice(l.length)||"/"}),y=function(e,t,n){var r;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}let o=e,i=null==(r=n)?void 0:r.errors;if(null!=i){let e=o.findIndex((e=>e.route.id&&(null==i?void 0:i[e.route.id])));e>=0||d(!1),o=o.slice(0,Math.min(o.length,e+1))}return o.reduceRight(((e,r,a)=>{let l=r.route.id?null==i?void 0:i[r.route.id]:null,s=null;n&&(s=r.route.errorElement||K);let u=t.concat(o.slice(0,a+1)),d=()=>{let t;return t=l?s:r.route.Component?c.createElement(r.route.Component,null):r.route.element?r.route.element:e,c.createElement(G,{match:r,routeContext:{outlet:e,matches:u,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?c.createElement(Q,{location:n.location,revalidation:n.revalidation,component:s,error:l,children:d(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):d()}),null)}(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},i,e.params),pathname:P([l,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:P([l,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,n);return t&&y?c.createElement(L.Provider,{value:{location:F({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:s.Pop}},y):y}function V(){let e=function(){var e;let t=c.useContext($),n=function(e){let t=c.useContext(N);return t||d(!1),t}(X.UseRouteError),r=function(e){let t=function(e){let t=c.useContext(z);return t||d(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}(X.UseRouteError);return t||(null==(e=n.errors)?void 0:e[r])}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return c.createElement(c.Fragment,null,c.createElement("h2",null,"Unexpected Application Error!"),c.createElement("h3",{style:{fontStyle:"italic"}},t),n?c.createElement("pre",{style:r},n):null,null)}const K=c.createElement(V,null);class Q extends c.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?c.createElement(z.Provider,{value:this.props.routeContext},c.createElement($.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function G(e){let{routeContext:t,match:n,children:r}=e,a=c.useContext(M);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),c.createElement(z.Provider,{value:t},r)}var Y,X,J,Z,ee;function te(e){return function(e){let t=c.useContext(z).outlet;return t?c.createElement(U.Provider,{value:e},t):t}(e.context)}function ne(e){d(!1)}function re(e){let{basename:t="/",children:n=null,location:r,navigationType:a=s.Pop,navigator:o,static:i=!1}=e;H()&&d(!1);let l=t.replace(/^\/*/,"/"),u=c.useMemo((()=>({basename:l,navigator:o,static:i})),[l,o,i]);"string"==typeof r&&(r=f(r));let{pathname:p="/",search:m="",hash:h="",state:g=null,key:v="default"}=r,y=c.useMemo((()=>{let e=R(p,l);return null==e?null:{location:{pathname:e,search:m,hash:h,state:g,key:v},navigationType:a}}),[l,p,m,h,g,v,a]);return null==y?null:c.createElement(B.Provider,{value:u},c.createElement(L.Provider,{children:n,value:y}))}function ae(e){let{children:t,location:n}=e;return W(ie(t),n)}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(Y||(Y={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(X||(X={})),function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(J||(J={})),new Promise((()=>{}));class oe extends c.Component{constructor(e){super(e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){console.error("<Await> caught the following error during render",e,t)}render(){let{children:e,errorElement:t,resolve:n}=this.props,r=null,a=J.pending;if(n instanceof Promise)if(this.state.error){J.error;let e=this.state.error;Promise.reject().catch((()=>{})),Object.defineProperty(r,"_tracked",{get:()=>!0}),Object.defineProperty(r,"_error",{get:()=>e})}else n._tracked?void 0!==r._error?J.error:void 0!==r._data?J.success:J.pending:(J.pending,Object.defineProperty(n,"_tracked",{get:()=>!0}),n.then((e=>Object.defineProperty(n,"_data",{get:()=>e})),(e=>Object.defineProperty(n,"_error",{get:()=>e}))));else J.success,Promise.resolve(),Object.defineProperty(r,"_tracked",{get:()=>!0}),Object.defineProperty(r,"_data",{get:()=>n});if(a===J.error&&r._error instanceof D)throw neverSettledPromise;if(a===J.error&&!t)throw r._error;if(a===J.error)return c.createElement(AwaitContext.Provider,{value:r,children:t});if(a===J.success)return c.createElement(AwaitContext.Provider,{value:r,children:e});throw r}}function ie(e,t){void 0===t&&(t=[]);let n=[];return c.Children.forEach(e,((e,r)=>{if(!c.isValidElement(e))return;let a=[...t,r];if(e.type===c.Fragment)return void n.push.apply(n,ie(e.props.children,a));e.type!==ne&&d(!1),e.props.index&&e.props.children&&d(!1);let o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=ie(e.props.children,a)),n.push(o)})),n}function le(e){let{basename:t,children:n,future:r,history:a}=e,[o,i]=c.useState({action:a.action,location:a.location}),{v7_startTransition:l}=r||{},s=c.useCallback((e=>{l&&I?I((()=>i(e))):i(e)}),[i,l]);return c.useLayoutEffect((()=>a.listen(s)),[a,s]),c.createElement(re,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a})}function ce(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement,function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"}(Z||(Z={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(ee||(ee={})),ce({},"ErrorBoundary",(()=>de)),ce({},"ErrorBoundaryContext",(()=>se));const se=(0,c.createContext)(null),ue={didCatch:!1,error:null};class de extends c.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=ue}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(...e){const{error:t}=this.state;null!==t&&(this.props.onReset?.({args:e,reason:"imperative-api"}),this.setState(ue))}componentDidCatch(e,t){this.props.onError?.(e,t)}componentDidUpdate(e,t){const{didCatch:n}=this.state,{resetKeys:r}=this.props;n&&null!==t.error&&function(e=[],t=[]){return e.length!==t.length||e.some(((e,n)=>!Object.is(e,t[n])))}(e.resetKeys,r)&&(this.props.onReset?.({next:r,prev:e.resetKeys,reason:"keys"}),this.setState(ue))}render(){const{children:e,fallbackRender:t,FallbackComponent:n,fallback:r}=this.props,{didCatch:a,error:o}=this.state;let i=e;if(a){const e={error:o,resetErrorBoundary:this.resetErrorBoundary};if((0,c.isValidElement)(r))i=r;else if("function"==typeof t)i=t(e);else{if(!n)throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop");i=(0,c.createElement)(n,e)}}return(0,c.createElement)(se.Provider,{value:{didCatch:a,error:o,resetErrorBoundary:this.resetErrorBoundary}},i)}}function pe(){const e=(0,c.useContext)(se);!function(e){if(null==e||"boolean"!=typeof e.didCatch||"function"!=typeof e.resetErrorBoundary)throw new Error("ErrorBoundaryContext not found")}(e);const[t,n]=(0,c.useState)({error:null,hasError:!1}),r=(0,c.useMemo)((()=>({resetBoundary:()=>{e?.resetErrorBoundary(),n({error:null,hasError:!1})},showBoundary:e=>n({error:e,hasError:!0})})),[e?.resetErrorBoundary]);if(t.hasError)throw t.error;return r}function fe(e,t){const n=(0,c.forwardRef)(((n,r)=>(0,c.createElement)(de,t,(0,c.createElement)(e,{...n,ref:r})))),r=e.displayName||e.name||"Unknown";return n.displayName=`withErrorBoundary(${r})`,n}ce({},"useErrorBoundary",(()=>pe)),ce({},"withErrorBoundary",(()=>fe));const me=window.wp.i18n;function he(e){var t=e.error;return(0,r.createElement)(l.Notice,{status:"error",isDismissible:!1},(0,r.createElement)("strong",null,(0,me.__)("Error:","newsletter-optin-box"))," ",t.message)}function ge(e){var t=e.children;return(0,r.createElement)(de,{FallbackComponent:he},t)}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ye(e,t){if(e){if("string"==typeof e)return ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ve(e,t):void 0}}function be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||ye(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e){return Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ee(e)}function _e(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Ee(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Ee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ee(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function we(){return we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},we.apply(this,arguments)}var xe;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(xe||(xe={}));var Oe,ke=function(e){return e},Se="beforeunload",Ce="popstate";function Re(e){e.preventDefault(),e.returnValue=""}function Pe(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";if(!Oe){var t=function(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function a(){var e=n.location,t=e.pathname,a=e.search,o=e.hash,i=r.state||{};return[i.idx,ke({pathname:t,search:a,hash:o,state:i.usr||null,key:i.key||"default"})]}var o=null;n.addEventListener(Ce,(function(){if(o)d.call(o),o=null;else{var e=xe.Pop,t=a(),n=t[0],r=t[1];if(d.length){if(null!=n){var i=c-n;i&&(o={action:e,location:r,retry:function(){v(-1*i)}},v(i))}}else g(e)}}));var i=xe.Pop,l=a(),c=l[0],s=l[1],u=Pe(),d=Pe();function p(e){return"string"==typeof e?e:function(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,a=void 0===r?"":r,o=e.hash,i=void 0===o?"":o;return a&&"?"!==a&&(n+="?"===a.charAt(0)?a:"?"+a),i&&"#"!==i&&(n+="#"===i.charAt(0)?i:"#"+i),n}(e)}function f(e,t){return void 0===t&&(t=null),ke(we({pathname:s.pathname,hash:"",search:""},"string"==typeof e?function(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}(e):e,{state:t,key:Math.random().toString(36).substr(2,8)}))}function m(e,t){return[{usr:e.state,key:e.key,idx:t},p(e)]}function h(e,t,n){return!d.length||(d.call({action:e,location:t,retry:n}),!1)}function g(e){i=e;var t=a();c=t[0],s=t[1],u.call({action:i,location:s})}function v(e){r.go(e)}return null==c&&(c=0,r.replaceState(we({},r.state,{idx:c}),"")),{get action(){return i},get location(){return s},createHref:p,push:function e(t,a){var o=xe.Push,i=f(t,a);if(h(o,i,(function(){e(t,a)}))){var l=m(i,c+1),s=l[0],u=l[1];try{r.pushState(s,"",u)}catch(e){n.location.assign(u)}g(o)}},replace:function e(t,n){var a=xe.Replace,o=f(t,n);if(h(a,o,(function(){e(t,n)}))){var i=m(o,c),l=i[0],s=i[1];r.replaceState(l,"",s),g(a)}},go:v,back:function(){v(-1)},forward:function(){v(1)},listen:function(e){return u.push(e)},block:function(e){var t=d.push(e);return 1===d.length&&n.addEventListener(Se,Re),function(){t(),d.length||n.removeEventListener(Se,Re)}}}}();Oe={get action(){return t.action},get location(){var n=t.location,r=(0,i.getQueryArgs)(n.search).hizzle_path||e;return De(De({},n),{},{pathname:r})},createHref:t.createHref,push:t.push,replace:t.replace,go:t.go,back:t.back,forward:t.forward,block:t.block,listen:function(e){var n=this;return t.listen((function(){e({action:n.action,location:n.location})}))}}}return window._history=Oe,Oe}const Ae=window.lodash;function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Me=function(){return Te().location.pathname};function Ne(){var e=Te().location.search;return e.length&&(0,i.getQueryArgs)(e)||{}}function Be(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me(),n=Ie(Ie({},arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ne()),e);return"/"!==t&&(n.hizzle_path=t),(0,i.addQueryArgs)("admin.php",n)}var Le=function(){var e=be((0,r.useState)({}),2),t=e[0],n=e[1],a=be((0,r.useState)(!0),2),o=a[0],i=a[1];return(0,r.useLayoutEffect)((function(){return e=function(){i(!0)},window.hizzleNavigation=null!==(t=window.hizzleNavigation)&&void 0!==t?t:{},window.hizzleNavigation.historyPatched||(n=window.history,r=n.pushState,a=n.replaceState,n.pushState=function(e){var t=new CustomEvent("pushstate",{state:e});return window.dispatchEvent(t),r.apply(n,arguments)},n.replaceState=function(e){var t=new CustomEvent("replacestate",{state:e});return window.dispatchEvent(t),a.apply(n,arguments)},window.hizzleNavigation.historyPatched=!0),window.addEventListener("popstate",e),window.addEventListener("pushstate",e),window.addEventListener("replacestate",e),function(){window.removeEventListener("popstate",e),window.removeEventListener("pushstate",e),window.removeEventListener("replacestate",e)};var e,t,n,r,a}),[]),(0,r.useEffect)((function(){if(o){var e=Ne();n(e),i(!1)}}),[o]),t},ze=function(e){Te().push((0,i.addQueryArgs)("admin.php",(0,i.getQueryArgs)(e))),window.scrollTo({top:0,behavior:"smooth"})};const $e=window.wp.data,He=window.wp.dataControls;var Ue=function(e,t){return{type:"SET_PARTIAL_RECORDS",records:e,queryString:t}},qe=function(e,t){return{type:"SET_RECORDS",records:e,queryString:t}},We=function(e){return{type:"SET_RECORD",record:e}},Ve=function(e){return{type:"SET_SCHEMA",schema:e}},Ke=function(e){return{type:"BEFORE_DELETE_RECORD",id:e}},Qe=function(e,t,n){return{type:"SET_TAB_CONTENT",id:e,tab_id:t,content:n}},Ge=function(e,t){return{type:"SET_RECORD_OVERVIEW",id:e,overview:t}};const Ye=window.regeneratorRuntime;var Xe=n.n(Ye);function Je(e,t){return{createRecord:Xe().mark((function n(r,a){var o,i;return Xe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o="".concat(e,"/v1/").concat(t),n.next=4,(0,He.apiFetch)({path:o,method:"POST",data:r});case 4:if(!(i=n.sent)){n.next=17;break}return n.next=8,a.invalidateResolutionForStoreSelector("getRecords");case 8:return n.next=10,a.invalidateResolutionForStoreSelector("getPartialRecords");case 10:return n.next=12,a.invalidateResolution("getRecord",[i.id]);case 12:return n.next=14,a.startResolution("getRecord",[i.id]);case 14:return n.next=16,a.finishResolution("getRecord",[i.id]);case 16:return n.abrupt("return",We(i));case 17:case"end":return n.stop()}}),n)})),updateRecord:Xe().mark((function n(r,a,o){var i,l;return Xe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i="".concat(e,"/v1/").concat(t,"/").concat(r),n.next=4,(0,He.apiFetch)({path:i,method:"PUT",data:a});case 4:if(!(l=n.sent)){n.next=11;break}return n.next=8,o.startResolution("getRecord",[l.id]);case 8:return n.next=10,o.finishResolution("getRecord",[l.id]);case 10:return n.abrupt("return",o.setRecord(l));case 11:case"end":return n.stop()}}),n)})),deleteRecord:Xe().mark((function n(r,a){var o;return Xe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.beforeDeleteRecord(r);case 2:return o="".concat(e,"/v1/").concat(t,"/").concat(r),n.next=6,(0,He.apiFetch)({path:o,method:"DELETE"});case 6:return n.next=8,a.invalidateResolution("getRecord",[result.id]);case 8:return n.abrupt("return",{type:"DELETE_RECORD",id:r});case 9:case"end":return n.stop()}}),n)})),deleteRecords:Xe().mark((function n(r,a){var o;return Xe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o="".concat(e,"/v1/").concat(t).concat(r),n.next=4,(0,He.apiFetch)({path:o,method:"DELETE"});case 4:return n.next=6,a.emptyCache(a);case 6:return n.abrupt("return",{type:"DELETE_RECORDS"});case 7:case"end":return n.stop()}}),n)})),batchAction:Xe().mark((function n(r,a){var o;return Xe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o="".concat(e,"/v1/").concat(t,"/batch"),n.next=4,(0,He.apiFetch)({path:o,method:"POST",data:r});case 4:return n.next=6,a.emptyCache(a);case 6:return n.abrupt("return",{type:"BATCH_ACTION"});case 7:case"end":return n.stop()}}),n)})),emptyCache:Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.invalidateResolutionForStoreSelector("getRecords");case 2:return e.next=4,t.invalidateResolutionForStoreSelector("getPartialRecords");case 4:return e.next=6,t.invalidateResolutionForStoreSelector("getRecord");case 6:return e.next=8,t.invalidateResolutionForStoreSelector("getRecordOverview");case 8:return e.next=10,t.invalidateResolutionForStoreSelector("getTabContent");case 10:case"end":return e.stop()}}),e)}))}}var Ze={records:{byID:{},queries:{}},partialRecords:{},schema:{},tabContent:{},recordOverview:{}};function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const nt=(0,$e.combineReducers)({schema:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"SET_SCHEMA"===t.type?t.schema:e},records:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{byID:{},queries:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_RECORDS":var n=""===t.queryString?"all":t.queryString;return{byID:tt(tt({},e.byID),t.records.items.reduce((function(e,t){return tt(tt({},e),{},_e({},t.id,t))}),{})),queries:tt(tt({},e.queries),{},_e({},n,{items:t.records.items.map((function(e){return e.id})),summary:t.records.summary,total:t.records.total}))};case"SET_RECORD":return tt(tt({},e),{},{byID:tt(tt({},e.byID),{},_e({},t.record.id,t.record))});case"BEFORE_DELETE_RECORD":var r=tt({},e.queries);return Object.keys(r).forEach((function(e){var n=r[e].items.indexOf(t.id);-1!==n&&(r[e].items.splice(n,1),r[e].total-=1)})),tt(tt({},e),{},{queries:r});case"DELETE_RECORD":var a=tt({},e.byID);return delete a[t.id],tt(tt({},e),{},{byID:a});case"DELETE_RECORDS":return tt(tt({},e),{},{queries:{},byID:{}})}return e},partialRecords:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if("SET_PARTIAL_RECORDS"===t.type){var n=""===t.queryString?"all":t.queryString;return tt(tt({},e),{},_e({},n,t.records))}return e},tabContent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"SET_TAB_CONTENT"===t.type?tt(tt({},e),{},_e({},"".concat(t.id,"_").concat(t.tab_id),t.content)):e},recordOverview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"SET_RECORD_OVERVIEW"===t.type?tt(tt({},e),{},_e({},t.id,t.overview)):e}});function rt(e,t){return{getRecords:Xe().mark((function n(r){var a,o,i,l;return Xe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a="".concat(e,"/v1/").concat(t).concat(r),n.next=3,(0,He.apiFetch)({path:a});case 3:if(!(o=n.sent)){n.next=12;break}return i="".concat(e,"/").concat(t),l=o.items.map((function(e){return[e.id]})),n.next=9,$e.controls.dispatch(i,"startResolutions","getRecord",l);case 9:return n.next=11,$e.controls.dispatch(i,"finishResolutions","getRecord",l);case 11:return n.abrupt("return",qe(o,r));case 12:case"end":return n.stop()}}),n)})),getPartialRecords:Xe().mark((function n(r){var a,o;return Xe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a="".concat(e,"/v1/").concat(t).concat(r),n.next=3,(0,He.apiFetch)({path:a});case 3:if(!(o=n.sent)){n.next=6;break}return n.abrupt("return",Ue(o.items,r));case 6:case"end":return n.stop()}}),n)})),getRecord:Xe().mark((function n(r){var a,o;return Xe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a="".concat(e,"/v1/").concat(t,"/").concat(r),n.next=3,(0,He.apiFetch)({path:a});case 3:return o=n.sent,n.abrupt("return",We(o));case 5:case"end":return n.stop()}}),n)})),getSchema:Xe().mark((function n(){var r,a;return Xe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="".concat(e,"/v1/").concat(t,"/collection_schema"),n.next=3,(0,He.apiFetch)({path:r});case 3:return a=n.sent,n.abrupt("return",Ve(a));case 5:case"end":return n.stop()}}),n)})),getTabContent:Xe().mark((function n(r,a){var o,i;return Xe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o="".concat(e,"/v1/").concat(t,"/").concat(r,"/").concat(a),n.next=3,(0,He.apiFetch)({path:o});case 3:return i=n.sent,n.abrupt("return",Qe(r,a,i));case 5:case"end":return n.stop()}}),n)})),getRecordOverview:Xe().mark((function n(r){var a,o;return Xe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a="".concat(e,"/v1/").concat(t,"/").concat(r,"/overview"),n.next=3,(0,He.apiFetch)({path:a});case 3:return o=n.sent,n.abrupt("return",Ge(r,o));case 5:case"end":return n.stop()}}),n)}))}}var at={};function ot(e){return[e]}function it(e,t,n){var r;if(e.length!==t.length)return!1;for(r=n;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var lt={items:[],summary:{},total:0},ct=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,n=arguments.length>1?arguments[1]:void 0;return n=""===n?"all":n,Array.isArray(null===(e=t.records.queries[n])||void 0===e?void 0:e.items)?t.records.queries[n].items:[]},st=function(){var e,t=arguments.length>1?arguments[1]:void 0;return t=""===t?"all":t,(null===(e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze).records.queries[t])||void 0===e?void 0:e.total)||0},ut=function(){var e,t=arguments.length>1?arguments[1]:void 0;return t=""===t?"all":t,(null===(e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze).records.queries[t])||void 0===e?void 0:e.summary)||{}},dt=function(e,t){var n,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0;return[e.records.queries[""===t?"all":t],e.records.byId]}||ot;function a(){n=new WeakMap}function o(){var t,a,o,i,l,c=arguments.length;for(i=new Array(c),o=0;o<c;o++)i[o]=arguments[o];for(t=function(e){var t,r,a,o,i,l=n,c=!0;for(t=0;t<e.length;t++){if(!(i=r=e[t])||"object"!=typeof i){c=!1;break}l.has(r)?l=l.get(r):(a=new WeakMap,l.set(r,a),l=a)}return l.has(at)||((o=function(){var e={clear:function(){e.head=null}};return e}()).isUniqueByDependants=c,l.set(at,o)),l.get(at)}(l=r.apply(null,i)),t.isUniqueByDependants||(t.lastDependants&&!it(l,t.lastDependants,0)&&t.clear(),t.lastDependants=l),a=t.head;a;){if(it(a.args,i,1))return a!==t.head&&(a.prev.next=a.next,a.next&&(a.next.prev=a.prev),a.next=t.head,a.prev=null,t.head.prev=a,t.head=a),a.val;a=a.next}return a={val:e.apply(null,i)},i[0]=null,a.args=i,t.head&&(t.head.prev=a,a.next=t.head),t.head=a,a.val}return o.getDependants=r,o.clear=a,a(),o}((function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,n=arguments.length>1?arguments[1]:void 0;n=""===n?"all":n;var r=null!==(e=t.records.queries[n])&&void 0!==e?e:lt;return{items:r.items.map((function(e){return t.records.byID[e]})),summary:r.summary,total:r.total}})),pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0;return t=""===t?"all":t,Array.isArray(e.partialRecords[t])?e.partialRecords[t]:[]},ft=function(){var e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze).records.byID[e]||null},mt=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze).schema||{}},ht=function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze).tabContent["".concat(e,"_").concat(t)]||{}},gt=function(){var e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze).recordOverview[e]||[]};function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bt=["getIsResolving","hasStartedResolution","hasFinishedResolution","isResolving","getCachedResolvers","getResolutionError","hasResolutionFailed","getAllRecordData"],Et=function(e){var t=yt({},e);return delete t.hizzle_path,delete t.page,1===parseInt(t.paged)&&delete t.paged,(0,i.addQueryArgs)("",t)};function _t(e,t){return(0,$e.useSelect)((function(t,n){return e((function(e){return wt(t(e))}),n)}),t)}var wt=function(e,t){var n,r,a=0;function o(){var o,i,l=n,c=arguments.length;e:for(;l;){if(l.args.length===arguments.length){for(i=0;i<c;i++)if(l.args[i]!==arguments[i]){l=l.next;continue e}return l!==n&&(l===r&&(r=l.prev),l.prev.next=l.next,l.next&&(l.next.prev=l.prev),l.next=n,l.prev=null,n.prev=l,n=l),l.val}l=l.next}for(o=new Array(c),i=0;i<c;i++)o[i]=arguments[i];return l={args:o,val:e.apply(null,o)},n?(n.prev=l,l.next=n):r=l,a===t.maxSize?(r=r.prev).next=null:a++,n=l,l.val}return t=t||{},o.clear=function(){n=null,r=null,a=0},o}((function(e){var t={},n=function(n){if(bt.includes(n))return t[n]=e[n],"continue";Object.defineProperty(t,n,{get:function(){return function(){for(var t=e.getIsResolving,r=e.hasFinishedResolution,a=e.getResolutionError,o=e.hasResolutionFailed,i=e.hasStartedResolution,l=arguments.length,c=new Array(l),s=0;s<l;s++)c[s]=arguments[s];var u=a(n,c),d=!!t(n,c)||!i(n,c),p=!d&&r(n,c);return{data:e[n].apply(e,c),status:d?"RESOLVING":p?o(n,c)||u?"ERROR":"SUCCESS":"IDLE",isResolving:d,hasResolved:p,error:u}}}})};for(var r in e)n(r);return t}));function xt(e,t){var n="".concat(e,"/").concat(t);return _t((function(e){return e(n).getSchema()}),[e,t])}function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var St={};const Ct=(0,r.forwardRef)((function(e,t){var n=e.actions,a=e.className,o=e.title,i=e.menu,c=e.children;return(0,r.createElement)(l.Card,{className:a,ref:t},(0,r.createElement)(ge,null,(0,r.createElement)(l.CardHeader,null,(0,r.createElement)(l.Flex,{justify:"start",wrap:!0},(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(l.__experimentalText,{size:16,weight:600,as:"h2",color:"#23282d"},o)),n&&(0,r.createElement)(l.FlexItem,{className:"noptin-screen__actions"}," ",n," ")),i&&i),c))}));function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jt(){var e=q(),t=e.namespace,n=e.collection;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ze(Be({},"/".concat(t,"/").concat(n,"/").concat(e)))}}function Dt(){var e=q();return xt(e.namespace,e.collection)}function Tt(){var e=q();return function(e,t,n){var a="".concat(e,"/").concat(t);n=parseInt(n,10);var o=(0,$e.useDispatch)(a),i=(0,r.useMemo)((function(){return{save:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.updateRecord(n,e,o)},delete:function(){return o.deleteRecord(n,o).catch((function(e){console.error(e)}))}}}),[n]);return yt(yt({},_t((function(e){return e(a).getRecord(n)}),[e,t,n])),i)}(e.namespace,e.collection,e.id)}function At(){var e=q();return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="".concat(e,"/").concat(t),a=Et(n);return _t((function(e){return e(r).getRecords(a)}),[e,t,a])}(e.namespace,e.collection,Ne())}function Ft(){return At().data.total||0}function It(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var Mt=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;const Nt=It((function(e){return Mt.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var Bt=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(e){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Lt=Math.abs,zt=String.fromCharCode,$t=Object.assign;function Ht(e){return e.trim()}function Ut(e,t,n){return e.replace(t,n)}function qt(e,t){return e.indexOf(t)}function Wt(e,t){return 0|e.charCodeAt(t)}function Vt(e,t,n){return e.slice(t,n)}function Kt(e){return e.length}function Qt(e){return e.length}function Gt(e,t){return t.push(e),e}var Yt=1,Xt=1,Jt=0,Zt=0,en=0,tn="";function nn(e,t,n,r,a,o,i){return{value:e,root:t,parent:n,type:r,props:a,children:o,line:Yt,column:Xt,length:i,return:""}}function rn(e,t){return $t(nn("",null,null,"",null,null,0),e,{length:-e.length},t)}function an(){return en=Zt>0?Wt(tn,--Zt):0,Xt--,10===en&&(Xt=1,Yt--),en}function on(){return en=Zt<Jt?Wt(tn,Zt++):0,Xt++,10===en&&(Xt=1,Yt++),en}function ln(){return Wt(tn,Zt)}function cn(){return Zt}function sn(e,t){return Vt(tn,e,t)}function un(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function dn(e){return Yt=Xt=1,Jt=Kt(tn=e),Zt=0,[]}function pn(e){return tn="",e}function fn(e){return Ht(sn(Zt-1,gn(91===e?e+2:40===e?e+1:e)))}function mn(e){for(;(en=ln())&&en<33;)on();return un(e)>2||un(en)>3?"":" "}function hn(e,t){for(;--t&&on()&&!(en<48||en>102||en>57&&en<65||en>70&&en<97););return sn(e,cn()+(t<6&&32==ln()&&32==on()))}function gn(e){for(;on();)switch(en){case e:return Zt;case 34:case 39:34!==e&&39!==e&&gn(en);break;case 40:41===e&&gn(e);break;case 92:on()}return Zt}function vn(e,t){for(;on()&&e+en!==57&&(e+en!==84||47!==ln()););return"/*"+sn(t,Zt-1)+"*"+zt(47===e?e:on())}function yn(e){for(;!un(ln());)on();return sn(e,Zt)}var bn="-ms-",En="-moz-",_n="-webkit-",wn="comm",xn="rule",On="decl",kn="@keyframes";function Sn(e,t){for(var n="",r=Qt(e),a=0;a<r;a++)n+=t(e[a],a,e,t)||"";return n}function Cn(e,t,n,r){switch(e.type){case"@import":case On:return e.return=e.return||e.value;case wn:return"";case kn:return e.return=e.value+"{"+Sn(e.children,r)+"}";case xn:e.value=e.props.join(",")}return Kt(n=Sn(e.children,r))?e.return=e.value+"{"+n+"}":""}function Rn(e){return pn(Pn("",null,null,null,[""],e=dn(e),0,[0],e))}function Pn(e,t,n,r,a,o,i,l,c){for(var s=0,u=0,d=i,p=0,f=0,m=0,h=1,g=1,v=1,y=0,b="",E=a,_=o,w=r,x=b;g;)switch(m=y,y=on()){case 40:if(108!=m&&58==Wt(x,d-1)){-1!=qt(x+=Ut(fn(y),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:x+=fn(y);break;case 9:case 10:case 13:case 32:x+=mn(m);break;case 92:x+=hn(cn()-1,7);continue;case 47:switch(ln()){case 42:case 47:Gt(Dn(vn(on(),cn()),t,n),c);break;default:x+="/"}break;case 123*h:l[s++]=Kt(x)*v;case 125*h:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:-1==v&&(x=Ut(x,/\f/g,"")),f>0&&Kt(x)-d&&Gt(f>32?Tn(x+";",r,n,d-1):Tn(Ut(x," ","")+";",r,n,d-2),c);break;case 59:x+=";";default:if(Gt(w=jn(x,t,n,s,u,a,l,b,E=[],_=[],d),o),123===y)if(0===u)Pn(x,t,w,w,E,o,d,l,_);else switch(99===p&&110===Wt(x,3)?100:p){case 100:case 109:case 115:Pn(e,w,w,r&&Gt(jn(e,w,w,0,0,a,l,b,a,E=[],d),_),a,_,d,l,r?E:_);break;default:Pn(x,w,w,w,[""],_,0,l,_)}}s=u=f=0,h=v=1,b=x="",d=i;break;case 58:d=1+Kt(x),f=m;default:if(h<1)if(123==y)--h;else if(125==y&&0==h++&&125==an())continue;switch(x+=zt(y),y*h){case 38:v=u>0?1:(x+="\f",-1);break;case 44:l[s++]=(Kt(x)-1)*v,v=1;break;case 64:45===ln()&&(x+=fn(on())),p=ln(),u=d=Kt(b=x+=yn(cn())),y++;break;case 45:45===m&&2==Kt(x)&&(h=0)}}return o}function jn(e,t,n,r,a,o,i,l,c,s,u){for(var d=a-1,p=0===a?o:[""],f=Qt(p),m=0,h=0,g=0;m<r;++m)for(var v=0,y=Vt(e,d+1,d=Lt(h=i[m])),b=e;v<f;++v)(b=Ht(h>0?p[v]+" "+y:Ut(y,/&\f/g,p[v])))&&(c[g++]=b);return nn(e,t,n,0===a?xn:l,c,s,u)}function Dn(e,t,n){return nn(e,t,n,wn,zt(en),Vt(e,2,-2),0)}function Tn(e,t,n,r){return nn(e,t,n,On,Vt(e,0,r),Vt(e,r+1,-1),r)}var An=function(e,t,n){for(var r=0,a=0;r=a,a=ln(),38===r&&12===a&&(t[n]=1),!un(a);)on();return sn(e,Zt)},Fn=new WeakMap,In=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Fn.get(n))&&!r){Fn.set(e,!0);for(var a=[],o=function(e,t){return pn(function(e,t){var n=-1,r=44;do{switch(un(r)){case 0:38===r&&12===ln()&&(t[n]=1),e[n]+=An(Zt-1,t,n);break;case 2:e[n]+=fn(r);break;case 4:if(44===r){e[++n]=58===ln()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=zt(r)}}while(r=on());return e}(dn(e),t))}(t,a),i=n.props,l=0,c=0;l<o.length;l++)for(var s=0;s<i.length;s++,c++)e.props[c]=a[l]?o[l].replace(/&\f/g,i[s]):i[s]+" "+o[l]}}},Mn=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Nn(e,t){switch(function(e,t){return 45^Wt(e,0)?(((t<<2^Wt(e,0))<<2^Wt(e,1))<<2^Wt(e,2))<<2^Wt(e,3):0}(e,t)){case 5103:return _n+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return _n+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return _n+e+En+e+bn+e+e;case 6828:case 4268:return _n+e+bn+e+e;case 6165:return _n+e+bn+"flex-"+e+e;case 5187:return _n+e+Ut(e,/(\w+).+(:[^]+)/,_n+"box-$1$2"+bn+"flex-$1$2")+e;case 5443:return _n+e+bn+"flex-item-"+Ut(e,/flex-|-self/,"")+e;case 4675:return _n+e+bn+"flex-line-pack"+Ut(e,/align-content|flex-|-self/,"")+e;case 5548:return _n+e+bn+Ut(e,"shrink","negative")+e;case 5292:return _n+e+bn+Ut(e,"basis","preferred-size")+e;case 6060:return _n+"box-"+Ut(e,"-grow","")+_n+e+bn+Ut(e,"grow","positive")+e;case 4554:return _n+Ut(e,/([^-])(transform)/g,"$1"+_n+"$2")+e;case 6187:return Ut(Ut(Ut(e,/(zoom-|grab)/,_n+"$1"),/(image-set)/,_n+"$1"),e,"")+e;case 5495:case 3959:return Ut(e,/(image-set\([^]*)/,_n+"$1$`$1");case 4968:return Ut(Ut(e,/(.+:)(flex-)?(.*)/,_n+"box-pack:$3"+bn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+_n+e+e;case 4095:case 3583:case 4068:case 2532:return Ut(e,/(.+)-inline(.+)/,_n+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Kt(e)-1-t>6)switch(Wt(e,t+1)){case 109:if(45!==Wt(e,t+4))break;case 102:return Ut(e,/(.+:)(.+)-([^]+)/,"$1"+_n+"$2-$3$1"+En+(108==Wt(e,t+3)?"$3":"$2-$3"))+e;case 115:return~qt(e,"stretch")?Nn(Ut(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Wt(e,t+1))break;case 6444:switch(Wt(e,Kt(e)-3-(~qt(e,"!important")&&10))){case 107:return Ut(e,":",":"+_n)+e;case 101:return Ut(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+_n+(45===Wt(e,14)?"inline-":"")+"box$3$1"+_n+"$2$3$1"+bn+"$2box$3")+e}break;case 5936:switch(Wt(e,t+11)){case 114:return _n+e+bn+Ut(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return _n+e+bn+Ut(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return _n+e+bn+Ut(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return _n+e+bn+e+e}return e}var Bn=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case On:e.return=Nn(e.value,e.length);break;case kn:return Sn([rn(e,{value:Ut(e.value,"@","@"+_n)})],r);case xn:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=/(::plac\w+|:read-\w+)/.exec(e))?e[0]:e}(t)){case":read-only":case":read-write":return Sn([rn(e,{props:[Ut(t,/:(read-\w+)/,":"+En+"$1")]})],r);case"::placeholder":return Sn([rn(e,{props:[Ut(t,/:(plac\w+)/,":"+_n+"input-$1")]}),rn(e,{props:[Ut(t,/:(plac\w+)/,":"+En+"$1")]}),rn(e,{props:[Ut(t,/:(plac\w+)/,bn+"input-$1")]})],r)}return""}))}}];const Ln=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,a,o=e.stylisPlugins||Bn,i={},l=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)i[t[n]]=!0;l.push(e)}));var c,s,u,d,p=[Cn,(d=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&d(e)})],f=(s=[In,Mn].concat(o,p),u=Qt(s),function(e,t,n,r){for(var a="",o=0;o<u;o++)a+=s[o](e,t,n,r)||"";return a});a=function(e,t,n,r){c=n,Sn(Rn(e?e+"{"+t.styles+"}":t.styles),f),r&&(m.inserted[t.name]=!0)};var m={key:t,sheet:new Bt({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:a};return m.sheet.hydrate(l),m};var zn={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},$n=/[A-Z]|^ms/g,Hn=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Un=function(e){return 45===e.charCodeAt(1)},qn=function(e){return null!=e&&"boolean"!=typeof e},Wn=It((function(e){return Un(e)?e:e.replace($n,"-$&").toLowerCase()})),Vn=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(Hn,(function(e,t,n){return Qn={name:t,styles:n,next:Qn},t}))}return 1===zn[e]||Un(e)||"number"!=typeof t||0===t?t:t+"px"};function Kn(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Qn={name:n.name,styles:n.styles,next:Qn},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Qn={name:r.name,styles:r.styles,next:Qn},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var a=0;a<n.length;a++)r+=Kn(e,t,n[a])+";";else for(var o in n){var i=n[o];if("object"!=typeof i)null!=t&&void 0!==t[i]?r+=o+"{"+t[i]+"}":qn(i)&&(r+=Wn(o)+":"+Vn(o,i)+";");else if(!Array.isArray(i)||"string"!=typeof i[0]||null!=t&&void 0!==t[i[0]]){var l=Kn(e,t,i);switch(o){case"animation":case"animationName":r+=Wn(o)+":"+l+";";break;default:r+=o+"{"+l+"}"}}else for(var c=0;c<i.length;c++)qn(i[c])&&(r+=Wn(o)+":"+Vn(o,i[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var a=Qn,o=n(e);return Qn=a,Kn(e,t,o)}}if(null==t)return n;var i=t[n];return void 0!==i?i:n}var Qn,Gn=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Yn=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,a="";Qn=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,a+=Kn(n,t,o)):a+=o[0];for(var i=1;i<e.length;i++)a+=Kn(n,t,e[i]),r&&(a+=o[i]);Gn.lastIndex=0;for(var l,c="";null!==(l=Gn.exec(a));)c+="-"+l[1];var s=function(e){for(var t,n=0,r=0,a=e.length;a>=4;++r,a-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(a){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(a)+c;return{name:s,styles:a,next:Qn}},Xn=!!c.useInsertionEffect&&c.useInsertionEffect||function(e){return e()},Jn=(0,c.createContext)("undefined"!=typeof HTMLElement?Ln({key:"css"}):null);Jn.Provider;var Zn=(0,c.createContext)({}),er=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},tr=Nt,nr=function(e){return"theme"!==e},rr=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?tr:nr},ar=function(e,t,n){var r;if(t){var a=t.shouldForwardProp;r=e.__emotion_forwardProp&&a?function(t){return e.__emotion_forwardProp(t)&&a(t)}:a}return"function"!=typeof r&&n&&(r=e.__emotion_forwardProp),r},or=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return er(t,n,r),Xn((function(){return function(e,t,n){er(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+r:"",a,e.sheet,!0),a=a.next}while(void 0!==a)}}(t,n,r)})),null};const ir=function e(t,n){var r,a,o=t.__emotion_real===t,i=o&&t.__emotion_base||t;void 0!==n&&(r=n.label,a=n.target);var l=ar(t,n,o),s=l||rr(i),u=!s("as");return function(){var d=arguments,p=o&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&p.push("label:"+r+";"),null==d[0]||void 0===d[0].raw)p.push.apply(p,d);else{p.push(d[0][0]);for(var f=d.length,m=1;m<f;m++)p.push(d[m],d[0][m])}var h,g=(h=function(e,t,n){var r,o,d,f,m=u&&e.as||i,h="",g=[],v=e;if(null==e.theme){for(var y in v={},e)v[y]=e[y];v.theme=(0,c.useContext)(Zn)}"string"==typeof e.className?(r=t.registered,o=g,d=e.className,f="",d.split(" ").forEach((function(e){void 0!==r[e]?o.push(r[e]+";"):f+=e+" "})),h=f):null!=e.className&&(h=e.className+" ");var b=Yn(p.concat(g),t.registered,v);h+=t.key+"-"+b.name,void 0!==a&&(h+=" "+a);var E=u&&void 0===l?rr(m):s,_={};for(var w in e)u&&"as"===w||E(w)&&(_[w]=e[w]);return _.className=h,_.ref=n,(0,c.createElement)(c.Fragment,null,(0,c.createElement)(or,{cache:t,serialized:b,isStringTag:"string"==typeof m}),(0,c.createElement)(m,_))},(0,c.forwardRef)((function(e,t){var n=(0,c.useContext)(Jn);return h(e,n,t)})));return g.displayName=void 0!==r?r:"Styled("+("string"==typeof i?i:i.displayName||i.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=p,g.__emotion_forwardProp=l,Object.defineProperty(g,"toString",{value:function(){return"."+a}}),g.withComponent=function(t,r){return e(t,we({},n,r,{shouldForwardProp:ar(g,r,!0)})).apply(void 0,p)},g}};function lr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Yn(t)}n(679);var cr="#e2e4e7",sr={name:"d3qjqk",styles:"margin-bottom:1.6rem"},ur=ir(l.Notice,{target:"er8lhlf18"})({name:"1ep9nyp",styles:"margin:0!important"}),dr=ir("span",{target:"er8lhlf17"})({name:"15xjqx9",styles:"color:#13881e;font-size:12px;display:inline-block;z-index:1;animation:hizzle-slideUp 1s linear;@keyframes hizzle-slideUp{0%{opacity:0;transform:translateY( 10px );}50%{opacity:1;transform:translateY( -10px );}100%{opacity:0;transform:translateY( -20px );}}"}),pr=ir(l.Button,{shouldForwardProp:function(e){return!["maxWidth","__withNoMargin"].includes(e)},target:"er8lhlf16"})("width:100%;justify-content:center;font-size:14px;min-height:50px;margin:",(function(e){return e.__withNoMargin?"0":"1.6rem 0"}),";max-width:",(function(e){return e.maxWidth?e.maxWidth:"100%"}),";"),fr=ir("div",{target:"er8lhlf15"})("background-color:#cbeeff;padding:1rem;border-radius:4px;display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100px;box-shadow:0 1px 3px rgba(0,0,0,0.12),0 1px 2px rgba(0,0,0,0.24);& p{font-size:14px;color:#001012;}& .components-button{margin-left:4px;}",sr,";"),mr=ir("div",{target:"er8lhlf14"})({name:"1e68saw",styles:"border-left:4px solid #cc1818;margin:5px 15px 2px 0;padding:16px 12px;background-color:#f8cbcb"}),hr=ir(l.__experimentalText,{target:"er8lhlf13"})({name:"drpcj0",styles:"margin-bottom:1.6rem;font-weight:600;font-size:20px"}),gr=ir(l.__experimentalText,{target:"er8lhlf12"})({name:"myqg3b",styles:"font-weight:600;font-size:16px;color:currentColor"}),vr=ir("div",{target:"er8lhlf11"})({name:"lqcu9l",styles:"width:100%;height:20px;background:#eee;margin:1.6rem 0;border-radius:0.25rem;max-width:600px;overflow:hidden"}),yr=function(e){var t=e.total,n=e.processed;return lr("width:",t===n?"100%":n?"".concat(n/t*100,"%"):"1%",";","")},br=ir("div",{target:"er8lhlf10"})(yr,";height:100%;transition:width 3s ease-in-out;animation:position 3s linear infinite;position:relative;border-radius:0.25rem;@keyframes position{0%{left:0;right:100%;background:#72aee6;}100%{right:0;left:100%;background:#007cba;}}"),Er=function(e){var t=e.total,n=e.processed;return(0,r.createElement)(vr,null,(0,r.createElement)(br,{total:t,processed:n}))},_r=ir("img",{target:"er8lhlf9"})({name:"18p3jlm",styles:"height:32px;width:32px;max-width:32px;max-height:32px;overflow:hidden;border-radius:50%;box-shadow:2px 2px 2px rgb(0 0 0 / 5%)"}),wr=ir(l.NavigableMenu,{target:"er8lhlf8"})({name:"1pw29mq",styles:"border:1px solid #9E9E9E;background-color:#fff;margin-bottom:1rem;padding:0.3rem"}),xr=function(e){var t=e.height,n=e.width,r=e.maxWidth;return lr("height:",t=t||"16px",";width:",n=n||"80%",";max-width:",r=r||"120px",";","")},Or=ir("div",{target:"er8lhlf7"})(xr,";display:inline-block;min-height:1em;vertical-align:middle;cursor:wait;background-color:currentColor;opacity:.5;animation:placeholder-glow 2s ease-in-out infinite;@keyframes placeholder-glow{50%{opacity:.2;}}"),kr=ir("div",{target:"er8lhlf6"})({name:"kl0c99",styles:"overflow-x:auto;&>table{width:100%;border-collapse:collapse;}"}),Sr=ir("tr",{target:"er8lhlf5"})({name:"o3suck",styles:"background-color:transparent;&:hover,&:focus-within,&:hover td,&:hover th{background-color:#f8f9fa;}&:last-child td,&:last-child th:not(.noptin-table__header){border-bottom:0;}"}),Cr=function(e){var t=e.align,n=void 0===t?"left":t,r=e.minWidth,a=void 0===r?"160px":r;a=a||"auto";var o="center"===(n=n||"left")?"center":"space-between",i="";return e.isSorted&&(i="\n\t\t\tbackground-color: #f8f9fa;\n\t\t\t&:not(:first-child) {\n\t\t\t\tborder-left: 1px solid ".concat(cr,";\n\t\t\t}\n\t\t\t&:not(:last-child) {\n\t\t\t\tborder-right: 1px solid ").concat(cr,";\n\t\t\t}\n\t\t\t& > .components-button svg,\n\t\t\t& > .components-button .dashicon {\n\t\t\t\tvisibility: visible !important;\n\t\t\t}\n\t\t")),lr("text-align:",n,";min-width:",a,";",i," &>.components-button{justify-content:",o,";}&>a:only-child{display:block;}","")},Rr=ir("th",{target:"er8lhlf4"})("padding:16px;background-color:#f8f9fa;font-weight:bold;white-space:nowrap;",Cr,";border-bottom:1px solid ",cr,";&>.components-button{height:auto;width:100%;text-align:left;vertical-align:middle;line-height:1;font-weight:bold;background:transparent!important;box-shadow:none!important;padding:0;}&>.components-button svg,&>.components-button .dashicon{visibility:hidden;margin-left:4px;}&>.components-button:hover svg,&>.components-button:hover .dashicon{visibility:visible;}"),Pr=ir("td",{target:"er8lhlf3"})("padding:16px;border-bottom:1px solid ",cr,";font-weight:normal;",Cr,";"),jr=ir("td",{target:"er8lhlf2"})({name:"17w81qe",styles:"text-align:left;color:#757575;font-weight:bold;padding:16px 24px;@media (min-width: 782px){padding:2rem;font-size:1.125rem;}"}),Dr=ir("ul",{target:"er8lhlf1"})({name:"t5eiud",styles:"text-align:center;margin:0;&>li{display:inline-block;margin-bottom:0;margin-left:8px;margin-right:8px;}&>li>strong{margin-right:4px;display:inline-block;}"}),Tr=function(e){var t=e.color,n=e.backgroundColor;return lr("background-color:",n=n||"#efeeea",";color:",t=t||"#241c15",";","")},Ar=ir("span",{shouldForwardProp:function(e){return!["color","backgroundColor"].includes(e)},target:"er8lhlf0"})(Tr," white-space:nowrap;border-radius:200px;height:24px;line-height:24px;padding:3px 9px;display:inline-block;"),Fr=function(e){var t,n,a=e.append,o=e.avatarURL,i=e.isSingle,c=q(),s=c.namespace,u=c.collection,d=Dt().data;a=a?" - ".concat(a):"",o=o||(null==d?void 0:d.avatar_url);var p=(0,r.useMemo)((function(){var e,t;return i&&null!==(e=d.labels)&&void 0!==e&&e.singular_name?"".concat(d.labels.singular_name).concat(a):null!==(t=d.labels)&&void 0!==t&&t.name?"".concat(d.labels.name).concat(a):"Noptin".concat(a)}),[d,a]);return(0,r.createElement)(l.Flex,{justify:"start",wrap:!0},(0,r.createElement)(l.FlexItem,null,o&&(0,r.createElement)(_r,{src:o,alt:p,width:24,height:24})),(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(l.__experimentalText,{size:16,weight:600,as:"h2",color:"#23282d"},p)),(0,r.createElement)(l.FlexItem,null,"/".concat(s,"/").concat(u)!==Me()?(0,r.createElement)(l.Button,{variant:"primary",onClick:function(){return ze(Be({},"/".concat(s,"/").concat(u)))},style:{marginLeft:"10px"}},(null===(t=d.labels)||void 0===t?void 0:t.view_items)||(0,me.__)("View Records","newsletter-optin-box")):(0,r.createElement)(l.Button,{variant:"primary",onClick:function(){return ze(Be({},"/".concat(s,"/").concat(u,"/add")))},style:{marginLeft:"10px"}},(null===(n=d.labels)||void 0===n?void 0:n.add_new)||(0,me.__)("Add New","newsletter-optin-box"))))},Ir=function(){var e=Dt().data,t=Tt();if("SUCCESS"!==t.status)return(0,r.createElement)(Fr,null);var n=e.id_prop?t.data[e.id_prop]:t.data.id,a=t.data.avatar_url;return(0,r.createElement)(Fr,{append:n,avatarURL:a,isSingle:!0})},Mr=function(){var e=Dt().data,t=q().id;return(0,r.createElement)(l.Card,null,(0,r.createElement)(l.CardHeader,null,(0,r.createElement)(l.Flex,{wrap:!0},(0,r.createElement)(l.FlexBlock,null,t?(0,r.createElement)(Ir,null):(0,r.createElement)(Fr,null)),e.routes&&Object.keys(e.routes).map((function(t){return(0,r.createElement)(l.FlexItem,{key:t},e.routes[t].href?(0,r.createElement)(l.Button,{href:e.routes[t].href,variant:"secondary"},e.routes[t].title):(0,r.createElement)(l.Button,{onClick:function(){return ze(Be({},t))},variant:"secondary"},e.routes[t].title))})))))};const Nr=function(e){var t=e.upsell;if(!t)return null;var n=t.content,a=t.buttonURL,o=t.buttonText;return(0,r.createElement)(fr,null,(0,r.createElement)(l.Tip,null,n,(0,r.createElement)(l.Button,{href:a,target:"_blank",variant:"link"},o)))};var Br=function(){var n=q(),a=n.namespace,o=n.collection;!function(n,r){var a="".concat(n,"/").concat(r);St[a]||(St[a]=(0,$e.createReduxStore)(a,{reducer:nt,actions:kt(kt({},e),Je(n,r)),selectors:kt({},t),controls:He.controls,resolvers:rt(n,r)}),(0,$e.register)(St[a])),St[a]}(a,o);var i,c=xt(a,o);return c.isResolving||!c.hasResolved?(0,r.createElement)(Ct,{title:(0,me.__)("Loading","newsletter-optin-box")},(0,r.createElement)(l.CardBody,null,(0,r.createElement)(l.Spinner,null))):"ERROR"===c.status?(0,r.createElement)(Ct,{title:(0,me.__)("Error","newsletter-optin-box")},(0,r.createElement)(l.CardBody,null,(0,r.createElement)(l.Notice,{status:"error",isDismissible:!1},(null===(i=c.error)||void 0===i?void 0:i.message)||(0,me.__)("An unknown error occurred.","newsletter-optin-box")))):(0,r.createElement)(l.Flex,{gap:2,direction:"column"},(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(Mr,null)),(0,r.createElement)(l.FlexBlock,null,(0,r.createElement)(ge,null,(0,r.createElement)(te,null)),(0,r.createElement)(ge,null,(0,r.createElement)(Lr,null))))},Lr=function(){var e=Dt().data;if(null!=e&&e.fills)return e.fills.map((function(e){return(0,r.createElement)(l.Fill,{key:e.name,name:e.name},e.content&&(0,r.createElement)("span",{dangerouslySetInnerHTML:{__html:e.content}}),e.upsell&&(0,r.createElement)(Nr,{upsell:e.upsell}))}))};function zr(e){return function(e){if(Array.isArray(e))return ve(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ye(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $r(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Hr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ur(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hr(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qr=[{label:(0,me.__)("Only run if","newsletter-optin-box"),value:"allow"},{label:(0,me.__)("Do not run if","newsletter-optin-box"),value:"prevent"}],Wr=[{label:(0,me.__)("all","newsletter-optin-box"),value:"all"},{label:(0,me.__)("any","newsletter-optin-box"),value:"any"}];function Vr(e,t){return[{label:t,value:"",disabled:!0}].concat(zr(e))}function Kr(e){var t=e.type,n=e.action,a=e.ruleCount,o=e.setConditionalLogicAttribute,i=a>1;return(0,r.createElement)(l.Flex,{className:"noptin-component__field-lg",wrap:!0},(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(l.SelectControl,{label:(0,me.__)("If","newsletter-optin-box"),hideLabelFromVision:!0,value:n||"allow",options:qr,onChange:function(e){return o("action",e)},size:"default",__nextHasNoMarginBottom:!0})),i&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(l.SelectControl,{label:(0,me.__)("all","newsletter-optin-box"),hideLabelFromVision:!0,value:t||"all",options:Wr,onChange:function(e){return o("type",e)},size:"default",__nextHasNoMarginBottom:!0})),(0,r.createElement)(l.FlexBlock,null,(0,me.__)("of the following rules are true:","newsletter-optin-box"))))}function Qr(e){var t=e.rule,n=e.comparisons,a=e.availableConditionTypes,o=e.updateRule,i=e.removeRule,c=e.conditionType,s=e.isLastRule,u=(e.isFirstRule,(0,r.useMemo)((function(){return e=t.type,a[e]||{};var e}),[a,t.type])),d=(0,r.useMemo)((function(){return e=u.options,t=[],e?Array.isArray(e)?(e.forEach((function(e,n){t.push({label:e,value:n})})),t):(Object.keys(e).forEach((function(n){t.push({label:e[n],value:n})})),t):t;var e,t}),[u]),p=d.length>0,f=(0,r.useMemo)((function(){return u.type?u.type:"string"}),[u]),m=(0,r.useMemo)((function(){var e=[];return Object.keys(n).forEach((function(t){var r=n[t].type;if(p){if("string"===f&&"is"!=t&&"is_not"!=t)return;if("is_empty"===t||"is_not_empty"===t||"is_between"===t)return}"any"!==r&&r!=f||e.push({label:n[t].name,value:t})})),e}),[f]),h="",g=[];Object.keys(a).forEach((function(e){var t=a[e];""===h&&(h=t.type),g.push({label:t.label,value:e})}));var v=function(e,n){o(e,n),"type"!==e&&""===t.type&&o("type",h),"condition"!==e&&""===t.condition&&o("condition","is"),"type"===e&&(o("condition","is"),o("value",""))},y="is_empty"===t.condition||"is_not_empty"===t.condition,b=p&&!y,E=!p&&!y;return(0,r.createElement)(l.Flex,{className:"noptin-component__field-lg",wrap:!0},(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(l.SelectControl,{label:(0,me.__)("Condition Type","newsletter-optin-box"),hideLabelFromVision:!0,value:t.type?t.type:h,options:Vr(g,(0,me.__)("Select a condition","newsletter-optin-box")),onChange:function(e){return v("type",e)},size:"default",__nextHasNoMarginBottom:!0})),(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(l.SelectControl,{label:(0,me.__)("Comparison","newsletter-optin-box"),hideLabelFromVision:!0,value:t.condition?t.condition:"is",options:Vr(m,(0,me.__)("Select a comparison","newsletter-optin-box")),onChange:function(e){return v("condition",e)},size:"default",__nextHasNoMarginBottom:!0})),(0,r.createElement)(l.FlexItem,null,b&&(0,r.createElement)(l.SelectControl,{label:(0,me.__)("Value","newsletter-optin-box"),hideLabelFromVision:!0,value:t.value?t.value:"",options:Vr(d,(0,me.__)("Select a value","newsletter-optin-box")),onChange:function(e){return o("value",e)},size:"default",__nextHasNoMarginBottom:!0}),E&&(0,r.createElement)(l.TextControl,{type:"number"===f?"number":"text",label:(0,me.__)("Value","newsletter-optin-box"),hideLabelFromVision:!0,value:t.value?t.value:"",onChange:function(e){return o("value",e)},__nextHasNoMarginBottom:!0})),(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(l.Button,{onClick:i,icon:"trash"})),(0,r.createElement)(l.FlexBlock,null,!s&&(0,r.createElement)(r.Fragment,null,"any"===c&&(0,me.__)("or","newsletter-optin-box"),"all"===c&&(0,me.__)("and","newsletter-optin-box"))))}function Gr(e){var t=e.rules,n=e.conditionType,a=e.comparisons,o=e.availableSmartTags,i=e.setConditionalLogicAttribute,c=Array.isArray(t)?t:[],s=(0,r.useMemo)((function(){var e={};return o.forEach((function(t){t.conditional_logic&&(e[t.smart_tag]={key:t.smart_tag,label:t.label,options:t.options,type:t.conditional_logic,placeholder:t.placeholder?t.placeholder:""})})),e}),[o]),u=c.length;return(0,r.createElement)("div",{className:"noptin-conditional-logic-rules"},c.map((function(e,t){return(0,r.createElement)(Qr,{key:t,rule:e,updateRule:function(e,n){return function(e,t,n){var r=zr(c);r[e][t]=n,i("rules",r)}(t,e,n)},removeRule:function(){return function(e){var t=zr(c);t.splice(e,1),i("rules",t)}(t)},availableConditionTypes:s,isLastRule:t===u-1,isFirstRule:0===t,conditionType:n,comparisons:a})})),(0,r.createElement)(l.Button,{className:"noptin-add-conditional-rule",onClick:function(){var e=Object.keys(s)[0],t=s[e].options,n=s[e].placeholder?s[e].placeholder:"",r=Array.isArray(t)&&t.length?Object.keys(t)[0]:n,a=zr(c);a.push({type:e,condition:"is",value:r}),i("rules",a)},variant:"secondary"},0===u?(0,me.__)("Add a rule","newsletter-optin-box"):(0,me.__)("Add another rule","newsletter-optin-box")))}function Yr(e){var t=e.onChange,n=e.value,a=e.comparisons,o=e.toggleText,i=e.availableSmartTags,c=e.className;"object"!==Ee(n)&&(n={enabled:!1,action:"allow",rules:[{condition:"is",type:"date",value:""}],type:"all"});var s=function(e,r){t(Ur(Ur({},n),{},_e({},e,r)))};return(0,r.createElement)("div",{className:c},(0,r.createElement)(l.ToggleControl,{checked:!!n.enabled,onChange:function(e){return s("enabled",e)},className:"noptin-component__field",label:o||(0,me.__)("Optionally enable/disable this trigger depending on specific conditions.","newsletter-optin-box"),__nextHasNoMarginBottom:!0}),n.enabled&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(Kr,{ruleCount:n.rules?n.rules.length:0,type:n.type,action:n.action,setConditionalLogicAttribute:s}),(0,r.createElement)(Gr,{rules:n.rules,conditionType:n.type,comparisons:a,availableSmartTags:i,setConditionalLogicAttribute:s})))}var Xr=function(e){var t=e.mergeTag,n=e.onMergeTagClick,a=function(){if(t.example)return t.example;var e="default value";return t.replacement&&(e=t.replacement),t.default&&(e=t.default),e?"".concat(t.smart_tag,' default="').concat(e,'"'):"".concat(t.smart_tag)},o=t.description&&t.description!==t.label;return(0,r.createElement)("tr",{className:"noptin-merge-tag"},(0,r.createElement)("td",null,(0,r.createElement)("label",null,(0,r.createElement)("span",{className:"noptin-merge-tag-label"},t.label),(0,r.createElement)("input",{type:"text",className:"widefat",value:"[[".concat(a(),"]]"),onFocus:function(e){e.target.select(),n&&n("[[".concat(a(),"]]"))},readOnly:!0})),o&&(0,r.createElement)("p",{className:"description noptin-mb0"},t.description)))},Jr=function(e){var t=e.availableSmartTags,n=e.onMergeTagClick;return(0,r.createElement)("div",{className:"noptin-merge-tags-wrapper"},(0,r.createElement)("table",{className:"widefat striped"},(0,r.createElement)("tbody",null,t.map((function(e){return(0,r.createElement)(Xr,{key:e.smart_tag,mergeTag:e,onMergeTagClick:n})})))))},Zr=function(e){var t=e.isOpen,n=e.closeModal,a=e.availableSmartTags,o=e.onMergeTagClick;return(0,r.createElement)(r.Fragment,null,t&&(0,r.createElement)(l.Modal,{title:(0,me.__)("Smart Tags","newsletter-optin-box"),onRequestClose:n},(0,r.createElement)("div",{className:"noptin-component__field-lg noptin-component__field-noptin_description"},(0,r.createElement)(l.Tip,null,(0,me.__)("You can use the following smart tags to generate dynamic values.","newsletter-optin-box"))),(0,r.createElement)(Jr,{availableSmartTags:a,onMergeTagClick:o})))},ea=["setting","availableSmartTags","isPressEnterToChange"],ta=["setting","availableSmartTags","value","onChange"],na=["setting","value","options","onChange"];function ra(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ra(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ra(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oa=["number","search","email","password","tel","url"];function ia(e){var t=e.setting,n=e.availableSmartTags,a=e.isPressEnterToChange,o=$r(e,ea);void 0===a&&(a=!0);var i=be(ca(n,(0,r.useCallback)((function(e){o.onChange&&o.onChange(o.value?o.value+e:e)}),[o.value,o.onChange])),2),c=i[0],s=i[1];return t.disabled&&(o.readOnly=!0,o.onFocus=function(e){return e.target.select()}),(0,r.createElement)(r.Fragment,null,s,(0,r.createElement)(l.__experimentalInputControl,we({},o,{type:oa.includes(t.type)?t.type:"text",placeholder:t.placeholder?t.placeholder:"",suffix:c,isPressEnterToChange:a,__nextHasNoMarginBottom:!0,__next36pxDefaultSize:!0})))}var la=[{id:"key",label:(0,me.__)("Key","noptin-addons-pack"),type:"text"},{id:"value",label:(0,me.__)("Value","noptin-addons-pack"),type:"text"}];function ca(e,t){var n=be((0,r.useState)(!1),2),a=n[0],o=n[1],i=(0,r.useCallback)((function(){o(!1)}),[o]),c=(0,r.useCallback)((function(e){t&&(t(e),i())})),s=null,u=null;return Array.isArray(e)&&e.length>0&&(u=(0,r.createElement)(Zr,{isOpen:a,closeModal:i,availableSmartTags:e,onMergeTagClick:c}),s=(0,r.createElement)(l.Button,{icon:"shortcode",variant:"tertiary",isPressed:a,label:(0,me.__)("Insert merge tag","newsletter-optin-box"),onClick:function(){o(!0)},showTooltip:!0})),[s,u]}function sa(e){var t=e.setting,n=e.availableSmartTags,a=e.value,o=e.onChange,i=$r(e,ta),c=be((0,r.useState)(!1),2),s=c[0],u=c[1],d=be(ca(n,(0,r.useCallback)((function(e){Array.isArray(s)&&((a=zr(a))[s[0]][s[1]]+=e,o(a))}),[s,a,o])),2),p=d[0],f=d[1],m=(0,l.useBaseControlProps)(i),h=m.baseControlProps,g=m.controlProps;Array.isArray(a)||(a=[]);var v=(0,r.useCallback)((function(e){var t=e.item,n=e.field,a=e.index,o=e.onChange;return(0,r.createElement)(l.FlexBlock,null,(0,r.createElement)(l.__experimentalInputControl,{label:n.label,type:n.type,value:void 0===t[n.id]?"":t[n.id],placeholder:(0,me.sprintf)((0,me.__)("Enter %s","noptin-addons-pack"),n.label),className:"noptin-component__field noptin-condition-field",suffix:p,onChange:o,onFocus:function(){u([a,n.id])},isPressEnterToChange:!0,__nextHasNoMarginBottom:!0,__next36pxDefaultSize:!0}))}),[p]),y=(0,r.useCallback)((function(e){var t=e.item,n=e.index;return(0,r.createElement)(l.Flex,{className:"noptin-repeater-item",wrap:!0},la.map((function(e,i){return(0,r.createElement)(v,{key:i,index:n,item:t,field:e,onChange:function(t){var r=zr(a);r[n][e.id]=t,o(r)}})})),(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(l.Button,{icon:"trash",variant:"tertiary",className:"noptin-component__field",label:(0,me.__)("Delete","noptin-addons-pack"),showTooltip:!0,onClick:function(){var e=zr(a);e.splice(n,1),o(e)}})))}),[a,o]);return(0,r.createElement)(l.BaseControl,h,f,(0,r.createElement)("div",g,a.map((function(e,t){return(0,r.createElement)(y,{key:t,item:e,index:t})})),(0,r.createElement)(l.Button,{onClick:function(){var e=zr(a);e.push({}),o(e)},variant:"secondary"},t.add_field?t.add_field:(0,me.__)("Add","newsletter-optin-box"))))}function ua(e){e.setting;var t=e.value,n=e.options,a=e.onChange,o=$r(e,na),i=(0,l.useBaseControlProps)(o),c=i.baseControlProps,s=i.controlProps;return Array.isArray(t)||(t=[]),(0,r.createElement)(l.BaseControl,c,(0,r.createElement)("div",s,n.map((function(e,n){return(0,r.createElement)(l.CheckboxControl,{key:n,label:e.label,checked:t.includes(e.value),onChange:function(n){a(n?[].concat(zr(t),[e.value]):t.filter((function(t){return t!==e.value})))}})}))))}function da(e){var t=e.settingKey,n=e.setting,a=e.availableSmartTags,o=e.prop,i=e.saved,c=e.setAttributes,s=(0,r.useCallback)((function(e){if(!o)return c(_e({},t,e));var n=i[o]?i[o]:{},r=_e({},o,aa(aa({},n),{},_e({},t,e)));c(r)}),[t,o,i,c]);if(n.if&&!i[n.if])return null;if(n.condition&&!n.condition(i))return null;var u=i[t];o&&(u=i[o]?i[o][t]:void 0),(void 0===u||n.disabled)&&(u=n.default);var d=void 0!==u&&""!==u&&null!==u,p=[];n.options&&(p=Object.keys(n.options).map((function(e){return{label:n.options[e],value:e}})));var f=n.fullWidth?"noptin-component__field noptin-component__field-".concat(t):"noptin-component__field-lg noptin-component__field-".concat(t),m=n.description?(0,r.createElement)("span",{dangerouslySetInnerHTML:{__html:n.description}}):"",h={label:n.label,value:d?u:"",onChange:s,className:"".concat(f),help:m};return"select"===n.el?(p.unshift({label:n.placeholder?n.placeholder:(0,me.__)("Select an option","newsletter-optin-box"),value:"",disabled:!0}),(0,r.createElement)(l.SelectControl,we({},h,{options:p,__nextHasNoMarginBottom:!0,__next36pxDefaultSize:!0}))):"form_token"===n.el?(0,r.createElement)(l.FormTokenField,we({},h,{value:Array.isArray(h.value)?h.value:[],suggestions:n.suggestions,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})):"multi_checkbox"===n.el||"multi_checkbox_alt"===n.el?(0,r.createElement)(ua,we({},h,{options:p})):"conditional_logic"===n.el?(0,r.createElement)(Yr,we({},h,{availableSmartTags:a,comparisons:n.comparisons,toggleText:n.toggle_text})):"input"===n.el?n.type&&["toggle","switch","checkbox","checkbox_alt"].includes(n.type)?(0,r.createElement)(l.ToggleControl,we({},h,{checked:!!d&&u,onChange:function(e){s(e)}})):(0,r.createElement)(ia,we({},h,{setting:n,availableSmartTags:"trigger_settings"===o?[]:a,isPressEnterToChange:!n.isInputToChange})):"textarea"===n.el?(0,r.createElement)(l.TextareaControl,we({},h,{setting:n,placeholder:n.placeholder?n.placeholder:"",__nextHasNoMarginBottom:!0})):"paragraph"===n.el?(0,r.createElement)("div",{className:f},(0,r.createElement)(l.Tip,null,n.content)):"hero"===n.el?(0,r.createElement)("div",{className:f},(0,r.createElement)("h3",null,n.content)):"key_value_repeater"===n.el||"webhook_key_value_repeater"===n.el?(0,r.createElement)(sa,we({},h,{setting:n,availableSmartTags:"trigger_settings"===o?[]:a})):t}var pa=function(e){var t=e.record,n=e.error,a=e.onSaveRecord,o=e.setAttributes,i=Dt().data,c=(0,r.useMemo)((function(){return(0,Ae.compact)(i.schema.map((function(e){if(e.readonly||e.is_dynamic)return null;if(i.hidden&&i.hidden.includes(e.name))return null;if(i.ignore&&i.ignore.includes(e.name))return null;var t={default:e.default,label:e.label,el:"input",type:"text",name:e.name,isInputToChange:!0};return e.multiple&&Array.isArray(e.suggestions)?(t.el="form_token",t.suggestions=e.suggestions):e.enum&&!Array.isArray(e.enum)&&(t.el="select",t.options=e.enum,e.multiple&&(t.el="multi_checkbox")),e.isLongText&&(t.el="textarea"),(e.is_numeric||e.is_float)&&(t.type="number"),e.is_boolean&&(t.type="toggle"),e.description&&e.description!==e.label&&(t.description=e.description),t})))}),[i]);return(0,r.createElement)("form",{onSubmit:a},c.map((function(e){return(0,r.createElement)("div",{style:{marginBottom:"1.6rem"},key:e.name},(0,r.createElement)(da,{settingKey:e.name,saved:t,setAttributes:o,setting:e}))})),n&&(0,r.createElement)(l.Notice,{status:"error"},n.message))},fa=n(640),ma=n.n(fa);function ha(e){var t=e.label,n=e.value,a=t.toLowerCase().replace(/[^a-z0-9]/g,"-");return(0,r.createElement)("li",{className:"noptin-list-item noptin-list-item__".concat(a)},(0,r.createElement)("div",{className:"noptin-list-item__key"},t),(0,r.createElement)("div",{className:"noptin-list-item__value"},n))}function ga(e){var t=e.items;return(0,r.createElement)("ul",{className:"noptin-component__list"},t.map((function(e){return(0,r.createElement)(ha,{key:e.label,label:e.label,value:e.value})})))}var va={name:"173gwd3",styles:"background-color:#f8f9fa;color:#212529;& h2,& h3{color:#212529;}"},ya={name:"p3ituj",styles:"background-color:#212529;color:#f8f9fa;& h2,& h3{color:#f8f9fa;}"},ba={name:"1qvos4g",styles:"background-color:#f8cbcb;color:#cc1818;& h2,& h3{color:#cc1818;}"},Ea={name:"1kbuu37",styles:"background-color:#fff3cd;color:#856404;& h2,& h3{color:#856404;}"},_a={name:"1k1g68i",styles:"background-color:#cbeeff;color:#0c5460;& h2,& h3{color:#0c5460;}"},wa={name:"1dlti2z",styles:"background-color:#d4edda;color:#155724;& h2,& h3{color:#155724;}"},xa=function(e){var t=e.status;return"success"===t?wa:"info"===t?_a:"warning"===t?Ea:"error"===t?ba:"dark"===t?ya:va},Oa=ir("div",{target:"ec8eek20"})(xa,";padding:0.25rem;text-align:center;box-shadow:2px 2px 2px rgb(0 0 0 / 5%);min-width:100px;border-radius:4px;");function ka(e){var t=e.value,n=e.label,a=e.status;return(0,r.createElement)(Oa,{status:a},(0,r.createElement)(l.Flex,{direction:"column",justify:"center",style:{minHeight:"100px"}},(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(l.__experimentalText,{size:48,weight:600,as:"h2"},t)),(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(l.__experimentalText,{size:13,weight:400,as:"h3"},n))))}var Sa=function(e){var t=e.items,n=e.title;return(0,r.createElement)(l.Card,{className:sr},(0,r.createElement)(l.CardHeader,null,n),(0,r.createElement)(l.CardBody,null,(0,r.createElement)(ga,{items:t})))},Ca=function(e){var t=e.cards;return(0,r.createElement)(l.Flex,{className:sr,gap:2,wrap:!0},t.map((function(e){var t=e.title,n=e.value,a=e.status;return(0,r.createElement)(l.FlexItem,{key:t},(0,r.createElement)(ka,{status:a||"info",label:t,value:(0,r.createElement)("span",{dangerouslySetInnerHTML:{__html:n}})}))})))},Ra=function(e){var t=e.content,n=e.buttonText,a=e.buttonLink;return(0,r.createElement)(l.Card,{className:sr,variant:"secondary"},(0,r.createElement)(l.CardBody,null,(0,r.createElement)("div",{className:sr,dangerouslySetInnerHTML:{__html:t}}),n&&a&&(0,r.createElement)(l.Button,{variant:"secondary",href:a,text:n})))},Pa=function(e){var t=e.confirm,n=e.label,a=q(),o=a.namespace,i=a.collection,c=Tt();return(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(l.Button,{isDestructive:!0,onClick:function(){window.confirm(t||(0,me.__)("Are you sure you want to delete this record?","newsletter-optin-box"))&&(c.delete(),ze(Be({},"/".concat(o,"/").concat(i))))},variant:"secondary"},n))},ja=function(e){var t=e.value,n=e.label,a=be((0,r.useState)(!1),2),o=a[0],i=a[1];return(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(l.Button,{onClick:function(){ma()(t,{format:"text/plain",onCopy:function(){i(!0),setTimeout((function(){i(!1)}),1e3)}})},variant:"secondary"},o?(0,r.createElement)(dr,null," ",(0,me.__)("Copied to clipboard!","newsletter-optin-box")," "):n))},Da=function(e){var t=e.links;return(0,r.createElement)(l.Flex,{className:sr,justify:"flex-start",gap:2,wrap:!0},t.map((function(e){var t=e.label,n=e.value,a=e.action;return e.hide?null:"delete"===a?(0,r.createElement)(Pa,{key:t,label:t,confirm:n}):"copy"===a?(0,r.createElement)(ja,{key:t,label:t,value:n}):(0,r.createElement)(l.FlexItem,{key:t},(0,r.createElement)(l.Button,{href:n,variant:"secondary",target:"_blank"},t))})))},Ta=function(){var e,t,n,a,o=q(),i=(e=o.namespace,t=o.collection,n=o.id,a="".concat(e,"/").concat(t),_t((function(e){return e(a).getRecordOverview(n)}),[e,t,n=parseInt(n,10)]));return i.isResolving?(0,r.createElement)(r.Fragment,null,(0,r.createElement)(l.Flex,{className:sr,gap:4,wrap:!0},[1,2,3].map((function(e){return(0,r.createElement)(l.FlexItem,{key:e},(0,r.createElement)(Or,{width:"100px",height:"100px"}))})))):"ERROR"!==i.status&&Array.isArray(i.data)&&i.data.length?(0,r.createElement)(r.Fragment,null,i.data.map((function(e,t){switch(e.type){case"stat_cards":return(0,r.createElement)(Ca,{key:t,cards:e.cards});case"action_links":return(0,r.createElement)(Da,{key:t,links:e.links});case"card":return(0,r.createElement)(Ra,we({key:t},e));case"card_list":return(0,r.createElement)(Sa,we({key:t},e));default:return null}}))):null};function Aa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Aa(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ia=ir(l.FlexItem,{target:"e15gjem90"})({name:"odxgfg",styles:"width:400px;max-width:100%"}),Ma=function(){var e,t=q(),n=t.namespace,a=t.collection,o=t.id,i=be((0,r.useState)(null),2),c=i[0],s=i[1],u=be((0,r.useState)(!1),2),d=u[0],p=u[1],f=be((0,r.useState)({}),2),m=f[0],h=f[1],g=Dt().data,v=Tt(),y=function(e){null==e||e.preventDefault(),d||(p(!0),v.save(m).then((function(){h({})})).catch((function(e){s(e)})).finally((function(){p(!1)})))};return(0,r.createElement)(Ct,{title:(null===(e=g.labels)||void 0===e?void 0:e.edit_item)||(0,me.__)("Edit Item","newsletter-optin-box")},(0,r.createElement)(l.CardBody,null,(0,r.createElement)(l.Flex,{align:"flex-start",wrap:!0},(0,r.createElement)(Ia,null,(0,r.createElement)(pa,{record:Fa(Fa({},v.data),m),error:c,onSaveRecord:y,setAttributes:function(e){h(Fa(Fa({},m),e)),c&&s(null)}}),(0,r.createElement)(pr,{variant:"primary",onClick:y,isBusy:d},d?(0,me.__)("Saving...","newsletter-optin-box"):(0,me.__)("Save Changes","newsletter-optin-box"),d&&(0,r.createElement)(l.Spinner,null)),(0,r.createElement)(l.Slot,{name:"".concat(n,"_").concat(a,"_record_overview_below")},(function(e){return e.map((function(e,t){return(0,r.createElement)(l.Tip,{key:t},e)}))}))),(0,r.createElement)(Ia,null,(0,r.createElement)(l.Slot,{name:"".concat(n,"_").concat(a,"_record_overview_upsell")}),(0,r.createElement)(Ta,{namespace:n,collection:a,recordID:o})))))},Na=n(184),Ba=n.n(Na);const La=window.wp.primitives,za=(0,r.createElement)(La.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(La.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"}));var $a=["children"];const Ha=function(e){var t=e.children,n=$r(e,$a);return(0,r.createElement)(l.DropdownMenu,we({icon:za},n),(function(e){var n=e.onClose;return(0,r.createElement)(r.Fragment,null,t&&t(n))}))};var Ua=[25,50,75,100];function qa(e){var t=e.page,n=e.pageCount,a=e.onPageChange;if(n<=1)return null;var o=t>1,i=t-1,c=t<n,s=t+1;return(0,r.createElement)(l.FlexItem,{className:"noptin-pagination__page-arrows"},(0,r.createElement)(l.Flex,{wrap:!0,gap:2,align:"center",justify:"center"},(0,r.createElement)(l.FlexItem,{role:"status","aria-live":"polite"},(0,me.sprintf)((0,me.__)("Page %d of %d","newsletter-optin-box"),t,n)),(0,r.createElement)(l.FlexItem,{className:"noptin-pagination__page-arrows-buttons"},(0,r.createElement)(l.ButtonGroup,null,(0,r.createElement)(l.Button,{disabled:!o,onClick:function(){return a(i)},label:(0,me.__)("Previous Page","newsletter-optin-box")},(0,r.createElement)(l.Icon,{icon:"arrow-left-alt2"})),(0,r.createElement)(l.Button,{disabled:!c,onClick:function(){return a(s)},label:(0,me.__)("Next Page","newsletter-optin-box")},(0,r.createElement)(l.Icon,{icon:"arrow-right-alt2"}))))))}function Wa(e){var t=e.perPage,n=e.onChange,a=Ua.map((function(e){return{value:e,label:e}}));return(0,r.createElement)(l.FlexItem,{className:"noptin-pagination__per-page-picker"},(0,r.createElement)(l.SelectControl,{label:(0,me.__)("Rows per page","newsletter-optin-box"),labelPosition:"side",value:t,onChange:n,options:a,__nextHasNoMarginBottom:!0,__next36pxDefaultSize:!0}))}function Va(e){var t=e.query,n=e.onQueryChange,a=e.total,o=e.className,i=e.showPerPagePicker,c=void 0===i||i;if(!a)return null;var s=t.paged?parseInt(t.paged,10):1,u=t.per_page?parseInt(t.per_page,10):25,d=Math.ceil(a/u),p=Ba()("noptin-pagination",o);function f(e){var t=parseInt(e,10);n({per_page:t||1});var r=t?Math.ceil(a/t):a;s>r&&n({paged:r})}return d<=1?a>Ua[0]&&(0,r.createElement)(l.Flex,{className:p,wrap:!0,gap:4,align:"center",justify:"center"},(0,r.createElement)(Wa,{perPage:u,onChange:f}))||null:(0,r.createElement)(l.Flex,{className:p,wrap:!0,gap:2,align:"center",justify:"center"},(0,r.createElement)(qa,{page:s,pageCount:d,onPageChange:function(e){var t=parseInt(e,10);!t||t<1?t=1:t>d&&(t=d),n({paged:t})}}),c&&(0,r.createElement)(Wa,{perPage:u,onChange:f}))}function Ka(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ka(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ka(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ga=function(e,t){return e||t?"center"===e||t?{align:"center"}:{align:e}:{}};const Ya=(0,r.memo)((function(e){var t=e.columnKey,n=e.columnLabel,a=e.screenReaderLabel,o=e.cellClassName,i=e.minWidth,c=e.display,s=e.align,u=e.isSortable,d=e.isNumeric,p=e.isSorted,f=e.sortDir,m=e.setSortBy,h=Ga(s,d),g=Qa(Qa({className:Ba()("noptin-table__header",o)},h),{},{minWidth:i||void 0});u&&(g["aria-sort"]="none",p&&(g["aria-sort"]="asc"===f?"ascending":"descending"));var v="asc"!==f?(0,me.sprintf)((0,me.__)("Sort by %s in ascending order","newsletter-optin-box"),a||n):(0,me.sprintf)((0,me.__)("Sort by %s in descending order","newsletter-optin-box"),a||n),y=(0,r.createElement)(r.Fragment,null,(0,r.createElement)("span",{"aria-hidden":Boolean(a)},c||n),a&&(0,r.createElement)("span",{className:"screen-reader-text"},a)),b=(0,r.createElement)(l.Icon,{icon:"asc"!==f?"arrow-down-alt2":"arrow-up-alt2"});return(0,r.createElement)(Rr,we({role:"columnheader",scope:"col",key:t,isSorted:p},g),u?(0,r.createElement)(l.Button,{onClick:function(){return m(t)},label:v,showTooltip:!0},"right"===h.align&&b,(0,r.createElement)("span",null," ",y," "),"right"!==h.align&&b):y)}));function Xa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ja(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xa(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Za=(0,r.memo)((function(e){var t=e.row,n=e.header,a=e.DisplayCell,o=e.cellClassName,i=e.headerKey,l=e.isSorted,c=n.is_primary?Pr.withComponent("th",{target:"e1sk0yph0"}):Pr,s=Ja(Ja({className:Ba()("noptin-table__col",o)},Ga(n.align,n.isNumeric)),{},{minWidth:n.minWidth||void 0}),u=(0,r.isValidElement)(a);return(0,r.createElement)(c,we({scope:n.is_primary?"row":void 0,isSorted:l},s),u?a:(0,r.createElement)(a,{row:t,header:n,headerKey:i}))}));var eo=(0,r.createContext)({selected:[],setSelected:function(){}}),to=function(e){var t=e.initialSelected,n=void 0===t?[]:t,a=e.children,o=be((0,r.useState)(n),2),i=o[0],l=o[1];return(0,r.createElement)(eo.Provider,{value:{selected:i,setSelected:l}},a)},no=function(){var e=(0,r.useContext)(eo);return[e.selected,e.setSelected]},ro=["key","label","isSortable"],ao=["key"],oo=["query","headers","rows","caption","emptyMessage","onQueryChange","DisplayCell","canSelectRows","idProp"],io="desc",lo=function(e,t,n){return n&&e[n]?e[n]:e.id?e.id:e.key?e.key:t},co=function(e){var t=e.rows,n=e.idProp,a=be(no(),2),o=a[0],i=a[1],c=(0,r.useMemo)((function(){return t.map((function(e,t){return lo(e,t,n)}))}),[t,n]),s=o.length>0&&o.length===c.length,u=(0,r.useCallback)((function(){i(s?[]:c)}),[s,c,i]);return(0,r.createElement)(Ya,{columnLabel:(0,me.__)("Toggle selection","newsletter-optin-box"),columnKey:"cb",align:"center",minWidth:"20px",display:(0,r.createElement)(l.CheckboxControl,{checked:s,onChange:u,__nextHasNoMarginBottom:!0}),cellClassName:"noptin-table-column__cb"})},so=function(e){var t=e.row,n=e.id,a=be(no(),2),o=a[0],i=a[1],c=(0,r.useCallback)((function(e){i(e?[].concat(zr(o),[n]):o.filter((function(e){return e!==n})))}),[o,i,n]);return(0,r.createElement)(Za,{headerKey:"cb",row:t,header:{key:"cb",align:"center",minWidth:"20px"},cellClassName:"noptin-table-column__cb",DisplayCell:(0,r.createElement)(l.CheckboxControl,{checked:o.includes(n),onChange:c,__nextHasNoMarginBottom:!0})})},uo=function(e){var t=e.headers,n=e.hasData,a=e.sortBy,o=e.sortDir,i=e.onQueryChange,l=e.rows,c=e.idProp,s=e.canSelectRows,u=(0,r.useCallback)((function(e){i(e===a?{order:"asc"===o?io:"asc"}:{orderby:e})}),[a,o,i]),d=(0,r.useMemo)((function(){return t.map((function(e){var t=e.key,i=e.label,l=e.isSortable,c=$r(e,ro);return(0,r.createElement)(Ya,we({key:t,columnLabel:i,columnKey:t,isSortable:l&&n,isSorted:a===t,sortDir:o,setSortBy:u,cellClassName:"noptin-table-column__"+t.replace(/_/g,"-")},c))}))}),[t,n,a,o,u]);return(0,r.createElement)("thead",null,(0,r.createElement)(Sr,{className:"noptin-table__row"},s&&n&&(0,r.createElement)(co,{rows:l,idProp:c}),d))},po=function(e){var t=e.sortBy,n=e.headers,a=e.DisplayCell,o=e.canSelectRows,i=e.hasData,l=e.row,c=e.id,s=(0,r.useMemo)((function(){return n.map((function(e){var n=e.key,o=$r(e,ao);return(0,r.createElement)(Za,{key:"".concat(c,"__").concat(n),headerKey:n,row:l,header:o,isSorted:t===n,cellClassName:"noptin-table__col-"+(null==n?void 0:n.replace(/_/g,"-")),DisplayCell:a})}))}),[n,l,t,a,c]);return(0,r.createElement)(Sr,{className:"noptin-table__row"},o&&i&&(0,r.createElement)(so,{row:l,id:c}),s)};const fo=function(e){var t=e.query,n=e.headers,a=void 0===n?[]:n,o=e.rows,i=void 0===o?[]:o,l=e.caption,c=e.emptyMessage,s=e.onQueryChange,u=e.DisplayCell,d=e.canSelectRows,p=e.idProp,f=void 0===p?"id":p,m=$r(e,oo),h=t.orderby||"id",g=t.order||io,v=!!i.length;return(0,r.createElement)(kr,we({tabIndex:"0","aria-label":"".concat(l," - ").concat((0,me.__)("(scroll to see more)","newsletter-optin-box")),role:"group"},m),(0,r.createElement)("table",null,(0,r.createElement)(uo,{headers:a,hasData:v,sortBy:h,sortDir:g,onQueryChange:s,canSelectRows:d,rows:i,idProp:f}),(0,r.createElement)("tbody",null,v?i.map((function(e,t){var n=lo(e,t,f);return(0,r.createElement)(po,{key:n,sortBy:h,headers:a,DisplayCell:u,canSelectRows:d,hasData:v,row:e,id:n})})):(0,r.createElement)(Sr,{className:"noptin-table__row"},(0,r.createElement)(jr,{colSpan:a.length},null!=c?c:(0,me.__)("No data to display","newsletter-optin-box"))))))};var mo=["query","headers"];function ho(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const go=function(e){var t=e.query,n=e.headers,a=$r(e,mo),o=t.per_page?parseInt(t.per_page,10):25,i=(0,Ae.range)(o).map((function(){return{}})),l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ho(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ho(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({query:t,headers:n},a);return(0,r.createElement)(fo,we({},l,{rows:i,DisplayCell:Or,isLoading:!0,"aria-hidden":"true"}))},vo=function(e){var t=e.data;return(0,r.createElement)(Dr,{role:"complementary"},t.map((function(e,t){var n=e.label,a=e.value;return(0,r.createElement)("li",{key:t},(0,r.createElement)("strong",null,a),(0,r.createElement)("span",null,n))})))};var yo=function(){return(0,r.createElement)(Dr,{role:"complementary"},(0,r.createElement)("li",null,(0,r.createElement)(Or,null)))};const bo=function(e){var t=e.value,n=e.onChange,a=e.searchPlaceholder,o=be((0,r.useState)(t||""),2),i=o[0],s=o[1],u=function(e,t,n){var r=this,a=(0,c.useRef)(null),o=(0,c.useRef)(0),i=(0,c.useRef)(null),l=(0,c.useRef)([]),s=(0,c.useRef)(),u=(0,c.useRef)(),d=(0,c.useRef)(e),p=(0,c.useRef)(!0);(0,c.useEffect)((function(){d.current=e}),[e]);var f=!t&&0!==t&&"undefined"!=typeof window;if("function"!=typeof e)throw new TypeError("Expected a function");t=+t||0;var m=!!(n=n||{}).leading,h=!("trailing"in n)||!!n.trailing,g="maxWait"in n,v=g?Math.max(+n.maxWait||0,t):null;(0,c.useEffect)((function(){return p.current=!0,function(){p.current=!1}}),[]);var y=(0,c.useMemo)((function(){var e=function(e){var t=l.current,n=s.current;return l.current=s.current=null,o.current=e,u.current=d.current.apply(n,t)},n=function(e,t){f&&cancelAnimationFrame(i.current),i.current=f?requestAnimationFrame(e):setTimeout(e,t)},c=function(e){if(!p.current)return!1;var n=e-a.current;return!a.current||n>=t||n<0||g&&e-o.current>=v},y=function(t){return i.current=null,h&&l.current?e(t):(l.current=s.current=null,u.current)},b=function e(){var r=Date.now();if(c(r))return y(r);if(p.current){var i=t-(r-a.current),l=g?Math.min(i,v-(r-o.current)):i;n(e,l)}},E=function(){var d=Date.now(),f=c(d);if(l.current=[].slice.call(arguments),s.current=r,a.current=d,f){if(!i.current&&p.current)return o.current=a.current,n(b,t),m?e(a.current):u.current;if(g)return n(b,t),e(a.current)}return i.current||n(b,t),u.current};return E.cancel=function(){i.current&&(f?cancelAnimationFrame(i.current):clearTimeout(i.current)),o.current=0,l.current=a.current=s.current=i.current=null},E.isPending=function(){return!!i.current},E.flush=function(){return i.current?y(Date.now()):u.current},E}),[m,g,t,v,h,f]);return y}((function(e){n(e)}),500);return(0,r.createElement)(l.FlexBlock,{style:{minWidth:"200px"}},(0,r.createElement)(l.SearchControl,{value:i,onChange:function(e){s(e),u(e)},placeholder:a,__nextHasNoMarginBottom:!0}))};var Eo=["actions","className","hasSearch","searchPlaceholder","headers","ids","isLoading","onQueryChange","query","initialHiddenHeaders","rows","showMenu","showFooter","summary","title","totalRows","canSelectRows","DisplayCell"];function _o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var wo=function(e){var t=e.headers,n=e.caption,a=e.query;return(0,r.createElement)(r.Fragment,null,(0,r.createElement)("span",{className:"screen-reader-text"},(0,me.__)("Your requested data is loading","newsletter-optin-box")),(0,r.createElement)(go,{headers:t,caption:n,query:a}))},xo=function(e){var t=e.headers,n=e.hiddenHeaders,a=e.setHiddenHeaders,o=(0,r.useCallback)((function(e){a(n.includes(e)?(0,Ae.without)(n,e):[].concat(zr(n),[e]))}),[t,n,a]);return(0,r.createElement)(Ha,{label:(0,me.__)("Choose the columns to display","newsletter-optin-box")},(function(){return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(l.MenuGroup,{label:(0,me.__)("Columns","newsletter-optin-box")},t.map((function(e){var t=e.key,a=e.label;return e.required||void 0===t?null:(0,r.createElement)(l.MenuItem,{key:t},(0,r.createElement)(l.ToggleControl,{checked:!n.includes(t),onChange:function(){return o(t)},label:a,__nextHasNoMarginBottom:!0}))}))))}))},Oo=function(e){var t=e.title,n=e.hasSearch,a=e.query,o=e.onQueryChange,i=e.searchPlaceholder,c=e.actions,s=e.headers,u=e.hiddenHeaders,d=e.setHiddenHeaders,p=e.totalRows,f=(0,r.useMemo)((function(){return c?(0,r.createElement)(l.FlexItem,null,c):null}),[c]),m=(0,r.useMemo)((function(){return n?(0,r.createElement)(bo,{value:a.search,onChange:function(e){return o({search:e})},placeholder:i}):null}),[n,a.search,o,i]),h=(0,r.useMemo)((function(){return(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(xo,{headers:s,hiddenHeaders:u,setHiddenHeaders:d}))}),[s,u,d]);return(0,r.createElement)(l.CardHeader,null,(0,r.createElement)(l.Flex,{gap:2,wrap:!0},(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(gr,{as:"h2"},t)),m,p>0&&f,h))},ko=function(e){var t=e.isLoading,n=e.summary,a=e.query,o=e.onQueryChange,i=e.totalRows;return(0,r.createElement)(l.CardFooter,{justify:"center"},t?(0,r.createElement)(yo,null):(0,r.createElement)(r.Fragment,null,(0,r.createElement)(Va,{query:a,onQueryChange:o,total:i}),n&&(0,r.createElement)(vo,{data:n})))};const So=function(e){var t=e.actions,n=e.className,a=e.hasSearch,o=e.searchPlaceholder,i=e.headers,c=void 0===i?[]:i,s=(e.ids,e.isLoading),u=void 0!==s&&s,d=e.onQueryChange,p=void 0===d?function(){}:d,f=e.query,m=void 0===f?{}:f,h=e.initialHiddenHeaders,g=void 0===h?[]:h,v=e.rows,y=void 0===v?[]:v,b=(e.showMenu,e.showFooter),E=void 0===b||b,_=e.summary,w=e.title,x=e.totalRows,O=e.canSelectRows,k=e.DisplayCell,S=$r(e,Eo),C=be((0,r.useState)(g),2),R=C[0],P=C[1],j=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_o(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({headers:(0,r.useMemo)((function(){return c.filter((function(e){return!R.includes(e.key)}))}),[c,R]),caption:w,onQueryChange:p,query:m},S);return(0,r.createElement)(l.Card,{className:Ba()("noptin-table",n),elevation:0},(0,r.createElement)(Oo,{title:w,hasSearch:a,query:m,onQueryChange:p,searchPlaceholder:o,actions:t,headers:c,hiddenHeaders:R,setHiddenHeaders:P,totalRows:x}),u?(0,r.createElement)(wo,j):(0,r.createElement)(fo,we({rows:y,DisplayCell:k,canSelectRows:O},j)),E&&(0,r.createElement)(ko,{isLoading:u,summary:_,query:m,onQueryChange:p,totalRows:x}))};function Co(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ro=function(e){var t=e.row,n=e.header,a=e.headerKey,o=n.is_list,i=n.item,c=n.args,s=n.is_primary,u=n.url,d=n.is_boolean;if(o)return Array.isArray(t[a])&&0!==t[a].length?(0,r.createElement)("ul",null,t[a].map((function(e,t){var n=e;if(i){var a=c.map((function(t){return e[t]}));n=me.sprintf.apply(void 0,[i].concat(zr(a)))}return(0,r.createElement)("li",{key:t,dangerouslySetInnerHTML:{__html:n}})}))):"—";if(s&&u)return t[u]?(0,r.createElement)("a",{href:t[u],style:{textDecoration:"none"},target:"_blank"},(0,r.createElement)("strong",null,t[a])):(0,r.createElement)("strong",null,t[a]);if(d){var p=t[a]?"yes":"no";return(0,r.createElement)(l.Icon,{icon:p})}return(0,r.createElement)("div",{dangerouslySetInnerHTML:{__html:t[a]}})};function Po(e){var t,n,a,o,i,c,s=e.tab,u=e.tabName,d=q(),p=(n=d.namespace,a=d.collection,o=d.id,i=u,c="".concat(n,"/").concat(a),_t((function(e){return e(c).getTabContent(o,i)}),[n,a,o=parseInt(o,10),i])),f=(0,r.useMemo)((function(){return s.headers.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Co(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Co(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({key:e.name,label:e.label,isSortable:!1,isNumeric:e.is_numeric},e)}))}),[s.headers]);return"ERROR"===p.status?(0,r.createElement)(Ct,{title:s.title},(0,r.createElement)(l.CardBody,null,(0,r.createElement)(l.Notice,{status:"error",isDismissible:!1},(null===(t=p.error)||void 0===t?void 0:t.message)||(0,me.__)("An unknown error occurred.","newsletter-optin-box")))):(0,r.createElement)(So,we({},s,{isLoading:p.isResolving,rows:p.data,headers:f,showFooter:!1,DisplayCell:Ro}))}var jo=function(){var e=Dt().data,t=Tt(),n=q(),a=n.tab,o=n.namespace,i=n.collection;if(!Array.isArray(e.tabs)&&e.tabs[a]){var c=e.tabs[a];return"table"===c.type?(0,r.createElement)(Po,{tab:c,tabName:a}):(0,r.createElement)(l.Slot,{name:"".concat(o,"-").concat(i,"-tab-").concat(a),fillProps:{tab:c,record:t.data}})}return(0,r.createElement)(Ma,null)},Do=function(){var e,t=Dt().data,n=Tt(),a=q(),o=a.id,i=a.tab,c=jt(),s=[{title:(null===(e=t.labels)||void 0===e?void 0:e.edit_item)||(0,me.__)("Edit Item","newsletter-optin-box"),name:"overview"}];Array.isArray(t.tabs)||Object.keys(t.tabs).map((function(e){return s.push({title:t.tabs[e].title,name:e})}));var u,d,p=(0,r.useCallback)((function(e){var t,n=(null===(t=s[e])||void 0===t?void 0:t.name)||"overview";c("".concat(o,"/").concat(n))}),[o]);return n.isResolving?(0,r.createElement)(Ct,{title:(null===(u=t.labels)||void 0===u?void 0:u.edit_item)||(0,me.__)("Edit Item","newsletter-optin-box")},(0,r.createElement)(l.CardBody,null,(0,me.__)("Loading","newsletter-optin-box"),(0,r.createElement)(l.Spinner,null))):"ERROR"===n.status?(0,r.createElement)(Ct,{title:(0,me.__)("Error","newsletter-optin-box")},(0,r.createElement)(l.CardBody,null,(0,r.createElement)(l.Notice,{status:"error",isDismissible:!1},(null===(d=n.error)||void 0===d?void 0:d.message)||(0,me.__)("An unknown error occurred.","newsletter-optin-box")))):(0,r.createElement)(r.Fragment,null,s.length>1&&(0,r.createElement)(wr,{orientation:"horizontal",onNavigate:p},s.map((function(e,t){return(0,r.createElement)(l.Button,{key:e.name,isPressed:e.name===i||!i&&0===t,onClick:function(){return p(t)}},e.title)}))),(0,r.createElement)(te,null))};const To=window.wp.date;var Ao=[0,100],Fo=[0,100],Io=function(e){return"".concat(1===e.length?"0":"").concat(e)},Mo=function(e,t,n){return Math.max(Math.min(e,n),t)},No=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},Bo=function e(t,n,r){for(var a=No(t,n),o=0;o<(null==r?void 0:r.length);o++){var i=r[o];if(2===(null==i?void 0:i.length)&&a>=i[0]&&a<=i[1])return e(t,n,r)}return a},Lo=function(e,t){return"number"==typeof t?t:e%Math.abs(t[1]-t[0])+t[0]},zo=function(e,t){return"number"==typeof e?Mo.apply(void 0,[Math.abs(e)].concat(zr(t))):1===e.length||e[0]===e[1]?Mo.apply(void 0,[Math.abs(e[0])].concat(zr(t))):[Math.abs(Mo.apply(void 0,[e[0]].concat(zr(t)))),Mo.apply(void 0,[Math.abs(e[1])].concat(zr(t)))]},$o=function(e,t,n){return n<0?n+=1:n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},Ho=function(e,t,n){var r,a,o;if(e/=360,n/=100,0==(t/=100))r=a=o=n;else{var i=n<.5?n*(1+t):n+t-n*t,l=2*n-i;r=$o(l,i,e+1/3),a=$o(l,i,e),o=$o(l,i,e-1/3)}return[Math.round(255*r),Math.round(255*a),Math.round(255*o)]},Uo=function(e,t,n,r){return(299*e+587*t+114*n)/1e3>=r},qo=function(e,t,n){return"hsl(".concat(e,", ").concat(t,"%, ").concat(n,"%)")},Wo=function(e,t,n,r){return"rgb"===r?"rgb(".concat(e,", ").concat(t,", ").concat(n,")"):"#".concat(Io(e.toString(16))).concat(Io(t.toString(16))).concat(Io(n.toString(16)))},Vo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.format,r=void 0===n?"hex":n,a=t.saturation,o=void 0===a?[50,55]:a,i=t.lightness,l=void 0===i?[50,60]:i,c=t.differencePoint,s=void 0===c?130:c,u=Math.abs(function(e){for(var t=e.length,n=0,r=0;r<t;r++)n=(n<<5)-n+e.charCodeAt(r),n&=n;return n}(String(e))),d=Lo(u,[0,360]),p=Lo(u,zo(o,Ao)),f=Lo(u,zo(l,Fo)),m=be(Ho(d,p,f),3),h=m[0],g=m[1],v=m[2];return{color:"hsl"===r?qo(d,p,f):Wo(h,g,v,r),isLight:Uo(h,g,v,s)}};Vo.random=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.format,n=void 0===t?"hex":t,r=e.saturation,a=void 0===r?[50,55]:r,o=e.lightness,i=void 0===o?[50,60]:o,l=e.differencePoint,c=void 0===l?130:l,s=e.excludeHue;a=zo(a,Ao),i=zo(i,Fo);var u=s?Bo(0,359,s):No(0,359),d="number"==typeof a?a:No.apply(void 0,zr(a)),p="number"==typeof i?i:No.apply(void 0,zr(i)),f=be(Ho(u,d,p),3),m=f[0],h=f[1],g=f[2];return{color:"hsl"===n?qo(u,d,p):Wo(m,h,g,n),isLight:Uo(m,h,g,c)}};const Ko=Vo;function Qo(e){if(["subscribed","active","yes","true","1"].includes(e))return{backgroundColor:"#78c67a",color:"#111111"};if(["unsubscribed","inactive","no","false","0"].includes(e))return{backgroundColor:"#fbcfbd",color:"#241c15"};if(["pending","waiting","maybe","2"].includes(e))return{backgroundColor:"#fbeeca",color:"#241c15"};var t=Ko(e,{saturation:[60,100],lightness:[30,45]});return{backgroundColor:t.color,color:t.isLight?"#111111":"#ffffff"}}var Go=function(e){var t=e.record,n=e.name,a=jt(),o=t[n],i=t.avatar_url?(0,r.createElement)(_r,{src:t.avatar_url,alt:o}):null,c=i?(0,r.createElement)(l.Flex,null,(0,r.createElement)(l.FlexItem,null,i),(0,r.createElement)(l.FlexBlock,null,o)):o;return(0,r.createElement)(l.Button,{variant:"link",style:{width:"100%",alignItems:"start",textDecoration:"none"},onClick:function(){return a(t.id)}},c)};function Yo(e){var t=e.row,n=e.header,a=e.headerKey,o=t[a];if(null==o||""===o)return(0,r.createElement)("span",{className:"noptin-table__cell--null"},"–");if(Array.isArray(o)&&0===o.length)return(0,r.createElement)("span",{className:"noptin-table__cell--null"},"–");if(n.is_primary&&"string"==typeof o)return(0,r.createElement)(Go,{record:t,name:a});if(n.is_boolean){var i=o?"yes":"no",c=o?"#3a9001":"#880000";return(0,r.createElement)(l.Icon,{size:24,style:{color:c},icon:i})}if(n.is_date&&o){var s=To.getSettings?(0,To.getSettings)():(0,To.__experimentalGetSettings)();return(0,To.dateI18n)(s.formats.datetime,o)}return n.enum&&Array.isArray(o)?(0,r.createElement)(l.Flex,{gap:2,justify:"flex-start",wrap:!0},o.map((function(e){return(0,r.createElement)(l.FlexItem,{key:e},(0,r.createElement)(Ar,Qo(e),n.enum[e]||e))}))):n.enum&&n.enum[o]?(0,r.createElement)(Ar,Qo(o),n.enum[o]):n.is_numeric||n.is_float||"string"==typeof o?o:JSON.stringify(o)}var Xo=n(460),Jo=n.n(Xo);function Zo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ei(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zo(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ti=function(e){var t=e.fields,n=e.back,a=e.schema,o=Le(),i=q(),c=i.namespace,s=i.collection,u=be(no(),1)[0],d=0===u.length?ei(ei({},o),{},{number:-1}):{include:u.join(",")};d.__fields=t.join(","),d.context="edit";var p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="".concat(e,"/").concat(t),a=Et(n);return _t((function(e){return e(r).getPartialRecords(a)}),[e,t,a])}(c,s,d),f=(0,r.useMemo)((function(){var e;if(null===(e=p.data)||void 0===e||!e.length)return[];var t=a.reduce((function(e,t){return e[t.name]=t.label,e}),{});return Object.keys(p.data[0]).map((function(e){return t[e]||e}))}),[a,p.data]),m=(0,r.useMemo)((function(){var e;return null!==(e=p.data)&&void 0!==e&&e.length?p.data.map((function(e){return Object.values(e)})):[]}),[p.data]),h=(0,r.createElement)(l.Button,{variant:"link",onClick:n},(0,me.__)("Go Back","newsletter-optin-box"));if(p.isResolving)return(0,r.createElement)(l.__experimentalText,{size:16,as:"p"},(0,r.createElement)(l.Spinner,{style:{marginLeft:0}}),(0,me.__)("Preparing records...","newsletter-optin-box"));if("ERROR"===p.status)return(0,r.createElement)(ur,{status:"error",isDismissible:!1},p.error.message||(0,me.__)("An unknown error occurred.","newsletter-optin-box"),"   ",h);if(!p.data.length)return(0,r.createElement)(ur,{status:"info",isDismissible:!1},(0,me.__)("Found no records to export.","newsletter-optin-box"),"   ",h);var g=Jo().unparse({fields:f,data:m},{escapeFormulae:!0}),v="".concat(c,"-").concat(s,"-").concat(Date.now(),".csv");return(0,r.createElement)(ur,{status:"success",isDismissible:!1},(0,me.__)("Done! Click the button below to download records.","newsletter-optin-box"),"   ",(0,r.createElement)(l.Button,{variant:"primary",href:"data:text/csv;charset=utf-8,".concat(encodeURIComponent(g)),download:v,text:(0,me.__)("Download CSV","newsletter-optin-box")}))},ni=function(e){var t=e.fields,n=e.setFields,a=e.schema,o=a.schema,i=a.ignore,c=e.next;return(0,r.createElement)(l.Flex,{direction:"column",gap:4},(0,r.createElement)(l.FlexItem,null,(0,r.createElement)("p",{className:"description"},(0,me.__)("Select the fields to include in your exported file","newsletter-optin-box"))),o.map((function(e){if(!i.includes(e.name))return(0,r.createElement)(l.FlexItem,{key:e.name},(0,r.createElement)(l.ToggleControl,{label:e.label===e.description?e.label:"".concat(e.label," (").concat(e.description,")"),checked:t.includes(e.name),onChange:function(){t.includes(e.name)?n(t.filter((function(t){return t!==e.name}))):n([].concat(zr(t),[e.name]))},__nextHasNoMarginBottom:!0}))})),(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(pr,{variant:"primary",onClick:c},(0,r.createElement)(l.Icon,{icon:"download"}),(0,me.__)("Download","newsletter-optin-box"))))},ri=function(){var e=Dt(),t=be((0,r.useState)((0,Ae.compact)(e.data.schema.map((function(t){return e.data.hidden.includes(t.name)||e.data.ignore.includes(t.name)?null:t.name})))),2),n=t[0],a=t[1],o=be((0,r.useState)("fields"),2),i=o[0],l=o[1];return"fields"===i?(0,r.createElement)(ni,{fields:n,setFields:a,schema:e.data,next:function(){return l("progress")}}):"progress"===i?(0,r.createElement)(ti,{fields:n,schema:e.data.schema,back:function(){return l("fields")}}):void 0};function ai(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ai(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ai(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ii(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function li(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ii(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ii(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ci=function(e){var t=e.editableFields,n=e.onSave,a=e.changes,o=e.setAttributes;return(0,r.createElement)("form",{onSubmit:n},t.map((function(e){var t={default:"",placeholder:(0,me.__)("Do not update","newsletter-optin-box"),label:e.label,name:e.name,isInputToChange:!0},n=null;return e.multiple?(t.label=(0,me.sprintf)((0,me.__)("%s - To Add","newsletter-optin-box"),e.label),t.name="".concat(e.name,"::add"),Array.isArray(e.suggestions)?(t.el="form_token",t.suggestions=e.suggestions):(t.el="multi_checkbox",t.options=e.enum),n=li(li({},t),{},{name:"".concat(e.name,"::remove"),label:(0,me.sprintf)((0,me.__)("%s - To Remove","newsletter-optin-box"),e.label)})):(t.el="select",t.options=e.enum),e.description&&e.description!==e.label&&(t.description=e.description),(0,r.createElement)(r.Fragment,{key:e.name},(0,r.createElement)("div",{style:{marginBottom:"1.6rem"}},(0,r.createElement)(da,{settingKey:t.name,saved:a,setAttributes:o,setting:t})),n&&(0,r.createElement)("div",{style:{marginBottom:"1.6rem"}},(0,r.createElement)(da,{settingKey:n.name,saved:a,setAttributes:o,setting:n})))})))},si=function(e){var t=e.editableFields,n=q(),a=n.namespace,o=n.collection,i=(0,$e.useDispatch)("".concat(a,"/").concat(o)),c=be((0,r.useState)(null),2),s=c[0],u=c[1],d=be((0,r.useState)(!1),2),p=d[0],f=d[1],m=be((0,r.useState)(!1),2),h=m[0],g=m[1],v=be(no(),1)[0],y=be((0,r.useState)({}),2),b=y[0],E=y[1],_=function(e){if(e.length>0)return{include:e.join(","),number:-1};var t=Pt(Pt({},Ne()),{},{number:-1});return["order","hizzle_path","orderby","paged","page"].forEach((function(e){delete t[e]})),t}(v),w=Ft(),x=Object.keys(b).length>0,O=function(e){if(null==e||e.preventDefault(),!p){f(!0);var t={bulk_update:{merge:b,query:_}};i.batchAction(t,i).then((function(){g(!0),E({})})).catch((function(e){u(e)})).finally((function(){f(!1)}))}};return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(ci,{editableFields:t,changes:b,onSave:O,setAttributes:function(e){E(li(li({},b),e)),s&&u(null),h&&g(!1)}}),x&&(0,r.createElement)(pr,{variant:"primary",onClick:O,isBusy:p},!p&&(0,r.createElement)(l.Icon,{icon:"cloud-saved"})," ",(0,me.sprintf)(p?(0,me.__)("Saving %d records...","newsletter-optin-box"):(0,me.__)("Edit %d records","newsletter-optin-box"),v.length>0?v.length:w),p&&(0,r.createElement)(l.Spinner,null)),s&&!x&&(0,r.createElement)(l.Notice,{status:"error",isDismissible:!0},s.message),h&&!x&&(0,r.createElement)(l.Notice,{status:"success",isDismissible:!0},(0,me.__)("Records updated successfully.","newsletter-optin-box")))};function ui(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var di=(0,r.createElement)(l.Flex,{gap:2,wrap:!0},(0,r.createElement)(l.FlexItem,null,(0,r.createElement)((function(){var e=be((0,r.useState)(!1),2),t=e[0],n=e[1],a=Dt().data,o=(0,r.useMemo)((function(){return a.schema.filter((function(e){return!(e.readonly||e.is_dynamic||!e.enum||Array.isArray(e.enum)||a.ignore&&a.ignore.includes(e.name)||a.hidden&&a.hidden.includes(e.name))}))}),[a.schema]),i=o.length>0;return(0,r.createElement)(r.Fragment,null,i&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(l.Button,{onClick:function(){return n(!0)},icon:"edit",text:(0,me.__)("Bulk Edit","newsletter-optin-box")}),t&&(0,r.createElement)(l.Modal,{title:(0,me.__)("Bulk Edit","newsletter-optin-box"),onRequestClose:function(){return n(!1)}},(0,r.createElement)(si,{editableFields:o}))))}),null)),(0,r.createElement)(l.FlexItem,null,(0,r.createElement)((function(){var e=be((0,r.useState)(!1),2),t=e[0],n=e[1],a=be(no(),1)[0],o=0===a.length,i=Ft(),c=o?(0,me.__)("Download","newsletter-optin-box"):(0,me.__)("Download Selected","newsletter-optin-box"),s=o?(0,me.sprintf)((0,me.__)("Download all %s records","newsletter-optin-box"),i):(0,me.sprintf)((0,me.__)("Download %s selected records","newsletter-optin-box"),a.length);return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(l.Button,{onClick:function(){return n(!0)},icon:"download",text:c}),t&&(0,r.createElement)(l.Modal,{title:s,onRequestClose:function(){return n(!1)}},(0,r.createElement)("div",{className:"hizzle-records-export-modal__body"},(0,r.createElement)(ge,null,(0,r.createElement)(ri,null)))))}),null)),(0,r.createElement)(l.FlexItem,null,(0,r.createElement)((function(){var e=Le(),t=q(),n=t.namespace,a=t.collection,o=(0,$e.useDispatch)("".concat(n,"/").concat(a)),c=be((0,r.useState)(!1),2),s=c[0],u=c[1],d=be((0,r.useState)(null),2),p=d[0],f=d[1],m=be((0,r.useState)(!1),2),h=m[0],g=m[1],v=be(no(),2),y=v[0],b=v[1],E=0===y.length,_=Ft(),w=E?(0,me.__)("Delete","newsletter-optin-box"):(0,me.__)("Delete Selected","newsletter-optin-box"),x=E?oi(oi({},e),{},{number:-1}):{include:y.join(",")};return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(l.Button,{onClick:function(){return u(!0)},icon:"trash",text:w,isDestructive:!0}),s&&(0,r.createElement)(l.Modal,{title:w,onRequestClose:function(){return u(!1)}},(0,r.createElement)((function(){return(0,r.createElement)(r.Fragment,null,h?(0,r.createElement)(r.Fragment,null,(0,r.createElement)(l.Spinner,null),(0,me.__)("Deleting...","newsletter-optin-box")):(0,r.createElement)(r.Fragment,null,p?(0,r.createElement)(mr,null,p.message):(0,r.createElement)(mr,null,E&&(0,me.sprintf)((0,me.__)("Are you sure you want to delete %d matching records?","newsletter-optin-box"),_),!E&&(0,me.sprintf)((0,me.__)("Are you sure you want to delete %d selected records?","newsletter-optin-box"),y.length)),(0,r.createElement)(pr,{isDestructive:!0,onClick:function(){g(!0),o.deleteRecords((0,i.addQueryArgs)("",x),o).then((function(e){u(!1),b([])})).catch((function(e){f(e)})).finally((function(){g(!1)}))}},(0,me.__)("Yes, Delete!","newsletter-optin-box")),(0,r.createElement)(pr,{onClick:function(){return u(!1)},variant:"secondary",__withNoMargin:!0},(0,me.__)("Cancel","newsletter-optin-box"))))}),null)))}),null))),pi=function(e){var t=e.schema,n=t.schema,a=t.hidden,o=t.ignore,i=t.labels,l=e.total,c=e.summary,s=e.records,u=e.isLoading,d=q(),p=d.namespace,f=d.collection,m=(0,r.useMemo)((function(){var e=[];return n.forEach((function(t){o.includes(t.name)||e.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ui(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ui(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({key:t.name,isSortable:!t.is_dynamic&&!t.is_meta,isNumeric:t.is_numeric||t.is_float},t))})),e}),[n,o]),h=(0,r.useCallback)((function(e){e.paged||(e.paged=1),function(e){var t=Be(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me(),arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ne());Te().push(t)}(e)}),[]);return(0,r.createElement)(So,{actions:di,rows:s,headers:m,totalRows:l,summary:c?Object.values(c):[],isLoading:u,onQueryChange:h,query:Ne(),className:"".concat(p,"-").concat(f,"__records-table"),hasSearch:!0,title:null==i?void 0:i.name,emptyMessage:null==i?void 0:i.not_found,searchPlaceholder:null==i?void 0:i.search_items,canSelectRows:!0,idProp:"id",DisplayCell:Yo,initialHiddenHeaders:a})};function fi(){var e,t,n=At(),a=Dt().data;return(0,r.createElement)(r.Fragment,null,"ERROR"===n.status?(0,r.createElement)(Ct,{title:(null===(e=a.labels)||void 0===e?void 0:e.name)||(0,me.__)("Records","newsletter-optin-box")},(0,r.createElement)(l.CardBody,null,(0,r.createElement)(l.Notice,{status:"error",isDismissible:!1},(null===(t=n.error)||void 0===t?void 0:t.message)||(0,me.__)("An unknown error occurred.","newsletter-optin-box")))):(0,r.createElement)(to,null,(0,r.createElement)(pi,{schema:a,records:n.data.items,total:n.data.total,summary:n.data.summary,isLoading:n.isResolving})))}function mi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mi(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gi(){var e,t=jt(),n=q(),a=n.namespace,o=n.collection,i=(0,$e.useDispatch)("".concat(a,"/").concat(o)),c=be((0,r.useState)(null),2),s=c[0],u=c[1],d=be((0,r.useState)(!1),2),p=d[0],f=d[1],m=be((0,r.useState)({}),2),h=m[0],g=m[1],v=Dt(),y=function(e){null==e||e.preventDefault(),p||(f(!0),i.createRecord(h,i).then((function(e){var n;t((null==e||null===(n=e.record)||void 0===n?void 0:n.id)||"")})).catch((function(e){u(e)})).finally((function(){f(!1)})))},b=function(e){g(hi(hi({},h),e)),s&&u(null)},E=(0,r.useMemo)((function(){return(0,Ae.compact)(v.data.schema.map((function(e){if(e.readonly||e.is_dynamic)return null;if(v.data.hidden&&v.data.hidden.includes(e.name))return null;if(v.data.ignore&&v.data.ignore.includes(e.name))return null;var t={default:e.default,label:e.label,el:"input",type:"text",name:e.name,isInputToChange:!0};return e.enum&&!Array.isArray(e.enum)&&(t.el="select",t.options=e.enum),e.isLongText&&(t.el="textarea"),(e.is_numeric||e.is_float)&&(t.type="number"),e.is_boolean&&(t.type="toggle"),e.description&&e.description!==e.label&&(t.description=e.description),t})))}),[v.data]);return(0,r.createElement)(Ct,{title:null===(e=v.data.labels)||void 0===e?void 0:e.new_item},(0,r.createElement)(l.CardBody,{style:{opacity:p?.5:1}},(0,r.createElement)(l.Flex,{align:"flex-start",wrap:!0},(0,r.createElement)(Ia,null,(0,r.createElement)("form",{onSubmit:y},E.map((function(e){return(0,r.createElement)("div",{style:{marginBottom:"1.6rem"},key:e.name},(0,r.createElement)(da,{settingKey:e.name,saved:h,setAttributes:b,setting:e}))})),(0,r.createElement)(l.Slot,{name:"".concat(a,"_").concat(o,"_record_create_below")},(function(e){return e.map((function(e,t){return(0,r.createElement)(l.Tip,{key:t},e)}))})),(0,r.createElement)(pr,{variant:"primary",onClick:y,isBusy:p},p?(0,me.__)("Saving...","newsletter-optin-box"):(0,me.__)("Save","newsletter-optin-box"),p&&(0,r.createElement)(l.Spinner,null)),s&&(0,r.createElement)(l.Notice,{status:"error"},s.message))),(0,r.createElement)(l.Slot,{name:"".concat(a,"_").concat(o,"_record_create_upsell")},(function(e){return e.length>0&&(0,r.createElement)(Ia,null,e)})))))}var vi=ir("div",{target:"ei95lsh0"})({name:"1kd8sf",styles:"margin:1.6rem 0;max-width:600px"}),yi=pr.withComponent(l.FormFileUpload,{target:"ei95lsh1"});const bi=function(e){var t=e.onUpload;return(0,r.createElement)(vi,null,(0,r.createElement)(l.__experimentalText,{weight:600,as:"h3"},(0,me.__)("This tool allows you to import existing records from a CSV file.","newsletter-optin-box")),(0,r.createElement)(yi,{accept:"text/csv",onChange:function(e){return t(e.currentTarget.files[0])},variant:"primary"},(0,r.createElement)(l.Icon,{icon:"cloud-upload"}),(0,me.__)("Select a CSV file","newsletter-optin-box")),(0,r.createElement)(l.Tip,null,(0,me.__)("The first row of the CSV file should contain the field names/headers.","newsletter-optin-box"),(0,r.createElement)("br",null),(0,me.__)(" Have a different file type?","newsletter-optin-box")," ",(0,r.createElement)(l.Button,{variant:"link",href:"https://convertio.co/csv-converter/",target:"_blank",text:(0,me.__)("Convert it to CSV","newsletter-optin-box")})))};function Ei(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ei(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ei(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wi=ir(l.FlexItem,{target:"eofxwao0"})({name:"ddbaxo",styles:"width:320px"}),xi=wi.withComponent("div",{target:"eofxwao1"}),Oi=function(e){return(e=(e=e.replace(/[^a-zA-Z0-9]/g,"")).toLowerCase()).startsWith("cf")&&(e=e.slice(2)),e.startsWith("meta")&&(e=e.slice(4)),e},ki=function(e){var t=e.options,n=e.field,a=e.value,o=e.setValue,i=e.customValue,c=e.setCustomValue;return(0,r.createElement)(l.Flex,{style:{marginTop:"1.6rem"},gap:4,justify:"flex-start",wrap:!0},(0,r.createElement)(wi,null,(0,r.createElement)(l.SelectControl,{label:n.label,value:a,onChange:o,options:t,__next36pxDefaultSize:!0,__nextHasNoMarginBottom:!0})),"-1"===a&&(0,r.createElement)(wi,null,n.options?(0,r.createElement)(l.SelectControl,{label:(0,me.__)("Select value","newsletter-optin-box"),value:i,onChange:c,options:[{value:"",label:(0,me.__)("Select value","newsletter-optin-box"),disabled:!0}].concat(zr(n.options)),__next36pxDefaultSize:!0,__nextHasNoMarginBottom:!0}):(0,r.createElement)(l.TextControl,{label:(0,me.__)("Enter value","newsletter-optin-box"),placeholder:(0,me.__)("Enter a value to assign all imported records","newsletter-optin-box"),value:i,onChange:c,__nextHasNoMarginBottom:!0})))};const Si=function(e){var t=e.file,n=e.schema,a=e.ignore,o=e.hidden,i=e.back,c=e.onContinue,s=be((0,r.useState)([]),2),u=s[0],d=s[1],p=be((0,r.useState)({}),2),f=p[0],m=p[1],h=be((0,r.useState)(!1),2),g=h[0],v=h[1],y=be((0,r.useState)(null),2),b=y[0],E=y[1],_=q(),w=_.namespace,x=_.collection,O=(0,r.useMemo)((function(){return(0,Ae.compact)(n.map((function(e){return e.readonly||a.includes(e.name)||o.includes(e.name)?null:{value:e.name,label:e.label,is_boolean:e.is_boolean,options:!Array.isArray(e.enum)&&Object.keys(e.enum).map((function(t){return{value:t,label:e.enum[t]}}))}})))}),[n,a,o]);(0,r.useEffect)((function(){Jo().parse(t,{header:!0,skipEmptyLines:"greedy",preview:5,complete:function(e){d(e.meta.fields)},error:function(e){E(e)}})}),[t]),(0,r.useEffect)((function(){if(u.length){var e={};u.forEach((function(t){var n=Oi(t),r=O.find((function(e){var t=Oi(e.value),r=Oi(e.label);return n===t||n===r}));r&&(e[r.value]={mapped:!0,value:t,is_boolean:r.is_boolean})})),m(e)}}),[u,O]);var k=(0,r.useMemo)((function(){var e=[{value:"",label:(0,me.__)("Ignore Field","newsletter-optin-box")},{value:"-1",label:(0,me.__)("Manually enter value","newsletter-optin-box")},{value:"-2",label:(0,me.__)("Map Field","newsletter-optin-box"),disabled:!0}];return u.forEach((function(t){e.push({value:t,label:t})})),e}),[u]);return b?(0,r.createElement)(l.Notice,{status:"error",isDismissible:!1},(0,r.createElement)("p",null,b.message),(0,r.createElement)(l.Button,{variant:"link",onClick:i},(0,me.__)("Try again","newsletter-optin-box"))):(0,r.createElement)(r.Fragment,null,(0,r.createElement)(l.Tip,null,(0,me.__)("Map the headers of your CSV file to known fields.","newsletter-optin-box")),O.map((function(e){var t=f[e.value]||{is_boolean:e.is_boolean},n=t.value||"";return(0,r.createElement)(ki,{key:e.value,options:k,field:e,value:n,setValue:function(n){m(_i(_i({},f),{},_e({},e.value,_i(_i({},t),{},{mapped:!["","-1","-2"].includes(n),value:n}))))},customValue:t.customValue||"",setCustomValue:function(n){m(_i(_i({},f),{},_e({},e.value,_i(_i({},t),{},{customValue:n}))))}})})),(0,r.createElement)("div",{style:{marginTop:"1.6rem",marginBottom:"1.6rem"}},(0,r.createElement)(l.ToggleControl,{label:(0,me.__)("Update existing records","newsletter-optin-box"),checked:g,onChange:function(e){return v(e)},__nextHasNoMarginBottom:!0})),(0,r.createElement)(l.Slot,{name:"".concat(w,"_").concat(x,"_import_records_below")},(function(e){return e.map((function(e,t){return(0,r.createElement)(l.Tip,{key:t},e)}))})),(0,r.createElement)(xi,null,(0,r.createElement)(pr,{variant:"primary",onClick:function(){return c(f,g)}},(0,me.__)("Import","newsletter-optin-box")),(0,r.createElement)(pr,{variant:"secondary",onClick:i,__withNoMargin:!0},(0,me.__)("Back","newsletter-optin-box"))))},Ci=window.wp.apiFetch;var Ri=n.n(Ci);const Pi=function(e){var t=e.file,n=e.headers,a=(e.back,e.updateRecords),o=q(),i=o.namespace,c=o.collection,s=jt(),u=be((0,r.useState)([]),2),d=u[0],p=u[1],f=be((0,r.useState)(!1),2),m=f[0],h=f[1],g=be((0,r.useState)(!1),2),v=g[0],y=g[1],b=be((0,r.useState)(!1),2),E=b[0],_=b[1],w=be((0,r.useState)(0),2),x=w[0],O=w[1],k=be((0,r.useState)(0),2),S=k[0],C=k[1],R=be((0,r.useState)(0),2),P=R[0],j=R[1],D=be((0,r.useState)(0),2),T=D[0],A=D[1],F=be((0,r.useState)(0),2),I=F[0],M=F[1],N=be((0,r.useState)(0),2),B=N[0],L=N[1],z=be((0,r.useState)([]),2),$=z[0],H=z[1],U=(0,$e.useDispatch)("".concat(i,"/").concat(c)),W=(0,r.useCallback)((function(e){var t={};return Object.keys(n).forEach((function(r){""!==n[r].value&&(n[r].mapped?t[r]=e[n[r].value]:void 0!==n[r].customValue&&(t[r]=n[r].customValue),n[r].is_boolean&&(t[r]=!["0","","false","FALSE","no"].includes(t[r])))})),t}),[n]);return(0,r.useEffect)((function(){if(!v){var e=zr($),t=e.shift();t?(!0===m&&h(!1),Ri()({path:"".concat(i,"/v1/").concat(c,"/batch"),method:"POST",data:{import:t,update:a}}).then((function(e){var t=0,n=0,r=0,a=0,o=[];e.import&&e.import.length&&e.import.forEach((function(e){var i,l,c;null!==(i=e.data)&&void 0!==i&&i.skipped&&t++,null!==(l=e.data)&&void 0!==l&&l.updated&&n++,null!==(c=e.data)&&void 0!==c&&c.created&&r++,e.is_error&&(a++,o.push(e.data))})),L(B+t),j(P+n),A(T+r),M(I+a),p([].concat(o,o))})).catch((function(e){M(I+t.length),p([].concat(zr(d),[e]))})).finally((function(){C(S+t.length),H(e)}))):!1===m&&(h(!0),S>0&&U.emptyCache(U))}}),[$,v]),(0,r.useEffect)((function(){!function(e,t,n){Jo().parse(e,{header:!0,skipEmptyLines:"greedy",complete:function(e){!function(e){_(!0),O(e.data.length);for(var t=[],n=0;n<e.data.length;n+=10){var r=e.data.slice(n,n+10);t.push(r.map((function(e){return W(e)})))}H(t),y(!1)}(e)},error:function(e){p([e])}})}(t)}),[t,n]),E?0===x?(0,r.createElement)(mr,null,(0,me.sprintf)((0,me.__)("No records found in %s.","newsletter-optin-box"),t.name)):(0,r.createElement)("div",{className:"noptin-import-progress"},!m&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(hr,{as:"h3"},(0,me.__)("Importing","newsletter-optin-box"),(0,r.createElement)("code",null,t.name),"...  ",!v&&(0,r.createElement)(l.Spinner,null),"  ",(0,r.createElement)(l.Button,{variant:"link",onClick:function(){return y(!v)}},v?(0,me.__)("Resume","newsletter-optin-box"):(0,me.__)("Pause","newsletter-optin-box"))),!v&&(0,r.createElement)(Er,{total:x,processed:S})),m&&(0,r.createElement)(hr,{as:"h3"},(0,me.__)("Processed","newsletter-optin-box"),(0,r.createElement)("code",null,t.name)),(0,r.createElement)(l.Flex,{justify:"flex-start",style:{margin:"1.6rem 0"},gap:4,wrap:!0},(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(ka,{value:x,label:(0,me.__)("Records Found","newsletter-optin-box"),status:"light"})),T>0&&(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(ka,{value:T,label:(0,me.__)("Records Created","newsletter-optin-box"),status:"success"})),P>0&&(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(ka,{value:P,label:(0,me.__)("Records Updated","newsletter-optin-box"),status:"success"})),I>0&&(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(ka,{value:I,label:(0,me.__)("Records Failed","newsletter-optin-box"),status:"error"})),B>0&&(0,r.createElement)(l.FlexItem,null,(0,r.createElement)(ka,{value:B,label:(0,me.__)("Records Skipped","newsletter-optin-box"),status:"info"}))),m&&(0,r.createElement)(pr,{variant:"primary",text:(0,me.__)("View Records","newsletter-optin-box"),onClick:function(){return s()},maxWidth:"200px"}),d.length>0&&(0,r.createElement)(hr,{as:"h3"},(0,me.__)("Errors","newsletter-optin-box")," ",m&&(0,r.createElement)(l.Button,{onClick:function(){return p([])},variant:"link"},(0,me.__)("Clear","newsletter-optin-box"))),d.map((function(e,t){return(0,r.createElement)(mr,{key:t},e.message)}))):(0,r.createElement)(hr,{as:"h3"},(0,me.__)("Parsing","newsletter-optin-box"),(0,r.createElement)("code",null,t.name),"...  ",(0,r.createElement)(l.Spinner,null))},ji=function(e){var t=e.file,n=e.schema,a=n.schema,o=n.ignore,i=n.hidden,l=n.id_prop,c=e.back,s=be((0,r.useState)(null),2),u=s[0],d=s[1],p=be((0,r.useState)(!1),2),f=p[0],m=p[1];return u?(0,r.createElement)(Pi,{file:t,headers:u,updateRecords:f,back:c,id_prop:l}):(0,r.createElement)(Si,{file:t,schema:a,ignore:o,hidden:i,back:c,onContinue:function(e,t){d(e),m(t),window.scrollTo({top:0,behavior:"smooth"})}})};function Di(){var e,t=Dt().data,n=be((0,r.useState)(null),2),a=n[0],o=n[1];return(0,r.createElement)(Ct,{title:(null===(e=t.labels)||void 0===e?void 0:e.import)||(0,me.__)("Import","newsletter-optin-box")},(0,r.createElement)(l.CardBody,null,a?(0,r.createElement)(ji,{file:a,schema:t,back:function(){return o(null)}}):(0,r.createElement)(bi,{onUpload:function(e){o(e),window.scrollTo({top:0,behavior:"smooth"})}})))}var Ti=function(e){var t=e.defaultRoute,n=document.location.pathname,a=n.substring(0,n.lastIndexOf("/"));return(0,r.createElement)(l.SlotFillProvider,null,(0,r.createElement)(ge,null,(0,r.createElement)(le,{history:Te(t)},(0,r.createElement)(ae,{basename:a},(0,r.createElement)(ne,{path:"/:namespace/:collection",exact:!0,element:(0,r.createElement)(Br,null)},(0,r.createElement)(ne,{path:":id",exact:!0,element:(0,r.createElement)(Do,null)},(0,r.createElement)(ne,{path:":tab",exact:!0,element:(0,r.createElement)(jo,null)}),(0,r.createElement)(ne,{index:!0,element:(0,r.createElement)(jo,null)})),(0,r.createElement)(ne,{path:"add",exact:!0,element:(0,r.createElement)(gi,null),handle:{title:function(e){var t,n=e.labels,r=e.collection;return null!==(t=null==n?void 0:n.add_new_item)&&void 0!==t?t:r}}}),(0,r.createElement)(ne,{path:"import",exact:!0,element:(0,r.createElement)(Di,null)}),(0,r.createElement)(ne,{index:!0,element:(0,r.createElement)(fi,null)}))))))};o()((function(){var e=document.getElementById("noptin-collection__overview-app");if(e){var t=e.dataset.defaultRoute,n=(0,i.getQueryArg)(window.location.search,"hizzle_path");n&&n.split("/").length>1&&(t=n),r.createRoot?(0,r.createRoot)(e).render((0,r.createElement)(Ti,{defaultRoute:t})):(0,r.render)((0,r.createElement)(Ti,{defaultRoute:t}),e)}}))})()})();