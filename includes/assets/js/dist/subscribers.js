(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.domReady;var n=e.n(t);const o=window.wp.apiFetch;var s=e.n(o);const c=window.wp.i18n;n()((function(){document.querySelectorAll(".noptin-toggle-subscription-status").forEach((function(e){e.addEventListener("change",(function(){var t=e.checked,n=e.closest("tr"),o=n.dataset.id;s()({path:"/noptin/v1/subscribers/"+o,method:"POST",data:{status:t?"subscribed":"unsubscribed"}}).catch((function(e){console.log(e)}));var r=n.querySelector(".column-status");r&&(r.innerHTML=t?'<span class="noptin-badge success">'+(0,c.__)("Subscribed","newsletter-optin-box")+"</span>":'<span class="noptin-badge notification">'+(0,c.__)("Unsubscribed","newsletter-optin-box")+"</span>")}))})),document.querySelectorAll(".noptin-record-action__delete").forEach((function(e){e.addEventListener("click",(function(t){if(t.preventDefault(),confirm((0,c.__)("Are you sure you want to delete this subscriber?","newsletter-optin-box"))){var n,o,r,a=e.closest("tr"),i=a.dataset.id;s()({path:"/noptin/v1/subscribers/"+i,method:"DELETE"}).catch((function(e){console.log(e)})),n=a,o=1,r=setInterval((function(){o<=.1&&(clearInterval(r),n.style.display="none"),n.style.opacity=o,o-=.1*o}),10)}}))}))}))})();