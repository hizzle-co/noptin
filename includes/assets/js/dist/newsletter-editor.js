(()=>{var t,e={249:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});const o={initial_form:null,init:function(){var t=jQuery;t(".noptin-send-test-email").on("click",this.send_test_email),t(".noptin-filter-recipients").on("click",this.filter_recipients),t(".noptin-filter-post-notifications-post-types").on("click",this.new_post_notifications_filter_post_types),t(".noptin-filter-post-notifications-taxonomies").on("click",this.new_post_notifications_filter_taxonomies),t(".noptin-stop-campaign").on("click",this.stop_campaign)},stop_campaign:function(t){t.preventDefault();var e={id:jQuery(this).data("id"),_wpnonce:noptin_params.nonce,action:"noptin_stop_campaign"};Swal.fire({titleText:"Are you sure?",text:"This campaign will stop sending and be reverted to draft status.",type:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#9e9e9e",confirmButtonText:"Yes, stop it!",showLoaderOnConfirm:!0,showCloseButton:!0,focusConfirm:!1,allowOutsideClick:function(){return!Swal.isLoading()},preConfirm:function(){return jQuery.get(noptin_params.ajaxurl,e).done((function(){window.location=window.location,Swal.fire("Success","Your campaign was reverted to draft","success")})).fail((function(){Swal.fire("Error","Unable to stop your campaign. Try again.","error")})),jQuery.Deferred()}})},send_test_email:function(t){t.preventDefault(),tinyMCE.triggerSave();var e=jQuery(this).closest("form").serialize();Swal.fire({titleText:"Send a test email to:",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Send",showLoaderOnConfirm:!0,showCloseButton:!0,input:"email",inputValue:noptin_params.admin_email,inputPlaceholder:noptin_params.admin_email,allowOutsideClick:function(){return!Swal.isLoading()},preConfirm:function(t){return e+="&email="+t,e+="&action=noptin_send_test_email",jQuery.post(noptin_params.ajaxurl,e).done((function(t){t.success?Swal.fire("Success",t.data,"success"):Swal.fire({type:"error",title:"Error!",text:t.data,showCloseButton:!0,confirmButtonText:"Close",confirmButtonColor:"#9e9e9e",footer:'<a href="https://noptin.com/guide/sending-emails/troubleshooting/?utm_medium=plugin-dashboard&utm_campaign=email-campaigns&utm_source=troubleshooting">How to troubleshoot this error.</a>'})})).fail((function(t){Swal.fire({type:"error",title:"Unable to connect",text:"This might be a problem with your server or your internet connection",showCloseButton:!0,confirmButtonText:"Close",confirmButtonColor:"#9e9e9e",footer:"<code>Status: ".concat(t.status," &nbsp; Status text: ").concat(t.statusText,"</code>")})})),jQuery.Deferred()}})}}}},n={};function o(t){var i=n[t];if(void 0!==i)return i.exports;var a=n[t]={exports:{}};return e[t](a,a.exports,o),a.exports}o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),t=jQuery,window.noptinNewsletterEditor=o(249).Z,t(document).ready((function(){noptinNewsletterEditor.init(),t(".noptin-newsletter-schedule-control .edit-schedule").on("click",(function(e){e.preventDefault();var n=t(this).closest(".noptin-newsletter-schedule-control");n.find(".noptin-schedule").slideDown(),n.find(".edit-schedule").fadeOut(),n.find(".scheduled").show(),n.find(".not-scheduled").hide(),n.find(".scheduled-date").hide()})),t(".noptin-email_sender").on("change",(function(e){var n=t(this).val();t(".noptin-sender-options").hide(),t(".noptin-sender-options.sender-".concat(n)).show()})),t(".noptin-newsletter-select_2").select2(),t("#noptin-email-type").on("change",(function(){t(this).closest("form").attr("data-type",t(this).val())})),t("#noptin-automated-email-when-to-run").on("change",(function(){t(".noptin-automation-delay-wrapper").toggle("delayed"==t(this).val())})),t("#noptin-post-digest-frequency").on("change",(function(){t(".noptin-post-digest-day").toggle("weekly"==t(this).val()),t(".noptin-post-digest-date").toggle("monthly"==t(this).val()),t(".noptin-post-digest-year-day").toggle("yearly"==t(this).val()),t(".noptin-post-digest-x-days").toggle("x_days"==t(this).val())}));var e=function(e){if(e.find(".noptin-schedule").slideUp(),e.find(".edit-schedule").fadeIn(),"scheduled"==e.data("status")){if(e.find(".scheduled-date").show(),e.find(".scheduled").show(),e.find(".not-scheduled").hide(),e.data("schedules")){var n=e.data("schedules");t("#".concat(n)).val(t("#".concat(n)).data("scheduled"))}}else if(e.find(".scheduled-date").hide(),e.find(".scheduled").hide(),e.find(".not-scheduled").show(),e.data("schedules")){var o=e.data("schedules");t("#".concat(o)).val(t("#".concat(o)).data("not-scheduled"))}};e(t(".noptin-newsletter-schedule-control")),t(".noptin-newsletter-schedule-control .save-timestamp").on("click",(function(n){n.preventDefault();var o=t(this).closest(".noptin-newsletter-schedule-control"),i=o.find(".noptin-schedule-input-date").val(),a=o.find(".noptin-schedule-input-time").val(),s="".concat(i," ").concat(a);o.find(".scheduled-date").text(s),o.find(".noptin-schedule-selected-date").val(s),o.data("status","scheduled"),e(o)})),t(".noptin-newsletter-schedule-control .cancel-timestamp").on("click",(function(n){n.preventDefault(),e(t(this).closest(".noptin-newsletter-schedule-control"))})),t(".noptin-schedule-input-date").flatpickr({dateFormat:"Y-m-d",minDate:"today",altInput:!0,altFormat:"F j, Y"}),t(".noptin-schedule-input-time").flatpickr({enableTime:!0,noCalendar:!0,dateFormat:"H:i",time_24hr:!0}),t(".noptin-manual-email-recipients").on("click",".noptin-manual-email-recipient-remove",(function(e){e.preventDefault(),t(this).closest(".noptin-manual-email-recipient").remove()}))}))})();