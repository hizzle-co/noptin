(()=>{"use strict";var e,t={587:(e,t,n)=>{var i=n(5338);const s=window.wp.domReady;var r=n.n(s);const a=window.wp.data,o=window.wp.preferences,l=window.hizzlewp.components,c=window.React,d=window.wp.components,p=window.hizzlewp.interface,u=window.wp.notices,x=window.ReactJSXRuntime;function m(){const e=(0,a.useSelect)(e=>e(u.store).getNotices(),[]),{removeNotice:t}=(0,a.useDispatch)(u.store),n=e.filter(({type:e})=>"snackbar"===e).slice(-3);return(0,x.jsx)(d.SnackbarList,{notices:n,className:"components-editor-notices__snackbar",onRemove:t})}const h=window.wp.i18n,g=window.wp.url,_=async e=>{try{const t=await fetch(window.noptinSetupWizard.ajaxUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:new URLSearchParams({_ajax_nonce:window.noptinSetupWizard.updatesNonce,...e}).toString()});if(!t.ok)throw new Error(`HTTP Error: ${t.status}`);const n=await t.text();try{return JSON.parse(n)}catch(e){throw console.error("Invalid JSON received:",n),new Error("Server returned invalid response.")}}catch(e){return console.error("AJAX Error:",e),{success:!1,data:{errorMessage:e.message||"Unknown error occurred."}}}},j=(0,c.createContext)(void 0),b=({children:e})=>{const{createErrorNotice:t,createSuccessNotice:n}=(0,a.useDispatch)(u.store),[i,s]=(0,c.useState)(()=>{const e=window.noptinSetupWizard?.plugins;return!e||Array.isArray(e)?{}:Object.fromEntries(Object.entries(e).map(([e,t])=>[e,{...t,isInstalled:!0,isInstalling:!1,error:void 0}]))}),r=(0,c.useCallback)((e,t)=>{s(n=>{const i=n[e]||{name:"",file_name:"",isActive:!1,isInstalled:!1};return{...n,[e]:{...i,...t}}})},[s]),o=(0,c.useCallback)(async(e,n)=>{if(!n.file_name||!n.name)return void r(e,{error:"Cannot activate: Plugin file not found."});r(e,{isInstalling:!0,error:void 0});const i=await _({action:"noptin_onboarding_ajax_activate_plugin",slug:e,plugin:n.file_name,name:n.name});i.success?r(e,{isInstalled:!0,isActive:!0,isInstalling:!1}):(r(e,{error:i.data.errorMessage||"Failed to activate plugin.",isInstalling:!1}),t(i.data.errorMessage||"Failed to activate plugin.",{type:"snackbar"}))},[r,t]),l=(0,c.useCallback)(async(e,i)=>{r(e,{isInstalling:!0,error:void 0});const s=await _({action:"noptin_onboarding_ajax_install_plugin",slug:e});if(s.success){const t={isInstalled:!0,isInstalling:!1};s.data.pluginName&&(t.name=s.data.pluginName);const a=(0,g.getQueryArg)(s.data.activateUrl||"","plugin")||"";a&&(t.file_name=a),r(e,t),Array.isArray(s.data.debug)&&s.data.debug.length>0&&(console.log("Plugin Install Debug Info:",s.data.debug),n(s.data.debug[s.data.debug.length-1],{type:"snackbar"})),i&&t.name&&t.file_name&&await o(e,{...t})}else r(e,{error:s.data.errorMessage||"Failed to install plugin.",isInstalling:!1}),t(s.data.errorMessage||"Failed to install plugin.",{type:"snackbar"})},[o,t,n]);return(0,x.jsx)(j.Provider,{value:{plugins:i,updatePlugin:r,installPlugin:l,activatePlugin:o},children:e})},w=e=>{const t=(0,c.useContext)(j);if(!t)throw new Error("usePlugin must be used within a PluginsProvider");const{plugins:n,installPlugin:i,activatePlugin:s}=t,r=n[e]||{file_name:"",isActive:!1,isInstalled:!1};return(0,c.useMemo)(()=>{const t=()=>s(e,r),n=t=>i(e,t);let a;return a=r.isActive?{variant:"primary",text:(0,h.__)("Active","newsletter-optin-box"),className:"noptin-components-button__green",disabled:!0}:r.isInstalled?{variant:"primary",text:r.isInstalling?(0,h.__)("Activating...","newsletter-optin-box"):(0,h.__)("Activate","newsletter-optin-box"),isBusy:r.isInstalling,onClick:t,className:"noptin-components-button__pink",disabled:r.isInstalling}:{variant:"primary",text:r.isInstalling?(0,h.__)("Installing...","newsletter-optin-box"):(0,h.__)("Install","newsletter-optin-box"),isBusy:r.isInstalling,onClick:()=>n(!0),disabled:r.isInstalling},{...r,install:n,activate:t,actionButton:a}},[r,i,s,e])},v=window.wp.apiFetch;var y=n.n(v);const f=(0,c.createContext)({saved:{},isSaving:!1,setAttributes:()=>{},save:()=>{}}),S=()=>(0,c.useContext)(f),k=({saved:e,children:t})=>{const[n,i]=(0,c.useState)(e),[s,r]=(0,c.useState)(!1),{createSuccessNotice:o,createErrorNotice:l}=(0,a.useDispatch)(u.store),d=(0,c.useRef)(!1),p=(0,c.useCallback)((e,t)=>{t&&(d.current=!0,i({...n,...t})),d.current?(d.current=!1,r(!0),y()({path:"/wp/v2/settings",method:"POST",data:{noptin_options:{...n,...t}}}).then(e=>(o((0,h.__)("Settings saved."),{type:"snackbar"}),"object"==typeof e&&null!==e&&"noptin_options"in e&&i(e.noptin_options),e)).catch(e=>{e.message?l(e.message):l((0,h.__)("An error occurred while saving."))}).finally(()=>{r(!1),e?.()})):e?.()},[n,i,r,o,l]),m=(0,c.useCallback)(e=>{d.current=!0,i({...n,...e})},[n,i]),g=(0,c.useMemo)(()=>({saved:n,isSaving:s,save:p,setAttributes:m}),[n,s,p,m]);return(0,x.jsx)(f.Provider,{value:g,children:t})},C=()=>{const{saved:e}=S();return(0,c.useMemo)(()=>[{id:"welcome",label:"Welcome"},{id:"mode",label:"Usage Mode"},"crm"===e.usage_mode?{id:"installConnections",label:"Connections"}:{id:"senderSettings",label:"Sender"},{id:"installIntegrations",label:"Integrations"},{id:"newsletter",label:"Newsletter"}].filter(Boolean),[e.usage_mode])},I=(0,c.createContext)({current:0,stepId:"",totalSteps:0,next:()=>{},prev:()=>{},setCurrentStep:()=>{}}),z=()=>(0,c.useContext)(I),N=({children:e})=>{const t=C(),[n,i]=(0,c.useState)(0),s=(0,c.useMemo)(()=>t[n]?.id||"",[n,t]),r=Object.keys(t).length,a=(0,c.useCallback)(()=>{i(e=>e+1)},[]),o=(0,c.useCallback)(()=>{i(e=>Math.max(e-1,0))},[]),l=(0,c.useMemo)(()=>({current:n,stepId:s,totalSteps:r,next:a,prev:o,setCurrentStep:i}),[n,s,r,a,o,i]);return(0,x.jsx)(I.Provider,{value:l,children:e})},B=(e,t={})=>(0,g.addQueryArgs)(e,{utm_source:"Noptin Plugin Dashboard",utm_medium:"setup-wizard",utm_term:"noptin_page_noptin-setup-wizard",...t}),A=(0,c.createContext)({licenseKey:"",isValid:!1,isActivating:!1,activate:()=>{}}),P=()=>(0,c.useContext)(A),E=({children:e})=>{const[t,n]=(0,c.useState)(""),[i,s]=(0,c.useState)(!1),[r,o]=(0,c.useState)(!1),{createErrorNotice:l,createSuccessNotice:d}=(0,a.useDispatch)(u.store),p=(0,c.useCallback)((e,t,i)=>{o(!0),y()({path:"/noptin/v1/license/activate",method:"POST",data:{license_key:e}}).then(i=>{d(i.message,{type:"snackbar"}),n(e),s(!0),t?.()}).catch(e=>{l(e.message||"An error occurred while saving.",{type:"snackbar"}),i?.(e.message||"An error occurred while saving.")}).finally(()=>{o(!1)})},[l,d,o,s,n]),m=(0,c.useMemo)(()=>({licenseKey:t,isValid:i,isActivating:r,activate:p}),[t,i,r,p]);return(0,x.jsx)(A.Provider,{value:m,children:e})},T=({help:e=null})=>{const{licenseKey:t,isActivating:n,activate:i}=P(),[s,r]=(0,c.useState)(""),[a,o]=(0,c.useState)(t);return(0,x.jsxs)(d.__experimentalVStack,{spacing:4,children:[(0,x.jsx)(d.__experimentalInputControl,{type:"text",value:a||"",onChange:o,name:"noptin-license",required:!0,placeholder:(0,h.__)("Enter your noptin.com license key to activate premium features","newsletter-optin-box"),prefix:(0,x.jsx)(d.__experimentalInputControlPrefixWrapper,{children:(0,x.jsx)(d.Icon,{icon:"admin-network",size:16})}),suffix:(0,x.jsx)("div",{style:{paddingRight:2},children:(0,x.jsx)(d.Button,{type:"submit",variant:"primary",disabled:n||!a?.trim(),onClick:()=>{i(a||"",()=>r(""),r)},children:n?(0,x.jsx)(d.Spinner,{}):(0,h.__)("Activate","newsletter-optin-box")})}),help:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(d.__experimentalText,{color:"#008000",children:[e&&(0,x.jsxs)(x.Fragment,{children:[e," "]}),(0,h.__)("Don't have a license?","newsletter-optin-box")]})," ",(0,x.jsx)(d.Button,{href:B("https://noptin.com/pricing",{utm_campaign:"license"}),target:"_blank",variant:"link",children:(0,h.__)("View Pricing","newsletter-optin-box")})]}),__next40pxDefaultSize:!0}),s&&(0,x.jsx)(d.Notice,{status:"error",isDismissible:!1,children:s})]})},R=({children:e})=>(0,x.jsx)(d.SlotFillProvider,{children:(0,x.jsx)(E,{children:(0,x.jsx)(b,{children:(0,x.jsx)(k,{saved:window.noptinSetupWizard.options||{},children:(0,x.jsx)(N,{children:e})})})})}),V=window.wp.compose,H=({title:e,description:t,icon:n})=>(0,x.jsxs)(d.__experimentalHStack,{alignment:"flex-start",justify:"flex-start",children:[(0,x.jsx)("div",{style:{flexShrink:0},children:(0,x.jsx)(d.__experimentalHStack,{justify:"center",style:{color:"var(--noptin-success-color-dark)",width:40,height:40,borderRadius:"50%",backgroundColor:"var(--noptin-success-color-light)"},children:(0,x.jsx)(d.Icon,{icon:n,size:24})})}),(0,x.jsxs)(d.__experimentalVStack,{spacing:1,children:[(0,x.jsx)(d.__experimentalHeading,{level:2,size:16,children:e}),(0,x.jsx)(d.__experimentalText,{variant:"muted",children:t})]})]}),O=[{title:"Easy Setup",description:"Get started in minutes with our pre-built templates.",icon:"admin-site-alt3"},{title:"Automation",description:"Automate your email marketing workflows with smart, conditional rules.",icon:"update"},{title:"Integrations",description:"Connect Noptin with your favorite plugins and platforms seamlessly.",icon:"admin-links"}].map(e=>(0,x.jsx)(H,{...e},e.title)),M=()=>{const{next:e,setCurrentStep:t,totalSteps:n}=z();return(0,x.jsxs)(d.__experimentalVStack,{spacing:5,children:[(0,x.jsxs)(d.__experimentalVStack,{spacing:1,children:[(0,x.jsx)(d.__experimentalHeading,{level:1,size:36,weight:700,children:"Thank you for choosing Noptin!"}),(0,x.jsx)(d.__experimentalText,{variant:"muted",size:18,isBlock:!0,children:"Let's get you set up in just a few steps."})]}),(0,x.jsx)(d.__experimentalGrid,{templateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:4,children:O}),(0,x.jsxs)(d.__experimentalHStack,{justify:"flex-start",spacing:1,wrap:!0,children:[(0,x.jsx)(d.Button,{variant:"primary",onClick:e,icon:"arrow-right-alt",iconPosition:"right",className:"noptin-components-button__pink noptin-components-button__lg with-shadow",text:"Start Quick Setup",style:{fontWeight:600}}),(0,x.jsx)(d.Button,{onClick:()=>t(n-1),text:"Skip Setup",className:"noptin-components-button__lg",style:{color:"#6b7280"}})]})]})},W=({title:e,desc:t})=>(0,x.jsxs)(d.__experimentalVStack,{spacing:1,children:[(0,x.jsx)(d.__experimentalHeading,{size:24,children:e}),(0,x.jsx)(d.__experimentalText,{size:16,variant:"muted",children:t})]}),D=()=>{const{current:e,prev:t}=z();return e?(0,x.jsx)(d.Button,{onClick:t,text:"Back",className:"noptin-components-button__lg",style:{color:"#6b7280"}}):null},F=()=>{const{next:e,current:t,totalSteps:n}=z(),{isSaving:i,save:s}=S();return(0,x.jsx)(d.Button,{variant:"primary",onClick:()=>{s(e)},disabled:i,className:"noptin-components-button__pink noptin-components-button__lg with-shadow",text:t===n-2?"Complete Setup":0===t?"Get Started":"Continue",style:{fontWeight:600}})},L=["welcome","mode","newsletter"],G=({children:e})=>{const{current:t,totalSteps:n,stepId:i}=z(),s=t<n-1,r=t>0;return L.includes(i)?(0,x.jsx)(x.Fragment,{children:e}):s||r?(0,x.jsxs)(d.__experimentalVStack,{spacing:6,children:[(0,x.jsx)(l.ErrorBoundary,{children:e}),(0,x.jsx)(l.ErrorBoundary,{children:(0,x.jsxs)(d.__experimentalHStack,{spacing:4,children:[(0,x.jsx)("div",{children:s&&(0,x.jsx)(F,{})}),(0,x.jsx)("div",{children:r&&(0,x.jsx)(D,{})})]})})]}):(0,x.jsx)(x.Fragment,{children:e})},U=({title:e,desc:t,icon:n,value:i})=>{const{saved:{usage_mode:s},save:r}=S(),{next:a}=z();return(0,x.jsxs)(d.__experimentalHStack,{as:d.Button,alignment:"flex-start",spacing:4,className:s===i?"noptin-usage-mode-card selected":"noptin-usage-mode-card",onClick:()=>{r(a,{usage_mode:i})},children:[(0,x.jsx)("div",{className:"mode-icon-bg",children:(0,x.jsx)(d.Icon,{icon:n,size:24,style:{color:"#e91e63"}})}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{style:{margin:"0 0 4px 0",fontSize:"16px",fontWeight:700,color:"#111827"},children:e}),(0,x.jsx)("p",{style:{margin:0,fontSize:"14px",color:"#6b7280",lineHeight:1.4},children:t})]}),(0,x.jsx)(d.Icon,{size:20,icon:"arrow-right-alt2",style:{color:"#d1d5db",marginLeft:"auto",alignSelf:"center"}})]})},q=[{value:"standalone",title:"Complete Solution",desc:"Send emails and manage subscribers from your WordPress dashboard.",icon:"database"},{value:"crm",title:"Use with External CRM",desc:"Connect Noptin to Mailchimp, ConvertKit, ActiveCampaign, and more.",icon:"admin-links"}].map(e=>(0,x.jsx)(U,{...e},e.value)),J=()=>(0,x.jsxs)(d.__experimentalVStack,{spacing:5,children:[(0,x.jsx)(W,{title:"How do you want to use Noptin?",desc:"You can use Noptin as a complete email marketing solution or connect it to your existing CRM."}),q]}),K=({slug:e,name:t,error:n,description:i,icon:s,button1:r,button2:a})=>{const o=r||a;return(0,x.jsxs)(d.Card,{className:`noptin-selectable-card noptin-selectable-card__${e}`,variant:"tertiary",size:"small",children:[(0,x.jsxs)(d.CardHeader,{children:[(0,x.jsx)(d.__experimentalHeading,{level:4,numberOfLines:1,children:t}),(0,x.jsx)(l.ImageOrIcon,{image:s,alt:t})]}),(n||i)&&(0,x.jsx)(d.CardBody,{children:(0,x.jsx)(d.__experimentalText,{as:"p",variant:n?void 0:"muted",isDestructive:!!n,children:n||i})}),o&&(0,x.jsxs)(d.CardFooter,{isBorderless:!0,children:[r&&(0,x.jsx)(d.Button,{...r}),a&&(0,x.jsx)(d.Button,{...a})]})]})},X=({plugins:e,heading:t,description:n,licenseRequiredText:i,beforePlugins:s=null,compactThreshold:r=5,initialVisibleCount:a=4})=>{const{isValid:o}=P(),l=e.some(e=>!e.isFree),[p,u]=(0,c.useState)(!1),m=e.length>r,h=m?e.slice(0,a):e;return(0,x.jsxs)(d.__experimentalVStack,{spacing:6,children:[(0,x.jsx)(W,{title:t,desc:n}),!o&&l&&(0,x.jsx)(T,{help:i}),(0,x.jsxs)("div",{children:[s&&(0,x.jsx)(d.__experimentalText,{size:12,variant:"muted",weight:600,style:{textTransform:"uppercase",letterSpacing:"0.05em"},children:s}),(0,x.jsxs)(d.__experimentalVStack,{spacing:3,children:[(0,x.jsx)(d.__experimentalGrid,{className:"template-grid",templateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:4,children:h.map(e=>(0,x.jsx)($,{...e},e.slug))}),m&&(0,x.jsx)(d.Button,{variant:"link",onClick:()=>u(!0),children:`View all (${e.length})`})]})]}),p&&(0,x.jsx)(d.Modal,{title:t,onRequestClose:()=>u(!1),isFullScreen:!0,children:(0,x.jsx)(d.__experimentalGrid,{className:"template-grid",templateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:4,children:e.map(e=>(0,x.jsx)(Q,{...e},e.slug))})})]})},$=({isFree:e,name:t,slug:n,description:i,...s})=>{const{isValid:r}=P(),{actionButton:a}=w(`noptin-${n}`),[o,l]=(0,c.useState)(!1),p=()=>{l(e=>!e)},u=e?{variant:"primary",text:(0,h.__)("Active","newsletter-optin-box"),className:"noptin-components-button__green",disabled:!0}:r?a:{variant:"tertiary",text:(0,h.__)("Install","newsletter-optin-box"),icon:"lock",iconPosition:"right",disabled:!0};return(0,x.jsxs)(d.__experimentalHStack,{style:{padding:"12px",border:"1px solid #ddd",borderRadius:"4px"},wrap:!0,children:[(0,x.jsxs)(d.__experimentalHStack,{as:d.FlexBlock,justify:"flex-start",spacing:0,expanded:!1,wrap:!0,children:[(0,x.jsx)(d.__experimentalText,{weight:600,children:t}),(0,x.jsxs)("div",{children:[(0,x.jsx)(d.Button,{size:"compact",icon:"info",onClick:p,style:{color:"#6b7280"}}),o&&(0,x.jsx)(d.Popover,{placement:"top",onClose:p,children:(0,x.jsx)("div",{style:{maxWidth:"300px"},children:(0,x.jsx)(Q,{isFree:e,name:t,slug:n,description:i,...s})})})]})]}),(0,x.jsx)("div",{style:{display:"flex",gap:"8px",marginLeft:"16px"},children:(0,x.jsx)(d.Button,{...u,size:"compact"})})]})},Q=({plugin_url:e,isFree:t,...n})=>{const{isValid:i}=P(),{error:s,actionButton:r}=w(`noptin-${n.slug}`);return(0,x.jsx)(l.ErrorBoundary,{children:(0,x.jsx)(K,{error:s,...n,button1:{href:B(e,{utm_campaign:n.slug}),target:"_blank",variant:"secondary",text:(0,h.__)("Learn More","newsletter-optin-box")},button2:t?{variant:"primary",text:(0,h.__)("Active","newsletter-optin-box"),className:"noptin-components-button__green",disabled:!0}:i?r:{variant:"primary",text:(0,h.__)("Premium","newsletter-optin-box"),icon:"lock",disabled:!0}},n.slug)})},Y=()=>(0,x.jsx)(X,{plugins:window.noptinSetupWizard.crmConnections||[],heading:"Install Providers",description:"Install the external services you want to use with Noptin.",licenseRequiredText:"CRM connections require a premium license.",beforePlugins:"Available Providers"}),Z=()=>(0,x.jsx)(X,{plugins:window.noptinSetupWizard.detectedIntegrations||[],heading:"Install Integrations",description:"Noptin stays lightweight by letting you choose which integrations to install.",licenseRequiredText:"Some premium integrations require a license key.",beforePlugins:"Available Integrations"}),ee=window.noptinSetupWizard.emailSettings||{},te=()=>{const{saved:e,isSaving:t,setAttributes:n}=S();return(0,x.jsxs)(d.__experimentalVStack,{spacing:5,children:[(0,x.jsx)(W,{title:"Email Sending",desc:"Choose how you want to send your emails."}),(0,x.jsx)(d.__experimentalVStack,{spacing:4,style:{maxWidth:480,pointerEvents:t?"none":"auto"},children:Object.keys(ee).map(t=>(0,x.jsx)(l.ErrorBoundary,{children:(0,x.jsx)(l.Setting,{settingKey:t,setting:ee[t],saved:e,setAttributes:n})},t))})]})},ne=()=>{const[e,t]=(0,c.useState)(window.noptinSetupWizard.userEmail||""),[n,i]=(0,c.useState)(!1);return(0,x.jsxs)(d.__experimentalVStack,{spacing:4,children:[(0,x.jsx)("div",{children:(0,x.jsx)("span",{className:"welcome-pill",children:"One Last Thing"})}),(0,x.jsx)(W,{title:"Stay in the loop",desc:"Receive important updates and tutorials to your email inbox."}),(0,x.jsx)("div",{style:{background:"#f9fafb",padding:"24px",borderRadius:"12px",border:"1px solid #e5e7eb",marginBottom:"24px"},children:(0,x.jsx)(d.__experimentalInputControl,{type:"email",value:e,onChange:t,placeholder:"you@example.com",label:"Your Email Address",help:"We respect your inbox. No spam, unsubscribe anytime.",disabled:n,prefix:(0,x.jsx)(d.__experimentalInputControlPrefixWrapper,{children:(0,x.jsx)(d.Icon,{size:16,icon:"email"})}),__next40pxDefaultSize:!0})}),(0,x.jsxs)(d.__experimentalVStack,{spacing:3,children:[(0,x.jsx)(d.Button,{variant:"primary",onClick:async()=>{if(e){i(!0);try{await window.fetch("https://noptin.com/wp-json/noptin/v1/form",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({noptin_fields:{email:e},source:"Noptin Setup Wizard",noptin_timestamp:Math.floor(Date.now()/1e3)-60,noptin_submitted:Math.floor(Date.now()/1e3),noptin_ign:""})})}catch(e){console.error("Failed to subscribe:",e)}finally{i(!1),window.location.href=window.noptinSetupWizard.dashboardURL||"/wp-admin/admin.php?page=noptin"}}},icon:"arrow-right-alt",iconPosition:"right",className:"noptin-components-button__pink noptin-components-button__lg with-shadow",style:{fontWeight:600,justifyContent:"center"},children:n?(0,x.jsx)(d.Spinner,{}):"Subscribe & Go to Dashboard"}),(0,x.jsx)(d.Button,{href:window.noptinSetupWizard.dashboardURL||"/wp-admin/admin.php?page=noptin",text:"No thanks, take me to the dashboard",variant:"link",style:{color:"#6b7280",width:"100%",justifyContent:"center"}})]})]})},ie={welcome:(0,x.jsx)(M,{}),mode:(0,x.jsx)(J,{}),installConnections:(0,x.jsx)(Y,{}),senderSettings:(0,x.jsx)(te,{}),installIntegrations:(0,x.jsx)(Z,{}),newsletter:(0,x.jsx)(ne,{})},se=({id:e})=>(0,x.jsx)(l.ErrorBoundary,{children:ie[e]||null}),re=()=>{const{isSaving:e}=S(),{stepId:t}=z();return e?(0,x.jsx)(d.Spinner,{}):t&&t in ie?(0,x.jsx)(l.ErrorBoundary,{children:(0,x.jsx)(G,{children:(0,x.jsx)(se,{id:t})})}):(0,x.jsx)("p",{children:"Step not found."})},ae=({color:e="#000000"})=>(0,x.jsx)(d.__experimentalView,{style:{height:10,borderRadius:"50%",backgroundColor:e}}),oe=()=>(0,x.jsxs)(d.__experimentalGrid,{templateColumns:"repeat(3, 10px)",gap:1,children:[(0,x.jsx)(ae,{color:"#f87171"}),(0,x.jsx)(ae,{color:"#facc15"}),(0,x.jsx)(ae,{color:"#4ade80"})]}),le=({title:e,children:t})=>(0,x.jsx)("div",{className:"visual-wrapper",children:(0,x.jsxs)(d.__experimentalVStack,{spacing:4,className:"glass-card",children:[(0,x.jsxs)(d.__experimentalHStack,{spacing:2,justify:"space-between",children:[(0,x.jsx)(oe,{}),(0,x.jsx)(d.__experimentalText,{color:"rgba(255, 255, 255, 0.7)",size:12,weight:600,style:{textTransform:"uppercase"},children:e})]}),(0,x.jsx)(d.__experimentalDivider,{style:{color:"rgba(255, 255, 255, 0.1)"}}),t]})}),ce=({label:e,val:t})=>(0,x.jsxs)(d.__experimentalVStack,{spacing:1,style:{background:"rgba(255,255,255,0.1)",padding:"12px",borderRadius:"8px"},children:[(0,x.jsx)(d.__experimentalText,{size:10,color:"var(--noptin-brand-color-light)",style:{textTransform:"uppercase"},children:e}),(0,x.jsx)(d.__experimentalText,{size:24,weight:700,color:"white",children:t})]}),de=()=>(0,x.jsxs)(le,{title:"Overview",children:[(0,x.jsxs)(d.__experimentalGrid,{columns:2,gap:4,children:[(0,x.jsx)(ce,{label:"Subscribers",val:"12.5k"}),(0,x.jsx)(ce,{label:"Open Rate",val:"58%"})]}),(0,x.jsxs)(d.__experimentalVStack,{spacing:2,children:[(0,x.jsx)("div",{style:{height:"8px",background:"rgba(255,255,255,0.2)",borderRadius:"99px",width:"100%"}}),(0,x.jsx)("div",{style:{height:"8px",background:"rgba(255,255,255,0.2)",borderRadius:"99px",width:"70%"}})]})]}),pe=({icon:e,label:t,isActive:n})=>(0,x.jsxs)(d.__experimentalHStack,{spacing:3,justify:"flex-start",style:{background:n?"rgba(255,255,255,0.1)":"rgba(255,255,255,0.05)",padding:"12px",borderRadius:"8px",opacity:n?1:.6},children:[(0,x.jsx)(d.Icon,{icon:e,style:{color:"white"},size:20}),(0,x.jsx)(d.__experimentalText,{size:14,color:"white",children:t})]}),ue=()=>{const{saved:{usage_mode:e}}=S();return(0,x.jsx)(le,{title:"Connection",children:(0,x.jsxs)(d.__experimentalVStack,{spacing:3,children:[(0,x.jsx)(pe,{icon:"database",label:"Internal Database",isActive:"crm"!==e}),(0,x.jsx)(pe,{icon:"admin-links",label:"External API",isActive:"crm"===e})]})})},xe=({icon:e})=>(0,x.jsx)(d.__experimentalHStack,{justify:"center",style:{padding:"32px",color:"rgba(255,255,255,0.8)"},children:(0,x.jsx)(d.Icon,{icon:e,size:64})}),me=()=>(0,x.jsx)(le,{title:"Sender Identity",children:(0,x.jsx)(xe,{icon:"email"})}),he=()=>(0,x.jsx)(le,{title:"API Secure",children:(0,x.jsx)(xe,{icon:"admin-network"})}),ge=["cart","media-text","database","admin-users"],_e=()=>(0,x.jsx)(le,{title:"Ecosystem",children:(0,x.jsx)(d.__experimentalGrid,{columns:2,gap:3,children:ge.map((e,t)=>(0,x.jsx)(d.__experimentalHStack,{justify:"center",style:{background:0===t?"white":"rgba(255,255,255,0.1)",color:0===t?"#e91e63":"white",padding:"12px",borderRadius:"8px"},children:(0,x.jsx)(d.Icon,{size:24,icon:e})},t))})}),je=()=>(0,x.jsx)(le,{title:"Success",children:(0,x.jsxs)(d.__experimentalVStack,{style:{textAlign:"center",padding:"24px 0"},children:[(0,x.jsx)(d.__experimentalHStack,{justify:"center",style:{width:"80px",height:"80px",color:"var(--noptin-success-color)",background:"white",borderRadius:"50%",margin:"0 auto 24px auto",boxShadow:"0 10px 25px rgba(0,0,0,0.2)"},children:(0,x.jsx)(d.Icon,{icon:"yes",size:40})}),(0,x.jsx)(d.__experimentalText,{size:20,weight:700,color:"white",children:"All Set!"}),(0,x.jsx)(d.__experimentalText,{size:14,color:"rgba(255, 255, 255, 0.7)",children:"Happy mailing"})]})}),be={welcome:(0,x.jsx)(de,{}),mode:(0,x.jsx)(ue,{}),installConnections:(0,x.jsx)(he,{}),senderSettings:(0,x.jsx)(me,{}),installIntegrations:(0,x.jsx)(_e,{}),newsletter:(0,x.jsx)(je,{})},we=({id:e,location:t})=>{const n={opacity:1,transition:"all 0.7s cubic-bezier(0.4, 0, 0.2, 1)",transform:"translateX(0) scale(1)",zIndex:100,padding:48,inset:0,position:"absolute"};return"active"!==t&&(n.opacity=0,n.pointerEvents="none",n.transform="prev"===t?"translateX(-50%) scale(0.9)":"translateX(50%) scale(0.9)"),(0,x.jsx)(l.ErrorBoundary,{children:(0,x.jsx)(d.__experimentalHStack,{justify:"center",style:n,children:be[e]||null})})},ve=()=>{const e=C(),{stepId:t,current:n}=z();return t&&t in be?(0,x.jsx)(l.ErrorBoundary,{children:(0,x.jsx)(d.__experimentalHStack,{className:"col-right",alignment:"center",justify:"center",children:e.map(({id:e},t)=>(0,x.jsx)(we,{id:e,location:n===t?"active":n>t?"prev":"next"},e))})}):null},ye=()=>{const e=(0,V.useViewportMatch)("medium");return(0,x.jsxs)(d.Card,{className:"noptin-setup-wizard-container",isBorderless:!0,isRounded:!0,children:[(0,x.jsxs)(d.__experimentalGrid,{templateColumns:e?"1fr 1fr 1fr":"1fr 1fr",gap:0,children:[(0,x.jsx)(l.ErrorBoundary,{children:(0,x.jsx)("div",{className:"col-left",style:{gridColumn:"span 2",minHeight:"calc(100vh - 240px)"},children:(0,x.jsx)(d.__experimentalVStack,{className:"fade-in",justify:"center",style:{flexGrow:1},children:(0,x.jsx)(re,{})})})}),e&&(0,x.jsx)(l.ErrorBoundary,{children:(0,x.jsx)(ve,{})})]}),(0,x.jsx)(d.Popover.Slot,{})]})},fe=()=>{const{current:e,totalSteps:t}=z(),n=(0,c.useMemo)(()=>{const n={brand:{...window.noptinSetupWizard.brand}};return e<t-1&&(delete n.brand.menu,e>0&&(n.extra=(0,x.jsxs)(d.__experimentalText,{size:12,weight:600,variant:"muted",className:"noptin-step-indicator",children:["Step ",e," of ",t-1]})),n.actions=[{variant:"link",text:"Need Help?",href:B("https://noptin.com/start-here/",{utm_campaign:"Documentation Link"})},{icon:"no-alt",iconSize:32,href:window.noptinSetupWizard.dashboardURL,label:"Exit Setup Wizard",showTooltip:!0,className:"noptin-exit-setup-wizard"}]),n},[t,e]);return(0,x.jsx)(p.Header,{...n})},Se=(0,x.jsx)(l.ErrorBoundary,{children:(0,x.jsx)(fe,{})}),ke=(0,x.jsxs)(l.ErrorBoundary,{children:[(0,x.jsx)(ye,{}),(0,x.jsx)(m,{})]});function Ce(){return(0,x.jsx)(p.Interface,{isDistractionFree:!1,header:Se,content:ke,storeName:"noptin/setup-wizard"})}const Ie=()=>(0,x.jsx)(l.ErrorBoundary,{children:(0,x.jsx)(R,{children:(0,x.jsx)(l.ErrorBoundary,{children:(0,x.jsx)(Ce,{})})})});r()(()=>{const e=document.getElementById("noptin-setup-wizard-app");e&&((0,a.dispatch)(o.store)?.setDefaults("noptin/setup-wizard",{fullscreenMode:!0}),(0,i.H)(e).render((0,x.jsx)(Ie,{})))})},5338:(e,t,n)=>{var i=n(5795);t.H=i.createRoot,i.hydrateRoot},5795:e=>{e.exports=window.ReactDOM}},n={};function i(e){var s=n[e];if(void 0!==s)return s.exports;var r=n[e]={exports:{}};return t[e](r,r.exports,i),r.exports}i.m=t,e=[],i.O=(t,n,s,r)=>{if(!n){var a=1/0;for(d=0;d<e.length;d++){for(var[n,s,r]=e[d],o=!0,l=0;l<n.length;l++)(!1&r||a>=r)&&Object.keys(i.O).every(e=>i.O[e](n[l]))?n.splice(l--,1):(o=!1,r<a&&(a=r));if(o){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[n,s,r]},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={733:0,773:0};i.O.j=t=>0===e[t];var t=(t,n)=>{var s,r,[a,o,l]=n,c=0;if(a.some(t=>0!==e[t])){for(s in o)i.o(o,s)&&(i.m[s]=o[s]);if(l)var d=l(i)}for(t&&t(n);c<a.length;c++)r=a[c],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(d)},n=globalThis.webpackChunknoptin_premium=globalThis.webpackChunknoptin_premium||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var s=i.O(void 0,[773],()=>i(587));s=i.O(s)})();