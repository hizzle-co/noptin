(()=>{var e,t={731:e=>{var t={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",Ấ:"A",Ắ:"A",Ẳ:"A",Ẵ:"A",Ặ:"A",Æ:"AE",Ầ:"A",Ằ:"A",Ȃ:"A",Ả:"A",Ạ:"A",Ẩ:"A",Ẫ:"A",Ậ:"A",Ç:"C",Ḉ:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ế:"E",Ḗ:"E",Ề:"E",Ḕ:"E",Ḝ:"E",Ȇ:"E",Ẻ:"E",Ẽ:"E",Ẹ:"E",Ể:"E",Ễ:"E",Ệ:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ḯ:"I",Ȋ:"I",Ỉ:"I",Ị:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",Ố:"O",Ṍ:"O",Ṓ:"O",Ȏ:"O",Ỏ:"O",Ọ:"O",Ổ:"O",Ỗ:"O",Ộ:"O",Ờ:"O",Ở:"O",Ỡ:"O",Ớ:"O",Ợ:"O",Ù:"U",Ú:"U",Û:"U",Ü:"U",Ủ:"U",Ụ:"U",Ử:"U",Ữ:"U",Ự:"U",Ý:"Y",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",ấ:"a",ắ:"a",ẳ:"a",ẵ:"a",ặ:"a",æ:"ae",ầ:"a",ằ:"a",ȃ:"a",ả:"a",ạ:"a",ẩ:"a",ẫ:"a",ậ:"a",ç:"c",ḉ:"c",è:"e",é:"e",ê:"e",ë:"e",ế:"e",ḗ:"e",ề:"e",ḕ:"e",ḝ:"e",ȇ:"e",ẻ:"e",ẽ:"e",ẹ:"e",ể:"e",ễ:"e",ệ:"e",ì:"i",í:"i",î:"i",ï:"i",ḯ:"i",ȋ:"i",ỉ:"i",ị:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",ố:"o",ṍ:"o",ṓ:"o",ȏ:"o",ỏ:"o",ọ:"o",ổ:"o",ỗ:"o",ộ:"o",ờ:"o",ở:"o",ỡ:"o",ớ:"o",ợ:"o",ù:"u",ú:"u",û:"u",ü:"u",ủ:"u",ụ:"u",ử:"u",ữ:"u",ự:"u",ý:"y",ÿ:"y",Ā:"A",ā:"a",Ă:"A",ă:"a",Ą:"A",ą:"a",Ć:"C",ć:"c",Ĉ:"C",ĉ:"c",Ċ:"C",ċ:"c",Č:"C",č:"c",C̆:"C",c̆:"c",Ď:"D",ď:"d",Đ:"D",đ:"d",Ē:"E",ē:"e",Ĕ:"E",ĕ:"e",Ė:"E",ė:"e",Ę:"E",ę:"e",Ě:"E",ě:"e",Ĝ:"G",Ǵ:"G",ĝ:"g",ǵ:"g",Ğ:"G",ğ:"g",Ġ:"G",ġ:"g",Ģ:"G",ģ:"g",Ĥ:"H",ĥ:"h",Ħ:"H",ħ:"h",Ḫ:"H",ḫ:"h",Ĩ:"I",ĩ:"i",Ī:"I",ī:"i",Ĭ:"I",ĭ:"i",Į:"I",į:"i",İ:"I",ı:"i",Ĳ:"IJ",ĳ:"ij",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",Ḱ:"K",ḱ:"k",K̆:"K",k̆:"k",Ĺ:"L",ĺ:"l",Ļ:"L",ļ:"l",Ľ:"L",ľ:"l",Ŀ:"L",ŀ:"l",Ł:"l",ł:"l",Ḿ:"M",ḿ:"m",M̆:"M",m̆:"m",Ń:"N",ń:"n",Ņ:"N",ņ:"n",Ň:"N",ň:"n",ŉ:"n",N̆:"N",n̆:"n",Ō:"O",ō:"o",Ŏ:"O",ŏ:"o",Ő:"O",ő:"o",Œ:"OE",œ:"oe",P̆:"P",p̆:"p",Ŕ:"R",ŕ:"r",Ŗ:"R",ŗ:"r",Ř:"R",ř:"r",R̆:"R",r̆:"r",Ȓ:"R",ȓ:"r",Ś:"S",ś:"s",Ŝ:"S",ŝ:"s",Ş:"S",Ș:"S",ș:"s",ş:"s",Š:"S",š:"s",Ţ:"T",ţ:"t",ț:"t",Ț:"T",Ť:"T",ť:"t",Ŧ:"T",ŧ:"t",T̆:"T",t̆:"t",Ũ:"U",ũ:"u",Ū:"U",ū:"u",Ŭ:"U",ŭ:"u",Ů:"U",ů:"u",Ű:"U",ű:"u",Ų:"U",ų:"u",Ȗ:"U",ȗ:"u",V̆:"V",v̆:"v",Ŵ:"W",ŵ:"w",Ẃ:"W",ẃ:"w",X̆:"X",x̆:"x",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Y̆:"Y",y̆:"y",Ź:"Z",ź:"z",Ż:"Z",ż:"z",Ž:"Z",ž:"z",ſ:"s",ƒ:"f",Ơ:"O",ơ:"o",Ư:"U",ư:"u",Ǎ:"A",ǎ:"a",Ǐ:"I",ǐ:"i",Ǒ:"O",ǒ:"o",Ǔ:"U",ǔ:"u",Ǖ:"U",ǖ:"u",Ǘ:"U",ǘ:"u",Ǚ:"U",ǚ:"u",Ǜ:"U",ǜ:"u",Ứ:"U",ứ:"u",Ṹ:"U",ṹ:"u",Ǻ:"A",ǻ:"a",Ǽ:"AE",ǽ:"ae",Ǿ:"O",ǿ:"o",Þ:"TH",þ:"th",Ṕ:"P",ṕ:"p",Ṥ:"S",ṥ:"s",X́:"X",x́:"x",Ѓ:"Г",ѓ:"г",Ќ:"К",ќ:"к",A̋:"A",a̋:"a",E̋:"E",e̋:"e",I̋:"I",i̋:"i",Ǹ:"N",ǹ:"n",Ồ:"O",ồ:"o",Ṑ:"O",ṑ:"o",Ừ:"U",ừ:"u",Ẁ:"W",ẁ:"w",Ỳ:"Y",ỳ:"y",Ȁ:"A",ȁ:"a",Ȅ:"E",ȅ:"e",Ȉ:"I",ȉ:"i",Ȍ:"O",ȍ:"o",Ȑ:"R",ȑ:"r",Ȕ:"U",ȕ:"u",B̌:"B",b̌:"b",Č̣:"C",č̣:"c",Ê̌:"E",ê̌:"e",F̌:"F",f̌:"f",Ǧ:"G",ǧ:"g",Ȟ:"H",ȟ:"h",J̌:"J",ǰ:"j",Ǩ:"K",ǩ:"k",M̌:"M",m̌:"m",P̌:"P",p̌:"p",Q̌:"Q",q̌:"q",Ř̩:"R",ř̩:"r",Ṧ:"S",ṧ:"s",V̌:"V",v̌:"v",W̌:"W",w̌:"w",X̌:"X",x̌:"x",Y̌:"Y",y̌:"y",A̧:"A",a̧:"a",B̧:"B",b̧:"b",Ḑ:"D",ḑ:"d",Ȩ:"E",ȩ:"e",Ɛ̧:"E",ɛ̧:"e",Ḩ:"H",ḩ:"h",I̧:"I",i̧:"i",Ɨ̧:"I",ɨ̧:"i",M̧:"M",m̧:"m",O̧:"O",o̧:"o",Q̧:"Q",q̧:"q",U̧:"U",u̧:"u",X̧:"X",x̧:"x",Z̧:"Z",z̧:"z",й:"и",Й:"И",ё:"е",Ё:"Е"},n=Object.keys(t).join("|"),r=new RegExp(n,"g"),i=new RegExp(n,"");function a(e){return t[e]}var s=function(e){return e.replace(r,a)};e.exports=s,e.exports.has=function(e){return!!e.match(i)},e.exports.remove=s},3072:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,f=n?Symbol.for("react.memo"):60115,x=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,_=n?Symbol.for("react.fundamental"):60117,v=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function y(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case d:case u:case a:case o:case s:case h:return e;default:switch(e=e&&e.$$typeof){case c:case p:case x:case f:case l:return e;default:return t}}case i:return t}}}function w(e){return y(e)===u}t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=p,t.Fragment=a,t.Lazy=x,t.Memo=f,t.Portal=i,t.Profiler=o,t.StrictMode=s,t.Suspense=h,t.isAsyncMode=function(e){return w(e)||y(e)===d},t.isConcurrentMode=w,t.isContextConsumer=function(e){return y(e)===c},t.isContextProvider=function(e){return y(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return y(e)===p},t.isFragment=function(e){return y(e)===a},t.isLazy=function(e){return y(e)===x},t.isMemo=function(e){return y(e)===f},t.isPortal=function(e){return y(e)===i},t.isProfiler=function(e){return y(e)===o},t.isStrictMode=function(e){return y(e)===s},t.isSuspense=function(e){return y(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===u||e===o||e===s||e===h||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===x||e.$$typeof===f||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p||e.$$typeof===_||e.$$typeof===v||e.$$typeof===b||e.$$typeof===g)},t.typeOf=y},3404:(e,t,n)=>{"use strict";e.exports=n(3072)},4146:(e,t,n)=>{"use strict";var r=n(3404),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function l(e){return r.isMemo(e)?s:o[e.$$typeof]||i}o[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[r.Memo]=s;var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(m){var i=h(n);i&&i!==m&&e(t,i,r)}var s=d(n);u&&(s=s.concat(u(n)));for(var o=l(t),f=l(n),x=0;x<s.length;++x){var g=s[x];if(!(a[g]||r&&r[g]||f&&f[g]||o&&o[g])){var _=p(n,g);try{c(t,g,_)}catch(e){}}}}return t}},4809:function(e,t){var n,r;n=function e(){var t,n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:{},r=!n.document&&!!n.postMessage,i=n.IS_PAPA_WORKER||!1,a={},s=0,o={};function l(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=v(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new h(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,t){var r=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<r){let t=this._config.newline;t||(a=this._config.quoteChar||'"',t=this._handle.guessLineEndings(e,a)),e=[...e.split(t).slice(r)].join(t)}this.isFirstChunk&&y(this._config.beforeFirstChunk)&&void 0!==(a=this._config.beforeFirstChunk(e))&&(e=a),this.isFirstChunk=!1,this._halted=!1,r=this._partialLine+e;var a=(this._partialLine="",this._handle.parse(r,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(e=a.meta.cursor,this._finished||(this._partialLine=r.substring(e-this._baseIndex),this._baseIndex=e),a&&a.data&&(this._rowCount+=a.data.length),r=this._finished||this._config.preview&&this._rowCount>=this._config.preview,i)n.postMessage({results:a,workerId:o.WORKER_ID,finished:r});else if(y(this._config.chunk)&&!t){if(this._config.chunk(a,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=a=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(a.data),this._completeResults.errors=this._completeResults.errors.concat(a.errors),this._completeResults.meta=a.meta),this._completed||!r||!y(this._config.complete)||a&&a.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),r||a&&a.meta.paused||this._nextChunk(),a}this._halted=!0},this._sendError=function(e){y(this._config.error)?this._config.error(e):i&&this._config.error&&n.postMessage({workerId:o.WORKER_ID,error:e,finished:!1})}}function c(e){var t;(e=e||{}).chunkSize||(e.chunkSize=o.RemoteChunkSize),l.call(this,e),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),r||(t.onload=b(this._chunkLoaded,this),t.onerror=b(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var e,n=this._config.downloadRequestHeaders;for(e in n)t.setRequestHeader(e,n[e])}var i;this._config.chunkSize&&(i=this._start+this._config.chunkSize-1,t.setRequestHeader("Range","bytes="+this._start+"-"+i));try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}r&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize||t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(e=>null!==(e=e.getResponseHeader("Content-Range"))?parseInt(e.substring(e.lastIndexOf("/")+1)):-1)(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){e=t.statusText||e,this._sendError(new Error(e))}}function d(e){(e=e||{}).chunkSize||(e.chunkSize=o.LocalChunkSize),l.call(this,e);var t,n,r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=b(this._chunkLoaded,this),t.onerror=b(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input,i=(this._config.chunkSize&&(i=Math.min(this._start+this._config.chunkSize,this._input.size),e=n.call(e,this._start,i)),t.readAsText(e,this._config.encoding));r||this._chunkLoaded({target:{result:i}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function u(e){var t;l.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){var e,n;if(!this._finished)return e=this._config.chunkSize,t=e?(n=t.substring(0,e),t.substring(e)):(n=t,""),this._finished=!t,this.parseChunk(n)}}function p(e){l.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=b((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=b((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=b((function(){this._streamCleanUp(),r=!0,this._streamData("")}),this),this._streamCleanUp=b((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function h(e){var t,n,r,i,a=Math.pow(2,53),s=-a,l=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,c=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,d=this,u=0,p=0,h=!1,x=!1,g=[],_={data:[],errors:[],meta:{}};function b(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function w(){if(_&&r&&(S("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+o.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines&&(_.data=_.data.filter((function(e){return!b(e)}))),j()){if(_)if(Array.isArray(_.data[0])){for(var t=0;j()&&t<_.data.length;t++)_.data[t].forEach(n);_.data.splice(0,1)}else _.data.forEach(n);function n(t,n){y(e.transformHeader)&&(t=e.transformHeader(t,n)),g.push(t)}}function i(t,n){for(var r=e.header?{}:[],i=0;i<t.length;i++){var o=i,d=t[i];d=((t,n)=>(t=>(e.dynamicTypingFunction&&void 0===e.dynamicTyping[t]&&(e.dynamicTyping[t]=e.dynamicTypingFunction(t)),!0===(e.dynamicTyping[t]||e.dynamicTyping)))(t)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&((e=>{if(l.test(e)&&(e=parseFloat(e),s<e&&e<a))return 1})(n)?parseFloat(n):c.test(n)?new Date(n):""===n?null:n):n)(o=e.header?i>=g.length?"__parsed_extra":g[i]:o,d=e.transform?e.transform(d,o):d),"__parsed_extra"===o?(r[o]=r[o]||[],r[o].push(d)):r[o]=d}return e.header&&(i>g.length?S("FieldMismatch","TooManyFields","Too many fields: expected "+g.length+" fields but parsed "+i,p+n):i<g.length&&S("FieldMismatch","TooFewFields","Too few fields: expected "+g.length+" fields but parsed "+i,p+n)),r}var d;_&&(e.header||e.dynamicTyping||e.transform)&&(d=1,!_.data.length||Array.isArray(_.data[0])?(_.data=_.data.map(i),d=_.data.length):_.data=i(_.data,0),e.header&&_.meta&&(_.meta.fields=g),p+=d)}function j(){return e.header&&0===g.length}function S(e,t,n,r){e={type:e,code:t,message:n},void 0!==r&&(e.row=r),_.errors.push(e)}y(e.step)&&(i=e.step,e.step=function(t){_=t,j()?w():(w(),0!==_.data.length&&(u+=t.data.length,e.preview&&u>e.preview?n.abort():(_.data=_.data[0],i(_,d))))}),this.parse=function(i,a,s){var l=e.quoteChar||'"';return e.newline||(e.newline=this.guessLineEndings(i,l)),r=!1,e.delimiter?y(e.delimiter)&&(e.delimiter=e.delimiter(i),_.meta.delimiter=e.delimiter):((l=((t,n,r,i,a)=>{var s,l,c,d;a=a||[",","\t","|",";",o.RECORD_SEP,o.UNIT_SEP];for(var u=0;u<a.length;u++){for(var p,h=a[u],m=0,x=0,g=0,_=(c=void 0,new f({comments:i,delimiter:h,newline:n,preview:10}).parse(t)),v=0;v<_.data.length;v++)r&&b(_.data[v])?g++:(x+=p=_.data[v].length,void 0===c?c=p:0<p&&(m+=Math.abs(p-c),c=p));0<_.data.length&&(x/=_.data.length-g),(void 0===l||m<=l)&&(void 0===d||d<x)&&1.99<x&&(l=m,s=h,d=x)}return{successful:!!(e.delimiter=s),bestDelimiter:s}})(i,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess)).successful?e.delimiter=l.bestDelimiter:(r=!0,e.delimiter=o.DefaultDelimiter),_.meta.delimiter=e.delimiter),l=v(e),e.preview&&e.header&&l.preview++,t=i,n=new f(l),_=n.parse(t,a,s),w(),h?{meta:{paused:!0}}:_||{meta:{paused:!1}}},this.paused=function(){return h},this.pause=function(){h=!0,n.abort(),t=y(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){d.streamer._halted?(h=!1,d.streamer.parseChunk(t,!0)):setTimeout(d.resume,3)},this.aborted=function(){return x},this.abort=function(){x=!0,n.abort(),_.meta.aborted=!0,y(e.complete)&&e.complete(_),t=""},this.guessLineEndings=function(e,t){e=e.substring(0,1048576),t=new RegExp(m(t)+"([^]*?)"+m(t),"gm");var n=(e=e.replace(t,"")).split("\r");if(e=1<(t=e.split("\n")).length&&t[0].length<n[0].length,1===n.length||e)return"\n";for(var r=0,i=0;i<n.length;i++)"\n"===n[i][0]&&r++;return r>=n.length/2?"\r\n":"\r"}}function m(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function f(e){var t=(e=e||{}).delimiter,n=e.newline,r=e.comments,i=e.step,a=e.preview,s=e.fastMode,l=null,c=!1,d=null==e.quoteChar?'"':e.quoteChar,u=d;if(void 0!==e.escapeChar&&(u=e.escapeChar),("string"!=typeof t||-1<o.BAD_DELIMITERS.indexOf(t))&&(t=","),r===t)throw new Error("Comment character same as delimiter");!0===r?r="#":("string"!=typeof r||-1<o.BAD_DELIMITERS.indexOf(r))&&(r=!1),"\n"!==n&&"\r"!==n&&"\r\n"!==n&&(n="\n");var p=0,h=!1;this.parse=function(o,f,x){if("string"!=typeof o)throw new Error("Input must be a string");var g=o.length,_=t.length,v=n.length,b=r.length,w=y(i),j=[],S=[],C=[],k=p=0;if(!o)return D();if(s||!1!==s&&-1===o.indexOf(d)){for(var E=o.split(n),R=0;R<E.length;R++){if(C=E[R],p+=C.length,R!==E.length-1)p+=n.length;else if(x)return D();if(!r||C.substring(0,b)!==r){if(w){if(j=[],M(C.split(t)),L(),h)return D()}else M(C.split(t));if(a&&a<=R)return j=j.slice(0,a),D(!0)}}return D()}for(var A=o.indexOf(t,p),F=o.indexOf(n,p),T=new RegExp(m(u)+m(d),"g"),I=o.indexOf(d,p);;)if(o[p]===d)for(I=p,p++;;){if(-1===(I=o.indexOf(d,I+1)))return x||S.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:j.length,index:p}),P();if(I===g-1)return P(o.substring(p,I).replace(T,d));if(d===u&&o[I+1]===u)I++;else if(d===u||0===I||o[I-1]!==u){-1!==A&&A<I+1&&(A=o.indexOf(t,I+1));var $=O(-1===(F=-1!==F&&F<I+1?o.indexOf(n,I+1):F)?A:Math.min(A,F));if(o.substr(I+1+$,_)===t){C.push(o.substring(p,I).replace(T,d)),o[p=I+1+$+_]!==d&&(I=o.indexOf(d,p)),A=o.indexOf(t,p),F=o.indexOf(n,p);break}if($=O(F),o.substring(I+1+$,I+1+$+v)===n){if(C.push(o.substring(p,I).replace(T,d)),N(I+1+$+v),A=o.indexOf(t,p),I=o.indexOf(d,p),w&&(L(),h))return D();if(a&&j.length>=a)return D(!0);break}S.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:j.length,index:p}),I++}}else if(r&&0===C.length&&o.substring(p,p+b)===r){if(-1===F)return D();p=F+v,F=o.indexOf(n,p),A=o.indexOf(t,p)}else if(-1!==A&&(A<F||-1===F))C.push(o.substring(p,A)),p=A+_,A=o.indexOf(t,p);else{if(-1===F)break;if(C.push(o.substring(p,F)),N(F+v),w&&(L(),h))return D();if(a&&j.length>=a)return D(!0)}return P();function M(e){j.push(e),k=p}function O(e){return-1!==e&&(e=o.substring(I+1,e))&&""===e.trim()?e.length:0}function P(e){return x||(void 0===e&&(e=o.substring(p)),C.push(e),p=g,M(C),w&&L()),D()}function N(e){p=e,M(C),C=[],F=o.indexOf(n,p)}function D(r){if(e.header&&!f&&j.length&&!c){var i=j[0],a={},s=new Set(i);let t=!1;for(let n=0;n<i.length;n++){let r=i[n];if(a[r=y(e.transformHeader)?e.transformHeader(r,n):r]){let e,o=a[r];for(;e=r+"_"+o,o++,s.has(e););s.add(e),i[n]=e,a[r]++,t=!0,(l=null===l?{}:l)[e]=r}else a[r]=1,i[n]=r;s.add(r)}t&&console.warn("Duplicate headers found and renamed."),c=!0}return{data:j,errors:S,meta:{delimiter:t,linebreak:n,aborted:h,truncated:!!r,cursor:k+(f||0),renamedHeaders:l}}}function L(){i(D()),j=[],S=[]}},this.abort=function(){h=!0},this.getCharIndex=function(){return p}}function x(e){var t=e.data,n=a[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var i={abort:function(){r=!0,g(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:_,resume:_};if(y(n.userStep)){for(var s=0;s<t.results.data.length&&(n.userStep({data:t.results.data[s],errors:t.results.errors,meta:t.results.meta},i),!r);s++);delete t.results}else y(n.userChunk)&&(n.userChunk(t.results,i,t.file),delete t.results)}t.finished&&!r&&g(t.workerId,t.results)}function g(e,t){var n=a[e];y(n.userComplete)&&n.userComplete(t),n.terminate(),delete a[e]}function _(){throw new Error("Not implemented.")}function v(e){if("object"!=typeof e||null===e)return e;var t,n=Array.isArray(e)?[]:{};for(t in e)n[t]=v(e[t]);return n}function b(e,t){return function(){e.apply(t,arguments)}}function y(e){return"function"==typeof e}return o.parse=function(t,r){var i=(r=r||{}).dynamicTyping||!1;if(y(i)&&(r.dynamicTypingFunction=i,i={}),r.dynamicTyping=i,r.transform=!!y(r.transform)&&r.transform,!r.worker||!o.WORKERS_SUPPORTED)return i=null,o.NODE_STREAM_INPUT,"string"==typeof t?(t=(e=>65279!==e.charCodeAt(0)?e:e.slice(1))(t),i=new(r.download?c:u)(r)):!0===t.readable&&y(t.read)&&y(t.on)?i=new p(r):(n.File&&t instanceof File||t instanceof Object)&&(i=new d(r)),i.stream(t);(i=(()=>{var t;return!!o.WORKERS_SUPPORTED&&(t=(()=>{var t=n.URL||n.webkitURL||null,r=e.toString();return o.BLOB_URL||(o.BLOB_URL=t.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",r,")();"],{type:"text/javascript"})))})(),(t=new n.Worker(t)).onmessage=x,t.id=s++,a[t.id]=t)})()).userStep=r.step,i.userChunk=r.chunk,i.userComplete=r.complete,i.userError=r.error,r.step=y(r.step),r.chunk=y(r.chunk),r.complete=y(r.complete),r.error=y(r.error),delete r.worker,i.postMessage({input:t,config:r,workerId:i.id})},o.unparse=function(e,t){var n=!1,r=!0,i=",",a="\r\n",s='"',l=s+s,c=!1,d=null,u=!1,p=((()=>{if("object"==typeof t){if("string"!=typeof t.delimiter||o.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(i=t.delimiter),"boolean"!=typeof t.quotes&&"function"!=typeof t.quotes&&!Array.isArray(t.quotes)||(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(c=t.skipEmptyLines),"string"==typeof t.newline&&(a=t.newline),"string"==typeof t.quoteChar&&(s=t.quoteChar),"boolean"==typeof t.header&&(r=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");d=t.columns}void 0!==t.escapeChar&&(l=t.escapeChar+s),t.escapeFormulae instanceof RegExp?u=t.escapeFormulae:"boolean"==typeof t.escapeFormulae&&t.escapeFormulae&&(u=/^[=+\-@\t\r].*$/)}})(),new RegExp(m(s),"g"));if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return h(null,e,c);if("object"==typeof e[0])return h(d||Object.keys(e[0]),e,c)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||d),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),h(e.fields||[],e.data||[],c);throw new Error("Unable to serialize unrecognized input");function h(e,t,n){var s="",o=("string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t)),Array.isArray(e)&&0<e.length),l=!Array.isArray(t[0]);if(o&&r){for(var c=0;c<e.length;c++)0<c&&(s+=i),s+=f(e[c],c);0<t.length&&(s+=a)}for(var d=0;d<t.length;d++){var u=(o?e:t[d]).length,p=!1,h=o?0===Object.keys(t[d]).length:0===t[d].length;if(n&&!o&&(p="greedy"===n?""===t[d].join("").trim():1===t[d].length&&0===t[d][0].length),"greedy"===n&&o){for(var m=[],x=0;x<u;x++){var g=l?e[x]:x;m.push(t[d][g])}p=""===m.join("").trim()}if(!p){for(var _=0;_<u;_++){0<_&&!h&&(s+=i);var v=o&&l?e[_]:_;s+=f(t[d][v],_)}d<t.length-1&&(!n||0<u&&!h)&&(s+=a)}}return s}function f(e,t){var r,a;return null==e?"":e.constructor===Date?JSON.stringify(e).slice(1,25):(a=!1,u&&"string"==typeof e&&u.test(e)&&(e="'"+e,a=!0),r=e.toString().replace(p,l),(a=a||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||((e,t)=>{for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1})(r,o.BAD_DELIMITERS)||-1<r.indexOf(i)||" "===r.charAt(0)||" "===r.charAt(r.length-1))?s+r+s:r)}},o.RECORD_SEP=String.fromCharCode(30),o.UNIT_SEP=String.fromCharCode(31),o.BYTE_ORDER_MARK="\ufeff",o.BAD_DELIMITERS=["\r","\n",'"',o.BYTE_ORDER_MARK],o.WORKERS_SUPPORTED=!r&&!!n.Worker,o.NODE_STREAM_INPUT=1,o.LocalChunkSize=10485760,o.RemoteChunkSize=5242880,o.DefaultDelimiter=",",o.Parser=f,o.ParserHandle=h,o.NetworkStreamer=c,o.FileStreamer=d,o.StringStreamer=u,o.ReadableStreamStreamer=p,n.jQuery&&((t=n.jQuery).fn.parse=function(e){var r=e.config||{},i=[];return this.each((function(e){if("INPUT"!==t(this).prop("tagName").toUpperCase()||"file"!==t(this).attr("type").toLowerCase()||!n.FileReader||!this.files||0===this.files.length)return!0;for(var a=0;a<this.files.length;a++)i.push({file:this.files[a],inputElem:this,instanceConfig:t.extend({},r)})})),a(),this;function a(){if(0===i.length)y(e.complete)&&e.complete();else{var n,r,a,l=i[0];if(y(e.before)){var c=e.before(l.file,l.inputElem);if("object"==typeof c){if("abort"===c.action)return n=l.file,r=l.inputElem,a=c.reason,void(y(e.error)&&e.error({name:"AbortError"},n,r,a));if("skip"===c.action)return void s();"object"==typeof c.config&&(l.instanceConfig=t.extend(l.instanceConfig,c.config))}else if("skip"===c)return void s()}var d=l.instanceConfig.complete;l.instanceConfig.complete=function(e){y(d)&&d(e,l.file,l.inputElem),s()},o.parse(l.file,l.instanceConfig)}}function s(){i.splice(0,1),a()}}),i&&(n.onmessage=function(e){e=e.data,void 0===o.WORKER_ID&&e&&(o.WORKER_ID=e.workerId),"string"==typeof e.input?n.postMessage({workerId:o.WORKER_ID,results:o.parse(e.input,e.config),finished:!0}):(n.File&&e.input instanceof File||e.input instanceof Object)&&(e=o.parse(e.input,e.config))&&n.postMessage({workerId:o.WORKER_ID,results:e,finished:!0})}),(c.prototype=Object.create(l.prototype)).constructor=c,(d.prototype=Object.create(l.prototype)).constructor=d,(u.prototype=Object.create(u.prototype)).constructor=u,(p.prototype=Object.create(l.prototype)).constructor=p,o},void 0===(r=n.apply(t,[]))||(e.exports=r)},5691:(e,t,n)=>{"use strict";var r={};n.r(r),n.d(r,{apiFetch:()=>Te.apiFetch,beforeDeleteRecord:()=>Pe,setPartialRecords:()=>Ie,setRecord:()=>Me,setRecordOverview:()=>De,setRecords:()=>$e,setSchema:()=>Oe,setTabContent:()=>Ne});var i={};n.r(i),n.d(i,{getAllRecords:()=>tt,getPartialRecords:()=>rt,getQuerySummary:()=>et,getQueryTotal:()=>Je,getRecord:()=>it,getRecordIDs:()=>Ze,getRecordOverview:()=>ot,getRecords:()=>nt,getSchema:()=>at,getTabContent:()=>st});var a={};n.r(a),n.d(a,{closeModal:()=>io,disableComplementaryArea:()=>Xs,enableComplementaryArea:()=>Ys,openModal:()=>ro,pinItem:()=>Zs,setDefaultComplementaryArea:()=>Qs,setFeatureDefaults:()=>no,setFeatureValue:()=>to,toggleFeature:()=>eo,unpinItem:()=>Js});var s={};n.r(s),n.d(s,{getActiveComplementaryArea:()=>ao,isComplementaryAreaLoading:()=>so,isFeatureActive:()=>lo,isItemPinned:()=>oo,isModalActive:()=>co});const o=window.wp.domReady;var l=n.n(o);const c=window.wp.element,d=window.wp.url,u=window.wp.components,p=window.React;var h=n.n(p);const m=window.ReactDOM;var f,x;function g(e,t){if(!1===e||null==e)throw new Error(t)}function _(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function v(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function b(e,t,n){return void 0===n&&(n="/"),function(e,t,n,r){let i=M(("string"==typeof t?v(t):t).pathname||"/",n);if(null==i)return null;let a=y(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]))?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let s=null;for(let e=0;null==s&&e<a.length;++e){let t=$(i);s=T(a[e],t,r)}return s}(e,t,n,!1)}function y(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,a)=>{let s={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(g(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let o=O([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(g(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),y(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:F(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of w(e.path))i(e,t,n);else i(e,t)})),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let s=w(r.join("/")),o=[];return o.push(...s.map((e=>""===e?a:[a,e].join("/")))),i&&o.push(...s),o.map((t=>e.startsWith("/")&&""===t?"/":t))}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(f||(f={})),function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(x||(x={})),new Set(["lazy","caseSensitive","path","id","index","children"]);const j=/^:[\w-]+$/,S=3,C=2,k=1,E=10,R=-2,A=e=>"*"===e;function F(e,t){let n=e.split("/"),r=n.length;return n.some(A)&&(r+=R),t&&(r+=C),n.filter((e=>!A(e))).reduce(((e,t)=>e+(j.test(t)?S:""===t?k:E)),r)}function T(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},a="/",s=[];for(let e=0;e<r.length;++e){let o=r[e],l=e===r.length-1,c="/"===a?t:t.slice(a.length)||"/",d=I({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},c),u=o.route;if(!d&&l&&n&&!r[r.length-1].route.index&&(d=I({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:O([a,d.pathname]),pathnameBase:P(O([a,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(a=O([a,d.pathnameBase]))}return s}function I(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),_("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";s=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:a,pathnameBase:s,pattern:e}}function $(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return _(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function M(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}const O=e=>e.join("/").replace(/\/\/+/g,"/"),P=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");Error;const N=["post","put","patch","delete"],D=(new Set(N),["get",...N]);function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L.apply(this,arguments)}new Set(D),new Set([301,302,303,307,308]),new Set([307,308]),Symbol("deferred");const z=p.createContext(null),B=p.createContext(null),H=p.createContext(null),V=p.createContext(null),U=p.createContext({outlet:null,matches:[],isDataRoute:!1}),q=p.createContext(null);function W(){return null!=p.useContext(V)}const G=p.createContext(null);function K(){let{matches:e}=p.useContext(U),t=e[e.length-1];return t?t.params:{}}function Q(e,t,n,r){W()||g(!1);let{navigator:i,static:a}=p.useContext(H),{matches:s}=p.useContext(U),o=s[s.length-1],l=o?o.params:{},c=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let d,u=(W()||g(!1),p.useContext(V).location);if(t){var h;let e="string"==typeof t?v(t):t;"/"===c||(null==(h=e.pathname)?void 0:h.startsWith(c))||g(!1),d=e}else d=u;let m=d.pathname||"/",x=m;if("/"!==c){let e=c.replace(/^\//,"").split("/");x="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let _=!a&&n&&n.matches&&n.matches.length>0?n.matches:b(e,{pathname:x}),y=function(e,t,n,r){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let s=e,o=null==(i=n)?void 0:i.errors;if(null!=o){let e=s.findIndex((e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id])));e>=0||g(!1),s=s.slice(0,Math.min(s.length,e+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let e=0;e<s.length;e++){let t=s[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(c=e),t.route.id){let{loaderData:e,errors:r}=n,i=t.route.loader&&void 0===e[t.route.id]&&(!r||void 0===r[t.route.id]);if(t.route.lazy||i){l=!0,s=c>=0?s.slice(0,c+1):[s[0]];break}}}return s.reduceRight(((e,r,i)=>{let a,d=!1,u=null,h=null;var m;n&&(a=o&&r.route.id?o[r.route.id]:void 0,u=r.route.errorElement||X,l&&(c<0&&0===i?(te[m="route-fallback"]||(te[m]=!0),d=!0,h=null):c===i&&(d=!0,h=r.route.hydrateFallbackElement||null)));let f=t.concat(s.slice(0,i+1)),x=()=>{let t;return t=a?u:d?h:r.route.Component?p.createElement(r.route.Component,null):r.route.element?r.route.element:e,p.createElement(J,{match:r,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?p.createElement(Z,{location:n.location,revalidation:n.revalidation,component:u,error:a,children:x(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):x()}),null)}(_&&_.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:O([c,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:O([c,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,n,r);return t&&y?p.createElement(V.Provider,{value:{location:L({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:f.Pop}},y):y}function Y(){let e=function(){var e;let t=p.useContext(q),n=function(){let e=p.useContext(B);return e||g(!1),e}(ee.UseRouteError),r=function(){let e=function(){let e=p.useContext(U);return e||g(!1),e}(),t=e.matches[e.matches.length-1];return t.route.id||g(!1),t.route.id}(ee.UseRouteError);return void 0!==t?t:null==(e=n.errors)?void 0:e[r]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:r},n):null,null)}const X=p.createElement(Y,null);class Z extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?p.createElement(U.Provider,{value:this.props.routeContext},p.createElement(q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function J(e){let{routeContext:t,match:n,children:r}=e,i=p.useContext(z);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(U.Provider,{value:t},r)}var ee=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ee||{});const te={};function ne(e){return function(e){let t=p.useContext(U).outlet;return t?p.createElement(G.Provider,{value:e},t):t}(e.context)}function re(e){g(!1)}function ie(e){let{basename:t="/",children:n=null,location:r,navigationType:i=f.Pop,navigator:a,static:s=!1,future:o}=e;W()&&g(!1);let l=t.replace(/^\/*/,"/"),c=p.useMemo((()=>({basename:l,navigator:a,static:s,future:L({v7_relativeSplatPath:!1},o)})),[l,o,a,s]);"string"==typeof r&&(r=v(r));let{pathname:d="/",search:u="",hash:h="",state:m=null,key:x="default"}=r,_=p.useMemo((()=>{let e=M(d,l);return null==e?null:{location:{pathname:e,search:u,hash:h,state:m,key:x},navigationType:i}}),[l,d,u,h,m,x,i]);return null==_?null:p.createElement(H.Provider,{value:c},p.createElement(V.Provider,{children:n,value:_}))}function ae(e){let{children:t,location:n}=e;return Q(se(t),n)}function se(e,t){void 0===t&&(t=[]);let n=[];return p.Children.forEach(e,((e,r)=>{if(!p.isValidElement(e))return;let i=[...t,r];if(e.type===p.Fragment)return void n.push.apply(n,se(e.props.children,i));e.type!==re&&g(!1),e.props.index&&e.props.children&&g(!1);let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=se(e.props.children,i)),n.push(a)})),n}p.startTransition,new Promise((()=>{})),p.Component,new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(e){}new Map;const oe=p.startTransition;function le(e){let{basename:t,children:n,future:r,history:i}=e,[a,s]=p.useState({action:i.action,location:i.location}),{v7_startTransition:o}=r||{},l=p.useCallback((e=>{o&&oe?oe((()=>s(e))):s(e)}),[s,o]);return p.useLayoutEffect((()=>i.listen(l)),[i,l]),p.useEffect((()=>{return null==(e=r)||e.v7_startTransition,void 0!==(null==e?void 0:e.v7_relativeSplatPath)||t&&t.v7_relativeSplatPath,void(t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation));var e,t}),[r]),p.createElement(ie,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}var ce,de,ue;m.flushSync,p.useId,"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement,(ue=ce||(ce={})).UseScrollRestoration="useScrollRestoration",ue.UseSubmit="useSubmit",ue.UseSubmitFetcher="useSubmitFetcher",ue.UseFetcher="useFetcher",ue.useViewTransitionState="useViewTransitionState",function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(de||(de={}));const pe=window.ReactJSXRuntime;class he extends h().Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?(0,pe.jsx)("div",{children:(0,pe.jsxs)("div",{style:{backgroundColor:"#FEE2E2",border:"1px solid #F87171",color:"#B91C1C",padding:"0.75rem 1rem",borderRadius:"0.25rem",position:"relative"},role:"alert",children:[(0,pe.jsx)(u.__experimentalText,{as:"strong",weight:500,color:"#B91C1C",children:"Oops! Something went wrong."})," ",(0,pe.jsx)(u.__experimentalText,{color:"#B91C1C",children:"This error is being logged."}),(0,pe.jsxs)("details",{style:{marginTop:"0.5rem",fontSize:"0.875rem"},children:[(0,pe.jsx)("summary",{children:"Click for error details"}),(0,pe.jsxs)("pre",{style:{overflow:"auto",fontSize:"0.875rem",marginTop:"0.5rem"},children:[this.state.error&&this.state.error.toString(),(0,pe.jsx)("br",{}),this.state.errorInfo?.componentStack]})]})]})}):this.props.children}}const me=he;function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fe.apply(null,arguments)}var xe;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(xe||(xe={}));var ge="beforeunload";function _e(e){e.preventDefault(),e.returnValue=""}function ve(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}let be;function ye(e="/"){if(!be){const t=function(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function i(){var e=n.location,t=e.pathname,i=e.search,a=e.hash,s=r.state||{};return[s.idx,{pathname:t,search:i,hash:a,state:s.usr||null,key:s.key||"default"}]}var a=null;n.addEventListener("popstate",(function(){if(a)u.call(a),a=null;else{var e=xe.Pop,t=i(),n=t[0],r=t[1];if(u.length){if(null!=n){var s=l-n;s&&(a={action:e,location:r,retry:function(){g(-1*s)}},g(s))}}else x(e)}}));var s=xe.Pop,o=i(),l=o[0],c=o[1],d=ve(),u=ve();function p(e){return"string"==typeof e?e:(n=(t=e).pathname,r=void 0===n?"/":n,i=t.search,a=void 0===i?"":i,s=t.hash,o=void 0===s?"":s,a&&"?"!==a&&(r+="?"===a.charAt(0)?a:"?"+a),o&&"#"!==o&&(r+="#"===o.charAt(0)?o:"#"+o),r);var t,n,r,i,a,s,o}function h(e,t){return void 0===t&&(t=null),fe({pathname:c.pathname,hash:"",search:""},"string"==typeof e?function(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}(e):e,{state:t,key:Math.random().toString(36).substr(2,8)})}function m(e,t){return[{usr:e.state,key:e.key,idx:t},p(e)]}function f(e,t,n){return!u.length||(u.call({action:e,location:t,retry:n}),!1)}function x(e){s=e;var t=i();l=t[0],c=t[1],d.call({action:s,location:c})}function g(e){r.go(e)}return null==l&&(l=0,r.replaceState(fe({},r.state,{idx:l}),"")),{get action(){return s},get location(){return c},createHref:p,push:function e(t,i){var a=xe.Push,s=h(t,i);if(f(a,s,(function(){e(t,i)}))){var o=m(s,l+1),c=o[0],d=o[1];try{r.pushState(c,"",d)}catch(e){n.location.assign(d)}x(a)}},replace:function e(t,n){var i=xe.Replace,a=h(t,n);if(f(i,a,(function(){e(t,n)}))){var s=m(a,l),o=s[0],c=s[1];r.replaceState(o,"",c),x(i)}},go:g,back:function(){g(-1)},forward:function(){g(1)},listen:function(e){return d.push(e)},block:function(e){var t=u.push(e);return 1===u.length&&n.addEventListener(ge,_e),function(){t(),u.length||n.removeEventListener(ge,_e)}}}}();be={get action(){return t.action},get location(){const{location:n}=t,r=(0,d.getQueryArgs)(n.search).hizzle_path||e;return{...n,pathname:r}},createHref:t.createHref,push:t.push,replace:t.replace,go:t.go,back:t.back,forward:t.forward,block:t.block,listen(e){return t.listen((()=>{e({action:this.action,location:this.location})}))}}}return window._history=be,be}const we=()=>ye().location.pathname;function je(){const e=ye().location.search;return e.length&&(0,d.getQueryArgs)(e)||{}}function Se(e,t=we(),n=je()){const r={...n,...e};return"/"!==t&&(r.hizzle_path=t.replace(/\/{2,}/g,"/")),Object.keys(r).forEach((e=>{""===r[e]&&delete r[e]})),(0,d.addQueryArgs)("admin.php",r)}function Ce(e,t=we(),n=je()){const r=Se(e,t,n);ye().push(r)}function ke(e){if(Array.isArray(e))return e.map(ke).sort();if("object"==typeof e&&null!==e){const t=Object.keys(e).sort(),n={};for(const r of t)n[r]=ke(e[r]);return n}return e}const Ee=e=>{ye().push((0,d.addQueryArgs)("admin.php",(0,d.getQueryArgs)(e))),window.scrollTo({top:0,behavior:"smooth"})},Re=window.wp.i18n,Ae=window.wp.compose,Fe=window.wp.data,Te=window.wp.dataControls,Ie=(e,t)=>({type:"SET_PARTIAL_RECORDS",records:e,queryString:t}),$e=(e,t)=>({type:"SET_RECORDS",records:e,queryString:t}),Me=e=>({type:"SET_RECORD",record:e}),Oe=e=>({type:"SET_SCHEMA",schema:e}),Pe=e=>({type:"BEFORE_DELETE_RECORD",id:e}),Ne=(e,t,n)=>({type:"SET_TAB_CONTENT",id:e,tab_id:t,content:n}),De=(e,t)=>({type:"SET_RECORD_OVERVIEW",id:e,overview:t});function Le(e,t){return{*createRecord(n,r){const i=`${e}/v1/${t}`,a=yield(0,Te.apiFetch)({path:i,method:"POST",data:n});if(a)return yield r.invalidateResolutionForStoreSelector("getRecords"),yield r.invalidateResolutionForStoreSelector("getPartialRecords"),yield r.invalidateResolution("getRecord",[a.id]),yield r.startResolution("getRecord",[a.id]),yield r.finishResolution("getRecord",[a.id]),Me(a)},*updateRecord(n,r,i){const a=`${e}/v1/${t}/${n}`,s=yield(0,Te.apiFetch)({path:a,method:"PUT",data:r});if(s)return yield i.startResolution("getRecord",[s.id]),yield i.finishResolution("getRecord",[s.id]),i.setRecord(s)},*deleteRecord(n,r){yield r.beforeDeleteRecord(n);const i=`${e}/v1/${t}/${n}`;return yield(0,Te.apiFetch)({path:i,method:"DELETE"}),yield r.emptyCache(r),{type:"DELETE_RECORD",id:n}},*remoteAction(n,r,i){const a=`${e}/v1/${t}/${n}/remote-action/${r}`,s=yield(0,Te.apiFetch)({path:a,method:"POST"});return yield i.invalidateResolutionForStoreSelector("getRecordOverview"),yield i.invalidateResolutionForStoreSelector("getTabContent"),s.data&&(yield i.startResolution("getRecord",[s.data.id]),yield i.finishResolution("getRecord",[s.data.id]),yield i.setRecord(s.data)),s.result},*deleteRecords(n,r){const i=`${e}/v1/${t}${n}`;return yield(0,Te.apiFetch)({path:i,method:"DELETE"}),yield r.emptyCache(r),{type:"DELETE_RECORDS"}},*batchAction(n,r){const i=`${e}/v1/${t}/batch`,a=yield(0,Te.apiFetch)({path:i,method:"POST",data:n});return yield r.emptyCache(r),{type:"BATCH_ACTION",result:a}},*emptyCache(e){yield e.invalidateResolutionForStoreSelector("getRecords"),yield e.invalidateResolutionForStoreSelector("getPartialRecords"),yield e.invalidateResolutionForStoreSelector("getRecord"),yield e.invalidateResolutionForStoreSelector("getRecordOverview"),yield e.invalidateResolutionForStoreSelector("getTabContent")}}}const ze={records:{byID:{},queries:{}},partialRecords:{},schema:{},tabContent:{},recordOverview:{}},Be=(0,Fe.combineReducers)({schema:function(e={},t){return"SET_SCHEMA"===t.type?t.schema:e},records:function(e={byID:{},queries:{}},t){switch(t.type){case"SET_RECORDS":const n=""===t.queryString?"all":t.queryString;return{byID:{...e.byID,...t.records.items.reduce(((e,t)=>({...e,[t.id]:t})),{})},queries:{...e.queries,[n]:{items:t.records.items.map((e=>e.id)),summary:t.records.summary,total:t.records.total}}};case"SET_RECORD":return{...e,byID:{...e.byID,[t.record.id]:t.record}};case"BEFORE_DELETE_RECORD":const r={...e.queries};return Object.keys(r).forEach((e=>{const n=r[e].items.indexOf(t.id);-1!==n&&(r[e].items.splice(n,1),r[e].total-=1)})),{...e,queries:r};case"DELETE_RECORD":const i={...e.byID};return delete i[t.id],{...e,byID:i};case"DELETE_RECORDS":return{...e,queries:{},byID:{}}}return e},partialRecords:function(e={},t){if("SET_PARTIAL_RECORDS"===t.type){const n=""===t.queryString?"all":t.queryString;return{...e,[n]:t.records}}return e},tabContent:function(e={},t){return"SET_TAB_CONTENT"===t.type?{...e,[`${t.id}_${t.tab_id}`]:t.content}:e},recordOverview:function(e={},t){return"SET_RECORD_OVERVIEW"===t.type?{...e,[t.id]:t.overview}:e}}),He=window.wp.preferences,Ve=e=>(0,d.addQueryArgs)(e,{uniqid:Math.random()});function Ue(e,t){const n=`${e}/${t}`;return{*getRecords(n){const r=Ve(`${e}/v1/${t}${n}`),i=yield(0,Te.apiFetch)({path:r});if(i){const r=`${e}/${t}`,a=i.items.map((e=>[e.id]));return yield Fe.controls.dispatch(r,"startResolutions","getRecord",a),yield Fe.controls.dispatch(r,"finishResolutions","getRecord",a),$e(i,n)}},*getPartialRecords(n){const r=Ve(`${e}/v1/${t}${n}`),i=yield(0,Te.apiFetch)({path:r});if(i)return Ie(i.items,n)},*getRecord(n){if(!n)throw new Error("Record not found.");const r=Ve(`${e}/v1/${t}/${n}`),i=yield(0,Te.apiFetch)({path:r});return Me(i)},*getSchema(){const r=Ve(`${e}/v1/${t}/collection_schema`),i=yield(0,Te.apiFetch)({path:r});return yield(0,Fe.dispatch)(He.store).setDefaults(n,{view:{type:"table",hiddenFields:i.hidden||[]}}),Oe(i)},*getTabContent(n,r){if(!n)throw new Error("Record not found.");const i=Ve(`${e}/v1/${t}/${n}/${r}`),a=yield(0,Te.apiFetch)({path:i});return Ne(n,r,a)},*getRecordOverview(n){if(!n)throw new Error("Record not found.");const r=Ve(`${e}/v1/${t}/${n}/overview`),i=yield(0,Te.apiFetch)({path:r});return De(n,i)}}}var qe=e=>Array.isArray(e)?e:[e];Symbol(),Object.getPrototypeOf({});var We="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function Ge(e,t={}){let n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let i,a=0;function s(){let t=n;const{length:s}=arguments;for(let e=0,n=s;e<n;e++){const n=arguments[e];if("function"==typeof n||"object"==typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t={s:0,v:void 0,o:null,p:null},e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t={s:0,v:void 0,o:null,p:null},e.set(n,t)):t=r}}const o=t;let l;if(1===t.s)l=t.v;else if(l=e.apply(null,arguments),a++,r){const e=i?.deref?.()??i;null!=e&&r(e,l)&&(l=e,0!==a&&a--),i="object"==typeof l&&null!==l||"function"==typeof l?new We(l):l}return o.s=1,o.v=l,l}return s.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function Ke(e,...t){const n="function"==typeof e?{memoize:e,memoizeOptions:t}:e,r=(...e)=>{let t,r=0,i=0,a={},s=e.pop();"object"==typeof s&&(a=s,s=e.pop()),function(e,t="expected a function, instead received "+typeof e){if("function"!=typeof e)throw new TypeError(t)}(s,`createSelector expects an output function after the inputs, but received: [${typeof s}]`);const o={...n,...a},{memoize:l,memoizeOptions:c=[],argsMemoize:d=Ge,argsMemoizeOptions:u=[],devModeChecks:p={}}=o,h=qe(c),m=qe(u),f=function(e){const t=Array.isArray(e[0])?e[0]:e;return function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every((e=>"function"==typeof e))){const n=e.map((e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e)).join(", ");throw new TypeError(`${t}[${n}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}(e),x=l((function(){return r++,s.apply(null,arguments)}),...h),g=d((function(){i++;const e=function(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}(f,arguments);return t=x.apply(null,e),t}),...m);return Object.assign(g,{resultFunc:s,memoizedResultFunc:x,dependencies:f,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>t,recomputations:()=>r,resetRecomputations:()=>{r=0},memoize:l,argsMemoize:d})};return Object.assign(r,{withTypes:()=>r}),r}var Qe=Ke(Ge),Ye=Object.assign(((e,t=Qe)=>{!function(e,t="expected an object, instead received "+typeof e){if("object"!=typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const n=Object.keys(e);return t(n.map((t=>e[t])),((...e)=>e.reduce(((e,t,r)=>(e[n[r]]=t,e)),{})))}),{withTypes:()=>Ye});const Xe={items:[],summary:{},total:0},Ze=(e=ze,t)=>{var n;return t=""===t?"all":t,null!==(n=e.records.queries[t])&&void 0!==n?n:Xe},Je=(e=ze,t)=>{t=""===t?"all":t;const n=e.records.queries[t]?.total;return n||0},et=(e=ze,t)=>{t=""===t?"all":t;const n=e.records.queries[t]?.summary;return n||{}},tt=(e=ze)=>e.records.byID||{},nt=Qe(Ze,tt,((e,t)=>({...e,items:e.items.map((e=>t[e]))}))),rt=(e=ze,t)=>(t=""===t?"all":t,Array.isArray(e.partialRecords[t])?e.partialRecords[t]:[]),it=(e=ze,t)=>e.records.byID[t]||null,at=(e=ze)=>e.schema||{},st=(e=ze,t,n)=>e.tabContent[`${t}_${n}`]||{},ot=(e=ze,t)=>e.recordOverview[t]||[],lt={};function ct(e,t){return function(e,t){const n=`${e}/${t}`;return lt[n]||(lt[n]=(0,Fe.createReduxStore)(n,{reducer:Be,actions:{...r,...Le(e,t)},selectors:{...i},controls:Te.controls,resolvers:Ue(e,t)}),(0,Fe.register)(lt[n])),lt[n]}(e,t)}const dt=["getIsResolving","hasStartedResolution","hasFinishedResolution","isResolving","getCachedResolvers","getResolutionError","hasResolutionFailed","getAllRecordData"],ut=e=>{const t={...e};delete t.hizzle_path,delete t.page,1===parseInt(t.paged)&&delete t.paged,t.primary_field&&(t[t.primary_field]&&!Array.isArray(t[t.primary_field])&&(t[t.primary_field]=t[t.primary_field].split(",")),delete t.primary_field);const n={};return Object.keys(t).sort().forEach((e=>{n[e]=t[e]})),(0,d.addQueryArgs)("",n)};function pt(e,t){return(0,Fe.useSelect)(((t,n)=>e((e=>ht(t(e))),n)),t)}const ht=function(e,t){var n,r,i=0;function a(){var a,s,o=n,l=arguments.length;e:for(;o;){if(o.args.length===arguments.length){for(s=0;s<l;s++)if(o.args[s]!==arguments[s]){o=o.next;continue e}return o!==n&&(o===r&&(r=o.prev),o.prev.next=o.next,o.next&&(o.next.prev=o.prev),o.next=n,o.prev=null,n.prev=o,n=o),o.val}o=o.next}for(a=new Array(l),s=0;s<l;s++)a[s]=arguments[s];return o={args:a,val:e.apply(null,a)},n?(n.prev=o,o.next=n):r=o,i===t.maxSize?(r=r.prev).next=null:i++,n=o,o.val}return t=t||{},a.clear=function(){n=null,r=null,i=0},a}((e=>{const t={};for(const n in e)dt.includes(n)?t[n]=e[n]:Object.defineProperty(t,n,{get:()=>(...t)=>{const{getIsResolving:r,hasFinishedResolution:i,getResolutionError:a,hasResolutionFailed:s,hasStartedResolution:o}=e,l=a(n,t),c=!!r(n,t)||!o(n,t),d=!c&&i(n,t),u=e[n](...t);let p;return p=c?"RESOLVING":d?s(n,t)||l?"ERROR":"SUCCESS":"IDLE",{data:u,status:p,isResolving:c,hasResolved:d,error:l}}});return t}));function mt(e,t,n){const r=ct(e,t);n=parseInt(n,10);const i=(0,Fe.useDispatch)(r),a=(0,c.useMemo)((()=>({save:(e={})=>i.updateRecord(n,e,i),delete:()=>i.deleteRecord(n,i).catch((e=>{console.error(e)}))})),[n]);return{...pt((e=>e(r).getRecord(n)),[e,t,n]),...a}}function ft(e,t,n={}){const r=ut(n);return pt((n=>n(ct(e,t)).getRecords(r)),[e,t,r])}function xt(e,t){return pt((n=>n(ct(e,t)).getSchema()),[e,t])}var gt=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(e){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),_t=Math.abs,vt=String.fromCharCode,bt=Object.assign;function yt(e){return e.trim()}function wt(e,t,n){return e.replace(t,n)}function jt(e,t){return e.indexOf(t)}function St(e,t){return 0|e.charCodeAt(t)}function Ct(e,t,n){return e.slice(t,n)}function kt(e){return e.length}function Et(e){return e.length}function Rt(e,t){return t.push(e),e}var At=1,Ft=1,Tt=0,It=0,$t=0,Mt="";function Ot(e,t,n,r,i,a,s){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:At,column:Ft,length:s,return:""}}function Pt(e,t){return bt(Ot("",null,null,"",null,null,0),e,{length:-e.length},t)}function Nt(){return $t=It>0?St(Mt,--It):0,Ft--,10===$t&&(Ft=1,At--),$t}function Dt(){return $t=It<Tt?St(Mt,It++):0,Ft++,10===$t&&(Ft=1,At++),$t}function Lt(){return St(Mt,It)}function zt(){return It}function Bt(e,t){return Ct(Mt,e,t)}function Ht(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Vt(e){return At=Ft=1,Tt=kt(Mt=e),It=0,[]}function Ut(e){return Mt="",e}function qt(e){return yt(Bt(It-1,Kt(91===e?e+2:40===e?e+1:e)))}function Wt(e){for(;($t=Lt())&&$t<33;)Dt();return Ht(e)>2||Ht($t)>3?"":" "}function Gt(e,t){for(;--t&&Dt()&&!($t<48||$t>102||$t>57&&$t<65||$t>70&&$t<97););return Bt(e,zt()+(t<6&&32==Lt()&&32==Dt()))}function Kt(e){for(;Dt();)switch($t){case e:return It;case 34:case 39:34!==e&&39!==e&&Kt($t);break;case 40:41===e&&Kt(e);break;case 92:Dt()}return It}function Qt(e,t){for(;Dt()&&e+$t!==57&&(e+$t!==84||47!==Lt()););return"/*"+Bt(t,It-1)+"*"+vt(47===e?e:Dt())}function Yt(e){for(;!Ht(Lt());)Dt();return Bt(e,It)}var Xt="-ms-",Zt="-moz-",Jt="-webkit-",en="comm",tn="rule",nn="decl",rn="@keyframes";function an(e,t){for(var n="",r=Et(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function sn(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case nn:return e.return=e.return||e.value;case en:return"";case rn:return e.return=e.value+"{"+an(e.children,r)+"}";case tn:e.value=e.props.join(",")}return kt(n=an(e.children,r))?e.return=e.value+"{"+n+"}":""}function on(e){return Ut(ln("",null,null,null,[""],e=Vt(e),0,[0],e))}function ln(e,t,n,r,i,a,s,o,l){for(var c=0,d=0,u=s,p=0,h=0,m=0,f=1,x=1,g=1,_=0,v="",b=i,y=a,w=r,j=v;x;)switch(m=_,_=Dt()){case 40:if(108!=m&&58==St(j,u-1)){-1!=jt(j+=wt(qt(_),"&","&\f"),"&\f")&&(g=-1);break}case 34:case 39:case 91:j+=qt(_);break;case 9:case 10:case 13:case 32:j+=Wt(m);break;case 92:j+=Gt(zt()-1,7);continue;case 47:switch(Lt()){case 42:case 47:Rt(dn(Qt(Dt(),zt()),t,n),l);break;default:j+="/"}break;case 123*f:o[c++]=kt(j)*g;case 125*f:case 59:case 0:switch(_){case 0:case 125:x=0;case 59+d:-1==g&&(j=wt(j,/\f/g,"")),h>0&&kt(j)-u&&Rt(h>32?un(j+";",r,n,u-1):un(wt(j," ","")+";",r,n,u-2),l);break;case 59:j+=";";default:if(Rt(w=cn(j,t,n,c,d,i,o,v,b=[],y=[],u),a),123===_)if(0===d)ln(j,t,w,w,b,a,u,o,y);else switch(99===p&&110===St(j,3)?100:p){case 100:case 108:case 109:case 115:ln(e,w,w,r&&Rt(cn(e,w,w,0,0,i,o,v,i,b=[],u),y),i,y,u,o,r?b:y);break;default:ln(j,w,w,w,[""],y,0,o,y)}}c=d=h=0,f=g=1,v=j="",u=s;break;case 58:u=1+kt(j),h=m;default:if(f<1)if(123==_)--f;else if(125==_&&0==f++&&125==Nt())continue;switch(j+=vt(_),_*f){case 38:g=d>0?1:(j+="\f",-1);break;case 44:o[c++]=(kt(j)-1)*g,g=1;break;case 64:45===Lt()&&(j+=qt(Dt())),p=Lt(),d=u=kt(v=j+=Yt(zt())),_++;break;case 45:45===m&&2==kt(j)&&(f=0)}}return a}function cn(e,t,n,r,i,a,s,o,l,c,d){for(var u=i-1,p=0===i?a:[""],h=Et(p),m=0,f=0,x=0;m<r;++m)for(var g=0,_=Ct(e,u+1,u=_t(f=s[m])),v=e;g<h;++g)(v=yt(f>0?p[g]+" "+_:wt(_,/&\f/g,p[g])))&&(l[x++]=v);return Ot(e,t,n,0===i?tn:o,l,c,d)}function dn(e,t,n){return Ot(e,t,n,en,vt($t),Ct(e,2,-2),0)}function un(e,t,n,r){return Ot(e,t,n,nn,Ct(e,0,r),Ct(e,r+1,-1),r)}var pn=function(e,t,n){for(var r=0,i=0;r=i,i=Lt(),38===r&&12===i&&(t[n]=1),!Ht(i);)Dt();return Bt(e,It)},hn=new WeakMap,mn=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||hn.get(n))&&!r){hn.set(e,!0);for(var i=[],a=function(e,t){return Ut(function(e,t){var n=-1,r=44;do{switch(Ht(r)){case 0:38===r&&12===Lt()&&(t[n]=1),e[n]+=pn(It-1,t,n);break;case 2:e[n]+=qt(r);break;case 4:if(44===r){e[++n]=58===Lt()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=vt(r)}}while(r=Dt());return e}(Vt(e),t))}(t,i),s=n.props,o=0,l=0;o<a.length;o++)for(var c=0;c<s.length;c++,l++)e.props[l]=i[o]?a[o].replace(/&\f/g,s[c]):s[c]+" "+a[o]}}},fn=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function xn(e,t){switch(function(e,t){return 45^St(e,0)?(((t<<2^St(e,0))<<2^St(e,1))<<2^St(e,2))<<2^St(e,3):0}(e,t)){case 5103:return Jt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Jt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Jt+e+Zt+e+Xt+e+e;case 6828:case 4268:return Jt+e+Xt+e+e;case 6165:return Jt+e+Xt+"flex-"+e+e;case 5187:return Jt+e+wt(e,/(\w+).+(:[^]+)/,Jt+"box-$1$2"+Xt+"flex-$1$2")+e;case 5443:return Jt+e+Xt+"flex-item-"+wt(e,/flex-|-self/,"")+e;case 4675:return Jt+e+Xt+"flex-line-pack"+wt(e,/align-content|flex-|-self/,"")+e;case 5548:return Jt+e+Xt+wt(e,"shrink","negative")+e;case 5292:return Jt+e+Xt+wt(e,"basis","preferred-size")+e;case 6060:return Jt+"box-"+wt(e,"-grow","")+Jt+e+Xt+wt(e,"grow","positive")+e;case 4554:return Jt+wt(e,/([^-])(transform)/g,"$1"+Jt+"$2")+e;case 6187:return wt(wt(wt(e,/(zoom-|grab)/,Jt+"$1"),/(image-set)/,Jt+"$1"),e,"")+e;case 5495:case 3959:return wt(e,/(image-set\([^]*)/,Jt+"$1$`$1");case 4968:return wt(wt(e,/(.+:)(flex-)?(.*)/,Jt+"box-pack:$3"+Xt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Jt+e+e;case 4095:case 3583:case 4068:case 2532:return wt(e,/(.+)-inline(.+)/,Jt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(kt(e)-1-t>6)switch(St(e,t+1)){case 109:if(45!==St(e,t+4))break;case 102:return wt(e,/(.+:)(.+)-([^]+)/,"$1"+Jt+"$2-$3$1"+Zt+(108==St(e,t+3)?"$3":"$2-$3"))+e;case 115:return~jt(e,"stretch")?xn(wt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==St(e,t+1))break;case 6444:switch(St(e,kt(e)-3-(~jt(e,"!important")&&10))){case 107:return wt(e,":",":"+Jt)+e;case 101:return wt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Jt+(45===St(e,14)?"inline-":"")+"box$3$1"+Jt+"$2$3$1"+Xt+"$2box$3")+e}break;case 5936:switch(St(e,t+11)){case 114:return Jt+e+Xt+wt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Jt+e+Xt+wt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Jt+e+Xt+wt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Jt+e+Xt+e+e}return e}var gn=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case nn:e.return=xn(e.value,e.length);break;case rn:return an([Pt(e,{value:wt(e.value,"@","@"+Jt)})],r);case tn:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e){return(e=/(::plac\w+|:read-\w+)/.exec(e))?e[0]:e}(t)){case":read-only":case":read-write":return an([Pt(e,{props:[wt(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return an([Pt(e,{props:[wt(t,/:(plac\w+)/,":"+Jt+"input-$1")]}),Pt(e,{props:[wt(t,/:(plac\w+)/,":-moz-$1")]}),Pt(e,{props:[wt(t,/:(plac\w+)/,Xt+"input-$1")]})],r)}return""}))}}],vn=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,i,a=e.stylisPlugins||gn,s={},o=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;o.push(e)}));var l,c,d=[sn,(c=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],u=function(e){var t=Et(e);return function(n,r,i,a){for(var s="",o=0;o<t;o++)s+=e[o](n,r,i,a)||"";return s}}([mn,fn].concat(a,d));i=function(e,t,n,r){l=n,an(on(e?e+"{"+t.styles+"}":t.styles),u),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new gt({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:i};return p.sheet.hydrate(o),p};function bn(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")})),r}var yn=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},wn=function(e,t,n){yn(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}},jn={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Sn(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var Cn=/[A-Z]|^ms/g,kn=/_EMO_([^_]+?)_([^]*?)_EMO_/g,En=function(e){return 45===e.charCodeAt(1)},Rn=function(e){return null!=e&&"boolean"!=typeof e},An=Sn((function(e){return En(e)?e:e.replace(Cn,"-$&").toLowerCase()})),Fn=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(kn,(function(e,t,n){return In={name:t,styles:n,next:In},t}))}return 1===jn[e]||En(e)||"number"!=typeof t||0===t?t:t+"px"};function Tn(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var i=n;if(1===i.anim)return In={name:i.name,styles:i.styles,next:In},i.name;var a=n;if(void 0!==a.styles){var s=a.next;if(void 0!==s)for(;void 0!==s;)In={name:s.name,styles:s.styles,next:In},s=s.next;return a.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Tn(e,t,n[i])+";";else for(var a in n){var s=n[a];if("object"!=typeof s){var o=s;null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":Rn(o)&&(r+=An(a)+":"+Fn(a,o)+";")}else if(!Array.isArray(s)||"string"!=typeof s[0]||null!=t&&void 0!==t[s[0]]){var l=Tn(e,t,s);switch(a){case"animation":case"animationName":r+=An(a)+":"+l+";";break;default:r+=a+"{"+l+"}"}}else for(var c=0;c<s.length;c++)Rn(s[c])&&(r+=An(a)+":"+Fn(a,s[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var o=In,l=n(e);return In=o,Tn(e,t,l)}}var c=n;if(null==t)return c;var d=t[c];return void 0!==d?d:c}var In,$n=/label:\s*([^\s;{]+)\s*(;|$)/g;function Mn(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";In=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=Tn(n,t,a)):i+=a[0];for(var s=1;s<e.length;s++)i+=Tn(n,t,e[s]),r&&(i+=a[s]);$n.lastIndex=0;for(var o,l="";null!==(o=$n.exec(i));)l+="-"+o[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:In}}var On=!!p.useInsertionEffect&&p.useInsertionEffect,Pn=On||function(e){return e()},Nn=(On||p.useLayoutEffect,p.createContext("undefined"!=typeof HTMLElement?vn({key:"css"}):null)),Dn=(Nn.Provider,function(e){return(0,p.forwardRef)((function(t,n){var r=(0,p.useContext)(Nn);return e(t,r,n)}))}),Ln=p.createContext({}),zn={}.hasOwnProperty,Bn="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Hn=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return yn(t,n,r),Pn((function(){return wn(t,n,r)})),null},Vn=Dn((function(e,t,n){var r=e.css;"string"==typeof r&&void 0!==t.registered[r]&&(r=t.registered[r]);var i=e[Bn],a=[r],s="";"string"==typeof e.className?s=bn(t.registered,a,e.className):null!=e.className&&(s=e.className+" ");var o=Mn(a,void 0,p.useContext(Ln));s+=t.key+"-"+o.name;var l={};for(var c in e)zn.call(e,c)&&"css"!==c&&c!==Bn&&(l[c]=e[c]);return l.className=s,n&&(l.ref=n),p.createElement(p.Fragment,null,p.createElement(Hn,{cache:t,serialized:o,isStringTag:"string"==typeof i}),p.createElement(i,l))})),Un=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,qn=Sn((function(e){return Un.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),Wn=function(e){return"theme"!==e},Gn=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?qn:Wn},Kn=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!=typeof r&&n&&(r=e.__emotion_forwardProp),r},Qn=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return yn(t,n,r),Pn((function(){return wn(t,n,r)})),null},Yn=function e(t,n){var r,i,a=t.__emotion_real===t,s=a&&t.__emotion_base||t;void 0!==n&&(r=n.label,i=n.target);var o=Kn(t,n,a),l=o||Gn(s),c=!l("as");return function(){var d=arguments,u=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&u.push("label:"+r+";"),null==d[0]||void 0===d[0].raw)u.push.apply(u,d);else{var h=d[0];u.push(h[0]);for(var m=d.length,f=1;f<m;f++)u.push(d[f],h[f])}var x=Dn((function(e,t,n){var r=c&&e.as||s,a="",d=[],h=e;if(null==e.theme){for(var m in h={},e)h[m]=e[m];h.theme=p.useContext(Ln)}"string"==typeof e.className?a=bn(t.registered,d,e.className):null!=e.className&&(a=e.className+" ");var f=Mn(u.concat(d),t.registered,h);a+=t.key+"-"+f.name,void 0!==i&&(a+=" "+i);var x=c&&void 0===o?Gn(r):l,g={};for(var _ in e)c&&"as"===_||x(_)&&(g[_]=e[_]);return g.className=a,n&&(g.ref=n),p.createElement(p.Fragment,null,p.createElement(Qn,{cache:t,serialized:f,isStringTag:"string"==typeof r}),p.createElement(r,g))}));return x.displayName=void 0!==r?r:"Styled("+("string"==typeof s?s:s.displayName||s.name||"Component")+")",x.defaultProps=t.defaultProps,x.__emotion_real=x,x.__emotion_base=s,x.__emotion_styles=u,x.__emotion_forwardProp=o,Object.defineProperty(x,"toString",{value:function(){return"."+i}}),x.withComponent=function(t,r){return e(t,fe({},n,r,{shouldForwardProp:Kn(x,r,!0)})).apply(void 0,u)},x}}.bind(null);["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Yn[e]=Yn(e)})),n(4146);var Xn,Zn,Jn=function(e,t){var n=arguments;if(null==t||!zn.call(t,"css"))return p.createElement.apply(void 0,n);var r=n.length,i=new Array(r);i[0]=Vn,i[1]=function(e,t){var n={};for(var r in t)zn.call(t,r)&&(n[r]=t[r]);return n[Bn]=e,n}(e,t);for(var a=2;a<r;a++)i[a]=n[a];return p.createElement.apply(null,i)};function er(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Mn(t)}Xn=Jn||(Jn={}),Zn||(Zn=Xn.JSX||(Xn.JSX={})),Yn.div`
	border: 1px solid ${"#e2e4e7"};
`,Yn.div`
	min-height: 100vh;
`;const tr=er`
	margin-bottom: 1.6rem;
`,nr=Yn(u.Notice)`
	margin: 0 !important;
`,rr=Yn(u.Button,{shouldForwardProp:e=>!["maxWidth","__withNoMargin"].includes(e)})`
	width: 100%;
	justify-content: center;
	font-size: 14px;
	min-height: 50px;
	margin: ${e=>e.__withNoMargin?"0":"1.6rem 0"};
	max-width: ${e=>e.maxWidth?e.maxWidth:"100%"};
`,ir=Yn.div`
	background-color: #cbeeff;
	padding: 1rem;
	border-radius: 4px;
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	min-height: 100px;
	box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);

	& p {
		font-size: 14px;
		color: #001012;
	}

	& .components-button {
		margin-left: 4px;
	}

	${tr}
`,ar=Yn.div`
	border-left: 4px solid #cc1818;
	margin: 5px 15px 2px 0;
	padding: 16px 12px;
	background-color: #f8cbcb;
`,sr=Yn(u.__experimentalText)`
	margin-bottom: 1.6rem;
	font-weight: 600;
	font-size: 20px;
`,or=Yn(u.__experimentalText)`
	font-weight: 600;
	font-size: 16px;
	color: currentColor;
`,lr=Yn.div`
	width: 100%;
	height: 20px;
	background: #eee;
	margin: 1.6rem 0;
	border-radius: 0.25rem;
	max-width: 600px;
	overflow: hidden;
`,cr=Yn.div`
	${({total:e,processed:t})=>er`width: ${e===t?"100%":t?t/e*100+"%":"1%"};`};
	height: 100%;
	transition: width 3s ease-in-out;
	animation: position 3s linear infinite;
	position: relative;
	border-radius: 0.25rem;

	@keyframes position {
		0% {
			left: 0;
			right: 100%;
			background: #72aee6;
		}
		100% {
			right: 0;
			left: 100%;
			background: #007cba;
		}
	}
`,dr=({total:e,processed:t})=>(0,pe.jsx)(lr,{children:(0,pe.jsx)(cr,{total:e,processed:t})}),ur=Yn.img`
	height: 32px;
	width: 32px;
	max-width: 32px;
	max-height: 32px;
    overflow: hidden;
	border-radius: 50%;
	box-shadow: 2px 2px 2px rgb(0 0 0 / 5%);
`,pr=Yn(u.NavigableMenu)`
	border: 1px solid #9E9E9E;
	background-color: #fff;
	margin-bottom: 1rem;
	padding: 0.3rem;
`,hr=Yn.div`
	${({height:e,width:t,maxWidth:n})=>er`
		height: ${e=e||"16px"};
		width: ${t=t||"80%"};
		max-width: ${n=n||"120px"};
	`};
	display: inline-block;
	min-height: 1em;
	vertical-align: middle;
	cursor: wait;
	background-color: currentColor;
	opacity: .5;

	animation: placeholder-glow 2s ease-in-out infinite;

	@keyframes placeholder-glow {
		50% {
			opacity: .2;
		}
	}
`,mr=Yn("span",{shouldForwardProp:e=>!["color","backgroundColor"].includes(e)})`
	${({color:e,backgroundColor:t})=>er`
		background-color: ${t=t||"#efeeea"};
		color: ${e=e||"#241c15"};
	`}
	white-space: nowrap;
	border-radius: 200px;
	height: 24px;
	line-height: 24px;
	padding: 3px 9px;
	display: inline-block;
	box-sizing: content-box;
`,fr=({upsell:e})=>{if(!e)return null;const{content:t,buttonURL:n,buttonText:r}=e;return(0,pe.jsx)(ir,{children:(0,pe.jsxs)(u.Tip,{children:[t,(0,pe.jsx)(u.Button,{href:n,target:"_blank",variant:"link",children:r})]})})};function xr(){const{namespace:e,collection:t}=K();return(n="")=>Ee(Se({},`/${e}/${t}/${n}`))}function gr(){return(e="")=>{const t=we();t.endsWith("/")&&(t=t.substring(0,t.length-1)),e.startsWith("/")||(e=`/${e}`),Ee(Se({},`${t}${e}`))}}function _r(e,t){if(e.length>0)return{include:e.join(","),number:-1};const n={...t,number:-1};return["order","hizzle_path","orderby","paged","page"].forEach((e=>{delete n[e]})),n}const vr=(0,Ae.createHigherOrderComponent)((e=>t=>{const n=xt(t.namespace,t.collection);return n.isResolving||!n.hasResolved?(0,pe.jsx)(u.Spinner,{}):"ERROR"===n.status?(0,pe.jsx)(u.Notice,{status:"error",isDismissible:!1,children:n.error?.message||(0,Re.__)("An unknown error occurred.","newsletter-optin-box")}):(0,pe.jsx)(me,{children:(0,pe.jsx)(e,{...t,schema:n.data})})}),"withSchema"),br=({routes:e,namespace:t,collection:n,labels:r})=>(0,pe.jsx)(u.Fill,{name:"noptin-interface__header",children:(0,pe.jsx)("div",{children:(0,pe.jsxs)(u.__experimentalHStack,{children:[`/${t}/${n}`!==we()?(0,pe.jsx)(u.Button,{variant:"primary",onClick:()=>Ee(Se({},`/${t}/${n}`)),style:{marginLeft:"10px"},children:r?.view_items||(0,Re.__)("View Records","newsletter-optin-box")}):(0,pe.jsx)(u.Button,{variant:"primary",onClick:()=>Ee(Se({},`/${t}/${n}/add`)),style:{marginLeft:"10px"},children:r?.add_new_item||(0,Re.__)("Add New","newsletter-optin-box")}),e&&Object.keys(e).map((t=>(0,pe.jsx)(h().Fragment,{children:e[t].href?(0,pe.jsx)(u.Button,{href:e[t].href,variant:"secondary",children:e[t].title}):(0,pe.jsx)(u.Button,{onClick:()=>Ee(Se({},t)),variant:"secondary",children:e[t].title})},t)))]})})}),yr=vr((({namespace:e,collection:t,isParent:n,schema:r})=>{const i=r.routes;return(0,pe.jsxs)("div",{style:{paddingBottom:40},children:[(0,pe.jsx)(me,{children:n&&(0,pe.jsx)(br,{routes:i,labels:r.labels,namespace:e,collection:t})}),(0,pe.jsx)(me,{children:(0,pe.jsx)(ne,{})}),r.fills&&r.fills.map((e=>(0,pe.jsx)(u.Fill,{name:`${e.name}${n?"":"--inner"}`,children:(0,pe.jsxs)(me,{children:[e.content&&(0,pe.jsx)("span",{dangerouslySetInnerHTML:{__html:e.content}}),e.upsell&&(0,pe.jsx)(fr,{upsell:e.upsell})]})},e.name)))]})})),wr=()=>{const{namespace:e,collection:t,id:n}=K();return(0,pe.jsx)(yr,{namespace:e,collection:t,id:n,isParent:!0})},jr=()=>{const{id:e,tab:t,innerTab:n,innerNamespace:r,innerCollection:i,innerId:a}=K(),s=xr(),o=(0,p.useCallback)((()=>s(`${e}/${t}`)),[s,t,e]),l=xt(r,i),c=l.data?.labels||{},d={add_new_item:(0,Re.__)("Add New Item","newsletter-optin-box"),view_item:(0,Re.__)("View Item","newsletter-optin-box")},h={add:"add_new_item",edit:"view_item"},m=h[n]?c[h[n]]||d[h[n]]:c.name||(0,Re.__)("Items","newsletter-optin-box");return(0,pe.jsx)(u.Modal,{title:m,onRequestClose:o,children:(0,pe.jsx)(yr,{namespace:r,collection:i,id:a,isParent:!1})})},Sr=(0,c.forwardRef)((({actions:e,className:t,title:n,menu:r,children:i},a)=>(0,pe.jsx)(u.Card,{className:t,ref:a,children:(0,pe.jsxs)(me,{children:[(0,pe.jsxs)(u.CardHeader,{children:[(0,pe.jsxs)(u.Flex,{justify:"start",wrap:!0,children:[(0,pe.jsx)(u.FlexItem,{children:(0,pe.jsx)(u.__experimentalText,{size:16,weight:600,as:"h2",color:"#23282d",children:n})}),e&&(0,pe.jsxs)(u.FlexItem,{className:"noptin-screen__actions",children:[" ",e," "]})]}),r&&r]}),i]})}))),Cr=window.wp.notices;function kr({label:e,value:t}){const n=e.toLowerCase().replace(/[^a-z0-9]/g,"-");return(0,pe.jsxs)("li",{className:`noptin-list-item noptin-list-item__${n}`,children:[(0,pe.jsx)("div",{className:"noptin-list-item__key",children:e}),(0,pe.jsx)("div",{className:"noptin-list-item__value",children:t})]})}function Er({items:e}){return(0,pe.jsx)("ul",{className:"noptin-component__list",children:e.map((e=>(0,pe.jsx)(kr,{label:e.label,value:e.value},e.label)))})}const Rr=Yn.div`
    ${({status:e})=>"success"===e?er`
            background-color: #d4edda;
            color: #155724;

            & h2,
            & h3 {
                color: #155724;
            }
        `:"info"===e?er`
            background-color: #cbeeff;
            color: #0c5460;

            & h2,
            & h3 {
                color: #0c5460;
            }
        `:"warning"===e?er`
            background-color: #fff3cd;
            color: #856404;

            & h2,
            & h3 {
                color: #856404;
            }
        `:"error"===e?er`
            background-color: #f8cbcb;
            color: #cc1818;

            & h2,
            & h3 {
                color: #cc1818;
            }
        `:"dark"===e?er`
            background-color: #212529;
            color: #f8f9fa;

            & h2,
            & h3 {
                color: #f8f9fa;
            }
        `:er`
        background-color: #f8f9fa;
        color: #212529;

        & h2,
        & h3 {
            color: #212529;
        }
    `};
    padding: 0.25rem;
    text-align: center;
    box-shadow: 2px 2px 2px rgb(0 0 0 / 5%);
    min-width: 100px;
    border-radius: 4px;
`;function Ar({value:e,label:t,status:n}){return(0,pe.jsx)(Rr,{status:n,children:(0,pe.jsxs)(u.Flex,{direction:"column",justify:"center",style:{minHeight:"100px"},children:[(0,pe.jsx)(u.FlexItem,{children:(0,pe.jsx)(u.__experimentalText,{size:48,weight:600,as:"h2",children:e})}),(0,pe.jsx)(u.FlexItem,{children:(0,pe.jsx)(u.__experimentalText,{size:13,weight:400,as:"h3",children:t})})]})})}const Fr=({items:e,title:t})=>(0,pe.jsxs)(u.Card,{className:tr,children:[(0,pe.jsx)(u.CardHeader,{children:t}),(0,pe.jsx)(u.CardBody,{children:(0,pe.jsx)(Er,{items:e})})]}),Tr=({cards:e})=>(0,pe.jsx)(u.Flex,{className:tr,gap:2,justify:"flex-end",wrap:!0,children:e.map((({title:e,value:t,status:n})=>(0,pe.jsx)(u.FlexItem,{children:(0,pe.jsx)(Ar,{status:n||"info",label:e,value:(0,pe.jsx)("span",{dangerouslySetInnerHTML:{__html:t}})})},e)))}),Ir=({content:e,buttonText:t,buttonLink:n})=>(0,pe.jsx)(u.Card,{className:tr,variant:"secondary",children:(0,pe.jsxs)(u.CardBody,{children:[(0,pe.jsx)("div",{className:tr,dangerouslySetInnerHTML:{__html:e}}),t&&n&&(0,pe.jsx)(u.Button,{variant:"secondary",href:n,text:t})]})}),$r=({confirm:e,closeModal:t,namespace:n,collection:r,id:i,basePath:a})=>{const s=xr(),[o,l]=(0,p.useState)(!1),[c,d]=(0,p.useState)(!1),h=(0,Fe.useDispatch)(`${n}/${r}`),{createSuccessNotice:m}=(0,Fe.useDispatch)(Cr.store);return(0,pe.jsxs)(u.__experimentalVStack,{spacing:8,children:[(0,pe.jsx)(u.__experimentalText,{variant:"muted",children:e||(0,Re.__)("Are you sure you want to delete this record?","newsletter-optin-box")}),(0,pe.jsxs)(u.__experimentalHStack,{justify:"flex-start",children:[(0,pe.jsx)(u.Button,{variant:"primary",isDestructive:!0,onClick:e=>{e?.preventDefault(),o||(l(!0),h.deleteRecord(i,h).then((()=>{m((0,Re.__)("Record deleted successfully.","newsletter-optin-box"),{type:"snackbar"}),void 0!==a&&s(a)})).catch((e=>{d(e.message)})).finally((()=>{l(!1)})))},isBusy:o,__next40pxDefaultSize:!0,children:o?(0,Re.__)("Deleting...","newsletter-optin-box"):(0,Re.__)("Delete","newsletter-optin-box")}),(0,pe.jsx)(u.Button,{variant:"secondary",onClick:t,__next40pxDefaultSize:!0,children:(0,Re.__)("Cancel","newsletter-optin-box")})]}),c&&(0,pe.jsx)(u.Notice,{status:"error",onRemove:()=>d(!1),children:c})]})},Mr=({label:e,...t})=>{const[n,r]=(0,p.useState)(!1);return(0,pe.jsxs)(pe.Fragment,{children:[(0,pe.jsx)(u.Button,{isDestructive:!0,onClick:()=>r(!0),variant:"secondary",children:e}),n&&(0,pe.jsx)(u.Modal,{title:e,onRequestClose:()=>{r(!1)},children:(0,pe.jsx)($r,{...t,closeModal:()=>r(!1)})})]})},Or=({value:e,label:t})=>{const{createInfoNotice:n}=(0,Fe.useDispatch)(Cr.store),r=(0,Ae.useCopyToClipboard)(e,(()=>{n((0,Re.__)("Copied to clipboard."),{type:"snackbar"})}));return(0,pe.jsx)(u.Button,{label:"Click to copy",variant:"secondary",ref:r,showTooltip:!0,children:t})},Pr=({label:e,value:t,namespace:n,collection:r,id:i})=>{const[a,s]=(0,p.useState)(!1),{createInfoNotice:o,createErrorNotice:l}=(0,Fe.useDispatch)(Cr.store),c=(0,Fe.useDispatch)(`${n}/${r}`);return(0,pe.jsxs)(u.Button,{variant:"secondary",onClick:e=>{e?.preventDefault(),a||(s(!0),c.remoteAction(i,t,c).then((e=>{o(e?.message,{type:"snackbar"})})).catch((e=>{o(e.message,{type:"snackbar"})})).finally((()=>{s(!1)})))},children:[e,a&&(0,pe.jsx)(u.Spinner,{})]})},Nr=({links:e,...t})=>(0,pe.jsx)(u.__experimentalHStack,{justify:"flex-end",gap:2,wrap:!0,children:e.map((({label:e,value:n,action:r,hide:i})=>i?(0,pe.jsx)(h().Fragment,{},e):"delete"===r?(0,pe.jsx)(Mr,{label:e,confirm:n,...t},e):"remote"===r?(0,pe.jsx)(Pr,{label:e,value:n,...t},e):(n&&(n=n.replace(/&amp;/g,"&")),"copy"===r?(0,pe.jsx)(Or,{label:e,value:n,...t},e):(0,pe.jsx)(u.Button,{href:n,variant:"secondary",target:"_blank",children:e},e))))}),Dr=({namespace:e,collection:t,id:n,basePath:r})=>{const i=function(e,t,n){return n=parseInt(n,10),pt((r=>r(ct(e,t)).getRecordOverview(n)),[e,t,n])}(e,t,n);return i.isResolving?(0,pe.jsx)(pe.Fragment,{children:(0,pe.jsx)(u.Flex,{className:tr,gap:4,wrap:!0,children:[1,2,3].map((e=>(0,pe.jsx)(u.FlexItem,{children:(0,pe.jsx)(hr,{width:"100px",height:"100px"})},e)))})}):"ERROR"!==i.status&&Array.isArray(i.data)&&i.data.length?(0,pe.jsx)(pe.Fragment,{children:i.data.map(((i,a)=>{switch(i.type){case"stat_cards":return(0,pe.jsx)(Tr,{cards:i.cards},a);case"action_links":return(0,pe.jsx)(Nr,{links:i.links,namespace:e,collection:t,id:n,basePath:r},a);case"card":return(0,pe.jsx)(Ir,{...i},a);case"card_list":return(0,pe.jsx)(Fr,{...i},a);default:return null}}))}):null},Lr=window.wp.primitives,zr=(0,pe.jsx)(Lr.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,pe.jsx)(Lr.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm.5 16c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5V7h15v12zM9 10H7v2h2v-2zm0 4H7v2h2v-2zm4-4h-2v2h2v-2zm4 0h-2v2h2v-2zm-4 4h-2v2h2v-2zm4 0h-2v2h2v-2z"})}),Br=(0,pe.jsx)(Lr.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,pe.jsx)(Lr.Path,{d:"M17 10h-1.2V7c0-2.1-1.7-3.8-3.8-3.8-2.1 0-3.8 1.7-3.8 3.8v3H7c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1h10c.6 0 1-.4 1-1v-8c0-.6-.4-1-1-1zm-2.8 0H9.8V7c0-1.2 1-2.2 2.2-2.2s2.2 1 2.2 2.2v3z"})}),Hr=(0,pe.jsx)(Lr.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,pe.jsx)(Lr.Path,{d:"M6.6 6L5.4 7l4.5 5-4.5 5 1.1 1 5.5-6-5.4-6zm6 0l-1.1 1 4.5 5-4.5 5 1.1 1 5.5-6-5.5-6z"})}),Vr=(0,pe.jsx)(Lr.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,pe.jsx)(Lr.Path,{d:"M12 15.8c-3.7 0-6.8-3-6.8-6.8s3-6.8 6.8-6.8c3.7 0 6.8 3 6.8 6.8s-3.1 6.8-6.8 6.8zm0-12C9.1 3.8 6.8 6.1 6.8 9s2.4 5.2 5.2 5.2c2.9 0 5.2-2.4 5.2-5.2S14.9 3.8 12 3.8zM8 17.5h8V19H8zM10 20.5h4V22h-4z"})}),Ur=window.wp.keycodes,qr=window.wp.date,Wr=window.wp.apiFetch;var Gr=n.n(Wr);function Kr(e){return(t,n)=>{const r={...t};return"COMMIT"!==n.type&&"PRESS_UP"!==n.type&&"PRESS_DOWN"!==n.type||void 0!==r.value&&(r.value=r.value.toString().padStart(e,"0")),r}}const Qr=Yn.div`
	text-decoration: underline dotted;
`,Yr=()=>{const{timezone:e}=(0,qr.getSettings)(),t=(new Date).getTimezoneOffset()/60*-1;if(Number(e.offset)===t)return null;const n=Number(e.offset)>=0?"+":"",r=""!==e.abbr&&isNaN(Number(e.abbr))?e.abbr:`UTC${n}${e.offset}`,i=e.string.replace("_"," "),a="UTC"===e.string?(0,Re.__)("Coordinated Universal Time"):`(${r}) ${i}`;return 0===i.trim().length?(0,pe.jsx)(Qr,{className:"components-datetime__timezone",children:r}):(0,pe.jsx)(u.Tooltip,{placement:"top",text:a,children:(0,pe.jsx)(Qr,{className:"components-datetime__timezone",children:r})})},Xr=Yn.span`
	border-top: 1px solid #757575;
	border-bottom: 1px solid #757575;
	display: inline-flex;
    align-items: center;
`,Zr=Yn(u.__experimentalNumberControl)`
	width: 36px;

	&&& .components-input-control__input {
		padding-right: 0;
		padding-left: 8px;
		text-align: center;
	}

	&&& .components-input-control__backdrop {
		border-right: 0;
		border-top-right-radius: 0;
		border-bottom-right-radius: 0;
	}
`,Jr=Yn(u.__experimentalNumberControl)`
	width: 36px;

	&&& .components-input-control__input {
		padding-left: 0;
		text-align: center;
		padding-left: 8px;
	}

	&&& .components-input-control__backdrop {
		border-left: 0;
		border-top-left-radius: 0;
		border-bottom-left-radius: 0;
	}
`,ei=Yn.div`
	direction: ltr;
	display: flex;
`,ti=({value:e,onChange:t,...n})=>{const{baseControlProps:r,controlProps:i}=(0,u.useBaseControlProps)(n),a=e?e.split(":"):["07","00"],[s,o]=(0,p.useState)(a[0]),[l,c]=(0,p.useState)(a[1]),d=(e,t="00")=>(e=Number(e),isNaN(e)?t:e<10?`0${e}`:e),h=`${d(s)}:${d(l)}`;return(0,p.useEffect)((()=>{e!==h&&t(h)}),[h]),(0,pe.jsx)(u.BaseControl,{...r,children:(0,pe.jsxs)(u.__experimentalHStack,{children:[(0,pe.jsxs)(ei,{children:[(0,pe.jsx)(Zr,{value:d(s),onChange:o,min:0,max:23,step:1,...i,label:(0,Re.__)("Hours"),spinControls:"none",isDragEnabled:!1,isShiftStepEnabled:!1,isPressEnterToChange:!0,hideLabelFromVision:!0,__next40pxDefaultSize:!0,__unstableStateReducer:Kr(2)}),(0,pe.jsx)(Xr,{"aria-hidden":"true",children:":"}),(0,pe.jsx)(Jr,{value:d(l),onChange:c,min:0,max:59,step:1,label:(0,Re.__)("Minutes"),spinControls:"none",isDragEnabled:!1,isShiftStepEnabled:!1,isPressEnterToChange:!0,hideLabelFromVision:!0,__next40pxDefaultSize:!0,__unstableStateReducer:Kr(2)})]}),(0,pe.jsx)(Yr,{})]})})},ni=[{label:(0,Re.__)("Only run if","newsletter-optin-box"),value:"allow"},{label:(0,Re.__)("Do not run if","newsletter-optin-box"),value:"prevent"}],ri=[{label:(0,Re.__)("all","newsletter-optin-box"),value:"all"},{label:(0,Re.__)("any","newsletter-optin-box"),value:"any"}];function ii(e,t){return(0,p.useMemo)((()=>[{label:t,value:"",disabled:!0},...e]),[e,t])}function ai({type:e,action:t,ruleCount:n,setConditionalLogicAttribute:r}){const i=n>1;return(0,pe.jsxs)(u.__experimentalHStack,{justify:"flex-start",wrap:!0,children:[(0,pe.jsx)(u.SelectControl,{label:(0,Re.__)("If","newsletter-optin-box"),hideLabelFromVision:!0,value:t||"allow",options:ni,onChange:e=>r("action",e),size:"default",__nextHasNoMarginBottom:!0}),i&&(0,pe.jsxs)(pe.Fragment,{children:[(0,pe.jsx)(u.SelectControl,{label:(0,Re.__)("all","newsletter-optin-box"),hideLabelFromVision:!0,value:e||"all",options:ri,onChange:e=>r("type",e),size:"default",__nextHasNoMarginBottom:!0}),(0,pe.jsx)(u.__experimentalText,{children:(0,Re.__)("of the following rules are true:","newsletter-optin-box")})]})]})}function si({rule:e,comparisons:t,availableSmartTags:n,mergeTagsArray:r,index:i,updateRule:a,removeRule:s}){var o;const l=e=>a(i,{value:e}),c=null!==(o=e.full)&&void 0!==o?o:e.type?`[[${e.type}]]`:"",d=c.indexOf("]]"),h=c.indexOf("[[",d),m=-1===d||-1!==h&&h>d,f=e=>{const t={full:e};if(e){const n=e.match(/\[\[([^\s\]]+)/)?.[1]||"";n&&(t.type=n.replace("[[","").replace("]]",""))}a(i,t)},x=wi({availableSmartTags:r,onMergeTagClick:e=>{f(c?`${c} ${e}`.trim():e)}}),g=wi({availableSmartTags:r,onMergeTagClick:t=>{l(e.value?`${e.value} ${t}`.trim():t)}}),_=(0,p.useMemo)((()=>{const t=e.type;if(void 0!==n[t])return n[t];const r=t.replace("_",".",1);if(void 0!==n[r])return n[r];for(const[e,r]of Object.entries(n)){if(-1!==e.indexOf(".")&&e.split(".").slice(1).join(".")===t)return r;const n=e=>Array.isArray(e)?e:e.split(/[\s,]+/);if(r.deprecated&&n(r.deprecated).includes(t))return r}return null}),[e.type,n]),v=ii((b=_?.options,(0,p.useMemo)((()=>b?Array.isArray(b)?b.map(((e,t)=>({label:e,value:t}))):Object.keys(b).map((e=>({label:b[e],value:e}))):[]),[b])),(0,Re.__)("Select a value","newsletter-optin-box"));var b;const y=!m&&v.length>1,w=m?"string":_?.conditional_logic||"string",j=ii((0,p.useMemo)((()=>{const e=[];return Object.keys(t).forEach((n=>{let r=t[n].type;if(y){if("string"===w&&"is"!=n&&"is_not"!=n)return;if("is_empty"===n||"is_not_empty"===n||"is_between"===n)return}"any"!==r&&r!=w||e.push({label:t[n].name,value:n})})),e}),[w,t]),(0,Re.__)("Select a comparison","newsletter-optin-box")),S="is_empty"===e.condition||"is_not_empty"===e.condition;return(0,pe.jsxs)(u.__experimentalHStack,{justify:"flex-start",wrap:!0,expanded:!0,children:[(0,pe.jsx)("div",{style:{minWidth:320},children:(0,pe.jsx)(u.__experimentalInputControl,{type:"text",label:(0,Re.__)("Smart Tag","newsletter-optin-box"),hideLabelFromVision:!0,placeholder:(0,Re.__)("Enter a smart tag","newsletter-optin-box"),value:c,onChange:f,autoComplete:"off",suffix:x,__next40pxDefaultSize:!0})}),(0,pe.jsx)("div",{style:{width:150},children:(0,pe.jsx)(u.SelectControl,{label:(0,Re.__)("Comparison","newsletter-optin-box"),hideLabelFromVision:!0,value:e.condition?e.condition:"is",options:j,onChange:e=>a(i,{condition:e}),size:"default",__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0})}),!S&&(0,pe.jsxs)("div",{style:{minWidth:320},children:[y&&(0,pe.jsx)(u.SelectControl,{label:(0,Re.__)("Value","newsletter-optin-box"),hideLabelFromVision:!0,value:e.value?e.value:"",options:v,onChange:l,size:"default",__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),!y&&(0,pe.jsx)(u.__experimentalInputControl,{type:"number"===w?"number":"text",label:(0,Re.__)("Value","newsletter-optin-box"),placeholder:(0,Re.__)("Enter a value","newsletter-optin-box"),hideLabelFromVision:!0,value:e.value?e.value:"",onChange:l,suffix:g,__next40pxDefaultSize:!0})]}),(0,pe.jsx)(u.Button,{onClick:()=>s(i),icon:"trash",variant:"tertiary",isDestructive:!0})]})}function oi({rules:e,comparisons:t,availableSmartTags:n,setConditionalLogicAttribute:r,disableTags:i,disableProps:a,closeModal:s}){const o=(0,p.useMemo)((()=>Array.isArray(e)?e.filter((e=>e.type&&""!==e.type)):[]),[e]),l=(0,p.useMemo)((()=>{const e={};return n.forEach((t=>{t.conditional_logic&&(e[t.smart_tag]={...t,key:t.smart_tag,type:t.conditional_logic,isPremium:Array.isArray(i)&&i.some((e=>t.smart_tag.startsWith(e)))||Array.isArray(a)&&a.some((e=>!!t[e]))})})),e}),[n]),c=(0,p.useCallback)((e=>{const t=[...o];t.splice(e,1),r("rules",t)}),[o,r]),d=(0,p.useCallback)(((e,t)=>{const n=[...o];n[e]={...n[e],...t},r("rules",n)}),[o,r]),h=(0,p.useMemo)((()=>Object.values(l)),[l]),m=(0,p.useCallback)(((e,t)=>{const n=l[e],i=n?.options||[],a=n?.placeholder||"";let s=Array.isArray(i)&&i.length?Object.keys(i)[0]:a;n?.default&&(s=n.default);const c=[...o];c.push({type:e,condition:"is",full:t,value:s}),r("rules",c)}),[o]),f=0===o.length?(0,Re.__)("Add a conditional logic rule","newsletter-optin-box"):(0,Re.__)("Add another rule","newsletter-optin-box"),x=wi({availableSmartTags:h,onMergeTagClick:m,raw:!0,icon:"plus",label:f,text:f,toggleProps:{variant:"primary"}});return(0,pe.jsxs)(pe.Fragment,{children:[o.map(((e,n)=>(0,pe.jsx)(si,{rule:e,index:n,updateRule:d,removeRule:c,comparisons:t,availableSmartTags:l,mergeTagsArray:h},n))),(0,pe.jsxs)(u.__experimentalHStack,{justify:"flex-start",wrap:!0,children:[x,s&&(0,pe.jsx)(u.Button,{onClick:s,variant:"secondary",children:(0,Re.__)("Return to editor","newsletter-optin-box")})]})]})}function li({onChange:e,value:t,comparisons:n,toggleText:r,availableSmartTags:i,className:a,inModal:s=!1,...o}){const[l,c]=(0,p.useState)(!1),d=(0,p.useMemo)((()=>"object"!=typeof t?{enabled:!1,action:"allow",rules:[],type:"all"}:t),[t]),h=(0,p.useCallback)(((t,n)=>{e({...d,[t]:n})}),[e,d]),m=(0,pe.jsxs)(u.__experimentalVStack,{spacing:5,children:[(0,pe.jsx)(ai,{ruleCount:Array.isArray(d.rules)?d.rules.length:0,type:d.type,action:d.action,setConditionalLogicAttribute:h}),(0,pe.jsx)(oi,{rules:d.rules,comparisons:n,availableSmartTags:i,setConditionalLogicAttribute:h,closeModal:s&&(()=>c(!1)),...o})]});return(0,pe.jsxs)(u.__experimentalVStack,{spacing:5,className:a,children:[(0,pe.jsx)(u.ToggleControl,{checked:!!d.enabled,onChange:e=>h("enabled",e),label:r||(0,Re.__)("Optionally enable/disable this trigger depending on specific conditions.","newsletter-optin-box"),__nextHasNoMarginBottom:!0}),d.enabled&&(0,pe.jsx)(pe.Fragment,{children:s?(0,pe.jsxs)(pe.Fragment,{children:[l&&(0,pe.jsx)(u.Modal,{title:(0,Re.__)("Conditional Logic","newsletter-optin-box"),onRequestClose:()=>c(!1),isFullScreen:!0,children:m}),(0,pe.jsx)(u.Button,{variant:"secondary",className:"noptin-block-button",onClick:()=>c(!0),children:(0,Re.__)("Edit Conditional Logic","newsletter-optin-box")})]}):(0,pe.jsx)(pe.Fragment,{children:m})})]})}const ci={"==":(e,t)=>e==t,"===":(e,t)=>e===t,"!=":(e,t)=>e!=t,"!==":(e,t)=>e!==t,">":(e,t)=>e>t,">=":(e,t)=>e>=t,"<":(e,t)=>e<t,"<=":(e,t)=>e<=t,includes:(e,t)=>e.includes(t),"!includes":(e,t)=>!e.includes(t),"^includes":(e,t)=>t.includes(e),"^!includes":(e,t)=>!t.includes(e),empty:(e,t)=>!t,"!empty":(e,t)=>t};function di(e){return(0,p.useMemo)((()=>{if(!Array.isArray(e))return{};const t={};return e.forEach((e=>{const n=e.group?e.group:(0,Re.__)("General","newsletter-optin-box");Array.isArray(t[n])||(t[n]=[]),t[n].push(e)})),t}),[e])}const ui=["number","search","email","password","tel","url","date"];function pi({setting:e,availableSmartTags:t,isPressEnterToChange:n,...r}){void 0===n&&(n=!0);const i=wi({availableSmartTags:t,onMergeTagClick:(0,p.useCallback)((e=>{r.onChange&&r.onChange(r.value?`${r.value} ${e}`.trim():e)}),[r.value,r.onChange])});return"string"==typeof r.suffix||r.suffix instanceof String?r.suffix=(0,pe.jsx)(u.__experimentalInputControlSuffixWrapper,{children:r.suffix}):e.disabled||!i||r.suffix||(r.suffix=i),"datetime-local"===e.type&&(r.suffix=(0,pe.jsx)(u.__experimentalInputControlSuffixWrapper,{children:(0,pe.jsx)(u.Dropdown,{popoverProps:{placement:"bottom-start"},renderToggle:({isOpen:e,onToggle:t})=>(0,pe.jsx)(u.Button,{onClick:t,"aria-expanded":e,icon:zr}),renderContent:()=>(0,pe.jsx)(u.DateTimePicker,{currentDate:r.value,onChange:e=>{e&&(e=(0,qr.format)("c",e)),r.onChange(e||"")}})})})),e.disabled&&(r.readOnly=!0,r.onFocus=e=>e.target.select(),e.value&&(r.value=e.value)),("string"==typeof r.prefix||r.prefix instanceof String)&&(r.prefix=(0,pe.jsx)(u.__experimentalInputControlPrefixWrapper,{children:r.prefix})),(0,pe.jsx)(u.__experimentalInputControl,{...r,type:ui.includes(e.type)?e.type:"text",placeholder:e.placeholder?e.placeholder:"",isPressEnterToChange:n,__next40pxDefaultSize:!0})}function hi({setting:e,saved:t,settingKey:n,...r}){const[i,a]=(0,p.useState)(!1),[s,o]=(0,p.useState)({}),[l,c]=(0,p.useState)(null),h=(0,p.useMemo)((()=>{if(!e.rest_route)return"";const n=Object.entries(e.rest_args||{}).reduce(((e,[n,r])=>(e[n]="string"==typeof r&&r.startsWith("!")?Ai(t,r.slice(1)):r,e)),{});return(0,d.addQueryArgs)(e.rest_route,n)}),[e.rest_route,e.rest_args,t]);return(0,p.useEffect)((()=>{h&&(a(!0),c(null),Gr()({path:h}).then((e=>{o(e)})).catch((e=>{o({}),c(e.message||"An error occurred while fetching settings."),console.error(e)})).finally((()=>{a(!1)})))}),[h]),h?i?(0,pe.jsx)(u.Spinner,{}):l?(0,pe.jsx)(u.Notice,{status:"error",children:l}):(0,pe.jsx)(pe.Fragment,{children:Object.keys(s).map((e=>(0,pe.jsx)(Ti,{settingKey:e,saved:t,setting:s[e],...r},e)))}):null}function mi({value:e,onChange:t,...n}){const{baseControlProps:r,controlProps:i}=(0,u.useBaseControlProps)({...n});return(0,pe.jsx)(u.BaseControl,{...r,children:(0,pe.jsx)(u.Dropdown,{popoverProps:{placement:"bottom-start"},renderToggle:({isOpen:t,onToggle:n})=>(0,pe.jsx)(u.Button,{onClick:n,"aria-expanded":t,children:(0,pe.jsx)(u.ColorIndicator,{colorValue:e})}),renderContent:()=>(0,pe.jsx)(u.ColorPicker,{color:e,onChange:t}),...i})})}function fi({availableSmartTags:e,autoGrow:t=!1,label:n,id:r,setting:i,...a}){const s=wi({availableSmartTags:e,onMergeTagClick:(0,p.useCallback)((e=>{a.onChange&&a.onChange(a.value?`${a.value} ${e}`.trim():e)}),[a.value,a.onChange]),toggleProps:{size:"small"}}),o=!i.disabled&&s?(0,pe.jsxs)(u.__experimentalHStack,{children:[(0,pe.jsx)("span",{children:n}),s]}):n,l=r||(0,Ae.useInstanceId)(fi,"noptin-textarea");return(0,p.useEffect)((()=>{if(t){const e=document.getElementById(l);e&&(e.style.height="auto",e.style.height=`${e.scrollHeight}px`)}}),[a.value,t,l]),i.disabled&&(a.readOnly=!0,a.onFocus=e=>e.target.select(),i.value&&(a.value=i.value)),(0,pe.jsx)(u.TextareaControl,{...a,id:l,label:o,__nextHasNoMarginBottom:!0})}function xi({options:e,...t}){return(0,pe.jsx)(u.__experimentalToggleGroupControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,isBlock:!0,...t,children:e.map(((e,t)=>(0,pe.jsx)(u.__experimentalToggleGroupControlOption,{...e},t)))})}const gi=(e,t)=>{const n=di(t);return(0,p.useMemo)((()=>{if(!Array.isArray(t))return e;let r=[...e];return Object.keys(n).forEach((e=>{Array.isArray(n[e])&&n[e].length&&(r.push({value:`select_dynamic_value__${e}`,label:`${e} Dynamic Values`,disabled:!0}),n[e].forEach((t=>{r.push({value:`[[${t.smart_tag}]]`,label:t.label,render:t.label,render_filtered:`${e} &gt;&gt; ${t.label}`,search:`${t.label} ${e} ${t.smart_tag} ${t.description}`})})))})),r}),[n,e])};function _i({options:e,availableSmartTags:t,...n}){const r=gi(e,t),[i,a]=(0,p.useState)(r),s=i.length!==r.length;return(0,pe.jsx)(u.ComboboxControl,{...n,options:i,onFilterValueChange:e=>{a(e?r.filter((t=>!t.disabled&&""!==t.value&&(t.search?t.search.toLowerCase():t.label.toLowerCase()).includes(e.toLowerCase()))):r)},__experimentalRenderItem:({item:e,...t})=>e.render_filtered&&s?(0,pe.jsx)("div",{...t,dangerouslySetInnerHTML:{__html:e.render_filtered}}):e.render?"string"==typeof e.render?(0,pe.jsx)("div",{...t,dangerouslySetInnerHTML:{__html:e.render}}):e.render:e.label})}function vi({options:e,availableSmartTags:t,...n}){const r=gi(e,t);return(0,pe.jsx)(u.SelectControl,{...n,options:r})}function bi({options:e,value:t,onChange:n,...r}){const i=Array.isArray(t)?t:[],a=(0,p.useMemo)((()=>e.map((e=>e.label))),[e]),s=(0,p.useCallback)((e=>a.includes(e)),[a]),o=(0,p.useMemo)((()=>i.map((t=>{const n=e.find((e=>e.value===t));return n?n.label:t}))),[t,e]),l=(0,p.useCallback)((t=>{const r=new Set;for(const n of t){const t=e.find((e=>e.label===n));t&&r.add(t.value)}n(Array.from(r))}),[n,e]),d=(0,p.useCallback)((t=>{const n=e.find((e=>e.label===t.item));return n&&n.render?(0,pe.jsx)(c.RawHTML,{children:n.render}):(0,pe.jsx)(pe.Fragment,{children:t.item})}),[e]);return(0,pe.jsx)(u.FormTokenField,{value:o,suggestions:a,onChange:l,__experimentalShowHowTo:!1,__experimentalExpandOnFocus:!0,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,__experimentalValidateInput:s,__experimentalRenderItem:d,...r})}const yi=[{id:"key",label:(0,Re.__)("Key","noptin-addons-pack"),type:"text"},{id:"value",label:(0,Re.__)("Value","noptin-addons-pack"),type:"text"}];function wi({availableSmartTags:e=[],onMergeTagClick:t=(e,t)=>{},raw:n=!1,icon:r="shortcode",label:i=(0,Re.__)("Insert dynamic field","newsletter-optin-box"),...a}){const[s,o]=(0,p.useState)(""),l=di(e),d=Object.keys(l).length,h=(0,p.useMemo)((()=>{if(!s)return l;const e=s.toLowerCase(),t={};return Object.entries(l).forEach((([n,r])=>{const i=r.filter((t=>t.label.toLowerCase().includes(e)||t.smart_tag.toLowerCase().includes(e)||n.toLowerCase().includes(e)||t.description?.toLowerCase().includes(e)));i.length>0&&(t[n]=i)})),t}),[l,s]),m=Object.keys(h).length>0;let f=null;return d>0&&(f=(0,pe.jsx)(u.DropdownMenu,{icon:r,label:i,...a,children:({onClose:e})=>(0,pe.jsxs)(u.__experimentalVStack,{children:[(0,pe.jsx)(u.SearchControl,{__nextHasNoMarginBottom:!0,value:s,onChange:o}),m&&(0,pe.jsxs)(pe.Fragment,{children:[(0,pe.jsxs)(u.Tip,{children:[(0,Re.__)("Click a field to insert it.","newsletter-optin-box")," ",(0,Re.__)("When your automation runs, each field will be replaced with actual data.","newsletter-optin-box")]}),Object.keys(h).map((r=>(0,pe.jsx)(u.MenuGroup,{label:d>1?r:void 0,children:h[r].map((r=>{const i=r.isPremium,a=i?`${r.label} - Premium`:r.label;return(0,pe.jsx)(u.MenuItem,{icon:i?Br:r.icon||Hr,iconPosition:"left",label:"Click to add dynamic value",showTooltip:!0,disabled:i,onClick:()=>{if(i)return;const a=(o=r).example?o.example:o.default?`${o.smart_tag} default="${o.default}"`:`${o.smart_tag}`,s=n?r.smart_tag:`[[${a}]]`;var o;t?.(s,`[[${a}]]`),e()},children:(0,pe.jsx)(c.RawHTML,{children:a})},r.smart_tag)}))},r)))]}),!m&&(0,pe.jsx)(u.MenuGroup,{children:(0,pe.jsx)(u.MenuItem,{disabled:!0,children:(0,Re.__)("No matching items found","newsletter-optin-box")})})]})})),f}function ji({availableSmartTags:e,value:t,onChange:n,button:r,fields:i,openModal:a,prepend:s,disable:o,disabled:l,onDisable:c,cardProps:d,repeaterKey:h,id:m,defaultItem:f,...x}){const[g,_]=(0,p.useState)(!1),v=Array.isArray(t)?t:[],b=m||(0,Ae.useInstanceId)(ji,"noptin-repeater"),{baseControlProps:y,controlProps:w}=(0,u.useBaseControlProps)({...x,id:b}),j=f||{};if(h?.newOnly&&(j.new=!0),!i)return console.warn("No fields provided to repeater control."),null;Object.keys(i).forEach((e=>{void 0!==i[e].default&&(j[e]=i[e].default)}));const S=!!a,C=(e,t)=>e.key?e.key:h?.to&&Ai(e,h.to)?Ai(e,h.to):t,k=(0,pe.jsxs)(u.__experimentalVStack,{children:[s,v.map(((t,r)=>(0,p.createElement)(u.Card,{size:"small",className:"noptin-no-shadow",id:`${b}__item-${C(t,r)}`,"data-index":r,borderBottom:!0,borderLeft:!0,borderRight:!0,borderTop:!0,...d||{},key:C(t,r)},(0,pe.jsx)(Si,{id:`${b}__item-${C(t,r)}`,fields:i,value:t,availableSmartTags:e,onChange:e=>{let t={...e};if(h?.to&&h.from&&Ai(t,h.from)&&(!h.newOnly||t.new)){const e=Ai(t,h.from).toString().trim().toLowerCase().replace(/[^a-z0-9]+/g,"_");t=Fi(t,h.to,e.substring(0,h.maxLength||64)),v.find(((e,n)=>r!==n&&Ai(e,h.to)===Ai(t,h.to)))&&(t=Fi(t,h.to,`${Ai(t,h.to)}_${r}`))}const i=[...v];i[r]=t,n(i)},onDelete:()=>{const e=[...v];e.splice(r,1),n(e)},onMoveUp:r>0?()=>{const e=[...v],t=e[r];e.splice(r,1),e.splice(r-1,0,t),n(e)}:null,onMoveDown:r<v.length-1?()=>{const e=[...v],t=e[r];e.splice(r,1),e.splice(r+1,0,t),n(e)}:null,repeaterKey:h})))),(0,pe.jsxs)(u.__experimentalHStack,{children:[(0,pe.jsx)(u.Button,{onClick:()=>{const e=[...v],t=Date.now().toString(36),r=Math.random().toString(36).substring(2,8);e.push({key:`${t}_${r}`,...j}),n(e)},variant:"primary",children:r||(0,Re.__)("Add Item","newsletter-optin-box")}),S&&(0,pe.jsx)(u.Button,{onClick:()=>_(!1),variant:"secondary",children:(0,Re.__)("Go Back","newsletter-optin-box")})]})]}),E=!o||!l;return(0,pe.jsx)(u.BaseControl,{...y,children:(0,pe.jsxs)("div",{...w,children:[S&&(0,pe.jsxs)(u.__experimentalVStack,{children:[o&&(0,pe.jsx)(u.ToggleControl,{label:o,checked:l,onChange:e=>{c&&c(e)},__nextHasNoMarginBottom:!0}),E&&(0,pe.jsxs)(pe.Fragment,{children:[(0,pe.jsx)(u.Button,{onClick:()=>_(!0),variant:"secondary",children:a||(0,Re.__)("Set Items","newsletter-optin-box")}),g&&(0,pe.jsx)(u.Modal,{title:x.label||a||(0,Re.__)("Set Items","newsletter-optin-box"),onRequestClose:()=>_(!1),size:"medium",children:k})]})]}),!S&&k]})})}function Si({fields:e,availableSmartTags:t,value:n,onChange:r,repeaterKey:i,onDelete:a,onMoveUp:s,onMoveDown:o,id:l}){const[c,d]=(0,p.useState)(!i?.from),h=(0,p.useCallback)((()=>{d(!c)}),[c]),m=!c&&i?.from;let f=null;if(i){const e=!1!==i.display&&i.to&&n?.[i.to]?(0,pe.jsx)("code",{children:(0,Re.sprintf)(i.display||"%s",n?.[i.to])}):null,t={paddingLeft:16,paddingRight:16,height:48},r=Ai(n,i.from)||Ai(n,i.fallback);f=(0,pe.jsx)(u.CardHeader,{style:{padding:0},children:(0,pe.jsxs)(u.Flex,{as:u.Button,onClick:h,style:t,"aria-controls":`${l}__body`,"aria-expanded":!m,type:"button",children:[(0,pe.jsx)(u.__experimentalHStack,{as:u.FlexBlock,children:(0,pe.jsx)(u.__experimentalText,{weight:600,children:r||(0,Re.__)("(new)","newsletter-optin-box")})}),(0,pe.jsx)(u.FlexItem,{children:(0,pe.jsxs)(u.__experimentalHStack,{children:[e,(0,pe.jsx)(u.Icon,{icon:c?"arrow-up-alt2":"arrow-down-alt2"})]})})]})})}return(0,pe.jsxs)(pe.Fragment,{children:[f,!m&&(0,pe.jsx)(u.CardBody,{id:`${l}__body`,hidden:m,children:(0,pe.jsxs)(u.__experimentalVStack,{children:[Object.keys(e).map((i=>(0,pe.jsx)(Ti,{settingKey:i,availableSmartTags:t,setting:e[i],saved:n,setAttributes:e=>{r({...n,...e})}},i))),(0,pe.jsxs)(u.__experimentalHStack,{className:"noptin-repeater-item__actions",justify:"flex-start",children:[!n?.predefined&&(0,pe.jsx)(u.Button,{variant:"link",onClick:a,text:(0,Re.__)("Remove Item","newsletter-optin-box"),isDestructive:!0}),s&&(0,pe.jsx)(u.Button,{onClick:s,icon:"arrow-up-alt",text:(0,Re.__)("Move Up","newsletter-optin-box"),size:"small",iconSize:16}),o&&(0,pe.jsx)(u.Button,{onClick:o,icon:"arrow-down-alt",text:(0,Re.__)("Move Down","newsletter-optin-box"),size:"small",iconSize:16})]})]})})]})}function Ci({setting:e,availableSmartTags:t,value:n,onChange:r,...i}){const{baseControlProps:a,controlProps:s}=(0,u.useBaseControlProps)(i);Array.isArray(n)||(n=[]);const o=(0,p.useCallback)((({item:e,index:i})=>(0,pe.jsxs)(u.Flex,{className:"noptin-repeater-item",wrap:!0,children:[yi.map(((a,s)=>(0,pe.jsx)(ki,{availableSmartTags:t,field:a,value:void 0===e[a.id]?"":e[a.id],onChange:e=>{const t=[...n];t[i][a.id]=e,r(t)}},s))),(0,pe.jsx)(u.FlexItem,{children:(0,pe.jsx)(u.Button,{icon:"trash",variant:"tertiary",className:"noptin-component__field",label:(0,Re.__)("Delete","noptin-addons-pack"),showTooltip:!0,onClick:()=>{const e=[...n];e.splice(i,1),r(e)},isDestructive:!0})})]})),[n,r]);return(0,pe.jsx)(u.BaseControl,{...a,children:(0,pe.jsxs)("div",{...s,children:[n.map(((e,t)=>(0,pe.jsx)(o,{item:e,index:t},t))),(0,pe.jsx)(u.Button,{onClick:()=>{const e=[...n];e.push({}),r(e)},variant:"secondary",children:e.add_field?e.add_field:(0,Re.__)("Add","newsletter-optin-box")})]})})}function ki({field:e,availableSmartTags:t,value:n,onChange:r}){const i=wi({availableSmartTags:t,onMergeTagClick:(0,p.useCallback)((e=>{r&&r(n?`${n} ${e}`.trim():e)}),[n,r])});return(0,pe.jsx)(u.FlexBlock,{children:(0,pe.jsx)(u.__experimentalInputControl,{label:e.label,type:e.type,value:n,placeholder:(0,Re.sprintf)((0,Re.__)("Enter %s","noptin-addons-pack"),e.label),className:"noptin-component__field noptin-condition-field",suffix:i,onChange:r,isPressEnterToChange:!0,__next40pxDefaultSize:!0})})}function Ei({setting:e,value:t,options:n,onChange:r,...i}){const{baseControlProps:a,controlProps:s}=(0,u.useBaseControlProps)(i);return Array.isArray(t)||(t=[]),(0,pe.jsx)(u.BaseControl,{...a,children:(0,pe.jsx)("div",{...s,children:n.map(((e,n)=>(0,pe.jsx)(u.CheckboxControl,{label:e.label,checked:t.includes(e.value),onChange:n=>{r(n?[...t,e.value]:t.filter((t=>t!==e.value)))}},n)))})})}function Ri({value:e,onChange:t,id:n,...r}){const{baseControlProps:i,controlProps:a}=(0,u.useBaseControlProps)({...r,id:n,__nextHasNoMarginBottom:!0}),{wp:s,tinymce:o}=window,l=(0,p.useRef)(!1),c=(0,p.useRef)(null);return(0,p.useEffect)((()=>{if(!l.current)return;const t=t=>{t?.target?.classList?.contains("wp-switch-editor")&&setTimeout((()=>{const t=o?.get(n);t&&(t.setContent(e||""),t._lastChange=e)}),50)};return c.current?.addEventListener("click",t),()=>{c.current?.removeEventListener("click",t)}}),[c.current,e]),(0,p.useEffect)((()=>{if(!l.current)return;const e=o?.get(n);e&&e._lastChange}),[e]),(0,p.useEffect)((()=>{function r(){s.oldEditor.initialize(n,{tinymce:!!window.tinymce&&{content_css:!1,theme_advanced_buttons:"bold,italic,underline,|,bullist,numlist,blockquote,|,link,unlink,|,spellchecker,fullscreen,|,formatselect,styleselect",drag_drop_upload:!0,toolbar1:"formatselect,bold,italic,bullist,numlist,blockquote,alignleft,aligncenter,alignright,link,spellchecker,wp_adv,dfw",toolbar2:"strikethrough,hr,forecolor,pastetext,removeformat,charmap,outdent,indent,undo,redo,wp_help",min_height:400,wpautop:!1,setup(n){e&&n.on("loadContent",(()=>n.setContent(e))),n.on("blur",(()=>(t(n.getContent()),!1)));const r=(0,Ae.debounce)((()=>{const e=n.getContent();e!==n._lastChange&&(n._lastChange=e,t(e))}),250);n.on("Paste Change input Undo Redo",r),n.on("remove",r.cancel),n.on("keydown",(e=>{Ur.isKeyboardEvent.primary(e,"z")&&e.stopPropagation(),Ur.isKeyboardEvent.primary(e,"s")&&r.flush();const{altKey:t}=e;t&&e.keyCode===Ur.F10&&e.stopPropagation()})),l.current=!0},...window?.tinyMCEPreInit?.mceInit[n]||{}},mediaButtons:!0,quicktags:{buttons:"strong,em,link,block,del,ins,img,ul,ol,li,code,close"}})}function i(){"complete"===document.readyState&&r()}return o?.execCommand("mceRemoveEditor",!0,n),"complete"===document.readyState?r():document.addEventListener("readystatechange",i),()=>{document.removeEventListener("readystatechange",i),s.oldEditor.remove(n)}}),[]),(0,pe.jsx)(u.BaseControl,{...i,children:(0,pe.jsx)("div",{ref:c,children:(0,pe.jsx)("textarea",{...a,className:"wp-editor-area",style:{width:"100%"},value:e,onChange:e=>t(e.target.value),rows:10})})})}const Ai=(e,t)=>{if(!t||0===t.length)return;if("string"==typeof t&&(t=t.split(".")),0===t.length||!e||"object"!=typeof e)return;const[n,...r]=t;return 0===r.length?e[n]:Ai(e[n],r)},Fi=(e,t,n)=>{if(!t||0===t.length)return e;"string"==typeof t&&(t=t.split("."));const[r,...i]=t;return 0===i.length?{...e,[r]:n}:{...e,[r]:Fi(e[r]||{},i,n)}};function Ti({settingKey:e,setting:t,availableSmartTags:n,prop:r,saved:i,setAttributes:a}){const s=(r?`${r}.${e}`:e).split("."),o=t.sanitize?t.sanitize:e=>e,l="trigger_settings"!==r&&!1!==t.can_map&&!1!==t.map_field&&Array.isArray(n)?n:[],d=(0,p.useCallback)((e=>{if(Ai(i,s)===e)return;const n={};t.resetOnChange&&t.resetOnChange.forEach((e=>{const[t,...r]=e.split(".");0===r.length?n[t]="":n[t]=Fi(i[t]||{},r,"")}));const[r,...l]=s;return 0===l.length?n[r]=e:n[r]=Fi(n[r]||i[r]||{},l,e),a(o(n))}),[i,s,a,o]);if(t.if||t.restrict){const e=t.restrict?t.restrict.split("."):t.if.split(".");if(!Ai(i,e))return null}if(Array.isArray(t.conditions)&&!t.conditions.every((e=>{const t=e.key.split("."),n=e.operator?e.operator:"==";return((e,t,n)=>!!ci[t]&&ci[t](e,"boolean"==typeof e&&void 0===n?Boolean(n):n))(e.value,n,Ai(i,t))})))return null;if(t.condition&&!t.condition(i))return null;if("remote"===t.el)return(0,pe.jsx)(hi,{settingKey:e,setting:t,availableSmartTags:n,saved:i,prop:r,setAttributes:a});let h=Ai(i,s);(void 0===h||t.disabled)&&(h=t.default);const m=void 0!==h&&""!==h&&null!==h;let f=[];t.options&&(f=Array.isArray(t.options)&&t.options.length>0&&"string"==typeof t.options[0]?t.options.reduce(((e,t)=>(e.push({label:t,value:t}),e)),[]):Array.isArray(t.options)?[...t.options]:Object.keys(t.options).map((e=>({label:t.options?.[e],value:e}))));const x=`noptin-component__field-${e}`,g="string"==typeof t.description?(0,pe.jsx)("span",{dangerouslySetInnerHTML:{__html:t.description}}):t.description,_=t.customAttributes?t.customAttributes:{},v={label:t.label,value:m?h:"",onChange:d,className:x,help:g,..._};if(t.tooltip&&(v.label=(0,pe.jsxs)(u.__experimentalHStack,{justify:"flex-start",children:[(0,pe.jsx)("span",{children:t.label}),(0,pe.jsx)(u.Tooltip,{delay:0,placement:"top",text:t.tooltip,children:(0,pe.jsx)("span",{children:(0,pe.jsx)(u.Icon,{icon:"info",style:{color:"#454545"}})})})]})),t.type&&!t.el&&(t.el=t.type,["toggle","switch","checkbox","checkbox_alt","checkbox_real","text","number","email","tel","date","color","image"].includes(t.type)&&(t.el="input")),"button"===t.el)return(0,pe.jsx)("div",{children:(0,pe.jsx)(u.Button,{...t.buttonProps||{}})});if("toggle_group"===t.el)return(0,pe.jsx)(xi,{...v,options:f});if("select"===t.el)return t.multiple?(0,pe.jsx)(bi,{...v,options:f}):(f.find((e=>""===e?.value))||f.unshift({label:t.placeholder?t.placeholder:(0,Re.__)("Select an option","newsletter-optin-box"),value:"",disabled:!t.canSelectPlaceholder}),(0,pe.jsx)(vi,{...v,availableSmartTags:l,options:f,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}));if("combobox"===t.el){const e=f.map((e=>({...e,value:String(e.value)}))),n=0===v.value?"0":v.value?String(v.value):"";return v.value=n,(0,pe.jsx)(_i,{...v,placeholder:t.placeholder?t.placeholder:l.length?(0,Re.__)("Select an option or map a dynamic value","newsletter-optin-box"):(0,Re.__)("Select an option","newsletter-optin-box"),options:e,allowReset:t.canSelectPlaceholder,availableSmartTags:l,expandOnFocus:!0,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})}if("form_token"===t.el||"token"===t.el)return(0,pe.jsx)(u.FormTokenField,{...v,value:Array.isArray(v.value)?v.value:[],suggestions:Array.isArray(t.suggestions)?t.suggestions:[],__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,__experimentalShowHowTo:!1,__experimentalExpandOnFocus:!0,tokenizeOnBlur:!0});if("multi_checkbox"===t.el||"multi_checkbox_alt"===t.el)return(0,pe.jsx)(Ei,{...v,options:f});if("conditional_logic"===t.el)return(0,pe.jsx)(li,{...v,availableSmartTags:n,comparisons:t.comparisons,toggleText:t.toggle_text,inModal:t.in_modal});if("time"===t.el)return(0,pe.jsx)(ti,{...v});if("color"===t.el||"input"===t.el&&"color"===t.type)return(0,pe.jsx)(mi,{...v,__nextHasNoMarginBottom:!0});if("unit"===t.el)return(0,pe.jsx)(u.__experimentalUnitControl,{labelPosition:"edge",__unstableInputWidth:"80px",__next40pxDefaultSize:!0,isPressEnterToChange:!0,...v});if("input"===t.el){if(t.type&&["toggle","switch","checkbox","checkbox_alt"].includes(t.type))return(0,pe.jsx)(u.ToggleControl,{...v,checked:!!m&&h,__nextHasNoMarginBottom:!0});if(t.type&&["checkbox_real"].includes(t.type))return(0,pe.jsx)(u.CheckboxControl,{...v,checked:!!m&&h,__nextHasNoMarginBottom:!0});if("number"===t.type){const e=e=>{if(e)return"string"==typeof e||e instanceof String?(0,pe.jsx)(u.__experimentalInputControlSuffixWrapper,{children:e}):e},n=e=>{if(e)return"string"==typeof e||e instanceof String?(0,pe.jsx)(u.__experimentalInputControlPrefixWrapper,{children:e}):e};return Array.isArray(v.suffix)?v.suffix=e(1===h||"1"===h?v.suffix[0]:v.suffix[1]):v.suffix=e(v.suffix),Array.isArray(v.prefix)?v.prefix=n(1===h||"1"===h?v.prefix[0]:v.prefix[1]):v.prefix=n(v.prefix),(0,pe.jsx)(u.__experimentalNumberControl,{...v,placeholder:t.placeholder?t.placeholder:"",__next40pxDefaultSize:!0})}return"image"===t.type&&(v.suffix=(0,pe.jsx)(u.Button,{onClick:()=>{var e=window.wp.media({title:(0,Re.__)("Upload Image","newsletter-optin-box"),multiple:!1,library:{type:"image"}}).open().on("select",(t=>{let n=e.state().get("selection").first();d(n.toJSON().sizes.full.url)}))},icon:"upload",label:(0,Re.__)("Upload Image","newsletter-optin-box"),showTooltip:!0})),(0,pe.jsx)(pi,{...v,setting:t,availableSmartTags:l,isPressEnterToChange:!t.isInputToChange})}return"textarea"===t.el?(0,pe.jsx)(fi,{...v,setting:t,placeholder:t.placeholder?t.placeholder:"",availableSmartTags:l}):"tinymce"===t.el?(0,pe.jsx)(Ri,{...v}):"paragraph"===t.el?(0,pe.jsx)("div",{className:x,children:t.raw?(0,pe.jsxs)("div",{className:"components-tip",children:[(0,pe.jsx)(u.Icon,{icon:Vr}),(0,pe.jsx)(c.RawHTML,{children:t.content})]}):(0,pe.jsx)(u.Tip,{children:t.content})}):"hero"===t.el?(0,pe.jsx)("div",{className:x,children:(0,pe.jsx)("h3",{children:t.content})}):"key_value_repeater"===t.el||"webhook_key_value_repeater"===t.el?(0,pe.jsx)(Ci,{...v,setting:t,availableSmartTags:l}):"repeater"===t.el?(0,pe.jsx)(ji,{...v,availableSmartTags:l}):(console.log(t),e)}const Ii=({fields:e,onApplyFilters:t,filters:n,setAttributes:r})=>(0,pe.jsx)("form",{onSubmit:t,children:e.map((e=>{const t={...Oi(e),default:"",placeholder:(0,Re.__)("Any","newsletter-optin-box"),canSelectPlaceholder:!0};let i=null;return e.is_boolean?(t.el="select",t.options={1:(0,Re.__)("Yes","newsletter-optin-box"),0:(0,Re.__)("No","newsletter-optin-box")}):e.is_numeric||e.is_float?(t.name=`${e.name}_min`,t.label=(0,Re.sprintf)(
// translators: %s: Field label.
// translators: %s: Field label.
(0,Re._x)("%s - Min","Number","newsletter-optin-box"),e.label),i={...t,name:`${e.name}_max`,label:(0,Re.sprintf)(
// translators: %s: Field label.
// translators: %s: Field label.
(0,Re._x)("%s - Max","Number","newsletter-optin-box"),e.label)}):e.is_date?(t.name=`${e.name}_after`,t.label=(0,Re.sprintf)(
// translators: %s: Date field label.
// translators: %s: Date field label.
(0,Re._x)("%s - After","Date","newsletter-optin-box"),e.label),i={...t,name:`${e.name}_before`,label:(0,Re.sprintf)(
// translators: %s: Date field label.
// translators: %s: Date field label.
(0,Re._x)("%s - Before","Date","newsletter-optin-box"),e.label)}):e.is_primary?(t.el="textarea",t.description=(0,Re.__)("Separate multiple values with a comma.","newsletter-optin-box")):i={...t,name:`${e.name}_not`,label:(0,Re.sprintf)(
// translators: %s: Field label.
// translators: %s: Field label.
(0,Re.__)("%s - Exclude","newsletter-optin-box"),e.label)},(0,pe.jsxs)(p.Fragment,{children:[(0,pe.jsx)("div",{style:{marginBottom:"1.6rem"},children:(0,pe.jsx)(Ti,{settingKey:t.name,saved:n,setAttributes:r,setting:t})}),i&&(0,pe.jsx)("div",{style:{marginBottom:"1.6rem"},children:(0,pe.jsx)(Ti,{settingKey:i.name,saved:n,setAttributes:r,setting:i})})]},e.name)}))}),$i=({currentFilters:e,fields:t,setOpen:n,setQuery:r})=>{const[i,a]=(0,p.useState)({...e}),s=e=>{e?.preventDefault(),r(i),n(!1)};return(0,pe.jsxs)(pe.Fragment,{children:[(0,pe.jsx)(Ii,{fields:t,filters:i,onApplyFilters:s,setAttributes:e=>{a({...i,...e})}}),(0,pe.jsx)(rr,{variant:"primary",onClick:s,text:(0,Re.__)("Apply Filters","newsletter-optin-box")})]})},Mi=({namespace:e,collection:t,isBulkEditing:n=!1})=>{const{data:r}=xt(e,t);return(0,p.useMemo)((()=>r.schema?r.schema.filter((e=>!(e.readonly&&n||e.is_dynamic||Array.isArray(r.ignore)&&r.ignore.includes(e.name)||Array.isArray(r.hidden)&&r.hidden.includes(e.name)||!e.is_tokens&&(n||!(e.is_numeric||e.is_float||e.is_date||e.is_primary))&&(!e.enum||Array.isArray(e.enum))))):[]),[r,n])},Oi=e=>{const t={default:e.default,label:e.label,el:"input",type:"text",name:e.name,isInputToChange:!0};return e.js_props?.setting&&(t.customAttributes=e.js_props.setting),e.js_props?.conditions&&(t.conditions=e.js_props?.conditions),e.is_tokens?(t.el="form_token",t.suggestions=e.suggestions):e.enum&&!Array.isArray(e.enum)?(t.el="select",t.options=e.enum,e.multiple&&(t.el="multi_checkbox")):e.is_textarea&&(t.el="textarea"),(e.is_numeric||e.is_float)&&(t.type="number"),e.is_date&&(t.type="datetime-local",t.placeholder="YYYY-MM-DDTHH:MM:SS+ZZ:ZZ"),e.is_boolean&&(t.type="toggle"),e.description&&e.description!==e.label&&(t.description=e.description),t};function Pi({setQuery:e,...t}){const[n,r]=(0,p.useState)(!1),[i,a]=(({query:e,namespace:t,collection:n,isBulkEditing:r=!1})=>{const i=Mi({namespace:t,collection:n,isBulkEditing:r});return[i,(0,p.useMemo)((()=>{const t={};return i.forEach((n=>{["","_not","_min","_max","_before","_after"].forEach((r=>{const i=n.name+r;e[i]&&(t[i]=e[i])}))})),t}),[e,i])]})(t),s=Object.keys(a).length,o=s>0?(0,Re.sprintf)(
// translators: %d: number of filters applied.
// translators: %d: number of filters applied.
(0,Re.__)("Applied Filters (%d)","newsletter-optin-box"),s):(0,Re.__)("Filter Records","newsletter-optin-box");return(0,pe.jsx)(pe.Fragment,{children:i.length>0&&(0,pe.jsxs)(pe.Fragment,{children:[(0,pe.jsx)(u.Button,{onClick:()=>r(!0),variant:s>0?"tertiary":void 0,icon:"filter",text:o}),n&&(0,pe.jsx)(u.Modal,{title:(0,Re.__)("Filter records","newsletter-optin-box"),onRequestClose:()=>r(!1),children:(0,pe.jsx)($i,{fields:i,currentFilters:a,setOpen:r,setQuery:e})})]})})}const Ni=({record:e,onChange:t,schema:n,hidden:r,ignore:i,onSubmit:a,loading:s,children:o,isInner:l,slotName:c,submitText:d})=>{const h=(0,p.useMemo)((()=>((e,t,n)=>e.map((e=>e.readonly||e.is_dynamic||"metadata"===e.name||Array.isArray(t)&&t.includes(e.name)||Array.isArray(n)&&n.includes(e.name)?null:Oi(e))).filter((e=>!!e)))(n,r,i)),[n,r,i]);return(0,pe.jsxs)("form",{style:{opacity:s?.5:1},onSubmit:a,children:[o,h.map((n=>(0,pe.jsx)("div",{style:{marginBottom:"1.6rem"},children:(0,pe.jsx)(Ti,{settingKey:n.name,saved:e,setAttributes:t,setting:n})},n.name))),(0,pe.jsx)(u.Slot,{name:l?`${c}--inner`:c,children:e=>Array.isArray(e)?e.map(((e,t)=>(0,pe.jsx)(u.Tip,{children:e},t))):e}),(0,pe.jsxs)(rr,{variant:"primary",onClick:a,isBusy:s,children:[d,s&&(0,pe.jsx)(u.Spinner,{})]}),(0,pe.jsx)(u.Slot,{name:"noptin-interface-notices"})]})},Di=vr((function({namespace:e,collection:t,basePath:n="",isInner:r=!1,defaultProps:i={},schema:{schema:a,hidden:s,ignore:o}}){const l=(0,Fe.useDispatch)(`${e}/${t}`),[c,d]=(0,p.useState)(!1),[u,h]=(0,p.useState)({}),m=xr(),f=[...o,...Object.keys(i)],{createErrorNotice:x,createSuccessNotice:g,removeAllNotices:_}=(0,Fe.useDispatch)(Cr.store);return(0,pe.jsx)(pe.Fragment,{children:(0,pe.jsx)(Ni,{record:u,onChange:e=>h({...u,...e}),onSubmit:e=>{e?.preventDefault(),c||(_(),d(!0),l.createRecord({...u,...i},l).then((e=>{g((0,Re.__)("Record saved successfully.","newsletter-optin-box"),{isDismissible:!0,type:"default"}),m(`${n}/${e.record.id}`)})).catch((e=>{x(e.message,{isDismissible:!0,type:"default"})})).finally((()=>{d(!1)})))},submitText:c?(0,Re.__)("Saving...","newsletter-optin-box"):(0,Re.__)("Save","newsletter-optin-box"),schema:a,hidden:s,ignore:f,loading:c,isInner:r,slotName:`${e}_${t}_record_create_below`})})}));function Li(){const{namespace:e,collection:t}=K(),n=xt(e,t);return(0,pe.jsx)(Sr,{title:n.data?.labels?.add_new_item||(0,Re.__)("Add New Item","newsletter-optin-box"),children:(0,pe.jsx)(u.CardBody,{children:(0,pe.jsxs)(u.Flex,{align:"flex-start",wrap:!0,children:[(0,pe.jsx)(Bi,{children:(0,pe.jsx)(Di,{namespace:e,collection:t})}),(0,pe.jsx)(u.Slot,{name:`${e}_${t}_record_create_upsell`,children:e=>e.length>0&&(0,pe.jsx)(Bi,{children:e})})]})})})}function zi(){const{namespace:e,collection:t,innerNamespace:n,innerCollection:r,id:i,tab:a}=K(),{data:s}=xt(e,t);if(!a||!s)return!1;const o=s.tabs[a];return(0,pe.jsx)(Di,{namespace:n,collection:r,basePath:`${i}/${a}/${n}/${r}`,defaultProps:{[o.filter_by]:i},isInner:!0,children:(0,pe.jsx)(u.Slot,{name:`${n}_${r}_record_create_upsell--inner`})})}const Bi=Yn(u.FlexItem)`
	width: 400px;
	max-width: 100%;
`,Hi=({children:e,title:t,isInner:n})=>n?e:(0,pe.jsx)(Sr,{title:t,children:(0,pe.jsx)(u.CardBody,{children:e})}),Vi=vr((({namespace:e,collection:t,id:n,schema:r,isInner:i,basePath:a})=>{const[s,o]=(0,c.useState)(!1),[l,d]=(0,c.useState)({}),p=mt(e,t,n),{createErrorNotice:h,createSuccessNotice:m,removeAllNotices:f}=(0,Fe.useDispatch)(Cr.store);return(0,pe.jsx)(Hi,{title:r.labels?.edit_item||(0,Re.__)("Edit Item","newsletter-optin-box"),isInner:i,children:(0,pe.jsxs)(u.Flex,{align:"flex-start",wrap:!0,children:[(0,pe.jsx)(Bi,{children:(0,pe.jsx)(Ni,{record:{...p.data,...l},onSubmit:e=>{e?.preventDefault(),s||(f(),o(!0),p.save(l).then((()=>{m((0,Re.__)("Record saved successfully.","newsletter-optin-box"),{isDismissible:!0,type:"default"}),d({})})).catch((e=>{h(e.message,{isDismissible:!0,type:"default"})})).finally((()=>{o(!1)})))},submitText:s?(0,Re.__)("Saving...","newsletter-optin-box"):(0,Re.__)("Save Changes","newsletter-optin-box"),onChange:e=>{d({...l,...e}),f()},namespace:e,collection:t,loading:s,isInner:i,slotName:`${e}_${t}_record_overview_below`,...r})}),(0,pe.jsxs)(Bi,{children:[(0,pe.jsx)(u.Slot,{name:(x=`${e}_${t}_record_overview_upsell`,i?`${x}--inner`:x)}),(0,pe.jsx)(Dr,{namespace:e,collection:t,id:n,basePath:a})]})]})});var x})),Ui=()=>{const{namespace:e,collection:t,id:n}=K();return(0,pe.jsx)(Vi,{namespace:e,collection:t,basePath:"",id:n})},qi=()=>{const{innerNamespace:e,innerCollection:t,innerId:n,id:r,tab:i}=K(),a=`${r}/${i}`;return(0,pe.jsx)(Vi,{namespace:e,collection:t,id:n,basePath:a,isInner:!0})};function Wi(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Wi(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const Gi=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Wi(e))&&(r&&(r+=" "),r+=t);return r},Ki=(0,pe.jsx)(Lr.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,pe.jsx)(Lr.Path,{d:"M15.1 4.8l-3-2.5V4c-4.4 0-8 3.6-8 8 0 3.7 2.5 6.9 6 7.7.3.1.6.1 1 .2l.2-1.5c-.4 0-.7-.1-1.1-.2l-.1.2v-.2c-2.6-.8-4.5-3.3-4.5-6.2 0-3.6 2.9-6.5 6.5-6.5v1.8l3-2.5zM20 11c-.2-1.4-.7-2.7-1.6-3.8l-1.2.8c.7.9 1.1 2 1.3 3.1L20 11zm-1.5 1.8c-.1.5-.2 1.1-.4 1.6s-.5 1-.8 1.5l1.2.9c.4-.5.8-1.1 1-1.8s.5-1.3.5-2l-1.5-.2zm-5.6 5.6l.2 1.5c1.4-.2 2.7-.7 3.8-1.6l-.9-1.1c-.9.7-2 1.1-3.1 1.2z"})}),Qi=(0,pe.jsx)(Lr.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,pe.jsx)(Lr.Path,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"})}),Yi=(0,pe.jsx)(Lr.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,pe.jsx)(Lr.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"})}),Xi=(0,c.memo)((function({view:e,onChangeView:t,paginationInfo:{totalItems:n=0,totalPages:r}}){if(!n||!r)return null;const i=parseInt(e.page,10);return!!n&&1!==r&&(0,pe.jsxs)(u.__experimentalHStack,{expanded:!1,spacing:6,justify:"end",className:"dataviews-pagination",children:[(0,pe.jsx)(u.__experimentalHStack,{justify:"flex-start",expanded:!1,spacing:2,className:"dataviews-pagination__page-selection",children:(0,c.createInterpolateElement)((0,Re.sprintf)(
// translators: %s: Total number of pages.
// translators: %s: Total number of pages.
(0,Re._x)("Page <CurrentPageControl /> of %s","paging"),r),{CurrentPageControl:(0,pe.jsx)(u.SelectControl,{"aria-label":(0,Re.__)("Current page"),value:i,options:Array.from(Array(r)).map(((e,t)=>{const n=t+1;return{value:n,label:n}})),onChange:n=>{t({...e,page:+n})},size:"compact",__nextHasNoMarginBottom:!0})})}),(0,pe.jsxs)(u.__experimentalHStack,{expanded:!1,spacing:1,children:[(0,pe.jsx)(u.Button,{onClick:()=>t({...e,page:i-1}),disabled:1===i,__experimentalIsFocusable:!0,label:(0,Re.__)("Previous page"),icon:Qi,showTooltip:!0,size:"compact",tooltipPosition:"top"}),(0,pe.jsx)(u.Button,{onClick:()=>t({...e,page:i+1}),disabled:i>=r,__experimentalIsFocusable:!0,label:(0,Re.__)("Next page"),icon:Yi,showTooltip:!0,size:"compact",tooltipPosition:"top"})]})]})})),Zi=(0,pe.jsx)(Lr.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,pe.jsx)(Lr.Path,{d:"M10.8622 8.04053L14.2805 12.0286L10.8622 16.0167L9.72327 15.0405L12.3049 12.0286L9.72327 9.01672L10.8622 8.04053Z"})}),Ji=(0,pe.jsx)(Lr.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,pe.jsx)(Lr.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})}),ea=(0,pe.jsx)(Lr.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,pe.jsx)(Lr.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"})}),ta=(0,pe.jsx)(Lr.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,pe.jsx)(Lr.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v3.5h-15V5c0-.3.2-.5.5-.5zm8 5.5h6.5v3.5H13V10zm-1.5 3.5h-7V10h7v3.5zm-7 5.5v-4h7v4.5H5c-.3 0-.5-.2-.5-.5zm14.5.5h-6V15h6.5v4c0 .3-.2.5-.5.5z"})}),na=(0,pe.jsx)(Lr.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,pe.jsx)(Lr.Path,{d:"M6 5.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM4 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm11-.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM13 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2h-3a2 2 0 01-2-2V6zm5 8.5h-3a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5zM15 13a2 2 0 00-2 2v3a2 2 0 002 2h3a2 2 0 002-2v-3a2 2 0 00-2-2h-3zm-9 1.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zM4 15a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2v-3z",fillRule:"evenodd",clipRule:"evenodd"})}),ra=(0,pe.jsx)(Lr.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,pe.jsx)(Lr.Path,{d:"M4 8.8h8.9V7.2H4v1.6zm0 7h8.9v-1.5H4v1.5zM18 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"})}),ia=(0,pe.jsx)(Lr.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,pe.jsx)(Lr.Path,{d:"M11.1 15.8H20v-1.5h-8.9v1.5zm0-8.6v1.5H20V7.2h-8.9zM6 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-7c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})}),aa=(0,pe.jsx)(Lr.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,pe.jsx)(Lr.Path,{d:"M20.7 12.7s0-.1-.1-.2c0-.2-.2-.4-.4-.6-.3-.5-.9-1.2-1.6-1.8-.7-.6-1.5-1.3-2.6-1.8l-.6 1.4c.9.4 1.6 1 2.1 1.5.6.6 1.1 1.2 1.4 1.6.1.2.3.4.3.5v.1l.7-.3.7-.3Zm-5.2-9.3-1.8 4c-.5-.1-1.1-.2-1.7-.2-3 0-5.2 1.4-6.6 2.7-.7.7-1.2 1.3-1.6 1.8-.2.3-.3.5-.4.6 0 0 0 .1-.1.2s0 0 .7.3l.7.3V13c0-.1.2-.3.3-.5.3-.4.7-1 1.4-1.6 1.2-1.2 3-2.3 5.5-2.3H13v.3c-.4 0-.8-.1-1.1-.1-1.9 0-3.5 1.6-3.5 3.5s.6 2.3 1.6 2.9l-2 4.4.9.4 7.6-16.2-.9-.4Zm-3 12.6c1.7-.2 3-1.7 3-3.5s-.2-1.4-.6-1.9L12.4 16Z"})});function sa({selection:e,onSelectionChange:t,item:n,data:r,getItemId:i,primaryField:a,disabled:s}){const o=i(n),l=e.includes(o);let c;return c=a?.getValue&&n?(0,Re.sprintf)(/* translators: %s: item title. */
l?(0,Re.__)("Deselect item: %s"):(0,Re.__)("Select item: %s"),a.getValue({item:n})):l?(0,Re.__)("Select a new item"):(0,Re.__)("Deselect item"),(0,pe.jsx)(u.CheckboxControl,{className:"dataviews-view-table-selection-checkbox",__nextHasNoMarginBottom:!0,"aria-label":c,"aria-disabled":s,checked:l,onChange:()=>{s||t(l?r.filter((t=>{const n=i?.(t);return n!==o&&e.includes(n)})):r.filter((t=>{const n=i?.(t);return n===o||e.includes(n)})))}})}function oa({item:e,actions:t,isCompact:n=!1}){const{primaryActions:r,eligibleActions:i}=(0,p.useMemo)((()=>{const n=t.filter((t=>!t.isEligible||t.isEligible(e)));return{primaryActions:n.filter((e=>e.isPrimary&&!!e.icon)),eligibleActions:n}}),[t,e]);return n?(0,pe.jsx)(la,{item:e,actions:i}):(0,pe.jsxs)(u.__experimentalHStack,{spacing:1,justify:"flex-end",className:"dataviews-item-actions",style:{flexShrink:"0",width:"auto"},children:[r.map((t=>(0,pe.jsx)(ca,{as:u.Button,item:e,action:t,onClose:()=>{}},t.id))),(0,pe.jsx)(la,{item:e,actions:i})]})}function la({item:e,actions:t}){return(0,pe.jsx)(u.DropdownMenu,{label:(0,Re.__)("Actions"),icon:ea,toggleProps:{className:"dataviews-all-actions-button",size:"compact",disabled:!t.length},popoverProps:{placement:"bottom-end"},children:({onClose:n})=>(0,pe.jsx)(pe.Fragment,{children:t.map((t=>(0,pe.jsx)(ca,{item:e,action:t,onClose:n},t.id)))})})}function ca({item:e,action:t,onClose:n,as:r}){const[i,a]=(0,p.useState)(!1),s=r||u.MenuItem,{callback:o,id:l,RenderModal:c,modalHeader:d,hideModalHeader:h,isPrimary:m,isEligible:f,...x}=t,g=({onClick:n})=>r?(0,pe.jsx)(s,{...x,onClick:n,id:`dataviews-action-${l}-${e.id}`}):(0,pe.jsx)(s,{...x,onClick:n,id:`dataviews-action-${l}-${e.id}`,children:t.label});return c?(0,pe.jsxs)(pe.Fragment,{children:[(0,pe.jsx)(g,{onClick:()=>{a(!0)}}),i&&(0,pe.jsx)(u.Modal,{title:d||t.label,__experimentalHideHeader:!!h,onRequestClose:()=>{a(!1)},overlayClassName:`dataviews-action-modal dataviews-action-modal__${l}`,children:(0,pe.jsx)(c,{items:[e],closeModal:()=>a(!1)})})]}):(0,pe.jsx)(g,{onClick:()=>{n(),t.callback([e])}})}const da=({isLoading:e,hasData:t,emptyMessage:n,...r})=>(0,pe.jsx)("div",{className:Gi({"dataviews-loading":e,"dataviews-no-results":!t&&!e}),...r,children:!t&&(0,pe.jsx)("p",{children:e?(0,pe.jsx)(u.Spinner,{}):(0,pe.jsxs)(u.__experimentalText,{variant:"muted",size:17,weight:700,children:[" ",n||(0,Re.__)("No results")," "]})})}),ua={asc:"↑",desc:"↓"},pa=(0,p.memo)((0,p.forwardRef)((function({children:e,...t},n){return(0,pe.jsx)(u.Button,{...t,size:"compact",ref:n,variant:"tertiary",icon:void 0,children:e})}))),ha=(0,p.forwardRef)((function({field:e,view:t,onChangeView:n,onHide:r},i){const a=!1!==e.enableHiding,s=!1!==e.enableSorting,o=t.sort?.field===e.id;return s||a?(0,pe.jsx)(u.DropdownMenu,{label:e.header,toggleProps:{as:pa,className:"dataviews-view-table-header-button",children:(0,pe.jsxs)(pe.Fragment,{children:[e.header,o&&(0,pe.jsx)("span",{"aria-hidden":"true",children:o&&ua[t.sort.direction]})]}),ref:i},children:({onClose:i})=>(0,pe.jsxs)(pe.Fragment,{children:[s&&(0,pe.jsx)(u.MenuGroup,{children:Object.entries(_a).map((([r,a])=>{const s=o&&t.sort.direction===r,l=`${e.id}-${r}`;return(0,pe.jsx)(u.MenuItem,{icon:s?"yes":void 0,isSelected:s,label:a.label,role:"menuitemradio",onClick:()=>{i(),n({...t,sort:{field:e.id,direction:r}})},children:a.label},l)}))}),a&&(0,pe.jsx)(u.MenuGroup,{children:(0,pe.jsx)(u.MenuItem,{icon:aa,label:(0,Re.__)("Hide"),onClick:()=>{r(e),n({...t,hiddenFields:t.hiddenFields.concat(e.id)})},children:(0,Re.__)("Hide")})})]})}):e.header}));function ma({selection:e,onSelectionChange:t,data:n,actions:r}){const i=e.length===n.length;return(0,pe.jsx)(u.CheckboxControl,{className:"dataviews-view-table-selection-checkbox",__nextHasNoMarginBottom:!0,checked:i,indeterminate:!i&&e.length,onChange:()=>{t(i?[]:n)},"aria-label":i?(0,Re.__)("Deselect all"):(0,Re.__)("Select all")})}function fa({canSelect:e,item:t,actions:n,id:r,visibleFields:i,primaryField:a,selection:s,getItemId:o,onSelectionChange:l,data:c}){const d=s.includes(r),[u,h]=(0,p.useState)(!1),m=(0,p.useRef)(!1);return(0,pe.jsxs)("tr",{className:Gi("dataviews-view-table__row",{"is-selected":e&&d,"is-hovered":u,"has-bulk-actions":e}),onMouseEnter:()=>{h(!0)},onMouseLeave:()=>{h(!1)},onTouchStart:()=>{m.current=!0},onClick:()=>{m.current||"Range"===document.getSelection().type||l(d?c.filter((e=>{const t=o?.(e);return t!==r&&s.includes(t)})):c.filter((e=>{const t=o?.(e);return t===r||s.includes(t)})))},children:[e&&(0,pe.jsx)("td",{className:"dataviews-view-table__checkbox-column",style:{width:"1%"},children:(0,pe.jsx)("div",{className:"dataviews-view-table__cell-content-wrapper",children:(0,pe.jsx)(sa,{id:r,item:t,selection:s,onSelectionChange:l,getItemId:o,data:c,primaryField:a})})}),i.map((e=>(0,pe.jsx)("td",{style:{width:e.width||void 0,minWidth:e.minWidth||void 0,maxWidth:e.maxWidth||void 0},children:(0,pe.jsx)("div",{className:Gi("dataviews-view-table__cell-content-wrapper",{"dataviews-view-table__primary-field":a?.id===e.id}),children:e.render({item:t})})},e.id))),!!n?.length&&(0,pe.jsx)("td",{className:"dataviews-view-table__actions-column",onClick:e=>e.stopPropagation(),children:(0,pe.jsx)(oa,{item:t,actions:n})})]})}function xa({selection:e,data:t,onSelectionChange:n,getItemId:r,item:i,actions:a,mediaField:s,primaryField:o,visibleFields:l,badgeFields:c,columnFields:d,canSelect:p}){const h=r(i),m=e.includes(h);return(0,pe.jsxs)(u.__experimentalVStack,{spacing:0,className:Gi("dataviews-view-grid__card",{"is-selected":p&&m}),onClickCapture:i=>{if(i.ctrlKey||i.metaKey){if(i.stopPropagation(),i.preventDefault(),!p)return;n(m?t.filter((t=>{const n=r?.(t);return n!==h&&e.includes(n)})):t.filter((t=>{const n=r?.(t);return n===h||e.includes(n)})))}},children:[(0,pe.jsx)("div",{className:"dataviews-view-grid__media",children:s?.render({item:i})}),(0,pe.jsxs)(u.__experimentalHStack,{justify:"space-between",className:"dataviews-view-grid__title-actions",children:[p&&(0,pe.jsx)(sa,{id:h,item:i,selection:e,onSelectionChange:n,getItemId:r,data:t,primaryField:o}),(0,pe.jsx)(u.__experimentalHStack,{className:"dataviews-view-grid__primary-field",children:o?.render({item:i})}),(0,pe.jsx)(oa,{item:i,actions:a,isCompact:!0})]}),!!c?.length&&(0,pe.jsx)(u.__experimentalHStack,{className:"dataviews-view-grid__badge-fields",spacing:2,wrap:!0,align:"top",justify:"flex-start",children:c.map((e=>{const t=e.render({item:i,isBadge:!0});return t?(0,pe.jsx)(u.FlexItem,{className:"dataviews-view-grid__field-value",children:t},e.id):null}))}),!!l?.length&&(0,pe.jsx)(u.__experimentalVStack,{className:"dataviews-view-grid__fields",spacing:3,children:l.map((e=>{const t=e.render({item:i});return t?(0,pe.jsx)(u.Flex,{className:Gi("dataviews-view-grid__field",d?.includes(e.id)?"is-column":"is-row"),gap:1,justify:"flex-start",expanded:!0,style:{height:"auto"},direction:d?.includes(e.id)?"column":"row",children:(0,pe.jsxs)(pe.Fragment,{children:[(0,pe.jsx)(u.FlexItem,{className:"dataviews-view-grid__field-name",children:e.header}),(0,pe.jsx)(u.FlexItem,{className:"dataviews-view-grid__field-value",style:{maxHeight:"none"},children:t})]})},e.id):null}))})]},h)}function ga({id:e,item:t,mediaField:n,primaryField:r,visibleFields:i,selection:a,onSelectionChange:s,getItemId:o,data:l,actions:c}){const d=`${e}-label`,p=`${e}-description`;return(0,pe.jsx)("div",{className:"dataviews-view-list__item-wrapper",role:"row",children:(0,pe.jsx)("div",{role:"gridcell",children:(0,pe.jsx)("div",{id:e,"aria-labelledby":d,"aria-describedby":p,className:"dataviews-view-list__item",children:(0,pe.jsxs)(u.__experimentalHStack,{spacing:3,justify:"start",children:[(0,pe.jsx)(sa,{item:t,selection:a,onSelectionChange:s,getItemId:o,data:l,primaryField:r,disabled:!1}),(0,pe.jsxs)(u.__experimentalVStack,{as:u.FlexBlock,spacing:1,children:[(0,pe.jsxs)(u.__experimentalHStack,{justify:"flex-start",wrap:!0,children:[(0,pe.jsx)("div",{className:"dataviews-view-list__media-wrapper",children:n?.render({item:t})||(0,pe.jsx)("div",{className:"dataviews-view-list__media-placeholder"})}),(0,pe.jsx)("span",{className:"dataviews-view-list__primary-field",style:{width:"auto"},id:d,children:r?.render({item:t})})]}),(0,pe.jsx)(u.__experimentalHStack,{className:"dataviews-view-list__fields",id:p,justify:"flex-start",wrap:!0,children:i.map((e=>(0,pe.jsxs)("div",{className:"dataviews-view-list__field",children:[(0,pe.jsx)(u.VisuallyHidden,{as:"span",className:"dataviews-view-list__field-label",children:e.header}),(0,pe.jsx)("span",{className:"dataviews-view-list__field-value",children:e.render({item:t,isBadge:!0})})]},e.id)))})]}),(0,pe.jsx)(oa,{item:t,actions:c})]})})})})}const _a=((0,Re.__)("Is"),(0,Re.__)("Is not"),(0,Re.__)("Is any"),(0,Re.__)("Is none"),(0,Re.__)("Is all"),(0,Re.__)("Is not all"),{asc:{label:(0,Re.__)("Sort ascending")},desc:{label:(0,Re.__)("Sort descending")}}),va=[{type:"table",label:(0,Re.__)("Table"),component:function({view:e,onChangeView:t,fields:n,actions:r,data:i,getItemId:a,isLoading:s=!1,selection:o,onSelectionChange:l,emptyMessage:c,canSelect:d}){const u=(0,p.useRef)(new Map),h=(0,p.useRef)(),[m,f]=(0,p.useState)();(0,p.useEffect)((()=>{h.current&&(h.current.focus(),h.current=void 0)}));const x=(0,p.useId)();if(m)return h.current=m,void f();const g=e=>{const t=u.current.get(e.id),n=u.current.get(t.fallback);f(n?.node)},_=n.filter((t=>!e.hiddenFields.includes(t.id)&&![e.layout.mediaField].includes(t.id))),v=!!i?.length,b={asc:"ascending",desc:"descending"},y=n.find((t=>t.id===e.layout.primaryField));return(0,pe.jsxs)(pe.Fragment,{children:[(0,pe.jsxs)("table",{className:"dataviews-view-table","aria-busy":s,"aria-describedby":x,children:[(0,pe.jsx)("thead",{children:(0,pe.jsxs)("tr",{className:"dataviews-view-table__row",children:[d&&v&&!s&&(0,pe.jsx)("th",{className:"dataviews-view-table__checkbox-column",style:{width:"1%"},"data-field-id":"selection",scope:"col",children:(0,pe.jsx)(ma,{selection:o,onSelectionChange:l,data:i,actions:r})}),_.map(((n,r)=>(0,pe.jsx)("th",{style:{width:n.width||void 0,minWidth:n.minWidth||void 0,maxWidth:n.maxWidth||void 0},"data-field-id":n.id,"aria-sort":e.sort?.field===n.id&&b[e.sort.direction],scope:"col",children:(0,pe.jsx)(ha,{ref:e=>{e?u.current.set(n.id,{node:e,fallback:_[r>0?r-1:1]?.id}):u.current.delete(n.id)},field:n,view:e,onChangeView:t,onHide:g})},n.id))),!!r?.length&&(0,pe.jsx)("th",{"data-field-id":"actions",className:"dataviews-view-table__actions-column",children:(0,pe.jsx)("span",{className:"dataviews-view-table-header",children:(0,Re.__)("Actions")})})]})}),(0,pe.jsx)("tbody",{children:v&&i.map(((e,t)=>(0,pe.jsx)(fa,{item:e,canSelect:d,actions:r,id:a(e)||t,visibleFields:_,primaryField:y,selection:o,getItemId:a,onSelectionChange:l,data:i},a(e))))})]}),(0,pe.jsx)(da,{isLoading:s,hasData:v,emptyMessage:c,id:x})]})},icon:ta},{type:"grid",label:(0,Re.__)("Grid"),component:function({data:e,fields:t,view:n,actions:r,isLoading:i,getItemId:a,selection:s,onSelectionChange:o,emptyMessage:l,canSelect:c}){const d=t.find((e=>e.id===n.layout.mediaField)),p=t.find((e=>e.id===n.layout.primaryField)),{visibleFields:h,badgeFields:m}=t.reduce(((e,t)=>(n.hiddenFields.includes(t.id)||[n.layout.mediaField,n.layout.primaryField].includes(t.id)||e[n.layout.badgeFields?.includes(t.id)?"badgeFields":"visibleFields"].push(t),e)),{visibleFields:[],badgeFields:[]}),f=!!e?.length;return(0,pe.jsxs)(pe.Fragment,{children:[f&&(0,pe.jsx)(u.__experimentalGrid,{gap:6,columns:2,alignment:"top",className:"dataviews-view-grid","aria-busy":i,children:e.map((t=>(0,pe.jsx)(xa,{selection:s,data:e,onSelectionChange:o,getItemId:a,item:t,actions:r,mediaField:d,primaryField:p,visibleFields:h,badgeFields:m,columnFields:n.layout.columnFields,canSelect:c},a(t))))}),!f&&(0,pe.jsx)(da,{isLoading:i,hasData:f,emptyMessage:l})]})},icon:na},{type:"list",label:(0,Re.__)("List"),component:function e({view:t,fields:n,data:r,isLoading:i,getItemId:a,id:s,emptyMessage:o,...l}){const c=(0,Ae.useInstanceId)(e,"view-list",s),d=n.find((e=>e.id===t.layout.mediaField)),h=n.find((e=>e.id===t.layout.primaryField)),m=n.filter((e=>!t.hiddenFields.includes(e.id)&&![t.layout.primaryField,t.layout.mediaField].includes(e.id))),f=(0,p.useCallback)((e=>e?`${c}-${a(e)}`:void 0),[c,a]),x=r?.length;return x?(0,pe.jsx)(u.__experimentalItemGroup,{id:c,className:"dataviews-view-list",role:"grid",size:"large",isSeparated:!0,children:r.map((e=>{const t=f(e);return(0,pe.jsx)(u.__experimentalItem,{size:"large",role:"row",children:(0,pe.jsx)(ga,{id:t,item:e,mediaField:d,primaryField:h,visibleFields:m,getItemId:a,data:r,...l})},t)}))}):(0,pe.jsx)(da,{isLoading:i,hasData:x,emptyMessage:o})},icon:(0,Re.isRTL)()?ra:ia}];function ba({view:e,onChangeView:t,supportedLayouts:n}){let r=va;if(n&&(r=r.filter((e=>n.includes(e.type)))),1===r.length)return null;const i=r.find((t=>e.type===t.type));return(0,pe.jsx)(u.DropdownMenu,{label:(0,Re.__)("Layout"),icon:Zi,popoverProps:{placement:"left"},toggleProps:{as:u.MenuItem,children:(0,pe.jsxs)(u.__experimentalHStack,{children:[(0,pe.jsx)("span",{children:(0,Re.__)("Layout")}),i?.label&&(0,pe.jsx)(u.__experimentalText,{variant:"muted","aria-hidden":"true",children:i?.label})]})},disableOpenOnArrowDown:!0,children:({onClose:n})=>(0,pe.jsx)("div",{onMouseLeave:n,children:(0,pe.jsx)(u.MenuItemsChoice,{choices:r.map((e=>({label:e.label,value:e.type}))),onSelect:r=>{t({...e,type:r}),n()},value:e.type})})})}const ya=[10,25,50,75,100];function wa({view:e,onChangeView:t}){const n=parseInt(e.perPage,10);return(0,pe.jsx)(u.DropdownMenu,{label:(0,Re.__)("Items per page"),icon:Zi,popoverProps:{placement:"left"},toggleProps:{as:u.MenuItem,children:(0,pe.jsxs)(u.__experimentalHStack,{children:[(0,pe.jsx)("span",{children:(0,Re.__)("Items per page")}),n&&(0,pe.jsx)(u.__experimentalText,{variant:"muted","aria-hidden":"true",children:n})]})},disableOpenOnArrowDown:!0,children:({onClose:r})=>(0,pe.jsx)("div",{onMouseLeave:r,children:(0,pe.jsx)(u.MenuItemsChoice,{choices:ya.map((e=>({label:`${e}`,value:e}))),onSelect:n=>{t({...e,perPage:n,page:1}),r()},value:n})})})}function ja({view:e,onChangeView:t,fields:n}){const r=n.filter((t=>!t.required&&!1!==t.enableHiding&&t.id!==e.layout.mediaField));return r?.length?(0,pe.jsx)(u.DropdownMenu,{label:(0,Re.__)("Fields"),icon:Zi,popoverProps:{placement:"left"},toggleProps:{as:u.MenuItem,children:(0,pe.jsx)(u.__experimentalHStack,{children:(0,pe.jsx)("span",{children:(0,Re.__)("Fields")})})},disableOpenOnArrowDown:!0,children:({onClose:n})=>(0,pe.jsx)("div",{onMouseLeave:n,children:r?.map((n=>(0,pe.jsx)(u.MenuItem,{role:"menuitemcheckbox",isSelected:!e.hiddenFields?.includes(n.id),label:n.header,icon:e.hiddenFields?.includes(n.id)?void 0:Ji,onClick:()=>{t({...e,hiddenFields:e.hiddenFields?.includes(n.id)?e.hiddenFields.filter((e=>e!==n.id)):[...e.hiddenFields||[],n.id]})},children:n.header},n.id)))})}):null}function Sa({fields:e,view:t,onChangeView:n}){const r=e.filter((e=>!1!==e.enableSorting));if(!r?.length)return null;const i=e.find((e=>e.id===t.sort?.field));return(0,pe.jsx)(u.DropdownMenu,{label:(0,Re.__)("Sort by"),icon:Zi,popoverProps:{placement:"right-start"},toggleProps:{as:u.MenuItem,children:(0,pe.jsxs)(u.__experimentalHStack,{children:[(0,pe.jsx)("span",{children:(0,Re.__)("Sort by")}),i?.header&&(0,pe.jsx)(u.__experimentalText,{variant:"muted","aria-hidden":"true",children:i?.header})]})},disableOpenOnArrowDown:!0,children:({isOpen:e,onToggle:i})=>(0,pe.jsx)("div",{children:r?.map((e=>(0,pe.jsx)(u.DropdownMenu,{style:{minWidth:"220px"},label:e.header,icon:Zi,popoverProps:{placement:"right-start"},toggleProps:{as:u.MenuItem,children:(0,pe.jsx)(u.__experimentalHStack,{children:(0,pe.jsx)("span",{children:e.header})})},children:({onClose:r})=>(0,pe.jsx)("div",{onMouseLeave:r,children:(0,pe.jsx)(u.MenuItemsChoice,{choices:Object.entries(_a).map((([n,r])=>({label:r.label,value:`${e.id}////${n}`,icon:n===t.sort?.direction&&e.id===t.sort?.field?Ji:void 0}))),onSelect:e=>{const[i,a]=e.split("////");n({...t,sort:{field:i,direction:a}}),r()},value:`${t.sort?.field}////${t.sort?.direction}`})})},e.id)))})})}const Ca=(0,p.memo)((function({fields:e,view:t,onChangeView:n,supportedLayouts:r}){return(0,pe.jsx)(u.DropdownMenu,{icon:ea,size:"compact",label:(0,Re.__)("View options"),children:()=>(0,pe.jsxs)(pe.Fragment,{children:[(0,pe.jsx)(ba,{view:t,onChangeView:n,supportedLayouts:r}),(0,pe.jsx)(Sa,{fields:e,view:t,onChangeView:n}),(0,pe.jsx)(ja,{fields:e,view:t,onChangeView:n}),(0,pe.jsx)(wa,{view:t,onChangeView:n})]})})})),ka=(0,p.memo)((function({label:e,view:t,onChangeView:n}){const[r,i,a]=function(e=""){const[t,n]=(0,p.useState)(e),[r,i]=(0,p.useState)(e),a=(0,Ae.useDebounce)(i,250);return(0,p.useEffect)((()=>{a(t)}),[t]),[t,n,r]}(t.search);(0,p.useEffect)((()=>{i(t.search)}),[t]);const s=(0,p.useRef)(n);(0,p.useEffect)((()=>{s.current=n}),[n]),(0,p.useEffect)((()=>{s.current({...t,page:1,search:a})}),[a]);const o=e||(0,Re.__)("Search");return(0,pe.jsx)(u.SearchControl,{__nextHasNoMarginBottom:!0,onChange:i,value:r,label:o,placeholder:o,size:"compact"})})),Ea=e=>e.id,Ra=()=>{},Aa=({children:e,context:t,prefix:n})=>t?(0,pe.jsx)(u.Fill,{name:`${n}__${t}`,children:e}):e,Fa=({context:e,prefix:t})=>e?(0,pe.jsx)(u.Slot,{name:`${t}__${e}`}):null;function Ta({view:e,onChangeView:t,fields:n,search:r=!1,searchLabel:i,bulkActions:a,actions:s=[],data:o,getItemId:l=Ea,isLoading:c=!1,paginationInfo:d,supportedLayouts:h,onSelectionChange:m=Ra,filters:f=null,context:x=null,...g}){const[_,v]=(0,p.useState)([]),[b,y]=(0,p.useState)(null),w=!r&&!f&&!a&&x;(0,p.useEffect)((()=>{if(_.length>0&&_.some((e=>!o.some((t=>l(t)===e))))){const e=_.filter((e=>o.some((t=>l(t)===e))));v(e),m(o.filter((t=>e.includes(l(t)))))}}),[_,o,l,m]);const j=(0,p.useCallback)((e=>{v(e.map((e=>l(e)))),m(e)}),[v,l,m]),S=va.find((t=>t.type===e.type)).component,C=(0,p.useMemo)((()=>function(e){return e.map((e=>{const t=e.getValue||(({item:t})=>t[e.id]);return{...e,getValue:t,render:e.render||t}}))}(n)),[n]);return(0,pe.jsxs)("div",{className:"dataviews-wrapper",children:[w?(0,pe.jsx)(Aa,{prefix:"view-actions",context:x,children:(0,pe.jsx)(Ca,{fields:C,view:e,onChangeView:t,supportedLayouts:h})}):(0,pe.jsxs)(u.__experimentalHStack,{alignment:"top",justify:"start",className:"dataviews-filters__view-actions",wrap:!0,children:[(0,pe.jsx)(u.FlexBlock,{children:(0,pe.jsxs)(u.__experimentalHStack,{justify:"start",className:"dataviews-filters__container",wrap:!0,children:[r&&(0,pe.jsx)(ka,{label:i,view:e,onChangeView:t}),f]})}),a&&a({data:o,selection:_,onSetSelection:j,getItemId:l}),(0,pe.jsx)(Aa,{prefix:"view-actions",context:x,children:(0,pe.jsx)(Ca,{fields:C,view:e,onChangeView:t,supportedLayouts:h})}),x&&(0,pe.jsx)(Aa,{prefix:"pagination",context:x,children:(0,pe.jsx)(Xi,{view:e,onChangeView:t,paginationInfo:d})}),(0,pe.jsx)(Fa,{prefix:"pagination",context:x})]}),(0,pe.jsx)(S,{...g,fields:C,view:e,onChangeView:t,actions:s,data:o,getItemId:l,isLoading:c,onSelectionChange:j,selection:_,setOpenedFilter:y,canSelect:!!a}),!x&&(0,pe.jsx)(Aa,{prefix:"pagination",context:x,children:(0,pe.jsx)(Xi,{view:e,onChangeView:t,paginationInfo:d})}),(0,pe.jsx)(Fa,{prefix:"pagination",context:x})]})}n(731);const Ia=({title:e,onRefresh:t,actions:n,totalRows:r})=>{const i=(0,p.useMemo)((()=>n?(0,pe.jsx)(u.FlexItem,{children:n}):null),[n]);return(0,pe.jsx)(u.CardHeader,{children:(0,pe.jsxs)(u.__experimentalHStack,{gap:2,wrap:!0,children:[(0,pe.jsx)("div",{children:(0,pe.jsxs)(u.__experimentalHStack,{children:[(0,pe.jsx)(or,{as:"h2",children:e}),t&&(0,pe.jsx)(u.Button,{icon:Ki,onClick:t,variant:"tertiary",label:(0,Re.__)("Refresh","newsletter-optin-box"),showTooltip:!0})]})}),i]})})},$a=({recordActions:e=[],className:t,searchPlaceholder:n,headers:r=[],isLoading:i=!1,onRefresh:a=!1,query:s={},ignore:o=[],rows:l=[],title:c,totalRows:d,canSelectRows:h,DisplayCell:m,view:f,setView:x,...g})=>{const _=(0,Ae.useInstanceId)($a,"noptin-table-card"),v=(0,p.useMemo)((()=>r.filter((e=>!o.includes(e.key))).map((e=>{let t;return e.enum&&!Array.isArray(e.enum)?t=Object.keys(e.enum).map((t=>({value:t,label:e.enum[t]}))):e.is_boolean&&(t=[{value:"1",label:(0,Re.__)("Yes","newsletter-optin-box")},{value:"0",label:(0,Re.__)("No","newsletter-optin-box")}]),{header:e.label,id:e.name,render:({item:t,isBadge:n})=>(0,pe.jsx)(m,{isBadge:n,viewType:f.type,row:t,header:e,headerKey:e.key}),elements:t,filterBy:{operators:["isAny","isNone","isAll","isNotAll"],isPrimary:!0},enableSorting:e.isSortable}}))),[r,o]),b={totalItems:d,totalPages:d?Math.ceil(d/f.perPage):0};return(0,pe.jsxs)(u.Card,{className:Gi("noptin-table",t),elevation:0,children:[(0,pe.jsx)(me,{children:(0,pe.jsx)(Ia,{title:c,query:s,setView:x,onRefresh:!i&&a,searchPlaceholder:n,totalRows:d,actions:(0,pe.jsx)(u.Slot,{name:`view-actions__${_}`})})}),(0,pe.jsx)(me,{children:(0,pe.jsx)(Ta,{data:i?[]:l,fields:v,view:f,onChangeView:x,paginationInfo:b,searchLabel:n,isLoading:i,context:_,...g})})]})},Ma=$a,Oa=[0,100],Pa=[0,100],Na=e=>`${1===e.length?"0":""}${e}`,Da=(e,t,n)=>Math.max(Math.min(e,n),t),La=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,za=(e,t,n)=>{const r=La(e,t);for(let i=0;i<n?.length;i++){const a=n[i];if(2===a?.length&&r>=a[0]&&r<=a[1])return za(e,t,n)}return r},Ba=(e,t)=>"number"==typeof t?t:e%Math.abs(t[1]-t[0])+t[0],Ha=(e,t)=>"number"==typeof e?Da(Math.abs(e),...t):1===e.length||e[0]===e[1]?Da(Math.abs(e[0]),...t):[Math.abs(Da(e[0],...t)),Da(Math.abs(e[1]),...t)],Va=(e,t,n)=>(n<0?n+=1:n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e),Ua=(e,t,n)=>{let r,i,a;if(e/=360,n/=100,0==(t/=100))r=i=a=n;else{const s=n<.5?n*(1+t):n+t-n*t,o=2*n-s;r=Va(o,s,e+1/3),i=Va(o,s,e),a=Va(o,s,e-1/3)}return[Math.round(255*r),Math.round(255*i),Math.round(255*a)]},qa=(e,t,n,r)=>(299*e+587*t+114*n)/1e3>=r,Wa=(e,t,n)=>`hsl(${e}, ${t}%, ${n}%)`,Ga=(e,t,n,r)=>"rgb"===r?`rgb(${e}, ${t}, ${n})`:`#${Na(e.toString(16))}${Na(t.toString(16))}${Na(n.toString(16))}`,Ka=(e,{format:t="hex",saturation:n=[50,55],lightness:r=[50,60],differencePoint:i=130}={})=>{const a=Math.abs((e=>{const t=e.length;let n=0;for(let r=0;r<t;r++)n=(n<<5)-n+e.charCodeAt(r),n&=n;return n})(String(e))),s=Ba(a,[0,360]),o=Ba(a,Ha(n,Oa)),l=Ba(a,Ha(r,Pa)),[c,d,u]=Ua(s,o,l);return{color:"hsl"===t?Wa(s,o,l):Ga(c,d,u,t),isLight:qa(c,d,u,i)}};Ka.random=({format:e="hex",saturation:t=[50,55],lightness:n=[50,60],differencePoint:r=130,excludeHue:i}={})=>{t=Ha(t,Oa),n=Ha(n,Pa);const a=i?za(0,359,i):La(0,359),s="number"==typeof t?t:La(...t),o="number"==typeof n?n:La(...n),[l,c,d]=Ua(a,s,o);return{color:"hsl"===e?Wa(a,s,o):Ga(l,c,d,e),isLight:qa(l,c,d,r)}};const Qa=Ka;function Ya(e){if(["subscribed","subscribe","active","yes","true","1"].includes(e))return{backgroundColor:"#78c67a",color:"#111111"};if(["unsubscribed","unsubscribe","inactive","no","false","0"].includes(e))return{backgroundColor:"#fbcfbd",color:"#241c15"};if(["pending","waiting","maybe","2"].includes(e))return{backgroundColor:"#fbeeca",color:"#241c15"};const t=Qa(e,{saturation:[60,100],lightness:[30,45]});return{backgroundColor:t.color,color:t.isLight?"#111111":"#ffffff"}}const Xa=({row:e,header:t,headerKey:n})=>{const{is_list:r,item:i,args:a,is_primary:s,url:o,is_boolean:l,is_badge:c}=t;if(r)return Array.isArray(e[n])&&0!==e[n].length?(0,pe.jsx)("ul",{children:e[n].map(((e,t)=>{let n=e;if(i){const t=a.map((t=>e[t]));n=(0,Re.sprintf)(i,...t)}return(0,pe.jsx)("li",{dangerouslySetInnerHTML:{__html:n}},t)}))}):"—";if(s&&o)return e[o]?(0,pe.jsx)("a",{href:e[o],style:{textDecoration:"none"},target:"_blank",children:(0,pe.jsx)("strong",{children:e[n]})}):(0,pe.jsx)("strong",{children:e[n]});if(l){const t=e[n]?"yes":"no";return(0,pe.jsx)(u.Icon,{icon:t})}return c&&e[n]?(0,pe.jsx)(mr,{...Ya(e[n]),children:e[n]}):(0,pe.jsx)("div",{dangerouslySetInnerHTML:{__html:e[n]}})};function Za({tab:e,tabName:t,namespace:n,collection:r,recordId:i}){const a=function(e,t,n,r){return n=parseInt(n,10),pt((i=>i(ct(e,t)).getTabContent(n,r)),[e,t,n,r])}(n,r,i,t),s=(0,p.useMemo)((()=>e.headers.map((e=>({key:e.name,label:e.label,isSortable:!1,isNumeric:e.is_numeric,...e})))),[e.headers]),[o,l]=(0,p.useState)({type:"table",hiddenFields:["id"],page:1,perPage:25,sort:{field:void 0,direction:void 0},search:"",layout:{primaryField:e.headers?.[0].name||"id"}});return"ERROR"===a.status?(0,pe.jsx)(Sr,{title:e.title,children:(0,pe.jsx)(u.CardBody,{children:(0,pe.jsx)(u.Notice,{status:"error",isDismissible:!1,children:a.error?.message||(0,Re.__)("An unknown error occurred.","newsletter-optin-box")})})}):(0,pe.jsx)(Ma,{...e,isLoading:a.isResolving,rows:a.data,totalRows:a.data.length,headers:s,showFooter:!1,DisplayCell:Xa,view:o,setView:l,getItemId:t=>t.id||t[e.headers?.[0].name]})}const Ja=(e,t,n=!1)=>{if(!e)return e;n&&(e=(0,d.addQueryArgs)(e,{s:360}));const r=(0,d.getQueryArg)(e,"d");if(!r||!r.includes("ui-avatars.com"))return e;const i=r.match(/\/api\/(.*?)\/64\//),a=i&&i.length>1?i[1]:r,s=Ya(t||a),o=r.indexOf("/64/");return-1!==o&&(e=(0,d.addQueryArgs)(e,{d:`${r.substring(0,o+4)}/${s.backgroundColor.replace("#","")}/${s.color.replace("#","")}`})),e.includes("%2F64%2F%")&&(e=e.replace("%2F64%2F%","%2F360%2F%")),e},es=({record:e,name:t,basePath:n="",viewType:r})=>{const i=xr(),a=e[t],s="table"!==r?"":Ja(e.avatar_url,a),o=s?(0,pe.jsx)(ur,{src:s,alt:a}):null,l=(0,c.useCallback)((()=>i(`${n}${e.id}`)),[n,e.id]),d=o?(0,pe.jsxs)(u.Flex,{children:[(0,pe.jsx)(u.FlexItem,{children:o}),(0,pe.jsx)(u.FlexBlock,{children:a})]}):a;return(0,pe.jsx)(u.Button,{variant:"link",style:{width:"100%",alignItems:"start",textDecoration:"none"},onClick:l,children:d})},ts=({value:e,enums:t={}})=>{const[n,r]=(0,c.useState)(!1),i=n?e:e.slice(0,2),a=e.length>2;return(0,pe.jsxs)(u.Flex,{gap:2,justify:"flex-start",wrap:!0,children:[i.map((e=>(0,pe.jsx)(u.FlexItem,{children:(0,pe.jsx)(mr,{...Ya(e),children:t[e]||e})},e))),a&&(0,pe.jsx)(u.FlexItem,{children:(0,pe.jsx)(u.Button,{variant:"link",onClick:()=>r(!n),children:n?(0,Re.__)("Hide","newsletter-optin-box"):(0,Re.__)("Show all","newsletter-optin-box")})})]})};function ns({row:e,header:t,headerKey:n,viewType:r="table",isBadge:i=!1}){const a=e[n];if(null==a||""===a)return i?"":(0,pe.jsx)("span",{className:"noptin-table__cell--null",children:"–"});if(Array.isArray(a)&&0===a.length)return i?"":(0,pe.jsx)("span",{className:"noptin-table__cell--null",children:"–"});if(t.is_primary&&"string"==typeof a)return(0,pe.jsx)(es,{record:e,name:n,viewType:r,basePath:t.basePath||""});if("avatar_url"===n){const t=Ja(e.avatar_url,a,"table"!==r);return t?"table"!==r?(0,pe.jsx)("img",{src:t,alt:a}):t?(0,pe.jsx)(ur,{src:t,alt:a}):null:null}if(t.is_boolean){const e=a?"yes":"no",t=a?"#3a9001":"#880000";return(0,pe.jsx)(u.Icon,{size:24,style:{color:t},icon:e})}if(t.is_date&&a){const e=qr.getSettings?(0,qr.getSettings)():(0,qr.__experimentalGetSettings)();return 10===a.length?(0,qr.dateI18n)(e.formats.date,a):(0,qr.dateI18n)(e.formats.datetime,a)}return t.is_tokens&&Array.isArray(a)?(0,pe.jsx)(ts,{value:a}):t.enum&&Array.isArray(a)?(0,pe.jsx)(ts,{value:a,enums:t.enum}):t.is_numeric||t.is_float||"string"==typeof a?(s=t.enum)&&"object"==typeof s&&s.constructor===Object?(0,pe.jsx)(mr,{...Ya(a),children:t.enum[a]||a}):a:JSON.stringify(a);var s}var rs=n(4809),is=n.n(rs);const as=({fields:e,back:t,schema:n,namespace:r,collection:i,selected:a,query:s})=>{const o=0===a.length?{...s}:{include:a.join(",")};o.__fields=e.join(","),o.number=-1,o.context="edit";const l=function(e,t,n={}){const r=ut(n);return pt((n=>n(ct(e,t)).getPartialRecords(r)),[e,t,r])}(r,i,o),d=(0,c.useMemo)((()=>{if(!l.data?.length)return[];const e=n.reduce(((e,t)=>(e[t.name]=t.label,e)),{});return Object.keys(l.data[0]).map((t=>e[t]||t))}),[n,l.data]),p=(0,c.useMemo)((()=>l.data?.length?l.data.map((e=>Object.values(e))):[]),[l.data]),h=(0,pe.jsx)(u.Button,{variant:"link",onClick:t,children:(0,Re.__)("Go Back","newsletter-optin-box")});if(l.isResolving)return(0,pe.jsxs)(u.__experimentalText,{size:16,as:"p",children:[(0,pe.jsx)(u.Spinner,{style:{marginLeft:0}}),(0,Re.__)("Preparing records...","newsletter-optin-box")]});if("ERROR"===l.status)return(0,pe.jsxs)(nr,{status:"error",isDismissible:!1,children:[l.error.message||(0,Re.__)("An unknown error occurred.","newsletter-optin-box"),"   ",h]});if(!l.data.length)return(0,pe.jsxs)(nr,{status:"info",isDismissible:!1,children:[(0,Re.__)("Found no records to export.","newsletter-optin-box"),"   ",h]});const m=is().unparse({fields:d,data:p},{escapeFormulae:!0}),f=`${r}-${i}-${Date.now()}.csv`;return(0,pe.jsxs)(nr,{status:"success",isDismissible:!1,children:[(0,Re.__)("Done! Click the button below to download records.","newsletter-optin-box"),"   ",(0,pe.jsx)(u.Button,{variant:"primary",href:`data:text/csv;charset=utf-8,${encodeURIComponent(m)}`,download:f,text:(0,Re.__)("Download CSV","newsletter-optin-box")})]})},ss=({fields:e,setFields:t,schema:{schema:n,ignore:r},next:i})=>(0,pe.jsxs)(u.Flex,{direction:"column",gap:4,children:[(0,pe.jsx)(u.FlexItem,{children:(0,pe.jsx)("p",{className:"description",children:(0,Re.__)("Select the fields to include in your exported file","newsletter-optin-box")})}),n.map((n=>{if(!r.includes(n.name))return(0,pe.jsx)(u.FlexItem,{children:(0,pe.jsx)(u.ToggleControl,{label:n.label===n.description?n.label:`${n.label} (${n.description})`,checked:e.includes(n.name),onChange:()=>{e.includes(n.name)?t(e.filter((e=>e!==n.name))):t([...e,n.name])},__nextHasNoMarginBottom:!0})},n.name)})),(0,pe.jsx)(u.FlexItem,{children:(0,pe.jsxs)(rr,{variant:"primary",onClick:i,children:[(0,pe.jsx)(u.Icon,{icon:"download"}),(0,Re.__)("Download","newsletter-optin-box")]})})]}),os=({namespace:e,collection:t,...n})=>{const r=xt(e,t),[i,a]=(0,c.useState)(r.data.schema.map((e=>r.data.hidden.includes(e.name)||r.data.ignore.includes(e.name)?null:e.name)).filter((e=>!!e))),[s,o]=(0,c.useState)("fields");return"fields"===s?(0,pe.jsx)(ss,{fields:i,setFields:a,schema:r.data,next:()=>o("progress")}):"progress"===s?(0,pe.jsx)(as,{fields:i,schema:r.data.schema,back:()=>o("fields"),namespace:e,collection:t,...n}):void 0};function ls({count:e,selected:t,...n}){const[r,i]=(0,c.useState)(!1),a=0===t.length,s=a?(0,Re.__)("Download","newsletter-optin-box"):(0,Re.__)("Download Selected","newsletter-optin-box"),o=a?(0,Re.sprintf)(/* translators: %s: number of records */ /* translators: %s: number of records */
(0,Re.__)("Download all %s records","newsletter-optin-box"),e):(0,Re.sprintf)(/* translators: %s: number of records */ /* translators: %s: number of records */
(0,Re.__)("Download %s selected records","newsletter-optin-box"),t.length);return(0,pe.jsxs)(pe.Fragment,{children:[(0,pe.jsx)(u.Button,{onClick:()=>i(!0),variant:"tertiary",text:s}),r&&(0,pe.jsx)(u.Modal,{title:o,onRequestClose:()=>i(!1),children:(0,pe.jsx)("div",{className:"hizzle-records-export-modal__body",children:(0,pe.jsx)(me,{children:(0,pe.jsx)(os,{count:e,selected:t,...n})})})})]})}function cs({namespace:e,collection:t,query:n,count:r,selected:i,setSelected:a}){const s=(0,Fe.useDispatch)(`${e}/${t}`),[o,l]=(0,c.useState)(!1),[p,h]=(0,c.useState)(null),[m,f]=(0,c.useState)(!1),x=0===i.length,g=x?(0,Re.__)("Delete","newsletter-optin-box"):(0,Re.__)("Delete Selected","newsletter-optin-box"),_=_r(i,n),v=()=>(0,pe.jsx)(pe.Fragment,{children:m?(0,pe.jsxs)(pe.Fragment,{children:[(0,pe.jsx)(u.Spinner,{}),(0,Re.__)("Deleting...","newsletter-optin-box")]}):(0,pe.jsxs)(pe.Fragment,{children:[p?(0,pe.jsx)(ar,{children:p.message}):(0,pe.jsxs)(ar,{children:[x&&(0,Re.sprintf)(
// translators: %d: Number of records being deleted.
// translators: %d: Number of records being deleted.
(0,Re.__)("Are you sure you want to delete %d matching records?","newsletter-optin-box"),r),!x&&(0,Re.sprintf)(
// translators: %d: Number of records being deleted.
// translators: %d: Number of records being deleted.
(0,Re.__)("Are you sure you want to delete %d selected records?","newsletter-optin-box"),i.length)]}),(0,pe.jsx)(rr,{isDestructive:!0,onClick:()=>{f(!0),s.deleteRecords((0,d.addQueryArgs)("",_),s).then((e=>{l(!1),a([])})).catch((e=>{h(e)})).finally((()=>{f(!1)}))},children:(0,Re.__)("Yes, Delete!","newsletter-optin-box")}),(0,pe.jsx)(rr,{onClick:()=>l(!1),variant:"secondary",__withNoMargin:!0,children:(0,Re.__)("Cancel","newsletter-optin-box")})]})});return(0,pe.jsxs)(pe.Fragment,{children:[(0,pe.jsx)(u.Button,{onClick:()=>l(!0),variant:"tertiary",icon:"trash",text:g,isDestructive:!0}),o&&(0,pe.jsx)(u.Modal,{title:g,onRequestClose:()=>l(!1),children:(0,pe.jsx)(v,{})})]})}const ds=({editableFields:e,onSave:t,changes:n,setAttributes:r})=>(0,pe.jsx)("form",{onSubmit:t,children:e.map((e=>{const t={...Oi(e),default:"",placeholder:(0,Re.__)("Do not update","newsletter-optin-box")};let i=null;return e.multiple&&(t.label=(0,Re.sprintf)(
// translators: %s: Field label, e.g. "Tags".
// translators: %s: Field label, e.g. "Tags".
(0,Re.__)("%s - To Add","newsletter-optin-box"),e.label),t.name=`${e.name}::add`,i={...t,name:`${e.name}::remove`,label:(0,Re.sprintf)(
// translators: %s: Field label, e.g. "Tags".
// translators: %s: Field label, e.g. "Tags".
(0,Re.__)("%s - To Remove","newsletter-optin-box"),e.label)}),(0,pe.jsxs)(c.Fragment,{children:[(0,pe.jsx)("div",{style:{marginBottom:"1.6rem"},children:(0,pe.jsx)(Ti,{settingKey:t.name,saved:n,setAttributes:r,setting:t})}),i&&(0,pe.jsx)("div",{style:{marginBottom:"1.6rem"},children:(0,pe.jsx)(Ti,{settingKey:i.name,saved:n,setAttributes:r,setting:i})})]},e.name)}))}),us=({editableFields:e,namespace:t,collection:n,query:r,selected:i,count:a})=>{const s=(0,Fe.useDispatch)(`${t}/${n}`),[o,l]=(0,c.useState)(null),[d,p]=(0,c.useState)(!1),[h,m]=(0,c.useState)(!1),[f,x]=(0,c.useState)({}),g=_r(i,r),_=Object.keys(f).length>0,v=e=>{if(e?.preventDefault(),d)return;p(!0);const t={bulk_update:{merge:f,query:g}};s.batchAction(t,s).then((()=>{m(!0),x({})})).catch((e=>{l(e)})).finally((()=>{p(!1)}))};return(0,pe.jsxs)(pe.Fragment,{children:[(0,pe.jsx)(ds,{editableFields:e,changes:f,onSave:v,setAttributes:e=>{x({...f,...e}),o&&l(null),h&&m(!1)}}),_&&(0,pe.jsxs)(rr,{variant:"primary",onClick:v,isBusy:d,children:[!d&&(0,pe.jsx)(u.Icon,{icon:"cloud-saved"})," ",(0,Re.sprintf)(d?
// translators: %d: Number of records being saved.
// translators: %d: Number of records being saved.
(0,Re.__)("Saving %d records...","newsletter-optin-box"):
// translators: %d: Number of records being edited.
// translators: %d: Number of records being edited.
(0,Re.__)("Edit %d records","newsletter-optin-box"),i.length>0?i.length:a),d&&(0,pe.jsx)(u.Spinner,{})]}),o&&!_&&(0,pe.jsx)(u.Notice,{status:"error",isDismissible:!0,children:o.message}),h&&!_&&(0,pe.jsx)(u.Notice,{status:"success",isDismissible:!0,children:(0,Re.__)("Records updated successfully.","newsletter-optin-box")})]})};function ps(e){const[t,n]=(0,c.useState)(!1),r=Mi(e),i=r.length>0;return(0,pe.jsx)(pe.Fragment,{children:i&&(0,pe.jsxs)(pe.Fragment,{children:[(0,pe.jsx)(u.Button,{onClick:()=>n(!0),variant:"tertiary",text:(0,Re.__)("Bulk Edit","newsletter-optin-box")}),t&&(0,pe.jsx)(u.Modal,{title:(0,Re.__)("Bulk Edit","newsletter-optin-box"),onRequestClose:()=>n(!1),children:(0,pe.jsx)(us,{editableFields:r,...e})})]})})}const hs=({namespace:e,collection:t})=>{const n=gr(),{data:r}=xt(e,t);return(0,pe.jsx)(u.Button,{onClick:()=>n(`${e}/${t}/add`),variant:"primary",text:r?.labels?.add_new||(0,Re.__)("Add New","newsletter-optin-box")})},ms=({namespace:e,collection:t,inline:n,query:r,selection:i,onSetSelection:a})=>{const s=ft(e,t,r),o=s.data?.total||0;return(0,pe.jsx)("div",{children:(0,pe.jsxs)(u.__experimentalHStack,{wrap:!0,children:[n&&(0,pe.jsx)(u.FlexItem,{children:(0,pe.jsx)(hs,{namespace:e,collection:t,count:o,selected:i})}),(0,pe.jsx)(u.FlexItem,{children:(0,pe.jsx)(ps,{namespace:e,collection:t,query:r,count:o,selected:i,isBulkEditing:!0})}),(0,pe.jsx)(u.FlexItem,{children:(0,pe.jsx)(ls,{namespace:e,collection:t,query:r,count:o,selected:i})}),(0,pe.jsx)(u.FlexItem,{children:(0,pe.jsx)(cs,{namespace:e,collection:t,query:r,count:o,selected:i,setSelected:a})})]})})},fs=["type","hiddenFields"],xs=({schema:{schema:e,hidden:t,ignore:n,labels:r,id_prop:i,badges:a},total:s,summary:o,records:l,isLoading:c,namespace:d,collection:u,updateQueryString:h,query:m,emptyMessage:f,inline:x,basePath:g=""})=>{const _=`${d}/${u}`,v=(0,p.useMemo)((()=>{const t=[];return e.forEach((e=>{e.is_textarea&&!e.is_tokens&&(!e.enum||Array.isArray(e.enum))||n.includes(e.name)||"hide"===e.js_props?.table||t.push({key:e.name,isSortable:!e.is_dynamic&&!e.is_meta,isNumeric:e.is_numeric||e.is_float,basePath:g,...e})})),t}),[e,n]),b=(0,p.useCallback)((e=>{e.paged||(e.paged=1),h({...m,...e})}),[h]),y={...(0,Fe.useSelect)((e=>e("core/preferences").get(_,"view")),[_])||{},page:m.paged||1,perPage:m.per_page||25,sort:{field:m.orderby,direction:m.order},search:m.search,layout:{primaryField:i||"id",badgeFields:a||[],mediaField:"avatar_url"}},{set:w}=(0,Fe.useDispatch)("core/preferences"),j=(0,p.useCallback)((e=>{const t={};fs.forEach((n=>{void 0!==e[n]&&(t[n]=e[n])})),w(_,"view",t),b({paged:e.page||1,per_page:e.perPage||25,order:e.sort?.direction,orderby:e.sort?.field,search:e.search})}),[_,w]),S=(0,Fe.useDispatch)(`${d}/${u}`),C=(0,p.useCallback)((()=>{S.invalidateResolutionForStoreSelector("getRecords")}),[d,u]),k=xr(),E=[{id:"edit",label:r?.edit_item||(0,Re.__)("Edit","newsletter-optin-box"),icon:"edit",callback:e=>k(e[0].id),isPrimary:!0},{id:"delete",label:r?.delete_item||(0,Re.__)("Delete","newsletter-optin-box"),icon:"trash",isDestructive:!0,RenderModal:({items:e,closeModal:t})=>(0,pe.jsx)($r,{confirm:r?.delete_confirm,closeModal:t,namespace:d,collection:u,id:e[0].id})}];return(0,pe.jsx)(me,{children:(0,pe.jsx)(Ma,{bulkActions:e=>(0,pe.jsx)(ms,{namespace:d,collection:u,inline:x,query:m,...e}),actions:E,rows:l,headers:v,totalRows:c?0:s,summary:o?Object.values(o):[],isLoading:c,onRefresh:C,view:y,setView:j,query:m,className:`${d}-${u}__records-table`,search:!0,title:r?.name,emptyMessage:f||r?.not_found,emptyAction:x?(0,pe.jsx)("div",{style:{marginTop:"1rem"},children:(0,pe.jsx)(hs,{namespace:d,collection:u})}):null,searchPlaceholder:r?.search_items,canSelectRows:!0,idProp:"id",DisplayCell:ns,initialHiddenHeaders:t,storeName:`${d}/${u}`,filters:(0,pe.jsx)(Pi,{namespace:d,collection:u,query:m,setQuery:h})})})},gs=vr((function({namespace:e,collection:t,query:n,setQuery:r,schema:i,...a}){(0,p.useEffect)((()=>{const e=i.schema.find((e=>e.is_primary));e&&n.primary_field!==e.name&&r({...n,primary_field:e.name})}),[n,i.schema]);const s=ft(e,t,n);return"ERROR"===s.status?(0,pe.jsx)(Sr,{title:(0,Re.__)("Error","newsletter-optin-box"),children:(0,pe.jsx)(u.CardBody,{children:(0,pe.jsx)(u.Notice,{status:"error",isDismissible:!1,children:s.error?.message||(0,Re.__)("An unknown error occurred.","newsletter-optin-box")})})}):(0,pe.jsx)(xs,{schema:i,records:s.data.items,total:s.data.total,summary:s.data.summary,isLoading:s.isResolving,namespace:e,collection:t,updateQueryString:r,query:n,...a})}));function _s(){const{namespace:e,collection:t}=K(),n=(()=>{const[e,t]=(0,p.useState)(je()),[n,r]=(0,p.useState)(!0);return(0,p.useLayoutEffect)((()=>{return e=()=>{r(!0)},window.hizzleNavigation=null!==(t=window.hizzleNavigation)&&void 0!==t?t:{},window.hizzleNavigation.historyPatched||(e=>{const t=e.pushState,n=e.replaceState;e.pushState=function(n){const r=new CustomEvent("pushstate",{state:n});return window.dispatchEvent(r),t.apply(e,arguments)},e.replaceState=function(t){const r=new CustomEvent("replacestate",{state:t});return window.dispatchEvent(r),n.apply(e,arguments)},window.hizzleNavigation.historyPatched=!0})(window.history),window.addEventListener("popstate",e),window.addEventListener("pushstate",e),window.addEventListener("replacestate",e),()=>{window.removeEventListener("popstate",e),window.removeEventListener("pushstate",e),window.removeEventListener("replacestate",e)};var e,t}),[]),(0,p.useEffect)((()=>{if(n){const n=je();r(!1),i=n,a=e,(0,d.addQueryArgs)("",ke({...i}))!==(0,d.addQueryArgs)("",ke({...a}))&&t(n)}var i,a}),[n,e]),e})();return(0,pe.jsx)(gs,{namespace:e,collection:t,setQuery:Ce,query:n})}const vs=({namespace:e,collection:t,defaultProps:n,inline:r,...i})=>{const[a,s]=(0,p.useState)(n),{id:o,tab:l}=K();return(0,pe.jsx)(gs,{namespace:e,collection:t,setQuery:s,query:a,inline:r,basePath:r?`${o}/${l}/${e}/${t}/`:"",...i})},bs=vr((function({tab:e,namespace:t,collection:n,recordId:r,schema:i,isInner:a}){const s=mt(t,n,r),o={namespace:t,collection:n,recordId:r,tabName:e};if(!Array.isArray(i.tabs)&&i.tabs[e]){const l=i.tabs[e];return"table"===l.type?(0,pe.jsx)(Za,{tab:l,record:s,...o}):"collection"===l.type?(0,pe.jsx)(vs,{...l,defaultProps:{[l.filter_by]:r}}):(0,pe.jsx)(u.Slot,{name:`${t}-${n}-tab-${e}${a?"--inner":""}`,fillProps:{tab:l,record:s.data}})}return a?(0,pe.jsx)(qi,{}):(0,pe.jsx)(Ui,{})})),ys=()=>{const{tab:e,namespace:t,collection:n,id:r}=K();return(0,pe.jsxs)("div",{className:`${t}-${n}__${e||"overview"}-content`,children:[(0,pe.jsx)(bs,{namespace:t,collection:n,tab:e,recordId:r}),(0,pe.jsx)(ne,{})]})},ws=()=>{const{innerNamespace:e,innerCollection:t,innerId:n,innerTab:r}=K();return(0,pe.jsx)("div",{className:`${namespace}-${collection}__${tab||"overview"}-content`,children:(0,pe.jsx)(bs,{namespace:e,collection:t,tab:r,recordId:n,isInner:!0})})},js=vr((function({children:e,recordId:t,namespace:n,collection:r,schema:i,tab:a,basePath:s}){const o=mt(n,r,t),l=xr(),c=[{title:i?.labels?.edit_item||(0,Re.__)("Edit Item","newsletter-optin-box"),name:"overview"}];Array.isArray(i?.tabs)||Object.keys(i.tabs).map((e=>c.push({title:i.tabs[e].title,name:e})));const d=(0,p.useCallback)((e=>{const t=c[e]?.name||"overview";l(`${s}/${t}`)}),[s]);return o.isResolving?(0,pe.jsx)(Sr,{title:i.labels?.edit_item||(0,Re.__)("Edit Item","newsletter-optin-box"),children:(0,pe.jsxs)(u.CardBody,{children:[(0,Re.__)("Loading","newsletter-optin-box"),(0,pe.jsx)(u.Spinner,{})]})}):"ERROR"===o.status?(0,pe.jsx)(Sr,{title:(0,Re.__)("Error","newsletter-optin-box"),children:(0,pe.jsx)(u.CardBody,{children:(0,pe.jsx)(u.Notice,{status:"error",isDismissible:!1,children:o.error?.message||(0,Re.__)("An unknown error occurred.","newsletter-optin-box")})})}):(0,pe.jsxs)(pe.Fragment,{children:[c.length>1&&(0,pe.jsx)(pr,{orientation:"horizontal",onNavigate:d,children:c.map(((e,t)=>(0,pe.jsx)(u.Button,{isPressed:e.name===a||!a&&0===t,onClick:()=>d(t),children:e.title},e.name)))}),e]})})),Ss=()=>{const{namespace:e,collection:t,id:n,tab:r}=K();return(0,pe.jsx)(js,{namespace:e,collection:t,recordId:n,tab:r,basePath:n,children:(0,pe.jsx)(ne,{})})},Cs=()=>{const{innerNamespace:e,innerCollection:t,innerTab:n,innerId:r,id:i,tab:a}=K();return(0,pe.jsx)(js,{namespace:e,collection:t,recordId:r,tab:n,basePath:`${i}/${a}/${e}/${t}/${r}`,children:(0,pe.jsx)(ne,{})})},ks=function(){const{notices:e}=(0,Fe.useSelect)((e=>({notices:e(Cr.store).getNotices()})),[]),{removeNotice:t}=(0,Fe.useDispatch)(Cr.store),n=e.filter((({isDismissible:e,type:t})=>e&&"default"===t)),r=e.filter((({isDismissible:e,type:t})=>!e&&"default"===t));return(0,pe.jsxs)(pe.Fragment,{children:[(0,pe.jsx)(u.NoticeList,{notices:r,className:"components-noptin-notices__pinned"}),(0,pe.jsx)(u.NoticeList,{notices:n,className:"components-noptin-notices__dismissible",onRemove:t})]})};function Es(){const e=(0,Fe.useSelect)((e=>e(Cr.store).getNotices()),[]),{removeNotice:t}=(0,Fe.useDispatch)(Cr.store),n=e.filter((({type:e})=>"snackbar"===e)).slice(-3);return(0,pe.jsx)(u.SnackbarList,{notices:n,className:"components-editor-notices__snackbar",onRemove:t})}const Rs=Yn.div`
	margin: 1.6rem 0;
	max-width: 600px;
`,As=rr.withComponent(u.FormFileUpload),Fs=({onUpload:e})=>(0,pe.jsxs)(Rs,{children:[(0,pe.jsx)(u.__experimentalText,{weight:600,as:"h3",children:(0,Re.__)("This tool allows you to import existing records from a CSV file.","newsletter-optin-box")}),(0,pe.jsxs)(As,{accept:"text/csv",onChange:t=>e(t.currentTarget.files[0]),variant:"primary",children:[(0,pe.jsx)(u.Icon,{icon:"cloud-upload"}),(0,Re.__)("Select a CSV file","newsletter-optin-box")]}),(0,pe.jsxs)(u.Tip,{children:[(0,Re.__)("The first row of the CSV file should contain the field names/headers.","newsletter-optin-box"),(0,pe.jsx)("br",{}),(0,Re.__)(" Have a different file type?","newsletter-optin-box")," ",(0,pe.jsx)(u.Button,{variant:"link",href:"https://convertio.co/csv-converter/",target:"_blank",text:(0,Re.__)("Convert it to CSV","newsletter-optin-box")})]})]}),Ts=Yn(u.FlexItem)`
	width: 320px;
`,Is=Ts.withComponent("div"),$s=e=>((e=(e=e.replace(/[^a-zA-Z0-9]/g,"")).toLowerCase()).startsWith("cf")&&(e=e.slice(2)),e.startsWith("meta")&&(e=e.slice(4)),e),Ms=({options:e,field:t,value:n,setValue:r,customValue:i,setCustomValue:a})=>(0,pe.jsxs)(u.Flex,{style:{marginTop:"1.6rem"},gap:4,justify:"flex-start",wrap:!0,children:[(0,pe.jsx)(Ts,{children:(0,pe.jsx)(u.SelectControl,{label:t.label,value:n,onChange:r,options:e,__next36pxDefaultSize:!0,__nextHasNoMarginBottom:!0})}),"-1"===n&&(0,pe.jsx)(Ts,{children:t.options?(0,pe.jsx)(u.SelectControl,{label:(0,Re.__)("Select value","newsletter-optin-box"),value:i,onChange:a,options:[{value:"",label:(0,Re.__)("Select value","newsletter-optin-box"),disabled:!0},...t.options],__next36pxDefaultSize:!0,__nextHasNoMarginBottom:!0}):(0,pe.jsx)(u.TextControl,{label:(0,Re.__)("Enter value","newsletter-optin-box"),placeholder:(0,Re.__)("Enter a value to assign all imported records","newsletter-optin-box"),value:i,onChange:a,__nextHasNoMarginBottom:!0})})]}),Os=({file:e,schema:t,ignore:n,hidden:r,back:i,onContinue:a,namespace:s,collection:o})=>{const[l,d]=(0,c.useState)([]),[p,h]=(0,c.useState)({}),[m,f]=(0,c.useState)(!1),[x,g]=(0,c.useState)(null),_=(0,c.useMemo)((()=>t.map((e=>"date_created"!==e.name&&(e.readonly||n.includes(e.name)||["id"].includes(e.name))?null:{value:e.name,label:e.label,is_boolean:e.is_boolean,options:!Array.isArray(e.enum)&&Object.keys(e.enum).map((t=>({value:t,label:e.enum[t]})))})).filter((e=>!!e))),[t,n,r]);(0,c.useEffect)((()=>{is().parse(e,{header:!0,skipEmptyLines:"greedy",preview:5,complete:e=>{d(e.meta.fields)},error(e){g(e)}})}),[e]),(0,c.useEffect)((()=>{if(!l.length)return;const e={};l.forEach((t=>{const n=$s(t);let r=!1,i=_.find((e=>{const t=$s(e.value),r=$s(e.label);return n===t||n===r}));i||(i=_.find((e=>{const t=$s(e.value),r=$s(e.label);return n.includes(t)||n.includes(r)||t.includes(n)||r.includes(n)})),r=!0),!i||r&&e[i.value]||(e[i.value]={mapped:!0,value:t,is_boolean:i.is_boolean})})),h(e)}),[l,_]);const v=(0,c.useMemo)((()=>{const e=[{value:"",label:(0,Re.__)("Ignore Field","newsletter-optin-box")},{value:"-1",label:(0,Re.__)("Manually enter value","newsletter-optin-box")},{value:"-2",label:(0,Re.__)("Map Field","newsletter-optin-box"),disabled:!0}];return l.forEach((t=>{e.push({value:t,label:t})})),e}),[l]);return x?(0,pe.jsxs)(u.Notice,{status:"error",isDismissible:!1,children:[(0,pe.jsx)("p",{children:x.message}),(0,pe.jsx)(u.Button,{variant:"link",onClick:i,children:(0,Re.__)("Try again","newsletter-optin-box")})]}):(0,pe.jsxs)(pe.Fragment,{children:[(0,pe.jsx)(u.Tip,{children:(0,Re.__)("Map the headers of your CSV file to known fields.","newsletter-optin-box")}),_.map((e=>{const t=p[e.value]||{is_boolean:e.is_boolean},n=t.value||"";return(0,pe.jsx)(Ms,{options:v,field:e,value:n,setValue:n=>{h({...p,[e.value]:{...t,mapped:!["","-1","-2"].includes(n),value:n}})},customValue:t.customValue||"",setCustomValue:n=>{h({...p,[e.value]:{...t,customValue:n}})}},e.value)})),(0,pe.jsx)("div",{style:{marginTop:"1.6rem",marginBottom:"1.6rem"},children:(0,pe.jsx)(u.ToggleControl,{label:(0,Re.__)("Update existing records","newsletter-optin-box"),checked:m,onChange:e=>f(e),__nextHasNoMarginBottom:!0})}),(0,pe.jsx)(u.Slot,{name:`${s}_${o}_import_records_below`,children:e=>e.map(((e,t)=>(0,pe.jsx)(u.Tip,{children:e},t)))}),(0,pe.jsxs)(Is,{children:[(0,pe.jsx)(rr,{variant:"primary",onClick:()=>a(p,m),children:(0,Re.__)("Import","newsletter-optin-box")}),(0,pe.jsx)(rr,{variant:"secondary",onClick:i,__withNoMargin:!0,children:(0,Re.__)("Back","newsletter-optin-box")})]})]})},Ps=({from:e=0,to:t,duration:n=5e3})=>{const[r,i]=(0,c.useState)(e);return(0,c.useEffect)((()=>{if(e===t)return void i(t);let r;const a=Date.now(),s=()=>{const o=Date.now()-a;if(o<n){const a=e+(t-e)*o/n;i(Math.round(a)),r=requestAnimationFrame(s)}else i(t)};return r=requestAnimationFrame(s),()=>cancelAnimationFrame(r)}),[e,t,n]),(0,pe.jsx)("span",{children:Math.round(r)})},Ns=({file:e,headers:t,back:n,updateRecords:r,namespace:i,collection:a,basePath:s=""})=>{const o=xr(),[l,d]=(0,c.useState)([]),[p,h]=(0,c.useState)(!1),[m,f]=(0,c.useState)(5e3),[x,g]=(0,c.useState)(!1),[_,v]=(0,c.useState)(!1),[b,y]=(0,c.useState)(0),[w,j]=(0,c.useState)(0),[S,C]=(0,c.useState)(0),[k,E]=(0,c.useState)(0),[R,A]=(0,c.useState)(0),[F,T]=(0,c.useState)(0),[I,$]=(0,c.useState)(0),[M,O]=(0,c.useState)(0),[P,N]=(0,c.useState)(0),[D,L]=(0,c.useState)(0),[z,B]=(0,c.useState)([]),H=(0,Fe.useDispatch)(`${i}/${a}`),V=(0,c.useCallback)((e=>{const n={};return Object.keys(t).forEach((r=>{""!==t[r].value&&(t[r].mapped?n[r]=e[t[r].value]:void 0!==t[r].customValue&&(n[r]=t[r].customValue),t[r].is_boolean&&(n[r]=!["0","","false","FALSE","no"].includes(n[r])))})),n}),[t]);return(0,c.useEffect)((()=>{if(x)return;const e=(new Date).getTime(),t=[...z],n=t.shift();if(!n)return void(!1===p&&h(!0));!0===p&&h(!1);const i={import:n,update:r};H.batchAction(i,H).then((({result:e})=>{let t=0,n=0,r=0,i=0,a=[];e?.import&&e.import.length&&e.import.forEach((e=>{e.data?.skipped&&t++,e.data?.updated&&n++,e.data?.created&&r++,e.is_error&&(i++,a.push(e.data))})),L(P),N(P+t),E(S),C(S+n),T(R),A(R+r),O(I),$(I+i),d([...a,...a])})).catch((e=>{newFailed=I+n.length,$(I+n.length),d([...l,e])})).finally((()=>{if(j(w+n.length),0===t.length)return void B(t);const r=((new Date).getTime()-e)/1e3;if(f(Math.ceil(1e3*r)),r<20){const e=20*Math.ceil(n.length/r);if(e<100){const n=[],r=t.flat();for(let t=0;t<r.length;t+=e){const i=r.slice(t,t+e);n.push(i)}return void B(n)}}B(t)}))}),[z,x]),(0,c.useEffect)((()=>{(e=>{is().parse(e,{header:!0,skipEmptyLines:"greedy",complete(e){(e=>{v(!0),y(e.data.length);const t=[];for(let n=0;n<e.data.length;n+=10){const r=e.data.slice(n,n+10);t.push(r.map((e=>V(e))))}B(t),g(!1)})(e)},error(e){(e=>{d([e])})(e)}})})(e)}),[e,t]),_?0===b?(0,pe.jsx)(ar,{children:(0,Re.sprintf)(
// translators: %s: file name.
// translators: %s: file name.
(0,Re.__)("No records found in %s.","newsletter-optin-box"),e.name)}):(0,pe.jsxs)("div",{className:"noptin-import-progress",children:[!p&&(0,pe.jsxs)(pe.Fragment,{children:[(0,pe.jsxs)(sr,{as:"h3",children:[(0,Re.__)("Importing","newsletter-optin-box"),(0,pe.jsx)("code",{children:e.name}),"...  ",!x&&(0,pe.jsx)(u.Spinner,{}),"  ",(0,pe.jsx)(u.Button,{variant:"link",onClick:()=>g(!x),children:x?(0,Re.__)("Resume","newsletter-optin-box"):(0,Re.__)("Pause","newsletter-optin-box")})]}),!x&&(0,pe.jsx)(dr,{total:b,processed:w})]}),p&&(0,pe.jsxs)(sr,{as:"h3",children:[(0,Re.__)("Processed","newsletter-optin-box"),(0,pe.jsx)("code",{children:e.name})]}),(0,pe.jsxs)(u.Flex,{justify:"flex-start",style:{margin:"1.6rem 0"},gap:4,wrap:!0,children:[(0,pe.jsx)(u.FlexItem,{children:(0,pe.jsx)(Ar,{value:(0,pe.jsx)(Ps,{to:b,duration:3e3}),label:(0,Re.__)("Records Found","newsletter-optin-box"),status:"light"})}),R>0&&(0,pe.jsx)(u.FlexItem,{children:(0,pe.jsx)(Ar,{value:(0,pe.jsx)(Ps,{from:F,to:R,duration:p||x?300:m}),label:(0,Re.__)("Records Created","newsletter-optin-box"),status:"success"})}),S>0&&(0,pe.jsx)(u.FlexItem,{children:(0,pe.jsx)(Ar,{value:(0,pe.jsx)(Ps,{from:k,to:S,duration:p||x?300:m}),label:(0,Re.__)("Records Updated","newsletter-optin-box"),status:"success"})}),I>0&&(0,pe.jsx)(u.FlexItem,{children:(0,pe.jsx)(Ar,{value:(0,pe.jsx)(Ps,{from:M,to:I,duration:p||x?300:m}),label:(0,Re.__)("Records Failed","newsletter-optin-box"),status:"error"})}),P>0&&(0,pe.jsx)(u.FlexItem,{children:(0,pe.jsx)(Ar,{value:(0,pe.jsx)(Ps,{from:D,to:P,duration:p||x?300:m}),label:(0,Re.__)("Records Skipped","newsletter-optin-box"),status:"info"})})]}),p&&(0,pe.jsx)(rr,{variant:"primary",text:(0,Re.__)("View Records","newsletter-optin-box"),onClick:()=>o(s),maxWidth:"200px"}),l.length>0&&(0,pe.jsxs)(sr,{as:"h3",children:[(0,Re.__)("Errors","newsletter-optin-box")," ",p&&(0,pe.jsx)(u.Button,{onClick:()=>d([]),variant:"link",children:(0,Re.__)("Clear","newsletter-optin-box")})]}),l.map(((e,t)=>(0,pe.jsx)(ar,{children:e.message},t)))]}):(0,pe.jsxs)(sr,{as:"h3",children:[(0,Re.__)("Parsing","newsletter-optin-box"),(0,pe.jsx)("code",{children:e.name}),"...  ",(0,pe.jsx)(u.Spinner,{})]})},Ds=({file:e,schema:{schema:t,ignore:n,hidden:r,id_prop:i},back:a,...s})=>{const[o,l]=(0,c.useState)(null),[d,u]=(0,c.useState)(!1);return o?(0,pe.jsx)(Ns,{file:e,headers:o,updateRecords:d,back:a,id_prop:i,...s}):(0,pe.jsx)(Os,{file:e,schema:t,ignore:n,hidden:r,back:a,onContinue:(e,t)=>{l(e),u(t),window.scrollTo({top:0,behavior:"smooth"})},...s})};function Ls(){const{namespace:e,collection:t}=K(),{data:n}=xt(e,t),[r,i]=(0,c.useState)(null);return(0,pe.jsx)(Sr,{title:n.labels?.import||(0,Re.__)("Import","newsletter-optin-box"),children:(0,pe.jsx)(u.CardBody,{children:r?(0,pe.jsx)(Ds,{file:r,schema:n,back:()=>i(null),namespace:e,collection:t}):(0,pe.jsx)(Fs,{onUpload:e=>{i(e),window.scrollTo({top:0,behavior:"smooth"})}})})})}const zs=(0,c.forwardRef)((({children:e,className:t,ariaLabel:n,as:r="div",...i},a)=>(0,pe.jsx)(r,{ref:a,className:Gi("interface-navigable-region",t),"aria-label":n,role:"region",tabIndex:"-1",...i,children:e})));zs.displayName="NavigableRegion";const Bs=zs,Hs={type:"tween",duration:.25,ease:[.6,0,.4,1]},Vs={hidden:{opacity:1,marginTop:-60},visible:{opacity:1,marginTop:0},distractionFreeHover:{opacity:1,marginTop:0,transition:{...Hs,delay:.2,delayChildren:.2}},distractionFreeHidden:{opacity:0,marginTop:-60},distractionFreeDisabled:{opacity:0,marginTop:0,transition:{...Hs,delay:.8,delayChildren:.8}}},Us=(0,c.forwardRef)((function({isDistractionFree:e,footer:t,header:n,editorNotices:r,sidebar:i,secondarySidebar:a,content:s,actions:o,labels:l,className:d},p){const[h,m]=(0,Ae.useResizeObserver)(),f=(0,Ae.useViewportMatch)("medium","<"),x={type:"tween",duration:(0,Ae.useReducedMotion)()?0:.25,ease:[.6,0,.4,1]};!function(e){(0,c.useEffect)((()=>{const t=document&&document.querySelector(`html:not(.${e})`);if(t)return t.classList.toggle(e),()=>{t.classList.toggle(e)}}),[e])}("interface-interface-skeleton__html-container");const g={
/* translators: accessibility text for the top bar landmark region. */
header:(0,Re._x)("Header","header landmark area"),
/* translators: accessibility text for the content landmark region. */
body:(0,Re.__)("Content"),
/* translators: accessibility text for the secondary sidebar landmark region. */
secondarySidebar:(0,Re.__)("Block Library"),
/* translators: accessibility text for the settings landmark region. */
sidebar:(0,Re._x)("Settings","settings landmark area"),
/* translators: accessibility text for the publish landmark region. */
actions:(0,Re.__)("Publish"),
/* translators: accessibility text for the footer landmark region. */
footer:(0,Re.__)("Footer"),...l};return(0,pe.jsxs)("div",{ref:p,className:Gi(d,"interface-interface-skeleton",!!t&&"has-footer"),children:[(0,pe.jsxs)("div",{className:"interface-interface-skeleton__editor",children:[(0,pe.jsx)(u.__unstableAnimatePresence,{initial:!1,children:!!n&&(0,pe.jsx)(Bs,{as:u.__unstableMotion.div,className:"interface-interface-skeleton__header","aria-label":g.header,initial:e&&!f?"distractionFreeHidden":"hidden",whileHover:e&&!f?"distractionFreeHover":"visible",animate:e&&!f?"distractionFreeDisabled":"visible",exit:e&&!f?"distractionFreeHidden":"hidden",variants:Vs,transition:x,children:n})}),e&&(0,pe.jsx)("div",{className:"interface-interface-skeleton__header",children:r}),(0,pe.jsxs)("div",{className:"interface-interface-skeleton__body",children:[(0,pe.jsx)(u.__unstableAnimatePresence,{initial:!1,children:!!a&&(0,pe.jsx)(Bs,{className:"interface-interface-skeleton__secondary-sidebar",ariaLabel:g.secondarySidebar,as:u.__unstableMotion.div,initial:"closed",animate:"open",exit:"closed",variants:{open:{width:m.width},closed:{width:0}},transition:x,children:(0,pe.jsxs)(u.__unstableMotion.div,{style:{position:"absolute",width:f?"100vw":"fit-content",height:"100%",left:0},variants:{open:{x:0},closed:{x:"-100%"}},transition:x,children:[h,a]})})}),(0,pe.jsx)(Bs,{className:"interface-interface-skeleton__content",ariaLabel:g.body,children:s}),!!i&&(0,pe.jsx)(Bs,{className:"interface-interface-skeleton__sidebar",ariaLabel:g.sidebar,children:i}),!!o&&(0,pe.jsx)(Bs,{className:"interface-interface-skeleton__actions",ariaLabel:g.actions,children:o})]})]}),!!t&&(0,pe.jsx)(Bs,{className:"interface-interface-skeleton__footer",ariaLabel:g.footer,children:t})]})})),qs=window.wp.deprecated;var Ws=n.n(qs);function Gs(e){return["core/edit-post","core/edit-site"].includes(e)?(Ws()(`${e} interface scope`,{alternative:"core interface scope",hint:"core/edit-post and core/edit-site are merging.",version:"6.6"}),"core"):e}function Ks(e,t){return"core"===e&&"edit-site/template"===t?(Ws()("edit-site/template sidebar",{alternative:"edit-post/document",version:"6.6"}),"edit-post/document"):"core"===e&&"edit-site/block-inspector"===t?(Ws()("edit-site/block-inspector sidebar",{alternative:"edit-post/block",version:"6.6"}),"edit-post/block"):t}const Qs=(e,t)=>({type:"SET_DEFAULT_COMPLEMENTARY_AREA",scope:e=Gs(e),area:t=Ks(e,t)}),Ys=(e,t)=>({registry:n,dispatch:r})=>{t&&(e=Gs(e),t=Ks(e,t),n.select(He.store).get(e,"isComplementaryAreaVisible")||n.dispatch(He.store).set(e,"isComplementaryAreaVisible",!0),r({type:"ENABLE_COMPLEMENTARY_AREA",scope:e,area:t}))},Xs=e=>({registry:t})=>{e=Gs(e),t.select(He.store).get(e,"isComplementaryAreaVisible")&&t.dispatch(He.store).set(e,"isComplementaryAreaVisible",!1)},Zs=(e,t)=>({registry:n})=>{if(!t)return;e=Gs(e),t=Ks(e,t);const r=n.select(He.store).get(e,"pinnedItems");!0!==r?.[t]&&n.dispatch(He.store).set(e,"pinnedItems",{...r,[t]:!0})},Js=(e,t)=>({registry:n})=>{if(!t)return;e=Gs(e),t=Ks(e,t);const r=n.select(He.store).get(e,"pinnedItems");n.dispatch(He.store).set(e,"pinnedItems",{...r,[t]:!1})};function eo(e,t){return function({registry:n}){Ws()("dispatch( 'core/interface' ).toggleFeature",{since:"6.0",alternative:"dispatch( 'core/preferences' ).toggle"}),n.dispatch(He.store).toggle(e,t)}}function to(e,t,n){return function({registry:r}){Ws()("dispatch( 'core/interface' ).setFeatureValue",{since:"6.0",alternative:"dispatch( 'core/preferences' ).set"}),r.dispatch(He.store).set(e,t,!!n)}}function no(e,t){return function({registry:n}){Ws()("dispatch( 'core/interface' ).setFeatureDefaults",{since:"6.0",alternative:"dispatch( 'core/preferences' ).setDefaults"}),n.dispatch(He.store).setDefaults(e,t)}}function ro(e){return{type:"OPEN_MODAL",name:e}}function io(){return{type:"CLOSE_MODAL"}}const ao=(0,Fe.createRegistrySelector)((e=>(t,n)=>{n=Gs(n);const r=e(He.store).get(n,"isComplementaryAreaVisible");if(void 0!==r)return!1===r?null:t?.complementaryAreas?.[n]})),so=(0,Fe.createRegistrySelector)((e=>(t,n)=>{n=Gs(n);const r=e(He.store).get(n,"isComplementaryAreaVisible"),i=t?.complementaryAreas?.[n];return r&&void 0===i})),oo=(0,Fe.createRegistrySelector)((e=>(t,n,r)=>{var i;r=Ks(n=Gs(n),r);const a=e(He.store).get(n,"pinnedItems");return null===(i=a?.[r])||void 0===i||i})),lo=(0,Fe.createRegistrySelector)((e=>(t,n,r)=>(Ws()("select( 'core/interface' ).isFeatureActive( scope, featureName )",{since:"6.0",alternative:"select( 'core/preferences' ).get( scope, featureName )"}),!!e(He.store).get(n,r))));function co(e,t){return e.activeModal===t}const uo=(0,Fe.combineReducers)({complementaryAreas:function(e={},t){switch(t.type){case"SET_DEFAULT_COMPLEMENTARY_AREA":{const{scope:n,area:r}=t;return e[n]?e:{...e,[n]:r}}case"ENABLE_COMPLEMENTARY_AREA":{const{scope:n,area:r}=t;return{...e,[n]:r}}}return e},activeModal:function(e=null,t){switch(t.type){case"OPEN_MODAL":return t.name;case"CLOSE_MODAL":return null}return e}}),po=(0,Fe.createReduxStore)("core/interface",{reducer:uo,actions:a,selectors:s});(0,Fe.register)(po);const ho=e=>(0,pe.jsx)(Us,{className:"noptin-app__interface",...e}),mo=({brand:e,actions:t})=>(0,pe.jsxs)(u.__experimentalHStack,{as:u.__experimentalSurface,style:{padding:"10px 20px",zIndex:1e3},wrap:!0,children:[(0,pe.jsx)("div",{children:(0,pe.jsxs)(u.__experimentalHStack,{children:[e.logo&&(0,pe.jsx)("img",{src:e.logo,alt:e.name,style:{width:"auto",height:"40px"}}),(0,pe.jsx)(u.__experimentalText,{weight:600,size:14,children:e.name||"Noptin"}),(0,pe.jsx)(u.__experimentalText,{weight:600,size:14,variant:"muted",children:e.version})]})}),t&&(0,pe.jsx)("div",{children:(0,pe.jsx)(u.__experimentalHStack,{children:t.map(((e,t)=>(0,pe.jsx)(u.Button,{...e},t)))})}),(0,pe.jsx)(u.Slot,{name:"noptin-interface__header"})]}),fo=()=>(0,pe.jsx)(u.__experimentalSurface,{style:{padding:"10px 20px"},children:(0,pe.jsx)("a",{href:"https://wordpress.org/support/plugin/newsletter-optin-box/reviews/?filter=5",target:"_blank",rel:"noreferrer",children:(0,pe.jsx)(u.__experimentalText,{size:14,variant:"muted",children:(0,Re.__)("Thank you for using Noptin. Please leave us a review 🌟","newsletter-optin-box")})})});function xo({brand:e,children:t}){const n=(0,pe.jsx)(me,{children:(0,pe.jsx)(mo,{brand:e})}),r=(0,pe.jsxs)(me,{children:[(0,pe.jsx)(u.Fill,{name:"noptin-interface-notices",children:(0,pe.jsx)(ks,{})}),(0,pe.jsx)(Es,{}),t]});return(0,pe.jsx)(ho,{isDistractionFree:!1,header:n,content:r,footer:(0,pe.jsx)(fo,{})})}const go=({defaultRoute:e,brand:t})=>{const n=document.location.pathname,r=n.substring(0,n.lastIndexOf("/"));return(0,pe.jsx)(u.SlotFillProvider,{children:(0,pe.jsx)(me,{children:(0,pe.jsx)(xo,{brand:t,children:(0,pe.jsx)(le,{history:ye(e),children:(0,pe.jsx)(ae,{basename:r,children:(0,pe.jsxs)(re,{path:"/:namespace/:collection",exact:!0,element:(0,pe.jsx)(wr,{}),children:[(0,pe.jsxs)(re,{path:":id",exact:!0,element:(0,pe.jsx)(Ss,{}),children:[(0,pe.jsx)(re,{path:":tab",exact:!0,element:(0,pe.jsx)(ys,{}),children:(0,pe.jsxs)(re,{path:":innerNamespace/:innerCollection",exact:!0,element:(0,pe.jsx)(jr,{}),children:[(0,pe.jsxs)(re,{path:":innerId",exact:!0,element:(0,pe.jsx)(Cs,{}),children:[(0,pe.jsx)(re,{path:":innerTab",exact:!0,element:(0,pe.jsx)(ws,{})}),(0,pe.jsx)(re,{index:!0,element:(0,pe.jsx)(qi,{})})]}),(0,pe.jsx)(re,{path:"add",exact:!0,element:(0,pe.jsx)(zi,{})})]})}),(0,pe.jsx)(re,{index:!0,element:(0,pe.jsx)(Ui,{})})]}),(0,pe.jsx)(re,{path:"add",exact:!0,element:(0,pe.jsx)(Li,{}),handle:{title:({labels:e,collection:t})=>{var n;return null!==(n=e?.add_new_item)&&void 0!==n?n:t}}}),(0,pe.jsx)(re,{path:"import",exact:!0,element:(0,pe.jsx)(Ls,{})}),(0,pe.jsx)(re,{index:!0,element:(0,pe.jsx)(_s,{})})]})})})})})})};l()((()=>{const e=document.getElementById("noptin-collection__app");if(e){const t=window.noptinCollection.brand;let n=window.noptinCollection.collection;const r=(0,d.getQueryArg)(window.location.search,"hizzle_path");r&&r.split("/").length>1&&(n=r),c.createRoot?(0,c.createRoot)(e).render((0,pe.jsx)(go,{brand:t,defaultRoute:n})):(0,c.render)((0,pe.jsx)(go,{brand:t,defaultRoute:n}),e)}}))}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var a=n[e]={exports:{}};return t[e].call(a.exports,a,a.exports,r),a.exports}r.m=t,e=[],r.O=(t,n,i,a)=>{if(!n){var s=1/0;for(d=0;d<e.length;d++){for(var[n,i,a]=e[d],o=!0,l=0;l<n.length;l++)(!1&a||s>=a)&&Object.keys(r.O).every((e=>r.O[e](n[l])))?n.splice(l--,1):(o=!1,a<s&&(s=a));if(o){e.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[n,i,a]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={77:0,405:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var i,a,[s,o,l]=n,c=0;if(s.some((t=>0!==e[t]))){for(i in o)r.o(o,i)&&(r.m[i]=o[i]);if(l)var d=l(r)}for(t&&t(n);c<s.length;c++)a=s[c],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(d)},n=globalThis.webpackChunknoptin_premium=globalThis.webpackChunknoptin_premium||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var i=r.O(void 0,[405],(()=>r(5691)));i=r.O(i)})();