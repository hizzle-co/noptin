(()=>{var e,t={229:(e,t,n)=>{"use strict";n.d(t,{Du:()=>r.A});var r=n(963)},963:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var r=n(609),a=n(942),i=n.n(a),o=n(87),l=n(427),s=n(723),c=n(491),u=n(618);const d={hidden:{opacity:0},hover:{opacity:1,transition:{type:"tween",delay:.2,delayChildren:.2}},distractionFreeInactive:{opacity:1,transition:{delay:0}}},m=(0,o.forwardRef)((function({isDistractionFree:e,footer:t,header:n,editorNotices:a,sidebar:m,secondarySidebar:p,notices:f,content:h,actions:g,labels:_,className:v,enableRegionNavigation:y=!0,shortcuts:b},E){const w=(0,l.__unstableUseNavigateRegions)(b);!function(e){(0,o.useEffect)((()=>{const t=document&&document.querySelector(`html:not(.${e})`);if(t)return t.classList.toggle(e),()=>{t.classList.toggle(e)}}),[e])}("interface-interface-skeleton__html-container");const x={
/* translators: accessibility text for the top bar landmark region. */
header:(0,s._x)("Header","header landmark area"),
/* translators: accessibility text for the content landmark region. */
body:(0,s.__)("Content"),
/* translators: accessibility text for the secondary sidebar landmark region. */
secondarySidebar:(0,s.__)("Block Library"),
/* translators: accessibility text for the settings landmark region. */
sidebar:(0,s.__)("Settings"),
/* translators: accessibility text for the publish landmark region. */
actions:(0,s.__)("Publish"),
/* translators: accessibility text for the footer landmark region. */
footer:(0,s.__)("Footer"),..._};return(0,r.createElement)("div",{...y?w:{},ref:(0,c.useMergeRefs)([E,y?w.ref:void 0]),className:i()(v,"interface-interface-skeleton",w.className,!!t&&"has-footer")},(0,r.createElement)("div",{className:"interface-interface-skeleton__editor"},!!n&&(0,r.createElement)(u.A,{as:l.__unstableMotion.div,className:"interface-interface-skeleton__header","aria-label":x.header,initial:e?"hidden":"distractionFreeInactive",whileHover:e?"hover":"distractionFreeInactive",animate:e?"hidden":"distractionFreeInactive",variants:d,transition:e?{type:"tween",delay:.8}:void 0},n),e&&(0,r.createElement)("div",{className:"interface-interface-skeleton__header"},a),(0,r.createElement)("div",{className:"interface-interface-skeleton__body"},!!p&&(0,r.createElement)(u.A,{className:"interface-interface-skeleton__secondary-sidebar",ariaLabel:x.secondarySidebar},p),!!f&&(0,r.createElement)("div",{className:"interface-interface-skeleton__notices"},f),(0,r.createElement)(u.A,{className:"interface-interface-skeleton__content",ariaLabel:x.body},h),!!m&&(0,r.createElement)(u.A,{className:"interface-interface-skeleton__sidebar",ariaLabel:x.sidebar},m),!!g&&(0,r.createElement)(u.A,{className:"interface-interface-skeleton__actions",ariaLabel:x.actions},g))),!!t&&(0,r.createElement)(u.A,{className:"interface-interface-skeleton__footer",ariaLabel:x.footer},t))}))},618:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(609),a=n(942),i=n.n(a);function o({children:e,className:t,ariaLabel:n,as:a="div",...o}){return(0,r.createElement)(a,{className:i()("interface-navigable-region",t),"aria-label":n,role:"region",tabIndex:"-1",...o},e)}},73:(e,t,n)=>{"use strict";var r={};n.r(r),n.d(r,{apiFetch:()=>Oe.apiFetch,beforeDeleteRecord:()=>Le,setPartialRecords:()=>Me,setRecord:()=>Ne,setRecordOverview:()=>ze,setRecords:()=>Pe,setSchema:()=>De,setTabContent:()=>Be});var a={};n.r(a),n.d(a,{getAllRecords:()=>ot,getPartialRecords:()=>st,getQuerySummary:()=>it,getQueryTotal:()=>at,getRecord:()=>ct,getRecordIDs:()=>rt,getRecordOverview:()=>mt,getRecords:()=>lt,getSchema:()=>ut,getTabContent:()=>dt});var i=n(609),o=n.n(i);const l=window.wp.domReady;var s=n.n(l),c=n(87);const u=window.wp.url;var d=n(427);const m=window.ReactDOM;var p,f;function h(e,t){if(!1===e||null==e)throw new Error(t)}function g(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function _(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v(e,t,n){void 0===n&&(n="/");let r=T(("string"==typeof t?_(t):t).pathname||"/",n);if(null==r)return null;let a=y(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]))?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let i=null;for(let e=0;null==i&&e<a.length;++e){let t=$(r);i=F(a[e],t)}return i}function y(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let a=(e,a,i)=>{let o={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};o.relativePath.startsWith("/")&&(h(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let l=O([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(h(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),y(e.children,t,s,l)),(null!=e.path||e.index)&&t.push({path:l,score:A(l,e.index),routesMeta:s})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of b(e.path))a(e,t,n);else a(e,t)})),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return a?[i,""]:[i];let o=b(r.join("/")),l=[];return l.push(...o.map((e=>""===e?i:[i,e].join("/")))),a&&l.push(...o),l.map((t=>e.startsWith("/")&&""===t?"/":t))}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(p||(p={})),function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(f||(f={})),new Set(["lazy","caseSensitive","path","id","index","children"]);const E=/^:[\w-]+$/,w=3,x=2,k=1,C=10,S=-2,R=e=>"*"===e;function A(e,t){let n=e.split("/"),r=n.length;return n.some(R)&&(r+=S),t&&(r+=x),n.filter((e=>!R(e))).reduce(((e,t)=>e+(E.test(t)?w:""===t?k:C)),r)}function F(e,t){let{routesMeta:n}=e,r={},a="/",i=[];for(let e=0;e<n.length;++e){let o=n[e],l=e===n.length-1,s="/"===a?t:t.slice(a.length)||"/",c=I({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},s);if(!c)return null;Object.assign(r,c.params);let u=o.route;i.push({params:r,pathname:O([a,c.pathname]),pathnameBase:M(O([a,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(a=O([a,c.pathnameBase]))}return i}function I(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),g("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=l[n]||"";o=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const s=l[n];return e[r]=a&&!s?void 0:(s||"").replace(/%2F/g,"/"),e}),{}),pathname:i,pathnameBase:o,pattern:e}}function $(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return g(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function T(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}const O=e=>e.join("/").replace(/\/\/+/g,"/"),M=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");Error;const P=["post","put","patch","delete"],N=(new Set(P),["get",...P]);function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D.apply(this,arguments)}new Set(N),new Set([301,302,303,307,308]),new Set([307,308]),Symbol("deferred");const L=i.createContext(null),B=i.createContext(null),z=i.createContext(null),j=i.createContext(null),V=i.createContext({outlet:null,matches:[],isDataRoute:!1}),H=i.createContext(null);function U(){return null!=i.useContext(j)}const q=i.createContext(null);function W(){let{matches:e}=i.useContext(V),t=e[e.length-1];return t?t.params:{}}function G(e,t,n,r){U()||h(!1);let{navigator:a}=i.useContext(z),{matches:o}=i.useContext(V),l=o[o.length-1],s=l?l.params:{},c=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let u,d=(U()||h(!1),i.useContext(j).location);if(t){var m;let e="string"==typeof t?_(t):t;"/"===c||(null==(m=e.pathname)?void 0:m.startsWith(c))||h(!1),u=e}else u=d;let f=u.pathname||"/",g=f;if("/"!==c){let e=c.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=v(e,{pathname:g}),b=function(e,t,n,r){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var o;if(null==(o=n)||!o.errors)return null;e=n.matches}let l=e,s=null==(a=n)?void 0:a.errors;if(null!=s){let e=l.findIndex((e=>e.route.id&&void 0!==(null==s?void 0:s[e.route.id])));e>=0||h(!1),l=l.slice(0,Math.min(l.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let e=0;e<l.length;e++){let t=l[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(u=e),t.route.id){let{loaderData:e,errors:r}=n,a=t.route.loader&&void 0===e[t.route.id]&&(!r||void 0===r[t.route.id]);if(t.route.lazy||a){c=!0,l=u>=0?l.slice(0,u+1):[l[0]];break}}}return l.reduceRight(((e,r,a)=>{let o,d=!1,m=null,p=null;var f;n&&(o=s&&r.route.id?s[r.route.id]:void 0,m=r.route.errorElement||Q,c&&(u<0&&0===a?(J[f="route-fallback"]||(J[f]=!0),d=!0,p=null):u===a&&(d=!0,p=r.route.hydrateFallbackElement||null)));let h=t.concat(l.slice(0,a+1)),g=()=>{let t;return t=o?m:d?p:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(X,{match:r,routeContext:{outlet:e,matches:h,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?i.createElement(Y,{location:n.location,revalidation:n.revalidation,component:m,error:o,children:g(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):g()}),null)}(y&&y.map((e=>Object.assign({},e,{params:Object.assign({},s,e.params),pathname:O([c,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:O([c,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,n,r);return t&&b?i.createElement(j.Provider,{value:{location:D({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:p.Pop}},b):b}function K(){let e=function(){var e;let t=i.useContext(H),n=function(e){let t=i.useContext(B);return t||h(!1),t}(Z.UseRouteError),r=function(e){let t=function(e){let t=i.useContext(V);return t||h(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||h(!1),n.route.id}(Z.UseRouteError);return void 0!==t?t:null==(e=n.errors)?void 0:e[r]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:r},n):null,null)}const Q=i.createElement(K,null);class Y extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(V.Provider,{value:this.props.routeContext},i.createElement(H.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function X(e){let{routeContext:t,match:n,children:r}=e,a=i.useContext(L);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(V.Provider,{value:t},r)}var Z=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Z||{});const J={};function ee(e){return function(e){let t=i.useContext(V).outlet;return t?i.createElement(q.Provider,{value:e},t):t}(e.context)}function te(e){h(!1)}function ne(e){let{basename:t="/",children:n=null,location:r,navigationType:a=p.Pop,navigator:o,static:l=!1,future:s}=e;U()&&h(!1);let c=t.replace(/^\/*/,"/"),u=i.useMemo((()=>({basename:c,navigator:o,static:l,future:D({v7_relativeSplatPath:!1},s)})),[c,s,o,l]);"string"==typeof r&&(r=_(r));let{pathname:d="/",search:m="",hash:f="",state:g=null,key:v="default"}=r,y=i.useMemo((()=>{let e=T(d,c);return null==e?null:{location:{pathname:e,search:m,hash:f,state:g,key:v},navigationType:a}}),[c,d,m,f,g,v,a]);return null==y?null:i.createElement(z.Provider,{value:u},i.createElement(j.Provider,{children:n,value:y}))}function re(e){let{children:t,location:n}=e;return G(ae(t),n)}function ae(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let a=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,ae(e.props.children,a));e.type!==te&&h(!1),e.props.index&&e.props.children&&h(!1);let o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=ae(e.props.children,a)),n.push(o)})),n}i.startTransition,new Promise((()=>{})),i.Component,new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(e){}new Map;const ie=i.startTransition;function oe(e){let{basename:t,children:n,future:r,history:a}=e,[o,l]=i.useState({action:a.action,location:a.location}),{v7_startTransition:s}=r||{},c=i.useCallback((e=>{s&&ie?ie((()=>l(e))):l(e)}),[l,s]);return i.useLayoutEffect((()=>a.listen(c)),[a,c]),i.createElement(ne,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}var le,se,ce;m.flushSync,i.useId,"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement,(ce=le||(le={})).UseScrollRestoration="useScrollRestoration",ce.UseSubmit="useSubmit",ce.UseSubmitFetcher="useSubmitFetcher",ce.UseFetcher="useFetcher",ce.useViewTransitionState="useViewTransitionState",function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(se||(se={}));var ue=n(723),de=n(491);const me=window.wp.hooks;var pe=n(143);const fe=window.wp.notices;function he({text:e,children:t}){const{createInfoNotice:n}=(0,pe.useDispatch)(fe.store),r=(0,de.useCopyToClipboard)(e,(()=>{n((0,ue.__)("Error copied to clipboard."),{type:"snackbar"})}));return(0,i.createElement)(d.Button,{variant:"secondary",ref:r},t)}function ge({message:e,error:t}){return(0,i.createElement)(d.__experimentalHStack,{justify:"flex-start",wrap:!0},(0,i.createElement)(d.__experimentalText,{style:{fontFamily:"monospace"},isDestructive:!0},e),(0,i.createElement)(he,{key:"copy-error",text:t.stack},(0,ue.__)("Copy Error")))}class _e extends i.Component{constructor(){super(...arguments),this.state={error:null}}componentDidCatch(e){(0,me.doAction)("editor.ErrorBoundary.errorLogged",e)}static getDerivedStateFromError(e){return{error:e}}render(){return this.state.error?(0,i.createElement)(ge,{message:this.props.error||(0,ue.__)("We have encountered an unexpected error."),error:this.state.error}):this.props.children}}function ve(){return ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ve.apply(this,arguments)}var ye;(0,de.createHigherOrderComponent)((e=>t=>(0,i.createElement)(_e,null,(0,i.createElement)(e,{...t}))),"withErrorBoundaryWrapper"),function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(ye||(ye={}));var be=function(e){return e},Ee="beforeunload",we="popstate";function xe(e){e.preventDefault(),e.returnValue=""}function ke(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}let Ce;function Se(e="/"){if(!Ce){const t=function(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function a(){var e=n.location,t=e.pathname,a=e.search,i=e.hash,o=r.state||{};return[o.idx,be({pathname:t,search:a,hash:i,state:o.usr||null,key:o.key||"default"})]}var i=null;n.addEventListener(we,(function(){if(i)d.call(i),i=null;else{var e=ye.Pop,t=a(),n=t[0],r=t[1];if(d.length){if(null!=n){var o=s-n;o&&(i={action:e,location:r,retry:function(){_(-1*o)}},_(o))}}else g(e)}}));var o=ye.Pop,l=a(),s=l[0],c=l[1],u=ke(),d=ke();function m(e){return"string"==typeof e?e:(n=(t=e).pathname,r=void 0===n?"/":n,a=t.search,i=void 0===a?"":a,o=t.hash,l=void 0===o?"":o,i&&"?"!==i&&(r+="?"===i.charAt(0)?i:"?"+i),l&&"#"!==l&&(r+="#"===l.charAt(0)?l:"#"+l),r);var t,n,r,a,i,o,l}function p(e,t){return void 0===t&&(t=null),be(ve({pathname:c.pathname,hash:"",search:""},"string"==typeof e?function(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}(e):e,{state:t,key:Math.random().toString(36).substr(2,8)}))}function f(e,t){return[{usr:e.state,key:e.key,idx:t},m(e)]}function h(e,t,n){return!d.length||(d.call({action:e,location:t,retry:n}),!1)}function g(e){o=e;var t=a();s=t[0],c=t[1],u.call({action:o,location:c})}function _(e){r.go(e)}return null==s&&(s=0,r.replaceState(ve({},r.state,{idx:s}),"")),{get action(){return o},get location(){return c},createHref:m,push:function e(t,a){var i=ye.Push,o=p(t,a);if(h(i,o,(function(){e(t,a)}))){var l=f(o,s+1),c=l[0],u=l[1];try{r.pushState(c,"",u)}catch(e){n.location.assign(u)}g(i)}},replace:function e(t,n){var a=ye.Replace,i=p(t,n);if(h(a,i,(function(){e(t,n)}))){var o=f(i,s),l=o[0],c=o[1];r.replaceState(l,"",c),g(a)}},go:_,back:function(){_(-1)},forward:function(){_(1)},listen:function(e){return u.push(e)},block:function(e){var t=d.push(e);return 1===d.length&&n.addEventListener(Ee,xe),function(){t(),d.length||n.removeEventListener(Ee,xe)}}}}();Ce={get action(){return t.action},get location(){const{location:n}=t,r=(0,u.getQueryArgs)(n.search).hizzle_path||e;return{...n,pathname:r}},createHref:t.createHref,push:t.push,replace:t.replace,go:t.go,back:t.back,forward:t.forward,block:t.block,listen(e){return t.listen((()=>{e({action:this.action,location:this.location})}))}}}return window._history=Ce,Ce}const Re=window.lodash,Ae=()=>Se().location.pathname;function Fe(){const e=Se().location.search;return e.length&&(0,u.getQueryArgs)(e)||{}}function Ie(e,t=Ae(),n=Fe()){const r={...n,...e};return"/"!==t&&(r.hizzle_path=t.replace(/\/{2,}/g,"/")),Object.keys(r).forEach((e=>{""===r[e]&&delete r[e]})),(0,u.addQueryArgs)("admin.php",r)}function $e(e,t=Ae(),n=Fe()){const r=Ie(e,t,n);Se().push(r)}const Te=e=>{Se().push((0,u.addQueryArgs)("admin.php",(0,u.getQueryArgs)(e))),window.scrollTo({top:0,behavior:"smooth"})},Oe=window.wp.dataControls,Me=(e,t)=>({type:"SET_PARTIAL_RECORDS",records:e,queryString:t}),Pe=(e,t)=>({type:"SET_RECORDS",records:e,queryString:t}),Ne=e=>({type:"SET_RECORD",record:e}),De=e=>({type:"SET_SCHEMA",schema:e}),Le=e=>({type:"BEFORE_DELETE_RECORD",id:e}),Be=(e,t,n)=>({type:"SET_TAB_CONTENT",id:e,tab_id:t,content:n}),ze=(e,t)=>({type:"SET_RECORD_OVERVIEW",id:e,overview:t});function je(e,t){return{*createRecord(n,r){const a=`${e}/v1/${t}`,i=yield(0,Oe.apiFetch)({path:a,method:"POST",data:n});if(i)return yield r.invalidateResolutionForStoreSelector("getRecords"),yield r.invalidateResolutionForStoreSelector("getPartialRecords"),yield r.invalidateResolution("getRecord",[i.id]),yield r.startResolution("getRecord",[i.id]),yield r.finishResolution("getRecord",[i.id]),Ne(i)},*updateRecord(n,r,a){const i=`${e}/v1/${t}/${n}`,o=yield(0,Oe.apiFetch)({path:i,method:"PUT",data:r});if(o)return yield a.startResolution("getRecord",[o.id]),yield a.finishResolution("getRecord",[o.id]),a.setRecord(o)},*deleteRecord(n,r){yield r.beforeDeleteRecord(n);const a=`${e}/v1/${t}/${n}`;return yield(0,Oe.apiFetch)({path:a,method:"DELETE"}),yield r.emptyCache(r),{type:"DELETE_RECORD",id:n}},*deleteRecords(n,r){const a=`${e}/v1/${t}${n}`;return yield(0,Oe.apiFetch)({path:a,method:"DELETE"}),yield r.emptyCache(r),{type:"DELETE_RECORDS"}},*batchAction(n,r){const a=`${e}/v1/${t}/batch`,i=yield(0,Oe.apiFetch)({path:a,method:"POST",data:n});return yield r.emptyCache(r),{type:"BATCH_ACTION",result:i}},*emptyCache(e){yield e.invalidateResolutionForStoreSelector("getRecords"),yield e.invalidateResolutionForStoreSelector("getPartialRecords"),yield e.invalidateResolutionForStoreSelector("getRecord"),yield e.invalidateResolutionForStoreSelector("getRecordOverview"),yield e.invalidateResolutionForStoreSelector("getTabContent")}}}const Ve={records:{byID:{},queries:{}},partialRecords:{},schema:{},tabContent:{},recordOverview:{}},He=(0,pe.combineReducers)({schema:function(e={},t){return"SET_SCHEMA"===t.type?t.schema:e},records:function(e={byID:{},queries:{}},t){switch(t.type){case"SET_RECORDS":const n=""===t.queryString?"all":t.queryString;return{byID:{...e.byID,...t.records.items.reduce(((e,t)=>({...e,[t.id]:t})),{})},queries:{...e.queries,[n]:{items:t.records.items.map((e=>e.id)),summary:t.records.summary,total:t.records.total}}};case"SET_RECORD":return{...e,byID:{...e.byID,[t.record.id]:t.record}};case"BEFORE_DELETE_RECORD":const r={...e.queries};return Object.keys(r).forEach((e=>{const n=r[e].items.indexOf(t.id);-1!==n&&(r[e].items.splice(n,1),r[e].total-=1)})),{...e,queries:r};case"DELETE_RECORD":const a={...e.byID};return delete a[t.id],{...e,byID:a};case"DELETE_RECORDS":return{...e,queries:{},byID:{}}}return e},partialRecords:function(e={},t){if("SET_PARTIAL_RECORDS"===t.type){const n=""===t.queryString?"all":t.queryString;return{...e,[n]:t.records}}return e},tabContent:function(e={},t){return"SET_TAB_CONTENT"===t.type?{...e,[`${t.id}_${t.tab_id}`]:t.content}:e},recordOverview:function(e={},t){return"SET_RECORD_OVERVIEW"===t.type?{...e,[t.id]:t.overview}:e}});var Ue=n(233);const qe=e=>(0,u.addQueryArgs)(e,{uniqid:Math.random()});function We(e,t){const n=`${e}/${t}`;return{*getRecords(n){const r=qe(`${e}/v1/${t}${n}`),a=yield(0,Oe.apiFetch)({path:r});if(a){const r=`${e}/${t}`,i=a.items.map((e=>[e.id]));return yield pe.controls.dispatch(r,"startResolutions","getRecord",i),yield pe.controls.dispatch(r,"finishResolutions","getRecord",i),Pe(a,n)}},*getPartialRecords(n){const r=qe(`${e}/v1/${t}${n}`),a=yield(0,Oe.apiFetch)({path:r});if(a)return Me(a.items,n)},*getRecord(n){if(!n)throw new Error("Record not found.");const r=qe(`${e}/v1/${t}/${n}`),a=yield(0,Oe.apiFetch)({path:r});return Ne(a)},*getSchema(){const r=qe(`${e}/v1/${t}/collection_schema`),a=yield(0,Oe.apiFetch)({path:r});return yield(0,pe.dispatch)(Ue.store).setDefaults(n,{view:{type:"table",hiddenFields:a.hidden||[]}}),De(a)},*getTabContent(n,r){if(!n)throw new Error("Record not found.");const a=qe(`${e}/v1/${t}/${n}/${r}`),i=yield(0,Oe.apiFetch)({path:a});return Be(n,r,i)},*getRecordOverview(n){if(!n)throw new Error("Record not found.");const r=qe(`${e}/v1/${t}/${n}/overview`),a=yield(0,Oe.apiFetch)({path:r});return ze(n,a)}}}var Ge=e=>Array.isArray(e)?e:[e];Symbol(),Object.getPrototypeOf({});var Ke="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}},Qe=0,Ye=1;function Xe(){return{s:Qe,v:void 0,o:null,p:null}}function Ze(e,t={}){let n=Xe();const{resultEqualityCheck:r}=t;let a,i=0;function o(){let t=n;const{length:o}=arguments;for(let e=0,n=o;e<n;e++){const n=arguments[e];if("function"==typeof n||"object"==typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t=Xe(),e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t=Xe(),e.set(n,t)):t=r}}const l=t;let s;if(t.s===Ye?s=t.v:(s=e.apply(null,arguments),i++),l.s=Ye,r){const e=a?.deref?.()??a;null!=e&&r(e,s)&&(s=e,0!==i&&i--),a="object"==typeof s&&null!==s||"function"==typeof s?new Ke(s):s}return l.v=s,s}return o.clearCache=()=>{n=Xe(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function Je(e,...t){const n="function"==typeof e?{memoize:e,memoizeOptions:t}:e,r=(...e)=>{let t,r=0,a=0,i={},o=e.pop();"object"==typeof o&&(i=o,o=e.pop()),function(e,t="expected a function, instead received "+typeof e){if("function"!=typeof e)throw new TypeError(t)}(o,`createSelector expects an output function after the inputs, but received: [${typeof o}]`);const l={...n,...i},{memoize:s,memoizeOptions:c=[],argsMemoize:u=Ze,argsMemoizeOptions:d=[],devModeChecks:m={}}=l,p=Ge(c),f=Ge(d),h=function(e){const t=Array.isArray(e[0])?e[0]:e;return function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every((e=>"function"==typeof e))){const n=e.map((e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e)).join(", ");throw new TypeError(`${t}[${n}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}(e),g=s((function(){return r++,o.apply(null,arguments)}),...p),_=u((function(){a++;const e=function(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}(h,arguments);return t=g.apply(null,e),t}),...f);return Object.assign(_,{resultFunc:o,memoizedResultFunc:g,dependencies:h,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>t,recomputations:()=>r,resetRecomputations:()=>{r=0},memoize:s,argsMemoize:u})};return Object.assign(r,{withTypes:()=>r}),r}var et=Je(Ze),tt=Object.assign(((e,t=et)=>{!function(e,t="expected an object, instead received "+typeof e){if("object"!=typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const n=Object.keys(e);return t(n.map((t=>e[t])),((...e)=>e.reduce(((e,t,r)=>(e[n[r]]=t,e)),{})))}),{withTypes:()=>tt});const nt={items:[],summary:{},total:0},rt=(e=Ve,t)=>{var n;return t=""===t?"all":t,null!==(n=e.records.queries[t])&&void 0!==n?n:nt},at=(e=Ve,t)=>{t=""===t?"all":t;const n=e.records.queries[t]?.total;return n||0},it=(e=Ve,t)=>{t=""===t?"all":t;const n=e.records.queries[t]?.summary;return n||{}},ot=(e=Ve)=>e.records.byID||{},lt=et(rt,ot,((e,t)=>({...e,items:e.items.map((e=>t[e]))}))),st=(e=Ve,t)=>(t=""===t?"all":t,Array.isArray(e.partialRecords[t])?e.partialRecords[t]:[]),ct=(e=Ve,t)=>e.records.byID[t]||null,ut=(e=Ve)=>e.schema||{},dt=(e=Ve,t,n)=>e.tabContent[`${t}_${n}`]||{},mt=(e=Ve,t)=>e.recordOverview[t]||[],pt={};function ft(e,t){return function(e,t){const n=`${e}/${t}`;return pt[n]||(pt[n]=(0,pe.createReduxStore)(n,{reducer:He,actions:{...r,...je(e,t)},selectors:{...a},controls:Oe.controls,resolvers:We(e,t)}),(0,pe.register)(pt[n])),pt[n]}(e,t)}const ht=["getIsResolving","hasStartedResolution","hasFinishedResolution","isResolving","getCachedResolvers","getResolutionError","hasResolutionFailed","getAllRecordData"],gt=e=>{const t={...e};delete t.hizzle_path,delete t.page,1===parseInt(t.paged)&&delete t.paged,t.primary_field&&(t[t.primary_field]&&!Array.isArray(t[t.primary_field])&&(t[t.primary_field]=t[t.primary_field].split(",")),delete t.primary_field);const n={};return Object.keys(t).sort().forEach((e=>{n[e]=t[e]})),(0,u.addQueryArgs)("",n)};function _t(e,t){return(0,pe.useSelect)(((t,n)=>e((e=>vt(t(e))),n)),t)}const vt=function(e,t){var n,r,a=0;function i(){var i,o,l=n,s=arguments.length;e:for(;l;){if(l.args.length===arguments.length){for(o=0;o<s;o++)if(l.args[o]!==arguments[o]){l=l.next;continue e}return l!==n&&(l===r&&(r=l.prev),l.prev.next=l.next,l.next&&(l.next.prev=l.prev),l.next=n,l.prev=null,n.prev=l,n=l),l.val}l=l.next}for(i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return l={args:i,val:e.apply(null,i)},n?(n.prev=l,l.next=n):r=l,a===t.maxSize?(r=r.prev).next=null:a++,n=l,l.val}return t=t||{},i.clear=function(){n=null,r=null,a=0},i}((e=>{const t={};for(const n in e)ht.includes(n)?t[n]=e[n]:Object.defineProperty(t,n,{get:()=>(...t)=>{const{getIsResolving:r,hasFinishedResolution:a,getResolutionError:i,hasResolutionFailed:o,hasStartedResolution:l}=e,s=i(n,t),c=!!r(n,t)||!l(n,t),u=!c&&a(n,t),d=e[n](...t);let m;return m=c?"RESOLVING":u?o(n,t)||s?"ERROR":"SUCCESS":"IDLE",{data:d,status:m,isResolving:c,hasResolved:u,error:s}}});return t}));function yt(e,t,n){const r=ft(e,t);n=parseInt(n,10);const a=(0,pe.useDispatch)(r),i=(0,c.useMemo)((()=>({save:(e={})=>a.updateRecord(n,e,a),delete:()=>a.deleteRecord(n,a).catch((e=>{console.error(e)}))})),[n]);return{..._t((e=>e(r).getRecord(n)),[e,t,n]),...i}}function bt(e,t,n={}){const r=gt(n);return _t((n=>n(ft(e,t)).getRecords(r)),[e,t,r])}function Et(e,t){return _t((n=>n(ft(e,t)).getSchema()),[e,t])}function wt(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var xt=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,kt=wt((function(e){return xt.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),Ct=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(e){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),St=Math.abs,Rt=String.fromCharCode,At=Object.assign;function Ft(e){return e.trim()}function It(e,t,n){return e.replace(t,n)}function $t(e,t){return e.indexOf(t)}function Tt(e,t){return 0|e.charCodeAt(t)}function Ot(e,t,n){return e.slice(t,n)}function Mt(e){return e.length}function Pt(e){return e.length}function Nt(e,t){return t.push(e),e}var Dt=1,Lt=1,Bt=0,zt=0,jt=0,Vt="";function Ht(e,t,n,r,a,i,o){return{value:e,root:t,parent:n,type:r,props:a,children:i,line:Dt,column:Lt,length:o,return:""}}function Ut(e,t){return At(Ht("",null,null,"",null,null,0),e,{length:-e.length},t)}function qt(){return jt=zt>0?Tt(Vt,--zt):0,Lt--,10===jt&&(Lt=1,Dt--),jt}function Wt(){return jt=zt<Bt?Tt(Vt,zt++):0,Lt++,10===jt&&(Lt=1,Dt++),jt}function Gt(){return Tt(Vt,zt)}function Kt(){return zt}function Qt(e,t){return Ot(Vt,e,t)}function Yt(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Xt(e){return Dt=Lt=1,Bt=Mt(Vt=e),zt=0,[]}function Zt(e){return Vt="",e}function Jt(e){return Ft(Qt(zt-1,nn(91===e?e+2:40===e?e+1:e)))}function en(e){for(;(jt=Gt())&&jt<33;)Wt();return Yt(e)>2||Yt(jt)>3?"":" "}function tn(e,t){for(;--t&&Wt()&&!(jt<48||jt>102||jt>57&&jt<65||jt>70&&jt<97););return Qt(e,Kt()+(t<6&&32==Gt()&&32==Wt()))}function nn(e){for(;Wt();)switch(jt){case e:return zt;case 34:case 39:34!==e&&39!==e&&nn(jt);break;case 40:41===e&&nn(e);break;case 92:Wt()}return zt}function rn(e,t){for(;Wt()&&e+jt!==57&&(e+jt!==84||47!==Gt()););return"/*"+Qt(t,zt-1)+"*"+Rt(47===e?e:Wt())}function an(e){for(;!Yt(Gt());)Wt();return Qt(e,zt)}var on="-ms-",ln="-moz-",sn="-webkit-",cn="comm",un="rule",dn="decl",mn="@keyframes";function pn(e,t){for(var n="",r=Pt(e),a=0;a<r;a++)n+=t(e[a],a,e,t)||"";return n}function fn(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case dn:return e.return=e.return||e.value;case cn:return"";case mn:return e.return=e.value+"{"+pn(e.children,r)+"}";case un:e.value=e.props.join(",")}return Mt(n=pn(e.children,r))?e.return=e.value+"{"+n+"}":""}function hn(e){return Zt(gn("",null,null,null,[""],e=Xt(e),0,[0],e))}function gn(e,t,n,r,a,i,o,l,s){for(var c=0,u=0,d=o,m=0,p=0,f=0,h=1,g=1,_=1,v=0,y="",b=a,E=i,w=r,x=y;g;)switch(f=v,v=Wt()){case 40:if(108!=f&&58==Tt(x,d-1)){-1!=$t(x+=It(Jt(v),"&","&\f"),"&\f")&&(_=-1);break}case 34:case 39:case 91:x+=Jt(v);break;case 9:case 10:case 13:case 32:x+=en(f);break;case 92:x+=tn(Kt()-1,7);continue;case 47:switch(Gt()){case 42:case 47:Nt(yn(rn(Wt(),Kt()),t,n),s);break;default:x+="/"}break;case 123*h:l[c++]=Mt(x)*_;case 125*h:case 59:case 0:switch(v){case 0:case 125:g=0;case 59+u:-1==_&&(x=It(x,/\f/g,"")),p>0&&Mt(x)-d&&Nt(p>32?bn(x+";",r,n,d-1):bn(It(x," ","")+";",r,n,d-2),s);break;case 59:x+=";";default:if(Nt(w=vn(x,t,n,c,u,a,l,y,b=[],E=[],d),i),123===v)if(0===u)gn(x,t,w,w,b,i,d,l,E);else switch(99===m&&110===Tt(x,3)?100:m){case 100:case 108:case 109:case 115:gn(e,w,w,r&&Nt(vn(e,w,w,0,0,a,l,y,a,b=[],d),E),a,E,d,l,r?b:E);break;default:gn(x,w,w,w,[""],E,0,l,E)}}c=u=p=0,h=_=1,y=x="",d=o;break;case 58:d=1+Mt(x),p=f;default:if(h<1)if(123==v)--h;else if(125==v&&0==h++&&125==qt())continue;switch(x+=Rt(v),v*h){case 38:_=u>0?1:(x+="\f",-1);break;case 44:l[c++]=(Mt(x)-1)*_,_=1;break;case 64:45===Gt()&&(x+=Jt(Wt())),m=Gt(),u=d=Mt(y=x+=an(Kt())),v++;break;case 45:45===f&&2==Mt(x)&&(h=0)}}return i}function vn(e,t,n,r,a,i,o,l,s,c,u){for(var d=a-1,m=0===a?i:[""],p=Pt(m),f=0,h=0,g=0;f<r;++f)for(var _=0,v=Ot(e,d+1,d=St(h=o[f])),y=e;_<p;++_)(y=Ft(h>0?m[_]+" "+v:It(v,/&\f/g,m[_])))&&(s[g++]=y);return Ht(e,t,n,0===a?un:l,s,c,u)}function yn(e,t,n){return Ht(e,t,n,cn,Rt(jt),Ot(e,2,-2),0)}function bn(e,t,n,r){return Ht(e,t,n,dn,Ot(e,0,r),Ot(e,r+1,-1),r)}var En=function(e,t,n){for(var r=0,a=0;r=a,a=Gt(),38===r&&12===a&&(t[n]=1),!Yt(a);)Wt();return Qt(e,zt)},wn=new WeakMap,xn=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||wn.get(n))&&!r){wn.set(e,!0);for(var a=[],i=function(e,t){return Zt(function(e,t){var n=-1,r=44;do{switch(Yt(r)){case 0:38===r&&12===Gt()&&(t[n]=1),e[n]+=En(zt-1,t,n);break;case 2:e[n]+=Jt(r);break;case 4:if(44===r){e[++n]=58===Gt()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Rt(r)}}while(r=Wt());return e}(Xt(e),t))}(t,a),o=n.props,l=0,s=0;l<i.length;l++)for(var c=0;c<o.length;c++,s++)e.props[s]=a[l]?i[l].replace(/&\f/g,o[c]):o[c]+" "+i[l]}}},kn=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Cn(e,t){switch(function(e,t){return 45^Tt(e,0)?(((t<<2^Tt(e,0))<<2^Tt(e,1))<<2^Tt(e,2))<<2^Tt(e,3):0}(e,t)){case 5103:return sn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return sn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return sn+e+ln+e+on+e+e;case 6828:case 4268:return sn+e+on+e+e;case 6165:return sn+e+on+"flex-"+e+e;case 5187:return sn+e+It(e,/(\w+).+(:[^]+)/,sn+"box-$1$2"+on+"flex-$1$2")+e;case 5443:return sn+e+on+"flex-item-"+It(e,/flex-|-self/,"")+e;case 4675:return sn+e+on+"flex-line-pack"+It(e,/align-content|flex-|-self/,"")+e;case 5548:return sn+e+on+It(e,"shrink","negative")+e;case 5292:return sn+e+on+It(e,"basis","preferred-size")+e;case 6060:return sn+"box-"+It(e,"-grow","")+sn+e+on+It(e,"grow","positive")+e;case 4554:return sn+It(e,/([^-])(transform)/g,"$1"+sn+"$2")+e;case 6187:return It(It(It(e,/(zoom-|grab)/,sn+"$1"),/(image-set)/,sn+"$1"),e,"")+e;case 5495:case 3959:return It(e,/(image-set\([^]*)/,sn+"$1$`$1");case 4968:return It(It(e,/(.+:)(flex-)?(.*)/,sn+"box-pack:$3"+on+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+sn+e+e;case 4095:case 3583:case 4068:case 2532:return It(e,/(.+)-inline(.+)/,sn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Mt(e)-1-t>6)switch(Tt(e,t+1)){case 109:if(45!==Tt(e,t+4))break;case 102:return It(e,/(.+:)(.+)-([^]+)/,"$1"+sn+"$2-$3$1"+ln+(108==Tt(e,t+3)?"$3":"$2-$3"))+e;case 115:return~$t(e,"stretch")?Cn(It(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Tt(e,t+1))break;case 6444:switch(Tt(e,Mt(e)-3-(~$t(e,"!important")&&10))){case 107:return It(e,":",":"+sn)+e;case 101:return It(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+sn+(45===Tt(e,14)?"inline-":"")+"box$3$1"+sn+"$2$3$1"+on+"$2box$3")+e}break;case 5936:switch(Tt(e,t+11)){case 114:return sn+e+on+It(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return sn+e+on+It(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return sn+e+on+It(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return sn+e+on+e+e}return e}var Sn=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case dn:e.return=Cn(e.value,e.length);break;case mn:return pn([Ut(e,{value:It(e.value,"@","@"+sn)})],r);case un:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=/(::plac\w+|:read-\w+)/.exec(e))?e[0]:e}(t)){case":read-only":case":read-write":return pn([Ut(e,{props:[It(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return pn([Ut(e,{props:[It(t,/:(plac\w+)/,":"+sn+"input-$1")]}),Ut(e,{props:[It(t,/:(plac\w+)/,":-moz-$1")]}),Ut(e,{props:[It(t,/:(plac\w+)/,on+"input-$1")]})],r)}return""}))}}],Rn=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,a,i=e.stylisPlugins||Sn,o={},l=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;l.push(e)}));var s,c,u=[fn,(c=function(e){s.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],d=function(e){var t=Pt(e);return function(n,r,a,i){for(var o="",l=0;l<t;l++)o+=e[l](n,r,a,i)||"";return o}}([xn,kn].concat(i,u));a=function(e,t,n,r){s=n,pn(hn(e?e+"{"+t.styles+"}":t.styles),d),r&&(m.inserted[t.name]=!0)};var m={key:t,sheet:new Ct({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return m.sheet.hydrate(l),m},An={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Fn=/[A-Z]|^ms/g,In=/_EMO_([^_]+?)_([^]*?)_EMO_/g,$n=function(e){return 45===e.charCodeAt(1)},Tn=function(e){return null!=e&&"boolean"!=typeof e},On=wt((function(e){return $n(e)?e:e.replace(Fn,"-$&").toLowerCase()})),Mn=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(In,(function(e,t,n){return Nn={name:t,styles:n,next:Nn},t}))}return 1===An[e]||$n(e)||"number"!=typeof t||0===t?t:t+"px"};function Pn(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Nn={name:n.name,styles:n.styles,next:Nn},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Nn={name:r.name,styles:r.styles,next:Nn},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var a=0;a<n.length;a++)r+=Pn(e,t,n[a])+";";else for(var i in n){var o=n[i];if("object"!=typeof o)null!=t&&void 0!==t[o]?r+=i+"{"+t[o]+"}":Tn(o)&&(r+=On(i)+":"+Mn(i,o)+";");else if(!Array.isArray(o)||"string"!=typeof o[0]||null!=t&&void 0!==t[o[0]]){var l=Pn(e,t,o);switch(i){case"animation":case"animationName":r+=On(i)+":"+l+";";break;default:r+=i+"{"+l+"}"}}else for(var s=0;s<o.length;s++)Tn(o[s])&&(r+=On(i)+":"+Mn(i,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var a=Nn,i=n(e);return Nn=a,Pn(e,t,i)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var Nn,Dn=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ln=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,a="";Nn=void 0;var i=e[0];null==i||void 0===i.raw?(r=!1,a+=Pn(n,t,i)):a+=i[0];for(var o=1;o<e.length;o++)a+=Pn(n,t,e[o]),r&&(a+=i[o]);Dn.lastIndex=0;for(var l,s="";null!==(l=Dn.exec(a));)s+="-"+l[1];var c=function(e){for(var t,n=0,r=0,a=e.length;a>=4;++r,a-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(a){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(a)+s;return{name:c,styles:a,next:Nn}},Bn=!!i.useInsertionEffect&&i.useInsertionEffect,zn=Bn||function(e){return e()},jn=(Bn||i.useLayoutEffect,i.createContext("undefined"!=typeof HTMLElement?Rn({key:"css"}):null));jn.Provider;var Vn=i.createContext({}),Hn=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Un=kt,qn=function(e){return"theme"!==e},Wn=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?Un:qn},Gn=function(e,t,n){var r;if(t){var a=t.shouldForwardProp;r=e.__emotion_forwardProp&&a?function(t){return e.__emotion_forwardProp(t)&&a(t)}:a}return"function"!=typeof r&&n&&(r=e.__emotion_forwardProp),r},Kn=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return Hn(t,n,r),zn((function(){return function(e,t,n){Hn(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+r:"",a,e.sheet,!0),a=a.next}while(void 0!==a)}}(t,n,r)})),null},Qn=function e(t,n){var r,a,o=t.__emotion_real===t,l=o&&t.__emotion_base||t;void 0!==n&&(r=n.label,a=n.target);var s=Gn(t,n,o),c=s||Wn(l),u=!c("as");return function(){var d=arguments,m=o&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&m.push("label:"+r+";"),null==d[0]||void 0===d[0].raw)m.push.apply(m,d);else{m.push(d[0][0]);for(var p=d.length,f=1;f<p;f++)m.push(d[f],d[0][f])}var h,g=(h=function(e,t,n){var r,o,d,p,f=u&&e.as||l,h="",g=[],_=e;if(null==e.theme){for(var v in _={},e)_[v]=e[v];_.theme=i.useContext(Vn)}"string"==typeof e.className?(r=t.registered,o=g,d=e.className,p="",d.split(" ").forEach((function(e){void 0!==r[e]?o.push(r[e]+";"):p+=e+" "})),h=p):null!=e.className&&(h=e.className+" ");var y=Ln(m.concat(g),t.registered,_);h+=t.key+"-"+y.name,void 0!==a&&(h+=" "+a);var b=u&&void 0===s?Wn(f):c,E={};for(var w in e)u&&"as"===w||b(w)&&(E[w]=e[w]);return E.className=h,E.ref=n,i.createElement(i.Fragment,null,i.createElement(Kn,{cache:t,serialized:y,isStringTag:"string"==typeof f}),i.createElement(f,E))},(0,i.forwardRef)((function(e,t){var n=(0,i.useContext)(jn);return h(e,n,t)})));return g.displayName=void 0!==r?r:"Styled("+("string"==typeof l?l:l.displayName||l.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=l,g.__emotion_styles=m,g.__emotion_forwardProp=s,Object.defineProperty(g,"toString",{value:function(){return"."+a}}),g.withComponent=function(t,r){return e(t,ve({},n,r,{shouldForwardProp:Gn(g,r,!0)})).apply(void 0,m)},g}}.bind();function Yn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ln(t)}["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Qn[e]=Qn(e)})),n(146),Qn.div`
	border: 1px solid ${"#e2e4e7"};
`,Qn.div`
	min-height: 100vh;
`;const Xn=Yn`
	margin-bottom: 1.6rem;
`,Zn=Qn(d.Notice)`
	margin: 0 !important;
`,Jn=Qn(d.Button,{shouldForwardProp:e=>!["maxWidth","__withNoMargin"].includes(e)})`
	width: 100%;
	justify-content: center;
	font-size: 14px;
	min-height: 50px;
	margin: ${e=>e.__withNoMargin?"0":"1.6rem 0"};
	max-width: ${e=>e.maxWidth?e.maxWidth:"100%"};
`,er=Qn.div`
	background-color: #cbeeff;
	padding: 1rem;
	border-radius: 4px;
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	min-height: 100px;
	box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);

	& p {
		font-size: 14px;
		color: #001012;
	}

	& .components-button {
		margin-left: 4px;
	}

	${Xn}
`,tr=Qn.div`
	border-left: 4px solid #cc1818;
	margin: 5px 15px 2px 0;
	padding: 16px 12px;
	background-color: #f8cbcb;
`,nr=Qn(d.__experimentalText)`
	margin-bottom: 1.6rem;
	font-weight: 600;
	font-size: 20px;
`,rr=Qn(d.__experimentalText)`
	font-weight: 600;
	font-size: 16px;
	color: currentColor;
`,ar=Qn.div`
	width: 100%;
	height: 20px;
	background: #eee;
	margin: 1.6rem 0;
	border-radius: 0.25rem;
	max-width: 600px;
	overflow: hidden;
`,ir=Qn.div`
	${({total:e,processed:t})=>Yn`width: ${e===t?"100%":t?t/e*100+"%":"1%"};`};
	height: 100%;
	transition: width 3s ease-in-out;
	animation: position 3s linear infinite;
	position: relative;
	border-radius: 0.25rem;

	@keyframes position {
		0% {
			left: 0;
			right: 100%;
			background: #72aee6;
		}
		100% {
			right: 0;
			left: 100%;
			background: #007cba;
		}
	}
`,or=({total:e,processed:t})=>(0,i.createElement)(ar,null,(0,i.createElement)(ir,{total:e,processed:t})),lr=Qn.img`
	height: 32px;
	width: 32px;
	max-width: 32px;
	max-height: 32px;
    overflow: hidden;
	border-radius: 50%;
	box-shadow: 2px 2px 2px rgb(0 0 0 / 5%);
`,sr=Qn(d.NavigableMenu)`
	border: 1px solid #9E9E9E;
	background-color: #fff;
	margin-bottom: 1rem;
	padding: 0.3rem;
`,cr=Qn.div`
	${({height:e,width:t,maxWidth:n})=>Yn`
		height: ${e=e||"16px"};
		width: ${t=t||"80%"};
		max-width: ${n=n||"120px"};
	`};
	display: inline-block;
	min-height: 1em;
	vertical-align: middle;
	cursor: wait;
	background-color: currentColor;
	opacity: .5;

	animation: placeholder-glow 2s ease-in-out infinite;

	@keyframes placeholder-glow {
		50% {
			opacity: .2;
		}
	}
`,ur=Qn("span",{shouldForwardProp:e=>!["color","backgroundColor"].includes(e)})`
	${({color:e,backgroundColor:t})=>Yn`
		background-color: ${t=t||"#efeeea"};
		color: ${e=e||"#241c15"};
	`}
	white-space: nowrap;
	border-radius: 200px;
	height: 24px;
	line-height: 24px;
	padding: 3px 9px;
	display: inline-block;
	box-sizing: content-box;
`,dr=({upsell:e})=>{if(!e)return null;const{content:t,buttonURL:n,buttonText:r}=e;return(0,i.createElement)(er,null,(0,i.createElement)(d.Tip,null,t,(0,i.createElement)(d.Button,{href:n,target:"_blank",variant:"link"},r)))};function mr(){const{namespace:e,collection:t}=W();return(n="")=>Te(Ie({},`/${e}/${t}/${n}`))}function pr(){return(e="")=>{const t=Ae();t.endsWith("/")&&(t=t.substring(0,t.length-1)),e.startsWith("/")||(e=`/${e}`),Te(Ie({},`${t}${e}`))}}function fr(e,t){if(e.length>0)return{include:e.join(","),number:-1};const n={...t,number:-1};return["order","hizzle_path","orderby","paged","page"].forEach((e=>{delete n[e]})),n}const hr=(0,de.createHigherOrderComponent)((e=>t=>{const n=Et(t.namespace,t.collection);return n.isResolving||!n.hasResolved?(0,i.createElement)(d.Spinner,null):"ERROR"===n.status?(0,i.createElement)(d.Notice,{status:"error",isDismissible:!1},n.error?.message||(0,ue.__)("An unknown error occurred.","newsletter-optin-box")):(0,i.createElement)(_e,null,(0,i.createElement)(e,{...t,schema:n.data}))}),"withSchema"),gr=({routes:e,namespace:t,collection:n,labels:r})=>(0,i.createElement)(d.Fill,{name:"noptin-interface__header"},(0,i.createElement)("div",null,(0,i.createElement)(d.__experimentalHStack,null,`/${t}/${n}`!==Ae()?(0,i.createElement)(d.Button,{variant:"primary",onClick:()=>Te(Ie({},`/${t}/${n}`)),style:{marginLeft:"10px"}},r?.view_items||(0,ue.__)("View Records","newsletter-optin-box")):(0,i.createElement)(d.Button,{variant:"primary",onClick:()=>Te(Ie({},`/${t}/${n}/add`)),style:{marginLeft:"10px"}},r?.add_new_item||(0,ue.__)("Add New","newsletter-optin-box")),e&&Object.keys(e).map((t=>(0,i.createElement)(o().Fragment,{key:t},e[t].href?(0,i.createElement)(d.Button,{href:e[t].href,variant:"secondary"},e[t].title):(0,i.createElement)(d.Button,{onClick:()=>Te(Ie({},t)),variant:"secondary"},e[t].title))))))),_r=hr((({namespace:e,collection:t,isParent:n,schema:r})=>{const a=r.routes;return(0,i.createElement)("div",{style:{paddingBottom:40}},(0,i.createElement)(_e,null,n&&(0,i.createElement)(gr,{routes:a,labels:r.labels,namespace:e,collection:t})),(0,i.createElement)(_e,null,(0,i.createElement)(ee,null)),r.fills&&r.fills.map((e=>(0,i.createElement)(d.Fill,{key:e.name,name:`${e.name}${n?"":"--inner"}`},(0,i.createElement)(_e,null,e.content&&(0,i.createElement)("span",{dangerouslySetInnerHTML:{__html:e.content}}),e.upsell&&(0,i.createElement)(dr,{upsell:e.upsell}))))))})),vr=()=>{const{namespace:e,collection:t,id:n}=W();return(0,i.createElement)(_r,{namespace:e,collection:t,id:n,isParent:!0})},yr=()=>{const{id:e,tab:t,innerTab:n,innerNamespace:r,innerCollection:a,innerId:o}=W(),l=mr(),s=(0,i.useCallback)((()=>l(`${e}/${t}`)),[l,t,e]),c=Et(r,a),u=c.data?.labels||{},m={add_new_item:(0,ue.__)("Add New Item","newsletter-optin-box"),view_item:(0,ue.__)("View Item","newsletter-optin-box")},p={add:"add_new_item",edit:"view_item"},f=p[n]?u[p[n]]||m[p[n]]:u.name||(0,ue.__)("Items","newsletter-optin-box");return(0,i.createElement)(d.Modal,{title:f,onRequestClose:s},(0,i.createElement)(_r,{namespace:r,collection:a,id:o,isParent:!1}))},br=(0,c.forwardRef)((({actions:e,className:t,title:n,menu:r,children:a},o)=>(0,i.createElement)(d.Card,{className:t,ref:o},(0,i.createElement)(_e,null,(0,i.createElement)(d.CardHeader,null,(0,i.createElement)(d.Flex,{justify:"start",wrap:!0},(0,i.createElement)(d.FlexItem,null,(0,i.createElement)(d.__experimentalText,{size:16,weight:600,as:"h2",color:"#23282d"},n)),e&&(0,i.createElement)(d.FlexItem,{className:"noptin-screen__actions"}," ",e," ")),r&&r),a))));function Er({label:e,value:t}){const n=e.toLowerCase().replace(/[^a-z0-9]/g,"-");return(0,i.createElement)("li",{className:`noptin-list-item noptin-list-item__${n}`},(0,i.createElement)("div",{className:"noptin-list-item__key"},e),(0,i.createElement)("div",{className:"noptin-list-item__value"},t))}function wr({items:e}){return(0,i.createElement)("ul",{className:"noptin-component__list"},e.map((e=>(0,i.createElement)(Er,{key:e.label,label:e.label,value:e.value}))))}const xr=Qn.div`
    ${({status:e})=>"success"===e?Yn`
            background-color: #d4edda;
            color: #155724;

            & h2,
            & h3 {
                color: #155724;
            }
        `:"info"===e?Yn`
            background-color: #cbeeff;
            color: #0c5460;

            & h2,
            & h3 {
                color: #0c5460;
            }
        `:"warning"===e?Yn`
            background-color: #fff3cd;
            color: #856404;

            & h2,
            & h3 {
                color: #856404;
            }
        `:"error"===e?Yn`
            background-color: #f8cbcb;
            color: #cc1818;

            & h2,
            & h3 {
                color: #cc1818;
            }
        `:"dark"===e?Yn`
            background-color: #212529;
            color: #f8f9fa;

            & h2,
            & h3 {
                color: #f8f9fa;
            }
        `:Yn`
        background-color: #f8f9fa;
        color: #212529;

        & h2,
        & h3 {
            color: #212529;
        }
    `};
    padding: 0.25rem;
    text-align: center;
    box-shadow: 2px 2px 2px rgb(0 0 0 / 5%);
    min-width: 100px;
    border-radius: 4px;
`;function kr({value:e,label:t,status:n}){return(0,i.createElement)(xr,{status:n},(0,i.createElement)(d.Flex,{direction:"column",justify:"center",style:{minHeight:"100px"}},(0,i.createElement)(d.FlexItem,null,(0,i.createElement)(d.__experimentalText,{size:48,weight:600,as:"h2"},e)),(0,i.createElement)(d.FlexItem,null,(0,i.createElement)(d.__experimentalText,{size:13,weight:400,as:"h3"},t))))}const Cr=({items:e,title:t})=>(0,i.createElement)(d.Card,{className:Xn},(0,i.createElement)(d.CardHeader,null,t),(0,i.createElement)(d.CardBody,null,(0,i.createElement)(wr,{items:e}))),Sr=({cards:e})=>(0,i.createElement)(d.Flex,{className:Xn,gap:2,justify:"flex-end",wrap:!0},e.map((({title:e,value:t,status:n})=>(0,i.createElement)(d.FlexItem,{key:e},(0,i.createElement)(kr,{status:n||"info",label:e,value:(0,i.createElement)("span",{dangerouslySetInnerHTML:{__html:t}})}))))),Rr=({content:e,buttonText:t,buttonLink:n})=>(0,i.createElement)(d.Card,{className:Xn,variant:"secondary"},(0,i.createElement)(d.CardBody,null,(0,i.createElement)("div",{className:Xn,dangerouslySetInnerHTML:{__html:e}}),t&&n&&(0,i.createElement)(d.Button,{variant:"secondary",href:n,text:t}))),Ar=({confirm:e,label:t,namespace:n,collection:r,id:a,basePath:o})=>{const l=yt(n,r,a),s=mr();return(0,i.createElement)(d.FlexItem,null,(0,i.createElement)(d.Button,{isDestructive:!0,onClick:()=>{window.confirm(e||(0,ue.__)("Are you sure you want to delete this record?","newsletter-optin-box"))&&(l.delete(),s(o))},variant:"secondary"},t))},Fr=({value:e,label:t})=>{const{createInfoNotice:n}=(0,pe.useDispatch)(fe.store),r=(0,de.useCopyToClipboard)(e,(()=>{n((0,ue.__)("Copied to clipboard."),{type:"snackbar"})}));return(0,i.createElement)(d.FlexItem,null,(0,i.createElement)(d.Button,{label:"Click to copy",variant:"secondary",ref:r,showTooltip:!0},t))},Ir=({links:e,...t})=>(0,i.createElement)(d.Flex,{className:Xn,justify:"flex-end",gap:2,wrap:!0},e.map((({label:e,value:n,action:r,hide:a})=>a?null:"delete"===r?(0,i.createElement)(Ar,{key:e,label:e,confirm:n,...t}):"copy"===r?(0,i.createElement)(Fr,{key:e,label:e,value:n,...t}):(0,i.createElement)(d.FlexItem,{key:e},(0,i.createElement)(d.Button,{href:n,variant:"secondary",target:"_blank"},e))))),$r=({namespace:e,collection:t,id:n,basePath:r})=>{const a=function(e,t,n){return n=parseInt(n,10),_t((r=>r(ft(e,t)).getRecordOverview(n)),[e,t,n])}(e,t,n);return a.isResolving?(0,i.createElement)(i.Fragment,null,(0,i.createElement)(d.Flex,{className:Xn,gap:4,wrap:!0},[1,2,3].map((e=>(0,i.createElement)(d.FlexItem,{key:e},(0,i.createElement)(cr,{width:"100px",height:"100px"})))))):"ERROR"!==a.status&&Array.isArray(a.data)&&a.data.length?(0,i.createElement)(i.Fragment,null,a.data.map(((a,o)=>{switch(a.type){case"stat_cards":return(0,i.createElement)(Sr,{key:o,cards:a.cards});case"action_links":return(0,i.createElement)(Ir,{key:o,links:a.links,namespace:e,collection:t,id:n,basePath:r});case"card":return(0,i.createElement)(Rr,{key:o,...a});case"card_list":return(0,i.createElement)(Cr,{key:o,...a});default:return null}}))):null},Tr=window.wp.primitives,Or=(0,i.createElement)(Tr.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(Tr.Path,{d:"M17 10h-1.2V7c0-2.1-1.7-3.8-3.8-3.8-2.1 0-3.8 1.7-3.8 3.8v3H7c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1h10c.6 0 1-.4 1-1v-8c0-.6-.4-1-1-1zm-2.8 0H9.8V7c0-1.2 1-2.2 2.2-2.2s2.2 1 2.2 2.2v3z"})),Mr=(0,i.createElement)(Tr.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(Tr.Path,{d:"M6.6 6L5.4 7l4.5 5-4.5 5 1.1 1 5.5-6-5.4-6zm6 0l-1.1 1 4.5 5-4.5 5 1.1 1 5.5-6-5.5-6z"})),Pr=window.wp.keycodes,Nr=window.wp.date;function Dr(e){return(t,n)=>{const r={...t};return"COMMIT"!==n.type&&"PRESS_UP"!==n.type&&"PRESS_DOWN"!==n.type||void 0!==r.value&&(r.value=r.value.toString().padStart(e,"0")),r}}const Lr=Qn.div`
	text-decoration: underline dotted;
`,Br=()=>{const{timezone:e}=(0,Nr.getSettings)(),t=(new Date).getTimezoneOffset()/60*-1;if(Number(e.offset)===t)return null;const n=Number(e.offset)>=0?"+":"",r=""!==e.abbr&&isNaN(Number(e.abbr))?e.abbr:`UTC${n}${e.offset}`,a=e.string.replace("_"," "),o="UTC"===e.string?(0,ue.__)("Coordinated Universal Time"):`(${r}) ${a}`;return 0===a.trim().length?(0,i.createElement)(Lr,{className:"components-datetime__timezone"},r):(0,i.createElement)(d.Tooltip,{placement:"top",text:o},(0,i.createElement)(Lr,{className:"components-datetime__timezone"},r))},zr=Qn.span`
	border-top: 1px solid #757575;
	border-bottom: 1px solid #757575;
	display: inline-flex;
    align-items: center;
`,jr=Yn`
	&&& .components-input-control__input {
		padding-left: 8px;
		padding-right: 8px;
		text-align: center;
	}
`,Vr=Qn(d.__experimentalNumberControl)`
	${jr}

	width: 36px;

	&&& .components-input-control__input {
		padding-right: 0;
	}

	&&& .components-input-control__backdrop {
		border-right: 0;
		border-top-right-radius: 0;
		border-bottom-right-radius: 0;
	}
`,Hr=Qn(d.__experimentalNumberControl)`
	${jr}

	width: 36px;

	&&& .components-input-control__input {
		padding-left: 0;
	}

	&&& .components-input-control__backdrop {
		border-left: 0;
		border-top-left-radius: 0;
		border-bottom-left-radius: 0;
	}
`,Ur=Qn.div`
	direction: ltr;
	display: flex;
`,qr=({value:e,onChange:t,...n})=>{const{baseControlProps:r,controlProps:a}=(0,d.useBaseControlProps)(n),o=e?e.split(":"):["07","00"],[l,s]=(0,i.useState)(o[0]),[c,u]=(0,i.useState)(o[1]),m=(e,t="00")=>(e=Number(e),isNaN(e)?t:e<10?`0${e}`:e),p=`${m(l)}:${m(c)}`;return(0,i.useEffect)((()=>{e!==p&&t(p)}),[p]),(0,i.createElement)(d.BaseControl,{...r},(0,i.createElement)(d.__experimentalHStack,null,(0,i.createElement)(Ur,null,(0,i.createElement)(Vr,{value:m(l),onChange:s,min:0,max:23,step:1,...a,label:(0,ue.__)("Hours"),spinControls:"none",isDragEnabled:!1,isShiftStepEnabled:!1,isPressEnterToChange:!0,hideLabelFromVision:!0,__next40pxDefaultSize:!0,__unstableStateReducer:Dr(2)}),(0,i.createElement)(zr,{"aria-hidden":"true"},":"),(0,i.createElement)(Hr,{value:m(c),onChange:u,min:0,max:59,step:1,label:(0,ue.__)("Minutes"),spinControls:"none",isDragEnabled:!1,isShiftStepEnabled:!1,isPressEnterToChange:!0,hideLabelFromVision:!0,__next40pxDefaultSize:!0,__unstableStateReducer:Dr(2)})),(0,i.createElement)(Br,null)))},Wr=[{label:(0,ue.__)("Only run if","newsletter-optin-box"),value:"allow"},{label:(0,ue.__)("Do not run if","newsletter-optin-box"),value:"prevent"}],Gr=[{label:(0,ue.__)("all","newsletter-optin-box"),value:"all"},{label:(0,ue.__)("any","newsletter-optin-box"),value:"any"}];function Kr(e,t){return(0,c.useMemo)((()=>[{label:t,value:"",disabled:!0},...e]),[e,t])}function Qr({type:e,action:t,ruleCount:n,setConditionalLogicAttribute:r}){const a=n>1;return(0,i.createElement)(d.__experimentalHStack,{justify:"flex-start",wrap:!0},(0,i.createElement)(d.SelectControl,{label:(0,ue.__)("If","newsletter-optin-box"),hideLabelFromVision:!0,value:t||"allow",options:Wr,onChange:e=>r("action",e),size:"default",__nextHasNoMarginBottom:!0}),a&&(0,i.createElement)(i.Fragment,null,(0,i.createElement)(d.SelectControl,{label:(0,ue.__)("all","newsletter-optin-box"),hideLabelFromVision:!0,value:e||"all",options:Gr,onChange:e=>r("type",e),size:"default",__nextHasNoMarginBottom:!0}),(0,i.createElement)(d.__experimentalText,null,(0,ue.__)("of the following rules are true:","newsletter-optin-box"))))}function Yr({rule:e,comparisons:t,availableSmartTags:n,mergeTagsArray:r,index:a,updateRule:o,removeRule:l}){var s;const u=(0,c.useCallback)((e=>o(a,"full",e)),[a,o]),m=(0,c.useCallback)((e=>o(a,"value",e)),[a,o]),p=(0,c.useCallback)((e=>o(a,"condition",e)),[a,o]),f=(0,c.useCallback)((()=>l(a)),[a,l]),h=null!==(s=e.full)&&void 0!==s?s:e.type?`[[${e.type}]]`:"",g=h.indexOf("]]"),_=h.indexOf("[[",g),v=-1===g||-1!==_&&_>g,y=sa({availableSmartTags:r,onMergeTagClick:(0,c.useCallback)((e=>{u(h?`${h} ${e}`.trim():e)}),[h,u])}),b=(0,c.useMemo)((()=>{const t=e.type;if(void 0!==n[t])return n[t];const r=t.replace("_",".",1);if(void 0!==n[r])return n[r];for(const[e,r]of Object.entries(n)){if(-1!==e.indexOf(".")&&e.split(".").slice(1).join(".")===t)return r;const n=e=>Array.isArray(e)?e:e.split(/[\s,]+/);if(r.deprecated&&n(r.deprecated).includes(t))return r}return null}),[e.type,n]),E=Kr((w=b?.options,(0,c.useMemo)((()=>w?Array.isArray(w)?w.map(((e,t)=>({label:e,value:t}))):Object.keys(w).map((e=>({label:w[e],value:e}))):[]),[w])),(0,ue.__)("Select a value","newsletter-optin-box"));var w;const x=!v&&E.length>1,k=v?"string":b?.conditional_logic||"string",C=Kr((0,c.useMemo)((()=>{const e=[];return Object.keys(t).forEach((n=>{let r=t[n].type;if(x){if("string"===k&&"is"!=n&&"is_not"!=n)return;if("is_empty"===n||"is_not_empty"===n||"is_between"===n)return}"any"!==r&&r!=k||e.push({label:t[n].name,value:n})})),e}),[k,t]),(0,ue.__)("Select a comparison","newsletter-optin-box")),S="is_empty"===e.condition||"is_not_empty"===e.condition;return(0,i.createElement)(d.__experimentalHStack,{justify:"flex-start",wrap:!0,expanded:!0},(0,i.createElement)("div",{style:{minWidth:320}},(0,i.createElement)(d.__experimentalInputControl,{placeholder:(0,ue.__)("Enter a smart tag","newsletter-optin-box"),value:h,onChange:u,autoComplete:"off",suffix:y,__next40pxDefaultSize:!0,isPressEnterToChange:!0})),(0,i.createElement)("div",{style:{width:150}},(0,i.createElement)(d.SelectControl,{label:(0,ue.__)("Comparison","newsletter-optin-box"),hideLabelFromVision:!0,value:e.condition?e.condition:"is",options:C,onChange:p,size:"default",__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0})),!S&&(0,i.createElement)("div",{style:{minWidth:320}},x&&(0,i.createElement)(d.SelectControl,{label:(0,ue.__)("Value","newsletter-optin-box"),hideLabelFromVision:!0,value:e.value?e.value:"",options:E,onChange:m,size:"default",__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),!x&&(0,i.createElement)(d.__experimentalInputControl,{type:"number"===k?"number":"text",label:(0,ue.__)("Value","newsletter-optin-box"),placeholder:(0,ue.__)("Enter a value","newsletter-optin-box"),hideLabelFromVision:!0,value:e.value?e.value:"",onChange:m,__next40pxDefaultSize:!0})),(0,i.createElement)(d.Button,{onClick:f,icon:"trash",variant:"tertiary",isDestructive:!0}))}function Xr({rules:e,comparisons:t,availableSmartTags:n,setConditionalLogicAttribute:r,disableTags:a,closeModal:o}){const l=(0,c.useMemo)((()=>Array.isArray(e)?e.filter((e=>e.type&&""!==e.type)):[]),[e]),s=(0,c.useMemo)((()=>{const e={};return n.forEach((t=>{t.conditional_logic&&(e[t.smart_tag]={...t,key:t.smart_tag,type:t.conditional_logic,isPremium:Array.isArray(a)&&a.some((e=>t.smart_tag.startsWith(e)))})})),e}),[n]),u=(0,c.useCallback)((e=>{const t=[...l];t.splice(e,1),r("rules",t)}),[l,r]),m=(0,c.useCallback)(((e,t,n)=>{const a=[...l];a[e][t]=n,r("rules",a)}),[l,r]),p=(0,c.useMemo)((()=>Object.values(s)),[s]),f=(0,c.useCallback)(((e,t)=>{const n=s[e],a=n?.options||[],i=n?.placeholder||"";let o=Array.isArray(a)&&a.length?Object.keys(a)[0]:i;n?.default&&(o=n.default);const c=[...l];c.push({type:e,condition:"is",full:t,value:o}),r("rules",c)}),[l]),h=0===l.length?(0,ue.__)("Add a conditional logic rule","newsletter-optin-box"):(0,ue.__)("Add another rule","newsletter-optin-box"),g=sa({availableSmartTags:p,onMergeTagClick:f,raw:!0,icon:"plus",label:h,text:h,toggleProps:{variant:"primary"}});return(0,i.createElement)(i.Fragment,null,l.map(((e,n)=>(0,i.createElement)(Yr,{key:n,rule:e,index:n,updateRule:m,removeRule:u,comparisons:t,availableSmartTags:s,mergeTagsArray:p}))),(0,i.createElement)(d.__experimentalHStack,{justify:"flex-start",wrap:!0},g,o&&(0,i.createElement)(d.Button,{onClick:o,variant:"secondary"},(0,ue.__)("Return to editor","newsletter-optin-box"))))}function Zr({onChange:e,value:t,comparisons:n,toggleText:r,availableSmartTags:a,className:o,inModal:l=!1,disableTags:s=[]}){const[u,m]=(0,c.useState)(!1);"object"!=typeof t&&(t={enabled:!1,action:"allow",rules:[{condition:"is",type:"date",value:""}],type:"all"});const p=(n,r)=>{e({...t,[n]:r})},f=(0,i.createElement)(d.__experimentalVStack,{spacing:5},(0,i.createElement)(Qr,{ruleCount:Array.isArray(t.rules)?t.rules.length:0,type:t.type,action:t.action,setConditionalLogicAttribute:p}),(0,i.createElement)(Xr,{rules:t.rules,comparisons:n,availableSmartTags:a,setConditionalLogicAttribute:p,closeModal:l&&(()=>m(!1)),disableTags:s}));return(0,i.createElement)(d.__experimentalVStack,{spacing:5,className:o},(0,i.createElement)(d.ToggleControl,{checked:!!t.enabled,onChange:e=>p("enabled",e),label:r||(0,ue.__)("Optionally enable/disable this trigger depending on specific conditions.","newsletter-optin-box"),__nextHasNoMarginBottom:!0}),t.enabled&&(0,i.createElement)(i.Fragment,null,l?(0,i.createElement)(i.Fragment,null,u&&(0,i.createElement)(d.Modal,{title:(0,ue.__)("Conditional Logic","newsletter-optin-box"),onRequestClose:()=>m(!1),isFullScreen:!0},f),(0,i.createElement)(d.Button,{variant:"secondary",className:"noptin-block-button",onClick:()=>m(!0)},(0,ue.__)("Edit Conditional Logic","newsletter-optin-box"))):(0,i.createElement)(i.Fragment,null,f)))}const Jr={"==":(e,t)=>e==t,"===":(e,t)=>e===t,"!=":(e,t)=>e!=t,"!==":(e,t)=>e!==t,">":(e,t)=>e>t,">=":(e,t)=>e>=t,"<":(e,t)=>e<t,"<=":(e,t)=>e<=t,includes:(e,t)=>e.includes(t),"!includes":(e,t)=>!e.includes(t),empty:e=>!e,"!empty":e=>e},ea=(e,t,n)=>!!Jr[t]&&Jr[t](e,n),ta=["number","search","email","password","tel","url","date"];function na({setting:e,availableSmartTags:t,isPressEnterToChange:n,...r}){void 0===n&&(n=!0);const a=sa({availableSmartTags:t,onMergeTagClick:(0,i.useCallback)((e=>{r.onChange&&r.onChange(r.value?`${r.value} ${e}`.trim():e)}),[r.value,r.onChange])});return"string"==typeof r.suffix||r.suffix instanceof String?r.suffix=(0,i.createElement)(d.__experimentalInputControlSuffixWrapper,null,r.suffix):a&&!r.suffix&&(r.suffix=a),e.disabled&&(r.readOnly=!0,r.onFocus=e=>e.target.select()),("string"==typeof r.prefix||r.prefix instanceof String)&&(r.prefix=(0,i.createElement)(d.__experimentalInputControlPrefixWrapper,null,r.prefix)),(0,i.createElement)(d.__experimentalInputControl,{...r,type:ta.includes(e.type)?e.type:"text",placeholder:e.placeholder?e.placeholder:"",isPressEnterToChange:n,__next40pxDefaultSize:!0})}function ra({value:e,onChange:t,...n}){const{baseControlProps:r,controlProps:a}=(0,d.useBaseControlProps)({...n});return(0,i.createElement)(d.BaseControl,{...r},(0,i.createElement)(d.Dropdown,{popoverProps:{placement:"bottom-start"},renderToggle:({isOpen:t,onToggle:n})=>(0,i.createElement)(d.Button,{onClick:n,"aria-expanded":t},(0,i.createElement)(d.ColorIndicator,{colorValue:e})),renderContent:()=>(0,i.createElement)(d.ColorPicker,{color:e,onChange:t}),...a}))}function aa({availableSmartTags:e,autoGrow:t=!1,label:n,id:r,...a}){const o=sa({availableSmartTags:e,onMergeTagClick:(0,i.useCallback)((e=>{a.onChange&&a.onChange(a.value?`${a.value} ${e}`.trim():e)}),[a.value,a.onChange]),toggleProps:{size:"small"}}),l=o?(0,i.createElement)(d.__experimentalHStack,null,(0,i.createElement)("span",null,n),o):n,s=r||(0,de.useInstanceId)(aa,"noptin-textarea");return(0,i.useEffect)((()=>{if(t){const e=document.getElementById(s);e&&(e.style.height="auto",e.style.height=`${e.scrollHeight}px`)}}),[a.value,t,s]),(0,i.createElement)(d.TextareaControl,{...a,id:s,label:l,__nextHasNoMarginBottom:!0})}function ia({options:e,...t}){const[n,r]=(0,i.useState)(e);return(0,i.createElement)(d.ComboboxControl,{...t,options:n,onFilterValueChange:t=>{r(t?e.filter((e=>!e.disabled&&""!==e.value&&(e.search?e.search.toLowerCase():e.label.toLowerCase()).includes(t.toLowerCase()))):e)},__experimentalRenderItem:({item:e,...t})=>e.render?"string"==typeof e.render?(0,i.createElement)("div",{...t,dangerouslySetInnerHTML:{__html:e.render}}):e.render:e.label,autocomplete:"off"})}function oa({options:e,value:t,onChange:n,...r}){const a=Array.isArray(t)?t:[],o=(0,i.useMemo)((()=>e.map((e=>e.label))),[e]),l=(0,i.useCallback)((e=>o.includes(e)),[o]),s=(0,i.useMemo)((()=>a.map((t=>{const n=e.find((e=>e.value===t));return n?n.label:t}))),[t,e]),u=(0,i.useCallback)((t=>{const r=new Set;for(const n of t){const t=e.find((e=>e.label===n));t&&r.add(t.value)}n(Array.from(r))}),[n,e]),m=(0,i.useCallback)((t=>{const n=e.find((e=>e.label===t.item));return n&&n.render?(0,i.createElement)(c.RawHTML,null,n.render):(0,i.createElement)(i.Fragment,null,t.item)}),[e]);return(0,i.createElement)(d.FormTokenField,{value:s,suggestions:o,onChange:u,__experimentalShowHowTo:!1,__experimentalExpandOnFocus:!0,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,__experimentalValidateInput:l,__experimentalRenderItem:m,...r})}const la=[{id:"key",label:(0,ue.__)("Key","noptin-addons-pack"),type:"text"},{id:"value",label:(0,ue.__)("Value","noptin-addons-pack"),type:"text"}];function sa({availableSmartTags:e=[],onMergeTagClick:t=((e,t)=>{}),raw:n=!1,icon:r="shortcode",label:a=(0,ue.__)("Insert merge tag","newsletter-optin-box"),...o}){const l=function(e){return(0,i.useMemo)((()=>{if(!Array.isArray(e))return{};const t={};return e.forEach((e=>{const n=e.group?e.group:(0,ue.__)("General","newsletter-optin-box");Array.isArray(t[n])||(t[n]=[]),t[n].push(e)})),t}),[e])}(e),s=Object.keys(l).length;let u=null;return s>0&&(u=(0,i.createElement)(d.DropdownMenu,{icon:r,label:a,...o},(({onClose:e})=>(0,i.createElement)(i.Fragment,null,Object.keys(l).map(((r,a)=>(0,i.createElement)(d.MenuGroup,{label:s>1?r:void 0,key:a},l[r].map((r=>(0,i.createElement)(d.MenuItem,{icon:r.isPremium?Or:r.icon||Mr,iconPosition:"left",disabled:r.isPremium,onClick:()=>{if(!r.isPremium){if(t){const e=n?r.smart_tag:`[[${ca(r)}]]`;t(e,`[[${ca(r)}]]`)}e()}},key:r.smart_tag},(0,i.createElement)(c.RawHTML,null,r.isPremium?`${r.label} - Premium`:r.label))))))))))),u}function ca(e){return e.example?e.example:e.default?`${e.smart_tag} default="${e.default}"`:`${e.smart_tag}`}function ua({availableSmartTags:e,value:t,onChange:n,button:r,fields:a,openModal:o,prepend:l,disable:s,disabled:c,onDisable:u,cardProps:m,repeaterKey:p,id:f,defaultItem:h,...g}){const[_,v]=(0,i.useState)(!1),y=Array.isArray(t)?t:[],b=f||(0,de.useInstanceId)(ua,"noptin-repeater"),{baseControlProps:E,controlProps:w}=(0,d.useBaseControlProps)({...g,id:b}),x=h||{};if(p?.newOnly&&(x.new=!0),!a)return console.warn("No fields provided to repeater control."),null;Object.keys(a).forEach((e=>{void 0!==a[e].default&&(x[e]=a[e].default)}));const k=!!o,C=(0,i.createElement)(d.__experimentalVStack,null,l,y.map(((r,o)=>(0,i.createElement)(d.Card,{size:"small",className:"noptin-no-shadow",id:`${b}__item-${o}`,"data-index":o,borderBottom:!0,borderLeft:!0,borderRight:!0,borderTop:!0,...m||{},key:p?.to&&t[p.to]?t[p.to]:o},(0,i.createElement)(da,{id:`${b}__item-${o}`,fields:a,value:r,availableSmartTags:e,onChange:e=>{if(p?.to&&p.from&&e[p.from]&&(!p.newOnly||e.new)){const t=e[p.from].toString().trim().toLowerCase().replace(/[^a-z0-9]+/g,"_");e[p.to]=t.substring(0,p.maxLength||64),y.find(((t,n)=>o!==n&&t[p.to]===e[p.to]))&&(e[p.to]=`${e[p.to]}_${o}`)}const t=[...y];t[o]=e,n(t)},onDelete:()=>{const e=[...y];e.splice(o,1),n(e)},onMoveUp:o>0?()=>{const e=[...y],t=e[o];e.splice(o,1),e.splice(o-1,0,t),n(e)}:null,onMoveDown:o<y.length-1?()=>{const e=[...y],t=e[o];e.splice(o,1),e.splice(o+1,0,t),n(e)}:null,repeaterKey:p})))),(0,i.createElement)(d.__experimentalHStack,null,(0,i.createElement)(d.Button,{onClick:()=>{const e=[...y];e.push(x),n(e)},variant:"primary"},r||(0,ue.__)("Add Item","newsletter-optin-box")),k&&(0,i.createElement)(d.Button,{onClick:()=>v(!1),variant:"secondary"},(0,ue.__)("Go Back","newsletter-optin-box")))),S=!s||!c;return(0,i.createElement)(d.BaseControl,{...E},(0,i.createElement)("div",{...w},k&&(0,i.createElement)(d.__experimentalVStack,null,s&&(0,i.createElement)(d.ToggleControl,{label:s,checked:c,onChange:e=>{u&&u(e)}}),S&&(0,i.createElement)(i.Fragment,null,(0,i.createElement)(d.Button,{onClick:()=>v(!0),variant:"secondary"},o||(0,ue.__)("Set Items","newsletter-optin-box")),_&&(0,i.createElement)(d.Modal,{title:g.label||o||(0,ue.__)("Set Items","newsletter-optin-box"),onRequestClose:()=>v(!1),size:"medium"},C))),!k&&C))}function da({fields:e,availableSmartTags:t,value:n,onChange:r,repeaterKey:a,onDelete:o,onMoveUp:l,onMoveDown:s,id:c}){const[u,m]=(0,i.useState)(!a?.from),p=(0,i.useCallback)((()=>{m(!u)}),[u]),f=!u&&a?.from;let h=null;if(a){const e=a.to&&n?.[a.to]?(0,i.createElement)("code",null,(0,ue.sprintf)(a.display||"%s",n?.[a.to])):null,t={paddingLeft:16,paddingRight:16,height:48};h=(0,i.createElement)(d.CardHeader,{style:{padding:0}},(0,i.createElement)(d.Flex,{as:d.Button,onClick:p,style:t,"aria-controls":`${c}__body`,"aria-expanded":!f,type:"button"},(0,i.createElement)(d.__experimentalHStack,{as:d.FlexBlock},(0,i.createElement)(d.__experimentalText,{as:"h3",weight:600},n?.[a.from]||(0,ue.__)("(new)","newsletter-optin-box"))),(0,i.createElement)(d.FlexItem,null,(0,i.createElement)(d.__experimentalHStack,null,e,(0,i.createElement)(d.Icon,{icon:u?"arrow-up-alt2":"arrow-down-alt2"})))))}return(0,i.createElement)(i.Fragment,null,h,!f&&(0,i.createElement)(d.CardBody,{id:`${c}__body`,hidden:f},(0,i.createElement)(d.__experimentalVStack,null,Object.keys(e).map((a=>(0,i.createElement)(va,{key:a,settingKey:a,availableSmartTags:t,setting:e[a],saved:n,setAttributes:e=>{r({...n,...e})}}))),(0,i.createElement)(d.__experimentalHStack,{className:"noptin-repeater-item__actions",justify:"flex-start"},!n?.predefined&&(0,i.createElement)(d.Button,{variant:"link",onClick:o,text:(0,ue.__)("Remove Item","newsletter-optin-box"),isDestructive:!0}),l&&(0,i.createElement)(d.Button,{onClick:l,icon:"arrow-up-alt",text:(0,ue.__)("Move Up","newsletter-optin-box"),size:"small",iconSize:16}),s&&(0,i.createElement)(d.Button,{onClick:s,icon:"arrow-down-alt",text:(0,ue.__)("Move Down","newsletter-optin-box"),size:"small",iconSize:16})))))}function ma({setting:e,availableSmartTags:t,value:n,onChange:r,...a}){const{baseControlProps:o,controlProps:l}=(0,d.useBaseControlProps)(a);Array.isArray(n)||(n=[]);const s=(0,i.useCallback)((({item:e,index:a})=>(0,i.createElement)(d.Flex,{className:"noptin-repeater-item",wrap:!0},la.map(((o,l)=>(0,i.createElement)(pa,{key:l,availableSmartTags:t,field:o,value:void 0===e[o.id]?"":e[o.id],onChange:e=>{const t=[...n];t[a][o.id]=e,r(t)}}))),(0,i.createElement)(d.FlexItem,null,(0,i.createElement)(d.Button,{icon:"trash",variant:"tertiary",className:"noptin-component__field",label:(0,ue.__)("Delete","noptin-addons-pack"),showTooltip:!0,onClick:()=>{const e=[...n];e.splice(a,1),r(e)},isDestructive:!0})))),[n,r]);return(0,i.createElement)(d.BaseControl,{...o},(0,i.createElement)("div",{...l},n.map(((e,t)=>(0,i.createElement)(s,{key:t,item:e,index:t}))),(0,i.createElement)(d.Button,{onClick:()=>{const e=[...n];e.push({}),r(e)},variant:"secondary"},e.add_field?e.add_field:(0,ue.__)("Add","newsletter-optin-box"))))}function pa({field:e,availableSmartTags:t,value:n,onChange:r}){const a=sa({availableSmartTags:t,onMergeTagClick:(0,i.useCallback)((e=>{r&&r(n?`${n} ${e}`.trim():e)}),[n,r])});return(0,i.createElement)(d.FlexBlock,null,(0,i.createElement)(d.__experimentalInputControl,{label:e.label,type:e.type,value:n,placeholder:(0,ue.sprintf)((0,ue.__)("Enter %s","noptin-addons-pack"),e.label),className:"noptin-component__field noptin-condition-field",suffix:a,onChange:r,isPressEnterToChange:!0,__next40pxDefaultSize:!0}))}function fa({setting:e,value:t,options:n,onChange:r,...a}){const{baseControlProps:o,controlProps:l}=(0,d.useBaseControlProps)(a);return Array.isArray(t)||(t=[]),(0,i.createElement)(d.BaseControl,{...o},(0,i.createElement)("div",{...l},n.map(((e,n)=>(0,i.createElement)(d.CheckboxControl,{key:n,label:e.label,checked:t.includes(e.value),onChange:n=>{r(n?[...t,e.value]:t.filter((t=>t!==e.value)))}})))))}function ha({value:e,onChange:t,id:n,...r}){const{baseControlProps:a,controlProps:o}=(0,d.useBaseControlProps)({...r,id:n,__nextHasNoMarginBottom:!0}),{wp:l,tinymce:s}=window,c=(0,i.useRef)(!1),u=(0,i.useRef)(null);return(0,i.useEffect)((()=>{if(!c.current)return;const t=t=>{t?.target?.classList?.contains("wp-switch-editor")&&setTimeout((()=>{const t=s?.get(n);t&&(t.setContent(e||""),t._lastChange=e)}),50)};return u.current?.addEventListener("click",t),()=>{u.current?.removeEventListener("click",t)}}),[u.current,e]),(0,i.useEffect)((()=>{if(!c.current)return;const e=s?.get(n);e&&e._lastChange}),[e]),(0,i.useEffect)((()=>{function r(){l.oldEditor.initialize(n,{tinymce:!!window.tinymce&&{content_css:!1,theme_advanced_buttons:"bold,italic,underline,|,bullist,numlist,blockquote,|,link,unlink,|,spellchecker,fullscreen,|,formatselect,styleselect",drag_drop_upload:!0,toolbar1:"formatselect,bold,italic,bullist,numlist,blockquote,alignleft,aligncenter,alignright,link,spellchecker,wp_adv,dfw",toolbar2:"strikethrough,hr,forecolor,pastetext,removeformat,charmap,outdent,indent,undo,redo,wp_help",min_height:400,wpautop:!1,setup(n){e&&n.on("loadContent",(()=>n.setContent(e))),n.on("blur",(()=>(t(n.getContent()),!1)));const r=(0,de.debounce)((()=>{const e=n.getContent();e!==n._lastChange&&(n._lastChange=e,t(e))}),250);n.on("Paste Change input Undo Redo",r),n.on("remove",r.cancel),n.on("keydown",(e=>{Pr.isKeyboardEvent.primary(e,"z")&&e.stopPropagation(),Pr.isKeyboardEvent.primary(e,"s")&&r.flush();const{altKey:t}=e;t&&e.keyCode===Pr.F10&&e.stopPropagation()})),c.current=!0},...window?.tinyMCEPreInit?.mceInit[n]||{}},mediaButtons:!0,quicktags:{buttons:"strong,em,link,block,del,ins,img,ul,ol,li,code,close"}})}function a(){"complete"===document.readyState&&r()}return s?.execCommand("mceRemoveEditor",!0,n),"complete"===document.readyState?r():document.addEventListener("readystatechange",a),()=>{document.removeEventListener("readystatechange",a),l.oldEditor.remove(n)}}),[]),(0,i.createElement)(d.BaseControl,{...a},(0,i.createElement)("div",{ref:u},(0,i.createElement)("textarea",{...o,className:"wp-editor-area",style:{width:"100%"},value:e,onChange:e=>t(e.target.value),rows:10})))}const ga=(e,t)=>{if(0===t.length||!e||"object"!=typeof e)return;const[n,...r]=t;return 0===r.length?e[n]:ga(e[n],r)},_a=(e,t,n)=>{if(0===t.length)return e;const[r,...a]=t;return 0===a.length?{...e,[r]:n}:{...e,[r]:_a(e[r]||{},a,n)}};function va({settingKey:e,setting:t,availableSmartTags:n,prop:r,saved:a,setAttributes:o}){const l=(r?`${r}.${e}`:e).split("."),s=t.sanitize?t.sanitize:e=>e,u=(0,i.useCallback)((e=>{if(ga(a,l)===e)return;const[t,...n]=l;return 0===n.length?o(s({[t]:e})):o(s({[t]:_a(a[t]||{},n,e)}))}),[a,l,o,s]);if(t.if||t.restrict){const e=t.restrict?t.restrict.split("."):t.if.split(".");if(!ga(a,e))return null}if(Array.isArray(t.conditions)&&!t.conditions.every((e=>{const t=e.key.split("."),n=e.operator?e.operator:"==";return ea(e.value,n,ga(a,t))})))return null;if(t.condition&&!t.condition(a))return null;let m=ga(a,l);(void 0===m||t.disabled)&&(m=t.default);const p=void 0!==m&&""!==m&&null!==m;let f=[];t.options&&(f=Array.isArray(t.options)?[...t.options]:Object.keys(t.options).map((e=>({label:t.options?.[e],value:e}))));const h=`noptin-component__field-${e}`,g="string"==typeof t.description?(0,i.createElement)("span",{dangerouslySetInnerHTML:{__html:t.description}}):t.description,_=t.customAttributes?t.customAttributes:{},v={label:t.label,value:p?m:"",onChange:u,className:h,help:g,..._};if(t.tooltip&&(v.label=(0,i.createElement)(d.__experimentalHStack,{justify:"flex-start"},(0,i.createElement)("span",null,t.label),(0,i.createElement)(d.Tooltip,{delay:0,placement:"top",text:t.tooltip},(0,i.createElement)("span",null,(0,i.createElement)(d.Icon,{icon:"info",style:{color:"#454545"}}))))),t.type&&!t.el&&(t.el=t.type,["toggle","switch","checkbox","checkbox_alt","text","number","email","tel","date","color","image"].includes(t.type)&&(t.el="input")),"button"===t.el)return(0,i.createElement)("div",null,(0,i.createElement)(d.Button,{...t.buttonProps||{}}));if("select"===t.el)return t.multiple?(0,i.createElement)(oa,{...v,options:f}):(f.find((e=>""===e?.value))||f.unshift({label:t.placeholder?t.placeholder:(0,ue.__)("Select an option","newsletter-optin-box"),value:"",disabled:!t.canSelectPlaceholder}),(0,i.createElement)(d.SelectControl,{...v,options:f,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}));if("combobox"===t.el)return f.unshift({label:t.placeholder?t.placeholder:(0,ue.__)("Select an option","newsletter-optin-box"),value:"",disabled:!t.canSelectPlaceholder}),(0,i.createElement)(ia,{...v,options:f,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0});if("form_token"===t.el||"token"===t.el)return(0,i.createElement)(d.FormTokenField,{...v,value:Array.isArray(v.value)?v.value:[],suggestions:Array.isArray(t.suggestions)?t.suggestions:[],__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,__experimentalShowHowTo:!1,__experimentalExpandOnFocus:!0,tokenizeOnBlur:!0});if("multi_checkbox"===t.el||"multi_checkbox_alt"===t.el)return(0,i.createElement)(fa,{...v,options:f});if("conditional_logic"===t.el)return(0,i.createElement)(Zr,{...v,availableSmartTags:n,comparisons:t.comparisons,toggleText:t.toggle_text,inModal:t.in_modal});if("time"===t.el)return(0,i.createElement)(qr,{...v});if("color"===t.el)return(0,i.createElement)(ra,{...v});if("input"===t.el){if(t.type&&["toggle","switch","checkbox","checkbox_alt"].includes(t.type))return(0,i.createElement)(d.ToggleControl,{...v,checked:!!p&&m});if("number"===t.type){const e=e=>{if(e)return"string"==typeof e||e instanceof String?(0,i.createElement)(d.__experimentalInputControlSuffixWrapper,null,e):e},n=e=>{if(e)return"string"==typeof e||e instanceof String?(0,i.createElement)(d.__experimentalInputControlPrefixWrapper,null,e):e};return Array.isArray(v.suffix)?v.suffix=e(1===m||"1"===m?v.suffix[0]:v.suffix[1]):v.suffix=e(v.suffix),Array.isArray(v.prefix)?v.prefix=n(1===m||"1"===m?v.prefix[0]:v.prefix[1]):v.prefix=n(v.prefix),(0,i.createElement)(d.__experimentalNumberControl,{...v,placeholder:t.placeholder?t.placeholder:"",__next40pxDefaultSize:!0})}return"image"===t.type&&(v.suffix=(0,i.createElement)(d.Button,{onClick:()=>{var e=window.wp.media({title:(0,ue.__)("Upload Image","newsletter-optin-box"),multiple:!1,library:{type:"image"}}).open().on("select",(t=>{let n=e.state().get("selection").first();u(n.toJSON().sizes.full.url)}))},icon:"upload",label:(0,ue.__)("Upload Image","newsletter-optin-box"),showTooltip:!0})),(0,i.createElement)(na,{...v,setting:t,availableSmartTags:"trigger_settings"===r?[]:n,isPressEnterToChange:!t.isInputToChange})}return"textarea"===t.el?(0,i.createElement)(aa,{...v,placeholder:t.placeholder?t.placeholder:"",availableSmartTags:"trigger_settings"===r?[]:n}):"tinymce"===t.el?(0,i.createElement)(ha,{...v}):"paragraph"===t.el?(0,i.createElement)("div",{className:h},(0,i.createElement)(d.Tip,null,t.raw?(0,i.createElement)(c.RawHTML,null,t.content):t.content)):"hero"===t.el?(0,i.createElement)("div",{className:h},(0,i.createElement)("h3",null,t.content)):"key_value_repeater"===t.el||"webhook_key_value_repeater"===t.el?(0,i.createElement)(ma,{...v,setting:t,availableSmartTags:"trigger_settings"===r?[]:n}):"repeater"===t.el?(0,i.createElement)(ua,{...v,availableSmartTags:"trigger_settings"===r?[]:n}):e}const ya=({fields:e,onApplyFilters:t,filters:n,setAttributes:r})=>(0,i.createElement)("form",{onSubmit:t},e.map((e=>{const t={...wa(e),default:"",placeholder:(0,ue.__)("Any","newsletter-optin-box"),canSelectPlaceholder:!0};let a=null;return e.is_boolean?(t.el="select",t.options={1:(0,ue.__)("Yes","newsletter-optin-box"),0:(0,ue.__)("No","newsletter-optin-box")}):e.is_numeric||e.is_float?(t.name=`${e.name}_min`,t.label=(0,ue.sprintf)((0,ue.__)("%s - Min","newsletter-optin-box"),e.label),a={...t,name:`${e.name}_max`,label:(0,ue.sprintf)((0,ue.__)("%s - Max","newsletter-optin-box"),e.label)}):e.is_date?(t.name=`${e.name}_after`,t.label=(0,ue.sprintf)((0,ue.__)("%s - After","newsletter-optin-box"),e.label),a={...t,name:`${e.name}_before`,label:(0,ue.sprintf)((0,ue.__)("%s - Before","newsletter-optin-box"),e.label)}):e.is_primary?(t.el="textarea",t.description=(0,ue.__)("Separate multiple values with a comma.","newsletter-optin-box")):a={...t,name:`${e.name}_not`,label:(0,ue.sprintf)((0,ue.__)("%s - Exclude","newsletter-optin-box"),e.label)},(0,i.createElement)(i.Fragment,{key:e.name},(0,i.createElement)("div",{style:{marginBottom:"1.6rem"}},(0,i.createElement)(va,{settingKey:t.name,saved:n,setAttributes:r,setting:t})),a&&(0,i.createElement)("div",{style:{marginBottom:"1.6rem"}},(0,i.createElement)(va,{settingKey:a.name,saved:n,setAttributes:r,setting:a})))}))),ba=({currentFilters:e,fields:t,setOpen:n,setQuery:r})=>{const[a,o]=(0,i.useState)({...e}),l=e=>{e?.preventDefault(),r(a),n(!1)};return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(ya,{fields:t,filters:a,onApplyFilters:l,setAttributes:e=>{o({...a,...e})}}),(0,i.createElement)(Jn,{variant:"primary",onClick:l,text:(0,ue.__)("Apply Filters","newsletter-optin-box")}))},Ea=({namespace:e,collection:t,isBulkEditing:n=!1})=>{const{data:r}=Et(e,t);return(0,i.useMemo)((()=>r.schema?r.schema.filter((e=>!(e.readonly&&n||e.is_dynamic||Array.isArray(r.ignore)&&r.ignore.includes(e.name)||Array.isArray(r.hidden)&&r.hidden.includes(e.name)||!e.is_tokens&&(n||!(e.is_numeric||e.is_float||e.is_date||e.is_primary))&&(!e.enum||Array.isArray(e.enum))))):[]),[r,n])},wa=e=>{const t={default:e.default,label:e.label,el:"input",type:"text",name:e.name,isInputToChange:!0};return e.js_props?.setting&&(t.customAttributes=e.js_props.setting),e.js_props?.conditions&&(t.conditions=e.js_props?.conditions),e.is_tokens?(t.el="form_token",t.suggestions=e.suggestions):e.enum&&!Array.isArray(e.enum)?(t.el="select",t.options=e.enum,e.multiple&&(t.el="multi_checkbox")):e.is_textarea&&(t.el="textarea"),(e.is_numeric||e.is_float)&&(t.type="number"),e.is_date&&(t.type="date"),e.is_boolean&&(t.type="toggle"),e.description&&e.description!==e.label&&(t.description=e.description),t};function xa({setQuery:e,...t}){const[n,r]=(0,i.useState)(!1),[a,o]=(({query:e,namespace:t,collection:n,isBulkEditing:r=!1})=>{const a=Ea({namespace:t,collection:n,isBulkEditing:r});return[a,(0,i.useMemo)((()=>{const t={};return a.forEach((n=>{["","_not","_min","_max","_before","_after"].forEach((r=>{const a=n.name+r;e[a]&&(t[a]=e[a])}))})),t}),[e,a])]})(t),l=Object.keys(o).length,s=l>0?(0,ue.sprintf)((0,ue.__)("Applied Filters (%d)","newsletter-optin-box"),l):(0,ue.__)("Filter Records","newsletter-optin-box");return(0,i.createElement)(i.Fragment,null,a.length>0&&(0,i.createElement)(i.Fragment,null,(0,i.createElement)(d.Button,{onClick:()=>r(!0),variant:l>0?"tertiary":void 0,icon:"filter",text:s}),n&&(0,i.createElement)(d.Modal,{title:(0,ue.__)("Filter records","newsletter-optin-box"),onRequestClose:()=>r(!1)},(0,i.createElement)(ba,{fields:a,currentFilters:o,setOpen:r,setQuery:e}))))}const ka=({record:e,onChange:t,schema:n,hidden:r,ignore:a,onSubmit:o,loading:l,children:s,isInner:u,slotName:m,submitText:p})=>{const f=(0,c.useMemo)((()=>((e,t,n)=>(0,Re.compact)(e.map((e=>e.readonly||e.is_dynamic||"metadata"===e.name||Array.isArray(t)&&t.includes(e.name)||Array.isArray(n)&&n.includes(e.name)?null:wa(e)))))(n,r,a)),[n,r,a]);return(0,i.createElement)("form",{style:{opacity:l?.5:1},onSubmit:o},s,f.map((n=>(0,i.createElement)("div",{style:{marginBottom:"1.6rem"},key:n.name},(0,i.createElement)(va,{settingKey:n.name,saved:e,setAttributes:t,setting:n})))),(0,i.createElement)(d.Slot,{name:u?`${m}--inner`:m},(e=>e.map(((e,t)=>(0,i.createElement)(d.Tip,{key:t},e))))),(0,i.createElement)(Jn,{variant:"primary",onClick:o,isBusy:l},p,l&&(0,i.createElement)(d.Spinner,null)),(0,i.createElement)(d.Slot,{name:"noptin-interface-notices"}))},Ca=hr((function({namespace:e,collection:t,basePath:n="",isInner:r=!1,defaultProps:a={},schema:{schema:o,hidden:l,ignore:s}}){const u=(0,pe.useDispatch)(`${e}/${t}`),[d,m]=(0,c.useState)(!1),[p,f]=(0,c.useState)({}),h=mr(),g=[...s,...Object.keys(a)],{createErrorNotice:_,createSuccessNotice:v}=(0,pe.useDispatch)(fe.store);return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(ka,{record:p,onChange:e=>f({...p,...e}),onSubmit:e=>{e?.preventDefault(),d||(m(!0),u.createRecord({...p,...a},u).then((e=>{v((0,ue.__)("Record saved successfully.","newsletter-optin-box"),{isDismissible:!0,type:"default"}),h(`${n}/${e.record.id}`)})).catch((e=>{_(e.message,{isDismissible:!0,type:"default"})})).finally((()=>{m(!1)})))},submitText:d?(0,ue.__)("Saving...","newsletter-optin-box"):(0,ue.__)("Save","newsletter-optin-box"),schema:o,hidden:l,ignore:g,loading:d,isInner:r,slotName:`${e}_${t}_record_create_below`}))}));function Sa(){const{namespace:e,collection:t}=W(),n=Et(e,t);return(0,i.createElement)(br,{title:n.data?.labels?.add_new_item||(0,ue.__)("Add New Item","newsletter-optin-box")},(0,i.createElement)(d.CardBody,null,(0,i.createElement)(d.Flex,{align:"flex-start",wrap:!0},(0,i.createElement)(Aa,null,(0,i.createElement)(Ca,{namespace:e,collection:t})),(0,i.createElement)(d.Slot,{name:`${e}_${t}_record_create_upsell`},(e=>e.length>0&&(0,i.createElement)(Aa,null,e))))))}function Ra(){const{namespace:e,collection:t,innerNamespace:n,innerCollection:r,id:a,tab:o}=W(),{data:l}=Et(e,t);if(!o||!l)return!1;const s=l.tabs[o];return(0,i.createElement)(Ca,{namespace:n,collection:r,basePath:`${a}/${o}/${n}/${r}`,defaultProps:{[s.filter_by]:a},isInner:!0},(0,i.createElement)(d.Slot,{name:`${n}_${r}_record_create_upsell--inner`}))}const Aa=Qn(d.FlexItem)`
	width: 400px;
	max-width: 100%;
`,Fa=({children:e,title:t,isInner:n})=>n?e:(0,i.createElement)(br,{title:t},(0,i.createElement)(d.CardBody,null,e)),Ia=hr((({namespace:e,collection:t,id:n,schema:r,isInner:a,basePath:o})=>{const[l,s]=(0,c.useState)(!1),[u,m]=(0,c.useState)({}),p=yt(e,t,n),{createErrorNotice:f,createSuccessNotice:h}=(0,pe.useDispatch)(fe.store);return(0,i.createElement)(Fa,{title:r.labels?.edit_item||(0,ue.__)("Edit Item","newsletter-optin-box"),isInner:a},(0,i.createElement)(d.Flex,{align:"flex-start",wrap:!0},(0,i.createElement)(Aa,null,(0,i.createElement)(ka,{record:{...p.data,...u},onSubmit:e=>{e?.preventDefault(),l||(s(!0),p.save(u).then((()=>{h((0,ue.__)("Record saved successfully.","newsletter-optin-box"),{isDismissible:!0,type:"default"}),m({})})).catch((e=>{f(e.message,{isDismissible:!0,type:"default"})})).finally((()=>{s(!1)})))},submitText:l?(0,ue.__)("Saving...","newsletter-optin-box"):(0,ue.__)("Save Changes","newsletter-optin-box"),onChange:e=>m({...u,...e}),namespace:e,collection:t,loading:l,isInner:a,slotName:`${e}_${t}_record_overview_below`,...r})),(0,i.createElement)(Aa,null,(0,i.createElement)(d.Slot,{name:(g=`${e}_${t}_record_overview_upsell`,a?`${g}--inner`:g)}),(0,i.createElement)($r,{namespace:e,collection:t,id:n,basePath:o}))));var g})),$a=()=>{const{namespace:e,collection:t,id:n}=W();return(0,i.createElement)(Ia,{namespace:e,collection:t,basePath:"",id:n})},Ta=()=>{const{innerNamespace:e,innerCollection:t,innerId:n,id:r,tab:a}=W(),o=`${r}/${a}`;return(0,i.createElement)(Ia,{namespace:e,collection:t,id:n,basePath:o,isInner:!0})};var Oa=n(942),Ma=n.n(Oa);const Pa=(0,i.createElement)(Tr.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(Tr.Path,{d:"M15.1 4.8l-3-2.5V4c-4.4 0-8 3.6-8 8 0 3.7 2.5 6.9 6 7.7.3.1.6.1 1 .2l.2-1.5c-.4 0-.7-.1-1.1-.2l-.1.2v-.2c-2.6-.8-4.5-3.3-4.5-6.2 0-3.6 2.9-6.5 6.5-6.5v1.8l3-2.5zM20 11c-.2-1.4-.7-2.7-1.6-3.8l-1.2.8c.7.9 1.1 2 1.3 3.1L20 11zm-1.5 1.8c-.1.5-.2 1.1-.4 1.6s-.5 1-.8 1.5l1.2.9c.4-.5.8-1.1 1-1.8s.5-1.3.5-2l-1.5-.2zm-5.6 5.6l.2 1.5c1.4-.2 2.7-.7 3.8-1.6l-.9-1.1c-.9.7-2 1.1-3.1 1.2z"})),Na=(0,i.createElement)(Tr.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(Tr.Path,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"})),Da=(0,i.createElement)(Tr.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(Tr.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"})),La=(0,c.memo)((function({view:e,onChangeView:t,paginationInfo:{totalItems:n=0,totalPages:r}}){if(!n||!r)return null;const a=parseInt(e.page,10);return!!n&&1!==r&&(0,i.createElement)(d.__experimentalHStack,{expanded:!1,spacing:6,justify:"end",className:"dataviews-pagination"},(0,i.createElement)(d.__experimentalHStack,{justify:"flex-start",expanded:!1,spacing:2,className:"dataviews-pagination__page-selection"},(0,c.createInterpolateElement)((0,ue.sprintf)(
// translators: %s: Total number of pages.
// translators: %s: Total number of pages.
(0,ue._x)("Page <CurrentPageControl /> of %s","paging"),r),{CurrentPageControl:(0,i.createElement)(d.SelectControl,{"aria-label":(0,ue.__)("Current page"),value:a,options:Array.from(Array(r)).map(((e,t)=>{const n=t+1;return{value:n,label:n}})),onChange:n=>{t({...e,page:+n})},size:"compact",__nextHasNoMarginBottom:!0})})),(0,i.createElement)(d.__experimentalHStack,{expanded:!1,spacing:1},(0,i.createElement)(d.Button,{onClick:()=>t({...e,page:a-1}),disabled:1===a,__experimentalIsFocusable:!0,label:(0,ue.__)("Previous page"),icon:Na,showTooltip:!0,size:"compact",tooltipPosition:"top"}),(0,i.createElement)(d.Button,{onClick:()=>t({...e,page:a+1}),disabled:a>=r,__experimentalIsFocusable:!0,label:(0,ue.__)("Next page"),icon:Da,showTooltip:!0,size:"compact",tooltipPosition:"top"})))})),Ba=(0,i.createElement)(Tr.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(Tr.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"})),za=window.wp.privateApis,{lock:ja,unlock:Va}=(0,za.__dangerousOptInToUnstableAPIsOnlyForCoreModules)("I know using unstable features means my theme or plugin will inevitably break in the next version of WordPress.","@wordpress/dataviews"),Ha=(0,i.createElement)(Tr.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(Tr.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v3.5h-15V5c0-.3.2-.5.5-.5zm8 5.5h6.5v3.5H13V10zm-1.5 3.5h-7V10h7v3.5zm-7 5.5v-4h7v4.5H5c-.3 0-.5-.2-.5-.5zm14.5.5h-6V15h6.5v4c0 .3-.2.5-.5.5z"})),Ua=(0,i.createElement)(Tr.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(Tr.Path,{d:"M6 5.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM4 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm11-.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM13 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2h-3a2 2 0 01-2-2V6zm5 8.5h-3a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5zM15 13a2 2 0 00-2 2v3a2 2 0 002 2h3a2 2 0 002-2v-3a2 2 0 00-2-2h-3zm-9 1.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zM4 15a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2v-3z",fillRule:"evenodd",clipRule:"evenodd"})),qa=(0,i.createElement)(Tr.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(Tr.Path,{d:"M4 8.8h8.9V7.2H4v1.6zm0 7h8.9v-1.5H4v1.5zM18 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"})),Wa=(0,i.createElement)(Tr.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(Tr.Path,{d:"M11.1 15.8H20v-1.5h-8.9v1.5zm0-8.6v1.5H20V7.2h-8.9zM6 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-7c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),Ga=(0,i.createElement)(Tr.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(Tr.Path,{d:"M10 17.5H14V16H10V17.5ZM6 6V7.5H18V6H6ZM8 12.5H16V11H8V12.5Z"})),Ka=(0,i.createElement)(Tr.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(Tr.Path,{d:"M4.67 10.664s-2.09 1.11-2.917 1.582l.494.87 1.608-.914.002.002c.343.502.86 1.17 1.563 1.84.348.33.742.663 1.185.976L5.57 16.744l.858.515 1.02-1.701a9.1 9.1 0 0 0 4.051 1.18V19h1v-2.263a9.1 9.1 0 0 0 4.05-1.18l1.021 1.7.858-.514-1.034-1.723c.442-.313.837-.646 1.184-.977.703-.669 1.22-1.337 1.563-1.839l.002-.003 1.61.914.493-.87c-1.75-.994-2.918-1.58-2.918-1.58l-.003.005a8.29 8.29 0 0 1-.422.689 10.097 10.097 0 0 1-1.36 1.598c-1.218 1.16-3.042 2.293-5.544 2.293-2.503 0-4.327-1.132-5.546-2.293a10.099 10.099 0 0 1-1.359-1.599 8.267 8.267 0 0 1-.422-.689l-.003-.005Z"}));function Qa({selection:e,onSelectionChange:t,item:n,data:r,getItemId:a,primaryField:o,disabled:l}){const s=a(n),c=e.includes(s);let u;return u=o?.getValue&&n?(0,ue.sprintf)(/* translators: %s: item title. */
c?(0,ue.__)("Deselect item: %s"):(0,ue.__)("Select item: %s"),o.getValue({item:n})):c?(0,ue.__)("Select a new item"):(0,ue.__)("Deselect item"),(0,i.createElement)(d.CheckboxControl,{className:"dataviews-view-table-selection-checkbox",__nextHasNoMarginBottom:!0,"aria-label":u,"aria-disabled":l,checked:c,onChange:()=>{l||t(c?r.filter((t=>{const n=a?.(t);return n!==s&&e.includes(n)})):r.filter((t=>{const n=a?.(t);return n===s||e.includes(n)})))}})}const{DropdownMenuV2:Ya,DropdownMenuGroupV2:Xa,DropdownMenuItemV2:Za,DropdownMenuItemLabelV2:Ja,kebabCase:ei}=Va(d.privateApis);function ti({action:e,onClick:t}){return(0,i.createElement)(d.Button,{label:e.label,icon:e.icon,isDestructive:e.isDestructive,size:"compact",onClick:t})}function ni({action:e,onClick:t}){return(0,i.createElement)(Za,{onClick:t,hideOnClick:!e.RenderModal},(0,i.createElement)(Ja,null,e.label))}function ri({action:e,item:t,ActionTrigger:n}){const[r,a]=(0,c.useState)(!1),o={action:e,onClick:()=>a(!0)},{RenderModal:l,hideModalHeader:s}=e;return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(n,{...o}),r&&(0,i.createElement)(d.Modal,{title:e.modalHeader||e.label,__experimentalHideHeader:!!s,onRequestClose:()=>{a(!1)},overlayClassName:`dataviews-action-modal dataviews-action-modal__${ei(e.id)}`},(0,i.createElement)(l,{items:[t],closeModal:()=>a(!1)})))}function ai({actions:e,item:t}){return(0,i.createElement)(Xa,null,e.map((e=>e.RenderModal?(0,i.createElement)(ri,{key:e.id,action:e,item:t,ActionTrigger:ni}):(0,i.createElement)(ni,{key:e.id,action:e,onClick:()=>e.callback([t])}))))}function ii({item:e,actions:t,isCompact:n=!1}){const{primaryActions:r,eligibleActions:a}=(0,c.useMemo)((()=>{const n=t.filter((t=>!t.isEligible||t.isEligible(e)));return{primaryActions:n.filter((e=>e.isPrimary&&!!e.icon)),eligibleActions:n}}),[t,e]);return n?(0,i.createElement)(oi,{item:e,actions:a}):(0,i.createElement)(d.__experimentalHStack,{spacing:1,justify:"flex-end",className:"dataviews-item-actions",style:{flexShrink:"0",width:"auto"}},!!r.length&&r.map((t=>t.RenderModal?(0,i.createElement)(ri,{key:t.id,action:t,item:e,ActionTrigger:ti}):(0,i.createElement)(ti,{key:t.id,action:t,onClick:()=>t.callback([e])}))),(0,i.createElement)(oi,{item:e,actions:a}))}function oi({item:e,actions:t}){return(0,i.createElement)(Ya,{trigger:(0,i.createElement)(d.Button,{size:"compact",icon:Ba,label:(0,ue.__)("Actions"),disabled:!t.length,className:"dataviews-all-actions-button"}),placement:"bottom-end"},(0,i.createElement)(ai,{actions:t,item:e}))}const li=({isLoading:e,hasData:t,emptyMessage:n,...r})=>(0,i.createElement)("div",{className:Ma()({"dataviews-loading":e,"dataviews-no-results":!t&&!e}),...r},!t&&(0,i.createElement)("p",null,e?(0,i.createElement)(d.Spinner,null):(0,i.createElement)(d.__experimentalText,{variant:"muted",size:17,weight:700}," ",n||(0,ue.__)("No results")," "))),{DropdownMenuV2:si,DropdownMenuGroupV2:ci,DropdownMenuItemV2:ui,DropdownMenuRadioItemV2:di,DropdownMenuItemLabelV2:mi,DropdownMenuSeparatorV2:pi}=Va(d.privateApis);function fi({children:e}){return i.Children.toArray(e).filter(Boolean).map(((e,t)=>(0,i.createElement)(i.Fragment,{key:t},t>0&&(0,i.createElement)(pi,null),e)))}const hi={asc:"↑",desc:"↓"},gi=(0,i.forwardRef)((function({field:e,view:t,onChangeView:n,onHide:r,setOpenedFilter:a},o){const l=!1!==e.enableHiding,s=!1!==e.enableSorting,c=t.sort?.field===e.id,u=(e=>{let t=e.filterBy?.operators;return t&&Array.isArray(t)||(t=[xi,ki]),t.includes("in")&&(t=t.filter((e=>"is"!==e)),t.push("is")),t.includes("notIn")&&(t=t.filter((e=>"notIn"!==e)),t.push("isNot")),t=t.filter((e=>Ci.includes(e))),(t.includes(Ei)||t.includes(wi))&&(t=t.filter((e=>[Ei,wi].includes(e)))),t})(e),m=!(t.filters?.some((t=>e.id===t.field))||!e.elements?.length||!u.length||e.filterBy?.isPrimary);return s||l||m?(0,i.createElement)(si,{align:"start",trigger:(0,i.createElement)(d.Button,{size:"compact",className:"dataviews-view-table-header-button",ref:o,variant:"tertiary"},e.header,c&&(0,i.createElement)("span",{"aria-hidden":"true"},c&&hi[t.sort.direction])),style:{minWidth:"240px"}},(0,i.createElement)(fi,null,s&&(0,i.createElement)(ci,null,Object.entries(Si).map((([r,a])=>{const o=c&&t.sort.direction===r,l=`${e.id}-${r}`;return(0,i.createElement)(di,{key:l,name:"view-table-sorting",value:l,checked:o,onChange:()=>{n({...t,sort:{field:e.id,direction:r}})}},(0,i.createElement)(mi,null,a.label))}))),m&&(0,i.createElement)(ci,null,(0,i.createElement)(ui,{prefix:(0,i.createElement)(d.Icon,{icon:Ga}),onClick:()=>{a(e.id),n({...t,page:1,filters:[...t.filters||[],{field:e.id,value:void 0,operator:u[0]}]})}},(0,i.createElement)(mi,null,(0,ue.__)("Add filter")))),l&&(0,i.createElement)(ui,{prefix:(0,i.createElement)(d.Icon,{icon:Ka}),onClick:()=>{r(e),n({...t,hiddenFields:t.hiddenFields.concat(e.id)})}},(0,i.createElement)(mi,null,(0,ue.__)("Hide"))))):e.header}));function _i({selection:e,onSelectionChange:t,data:n,actions:r}){const a=(0,i.useMemo)((()=>n.filter((e=>r.some((t=>t.supportsBulk&&t.isEligible(e)))))),[n,r]),o=e.length===a.length;return(0,i.createElement)(d.CheckboxControl,{className:"dataviews-view-table-selection-checkbox",__nextHasNoMarginBottom:!0,checked:o,indeterminate:!o&&e.length,onChange:()=>{t(o?[]:a)},"aria-label":o?(0,ue.__)("Deselect all"):(0,ue.__)("Select all")})}function vi({canSelect:e,item:t,actions:n,id:r,visibleFields:a,primaryField:o,selection:l,getItemId:s,onSelectionChange:c,data:u}){const d=l.includes(r),[m,p]=(0,i.useState)(!1),f=(0,i.useRef)(!1);return(0,i.createElement)("tr",{className:Ma()("dataviews-view-table__row",{"is-selected":e&&d,"is-hovered":m,"has-bulk-actions":e}),onMouseEnter:()=>{p(!0)},onMouseLeave:()=>{p(!1)},onTouchStart:()=>{f.current=!0},onClick:()=>{f.current||"Range"===document.getSelection().type||c(d?u.filter((e=>{const t=s?.(e);return t!==r&&l.includes(t)})):u.filter((e=>{const t=s?.(e);return t===r||l.includes(t)})))}},e&&(0,i.createElement)("td",{className:"dataviews-view-table__checkbox-column",style:{width:"1%"}},(0,i.createElement)("div",{className:"dataviews-view-table__cell-content-wrapper"},(0,i.createElement)(Qa,{id:r,item:t,selection:l,onSelectionChange:c,getItemId:s,data:u,primaryField:o}))),a.map((e=>(0,i.createElement)("td",{key:e.id,style:{width:e.width||void 0,minWidth:e.minWidth||void 0,maxWidth:e.maxWidth||void 0}},(0,i.createElement)("div",{className:Ma()("dataviews-view-table__cell-content-wrapper",{"dataviews-view-table__primary-field":o?.id===e.id})},e.render({item:t}))))),!!n?.length&&(0,i.createElement)("td",{className:"dataviews-view-table__actions-column",onClick:e=>e.stopPropagation()},(0,i.createElement)(ii,{item:t,actions:n})))}function yi({selection:e,data:t,onSelectionChange:n,getItemId:r,item:a,actions:o,mediaField:l,primaryField:s,visibleFields:c,badgeFields:u,columnFields:m,canSelect:p}){const f=r(a),h=e.includes(f);return(0,i.createElement)(d.__experimentalVStack,{spacing:0,key:f,className:Ma()("dataviews-view-grid__card",{"is-selected":p&&h}),onClickCapture:a=>{if(a.ctrlKey||a.metaKey){if(a.stopPropagation(),a.preventDefault(),!p)return;n(h?t.filter((t=>{const n=r?.(t);return n!==f&&e.includes(n)})):t.filter((t=>{const n=r?.(t);return n===f||e.includes(n)})))}}},(0,i.createElement)("div",{className:"dataviews-view-grid__media"},l?.render({item:a})),(0,i.createElement)(d.__experimentalHStack,{justify:"space-between",className:"dataviews-view-grid__title-actions"},p&&(0,i.createElement)(Qa,{id:f,item:a,selection:e,onSelectionChange:n,getItemId:r,data:t,primaryField:s}),(0,i.createElement)(d.__experimentalHStack,{className:"dataviews-view-grid__primary-field"},s?.render({item:a})),(0,i.createElement)(ii,{item:a,actions:o,isCompact:!0})),!!u?.length&&(0,i.createElement)(d.__experimentalHStack,{className:"dataviews-view-grid__badge-fields",spacing:2,wrap:!0,align:"top",justify:"flex-start"},u.map((e=>{const t=e.render({item:a,isBadge:!0});return t?(0,i.createElement)(d.FlexItem,{key:e.id,className:"dataviews-view-grid__field-value"},t):null}))),!!c?.length&&(0,i.createElement)(d.__experimentalVStack,{className:"dataviews-view-grid__fields",spacing:3},c.map((e=>{const t=e.render({item:a});return t?(0,i.createElement)(d.Flex,{className:Ma()("dataviews-view-grid__field",m?.includes(e.id)?"is-column":"is-row"),key:e.id,gap:1,justify:"flex-start",expanded:!0,style:{height:"auto"},direction:m?.includes(e.id)?"column":"row"},(0,i.createElement)(i.Fragment,null,(0,i.createElement)(d.FlexItem,{className:"dataviews-view-grid__field-name"},e.header),(0,i.createElement)(d.FlexItem,{className:"dataviews-view-grid__field-value",style:{maxHeight:"none"}},t))):null}))))}function bi({id:e,item:t,mediaField:n,primaryField:r,visibleFields:a,selection:o,onSelectionChange:l,getItemId:s,data:c,actions:u}){const m=`${e}-label`,p=`${e}-description`;return(0,i.createElement)("div",{className:"dataviews-view-list__item-wrapper",role:"row"},(0,i.createElement)("div",{role:"gridcell"},(0,i.createElement)("div",{id:e,"aria-labelledby":m,"aria-describedby":p,className:"dataviews-view-list__item"},(0,i.createElement)(d.__experimentalHStack,{spacing:3,justify:"start"},(0,i.createElement)(Qa,{item:t,selection:o,onSelectionChange:l,getItemId:s,data:c,primaryField:r,disabled:!1}),(0,i.createElement)(d.__experimentalVStack,{as:d.FlexBlock,spacing:1},(0,i.createElement)(d.__experimentalHStack,{justify:"flex-start",wrap:!0},(0,i.createElement)("div",{className:"dataviews-view-list__media-wrapper"},n?.render({item:t})||(0,i.createElement)("div",{className:"dataviews-view-list__media-placeholder"})),(0,i.createElement)("span",{className:"dataviews-view-list__primary-field",style:{width:"auto"},id:m},r?.render({item:t}))),(0,i.createElement)(d.__experimentalHStack,{className:"dataviews-view-list__fields",id:p,justify:"flex-start",wrap:!0},a.map((e=>(0,i.createElement)("div",{key:e.id,className:"dataviews-view-list__field"},(0,i.createElement)(d.VisuallyHidden,{as:"span",className:"dataviews-view-list__field-label"},e.header),(0,i.createElement)("span",{className:"dataviews-view-list__field-value"},e.render({item:t,isBadge:!0}))))))),(0,i.createElement)(ii,{item:t,actions:u})))))}const Ei="is",wi="isNot",xi="isAny",ki="isNone",Ci=[Ei,wi,xi,ki,"isAll","isNotAll"],Si=((0,ue.__)("Is"),(0,ue.__)("Is not"),(0,ue.__)("Is any"),(0,ue.__)("Is none"),(0,ue.__)("Is all"),(0,ue.__)("Is not all"),{asc:{label:(0,ue.__)("Sort ascending")},desc:{label:(0,ue.__)("Sort descending")}}),Ri=[{type:"table",label:(0,ue.__)("Table"),component:function({view:e,onChangeView:t,fields:n,actions:r,data:a,getItemId:o,isLoading:l=!1,selection:s,onSelectionChange:c,setOpenedFilter:u,emptyMessage:d,canSelect:m}){const p=(0,i.useRef)(new Map),f=(0,i.useRef)(),[h,g]=(0,i.useState)();(0,i.useEffect)((()=>{f.current&&(f.current.focus(),f.current=void 0)}));const _=(0,i.useId)();if(h)return f.current=h,void g();const v=e=>{const t=p.current.get(e.id),n=p.current.get(t.fallback);g(n?.node)},y=n.filter((t=>!e.hiddenFields.includes(t.id)&&![e.layout.mediaField].includes(t.id))),b=!!a?.length,E={asc:"ascending",desc:"descending"},w=n.find((t=>t.id===e.layout.primaryField));return(0,i.createElement)(i.Fragment,null,(0,i.createElement)("table",{className:"dataviews-view-table","aria-busy":l,"aria-describedby":_},(0,i.createElement)("thead",null,(0,i.createElement)("tr",{className:"dataviews-view-table__row"},m&&b&&!l&&(0,i.createElement)("th",{className:"dataviews-view-table__checkbox-column",style:{width:"1%"},"data-field-id":"selection",scope:"col"},(0,i.createElement)(_i,{selection:s,onSelectionChange:c,data:a,actions:r})),y.map(((n,r)=>(0,i.createElement)("th",{key:n.id,style:{width:n.width||void 0,minWidth:n.minWidth||void 0,maxWidth:n.maxWidth||void 0},"data-field-id":n.id,"aria-sort":e.sort?.field===n.id&&E[e.sort.direction],scope:"col"},(0,i.createElement)(gi,{ref:e=>{e?p.current.set(n.id,{node:e,fallback:y[r>0?r-1:1]?.id}):p.current.delete(n.id)},field:n,view:e,onChangeView:t,onHide:v,setOpenedFilter:u})))),!!r?.length&&(0,i.createElement)("th",{"data-field-id":"actions",className:"dataviews-view-table__actions-column"},(0,i.createElement)("span",{className:"dataviews-view-table-header"},(0,ue.__)("Actions"))))),(0,i.createElement)("tbody",null,b&&a.map(((e,t)=>(0,i.createElement)(vi,{key:o(e),item:e,canSelect:m,actions:r,id:o(e)||t,visibleFields:y,primaryField:w,selection:s,getItemId:o,onSelectionChange:c,data:a}))))),(0,i.createElement)(li,{isLoading:l,hasData:b,emptyMessage:d,id:_}))},icon:Ha},{type:"grid",label:(0,ue.__)("Grid"),component:function({data:e,fields:t,view:n,actions:r,isLoading:a,getItemId:o,selection:l,onSelectionChange:s,emptyMessage:c,canSelect:u}){const m=t.find((e=>e.id===n.layout.mediaField)),p=t.find((e=>e.id===n.layout.primaryField)),{visibleFields:f,badgeFields:h}=t.reduce(((e,t)=>(n.hiddenFields.includes(t.id)||[n.layout.mediaField,n.layout.primaryField].includes(t.id)||e[n.layout.badgeFields?.includes(t.id)?"badgeFields":"visibleFields"].push(t),e)),{visibleFields:[],badgeFields:[]}),g=!!e?.length;return(0,i.createElement)(i.Fragment,null,g&&(0,i.createElement)(d.__experimentalGrid,{gap:6,columns:2,alignment:"top",className:"dataviews-view-grid","aria-busy":a},e.map((t=>(0,i.createElement)(yi,{key:o(t),selection:l,data:e,onSelectionChange:s,getItemId:o,item:t,actions:r,mediaField:m,primaryField:p,visibleFields:f,badgeFields:h,columnFields:n.layout.columnFields,canSelect:u})))),!g&&(0,i.createElement)(li,{isLoading:a,hasData:g,emptyMessage:c}))},icon:Ua},{type:"list",label:(0,ue.__)("List"),component:function e({view:t,fields:n,data:r,isLoading:a,getItemId:o,id:l,emptyMessage:s,...c}){const u=(0,de.useInstanceId)(e,"view-list",l),m=n.find((e=>e.id===t.layout.mediaField)),p=n.find((e=>e.id===t.layout.primaryField)),f=n.filter((e=>!t.hiddenFields.includes(e.id)&&![t.layout.primaryField,t.layout.mediaField].includes(e.id))),h=(0,i.useCallback)((e=>e?`${u}-${o(e)}`:void 0),[u,o]),g=r?.length;return g?(0,i.createElement)(d.__experimentalItemGroup,{id:u,className:"dataviews-view-list",role:"grid",size:"large",isSeparated:!0},r.map((e=>{const t=h(e);return(0,i.createElement)(d.__experimentalItem,{key:t,size:"large",role:"row"},(0,i.createElement)(bi,{id:t,item:e,mediaField:m,primaryField:p,visibleFields:f,getItemId:o,data:r,...c}))}))):(0,i.createElement)(li,{isLoading:a,hasData:g,emptyMessage:s})},icon:(0,ue.isRTL)()?qa:Wa}],{DropdownMenuV2:Ai,DropdownMenuGroupV2:Fi,DropdownMenuItemV2:Ii,DropdownMenuRadioItemV2:$i,DropdownMenuCheckboxItemV2:Ti,DropdownMenuItemLabelV2:Oi}=Va(d.privateApis);function Mi({view:e,onChangeView:t,supportedLayouts:n}){let r=Ri;if(n&&(r=r.filter((e=>n.includes(e.type)))),1===r.length)return null;const a=r.find((t=>e.type===t.type));return(0,i.createElement)(Ai,{trigger:(0,i.createElement)(Ii,{suffix:(0,i.createElement)("span",{"aria-hidden":"true"},a.label)},(0,i.createElement)(Oi,null,(0,ue.__)("Layout")))},r.map((n=>(0,i.createElement)($i,{key:n.type,value:n.type,name:"view-actions-available-view",checked:n.type===e.type,hideOnClick:!0,onChange:n=>{t({...e,type:n.target.value})}},(0,i.createElement)(Oi,null,n.label)))))}const Pi=[10,25,50,75,100];function Ni({view:e,onChangeView:t}){const n=parseInt(e.perPage,10);return(0,i.createElement)(Ai,{trigger:(0,i.createElement)(Ii,{suffix:(0,i.createElement)("span",{"aria-hidden":"true"},n)},(0,i.createElement)(Oi,null,(0,ue.__)("Items per page")))},Pi.map((r=>(0,i.createElement)($i,{key:r,value:r,name:"view-actions-page-size",checked:n===r,onChange:()=>{t({...e,perPage:r,page:1})}},(0,i.createElement)(Oi,null,r)))))}function Di({view:e,onChangeView:t,fields:n}){const r=n.filter((t=>!1!==t.enableHiding&&t.id!==e.layout.mediaField));return r?.length?(0,i.createElement)(Ai,{trigger:(0,i.createElement)(Ii,null,(0,i.createElement)(Oi,null,(0,ue.__)("Fields")))},r?.map((n=>(0,i.createElement)(Ti,{key:n.id,value:n.id,checked:!e.hiddenFields?.includes(n.id),onChange:()=>{t({...e,hiddenFields:e.hiddenFields?.includes(n.id)?e.hiddenFields.filter((e=>e!==n.id)):[...e.hiddenFields||[],n.id]})}},(0,i.createElement)(Oi,null,n.header))))):null}function Li({fields:e,view:t,onChangeView:n}){const r=e.filter((e=>!1!==e.enableSorting));if(!r?.length)return null;const a=e.find((e=>e.id===t.sort?.field));return(0,i.createElement)(Ai,{trigger:(0,i.createElement)(Ii,{suffix:(0,i.createElement)("span",{"aria-hidden":"true"},a?.header)},(0,i.createElement)(Oi,null,(0,ue.__)("Sort by")))},r?.map((e=>{const r=t.sort?.direction;return(0,i.createElement)(Ai,{key:e.id,trigger:(0,i.createElement)(Ii,null,(0,i.createElement)(Oi,null,e.header)),style:{minWidth:"220px"}},Object.entries(Si).map((([o,l])=>{const s=void 0!==a&&r===o&&e.id===a.id,c=`${e.id}-${o}`;return(0,i.createElement)($i,{key:c,name:"view-actions-sorting",value:c,checked:s,onChange:()=>{n({...t,sort:{field:e.id,direction:o}})}},(0,i.createElement)(Oi,null,l.label))})))})))}const Bi=(0,i.memo)((function({fields:e,view:t,onChangeView:n,supportedLayouts:r}){return(0,i.createElement)(Ai,{trigger:(0,i.createElement)(d.Button,{size:"compact",icon:Ba,label:(0,ue.__)("View options")})},(0,i.createElement)(Fi,null,(0,i.createElement)(Mi,{view:t,onChangeView:n,supportedLayouts:r}),(0,i.createElement)(Li,{fields:e,view:t,onChangeView:n}),(0,i.createElement)(Di,{fields:e,view:t,onChangeView:n}),(0,i.createElement)(Ni,{view:t,onChangeView:n})))})),zi=(0,c.memo)((function({label:e,view:t,onChangeView:n}){const[r,a,o]=(0,de.useDebouncedInput)(t.search);(0,c.useEffect)((()=>{a(t.search)}),[t]);const l=(0,c.useRef)(n);(0,c.useEffect)((()=>{l.current=n}),[n]),(0,c.useEffect)((()=>{l.current({...t,page:1,search:o})}),[o]);const s=e||(0,ue.__)("Search");return(0,i.createElement)(d.SearchControl,{__nextHasNoMarginBottom:!0,onChange:a,value:r,label:s,placeholder:s,size:"compact"})})),ji=e=>e.id,Vi=()=>{},Hi=({children:e,context:t,prefix:n})=>t?(0,i.createElement)(d.Fill,{name:`${n}__${t}`},e):e,Ui=({context:e,prefix:t})=>e?(0,i.createElement)(d.Slot,{name:`${t}__${e}`}):null;function qi({view:e,onChangeView:t,fields:n,search:r=!1,searchLabel:a,bulkActions:o,actions:l=[],data:s,getItemId:c=ji,isLoading:u=!1,paginationInfo:m,supportedLayouts:p,onSelectionChange:f=Vi,filters:h=null,context:g=null,..._}){const[v,y]=(0,i.useState)([]),[b,E]=(0,i.useState)(null),w=!r&&!h&&!o&&g;(0,i.useEffect)((()=>{if(v.length>0&&v.some((e=>!s.some((t=>c(t)===e))))){const e=v.filter((e=>s.some((t=>c(t)===e))));y(e),f(s.filter((t=>e.includes(c(t)))))}}),[v,s,c,f]);const x=(0,i.useCallback)((e=>{y(e.map((e=>c(e)))),f(e)}),[y,c,f]),k=Ri.find((t=>t.type===e.type)).component,C=(0,i.useMemo)((()=>function(e){return e.map((e=>{const t=e.getValue||(({item:t})=>t[e.id]);return{...e,getValue:t,render:e.render||t}}))}(n)),[n]);return(0,i.createElement)("div",{className:"dataviews-wrapper"},w?(0,i.createElement)(Hi,{prefix:"view-actions",context:g},(0,i.createElement)(Bi,{fields:C,view:e,onChangeView:t,supportedLayouts:p})):(0,i.createElement)(d.__experimentalHStack,{alignment:"top",justify:"start",className:"dataviews-filters__view-actions",wrap:!0},(0,i.createElement)(d.FlexBlock,null,(0,i.createElement)(d.__experimentalHStack,{justify:"start",className:"dataviews-filters__container",wrap:!0},r&&(0,i.createElement)(zi,{label:a,view:e,onChangeView:t}),h)),o&&o({data:s,selection:v,onSetSelection:x,getItemId:c}),(0,i.createElement)(Hi,{prefix:"view-actions",context:g},(0,i.createElement)(Bi,{fields:C,view:e,onChangeView:t,supportedLayouts:p})),g&&(0,i.createElement)(Hi,{prefix:"pagination",context:g},(0,i.createElement)(La,{view:e,onChangeView:t,paginationInfo:m})),(0,i.createElement)(Ui,{prefix:"pagination",context:g})),(0,i.createElement)(k,{..._,fields:C,view:e,onChangeView:t,actions:l,data:s,getItemId:c,isLoading:u,onSelectionChange:x,selection:v,setOpenedFilter:E,canSelect:!!o}),!g&&(0,i.createElement)(Hi,{prefix:"pagination",context:g},(0,i.createElement)(La,{view:e,onChangeView:t,paginationInfo:m})),(0,i.createElement)(Ui,{prefix:"pagination",context:g}))}n(731);const Wi=({title:e,onRefresh:t,actions:n,totalRows:r})=>{const a=(0,i.useMemo)((()=>n?(0,i.createElement)(d.FlexItem,null,n):null),[n]);return(0,i.createElement)(d.CardHeader,null,(0,i.createElement)(d.__experimentalHStack,{gap:2,wrap:!0},(0,i.createElement)("div",null,(0,i.createElement)(d.__experimentalHStack,null,(0,i.createElement)(rr,{as:"h2"},e),t&&(0,i.createElement)(d.Button,{icon:Pa,onClick:t,variant:"tertiary",label:(0,ue.__)("Refresh","newsletter-optin-box"),showTooltip:!0}))),r>0&&a))},Gi=({recordActions:e=[],className:t,searchPlaceholder:n,headers:r=[],isLoading:a=!1,onRefresh:o=!1,query:l={},ignore:s=[],rows:c=[],title:u,totalRows:m,canSelectRows:p,DisplayCell:f,view:h,setView:g,..._})=>{const v=(0,de.useInstanceId)(Gi,"noptin-table-card"),y=(0,i.useMemo)((()=>r.filter((e=>!s.includes(e.key))).map((e=>{let t;return e.enum&&!Array.isArray(e.enum)?t=Object.keys(e.enum).map((t=>({value:t,label:e.enum[t]}))):e.is_boolean&&(t=[{value:"1",label:(0,ue.__)("Yes","newsletter-optin-box")},{value:"0",label:(0,ue.__)("No","newsletter-optin-box")}]),{header:e.label,id:e.name,render:({item:t,isBadge:n})=>(0,i.createElement)(f,{isBadge:n,viewType:h.type,row:t,header:e,headerKey:e.key}),elements:t,filterBy:{operators:["isAny","isNone","isAll","isNotAll"],isPrimary:!0},enableSorting:e.isSortable}}))),[r,s]),b={totalItems:m,totalPages:m?Math.ceil(m/h.perPage):0};return(0,i.createElement)(d.Card,{className:Ma()("noptin-table",t),elevation:0},(0,i.createElement)(_e,null,(0,i.createElement)(Wi,{title:u,query:l,setView:g,onRefresh:!a&&o,searchPlaceholder:n,totalRows:m,actions:(0,i.createElement)(d.Slot,{name:`view-actions__${v}`})})),(0,i.createElement)(_e,null,(0,i.createElement)(qi,{data:a?[]:c,fields:y,view:h,onChangeView:g,paginationInfo:b,searchLabel:n,isLoading:a,context:v,..._})))},Ki=Gi,Qi=[0,100],Yi=[0,100],Xi=e=>`${1===e.length?"0":""}${e}`,Zi=(e,t,n)=>Math.max(Math.min(e,n),t),Ji=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,eo=(e,t,n)=>{const r=Ji(e,t);for(let a=0;a<n?.length;a++){const i=n[a];if(2===i?.length&&r>=i[0]&&r<=i[1])return eo(e,t,n)}return r},to=(e,t)=>"number"==typeof t?t:e%Math.abs(t[1]-t[0])+t[0],no=(e,t)=>"number"==typeof e?Zi(Math.abs(e),...t):1===e.length||e[0]===e[1]?Zi(Math.abs(e[0]),...t):[Math.abs(Zi(e[0],...t)),Zi(Math.abs(e[1]),...t)],ro=(e,t,n)=>(n<0?n+=1:n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e),ao=(e,t,n)=>{let r,a,i;if(e/=360,n/=100,0==(t/=100))r=a=i=n;else{const o=n<.5?n*(1+t):n+t-n*t,l=2*n-o;r=ro(l,o,e+1/3),a=ro(l,o,e),i=ro(l,o,e-1/3)}return[Math.round(255*r),Math.round(255*a),Math.round(255*i)]},io=(e,t,n,r)=>(299*e+587*t+114*n)/1e3>=r,oo=(e,t,n)=>`hsl(${e}, ${t}%, ${n}%)`,lo=(e,t,n,r)=>"rgb"===r?`rgb(${e}, ${t}, ${n})`:`#${Xi(e.toString(16))}${Xi(t.toString(16))}${Xi(n.toString(16))}`,so=(e,{format:t="hex",saturation:n=[50,55],lightness:r=[50,60],differencePoint:a=130}={})=>{const i=Math.abs((e=>{const t=e.length;let n=0;for(let r=0;r<t;r++)n=(n<<5)-n+e.charCodeAt(r),n&=n;return n})(String(e))),o=to(i,[0,360]),l=to(i,no(n,Qi)),s=to(i,no(r,Yi)),[c,u,d]=ao(o,l,s);return{color:"hsl"===t?oo(o,l,s):lo(c,u,d,t),isLight:io(c,u,d,a)}};so.random=({format:e="hex",saturation:t=[50,55],lightness:n=[50,60],differencePoint:r=130,excludeHue:a}={})=>{t=no(t,Qi),n=no(n,Yi);const i=a?eo(0,359,a):Ji(0,359),o="number"==typeof t?t:Ji(...t),l="number"==typeof n?n:Ji(...n),[s,c,u]=ao(i,o,l);return{color:"hsl"===e?oo(i,o,l):lo(s,c,u,e),isLight:io(s,c,u,r)}};const co=so;function uo(e){if(["subscribed","active","yes","true","1"].includes(e))return{backgroundColor:"#78c67a",color:"#111111"};if(["unsubscribed","inactive","no","false","0"].includes(e))return{backgroundColor:"#fbcfbd",color:"#241c15"};if(["pending","waiting","maybe","2"].includes(e))return{backgroundColor:"#fbeeca",color:"#241c15"};const t=co(e,{saturation:[60,100],lightness:[30,45]});return{backgroundColor:t.color,color:t.isLight?"#111111":"#ffffff"}}const mo=({row:e,header:t,headerKey:n})=>{const{is_list:r,item:a,args:o,is_primary:l,url:s,is_boolean:c,is_badge:u}=t;if(r)return Array.isArray(e[n])&&0!==e[n].length?(0,i.createElement)("ul",null,e[n].map(((e,t)=>{let n=e;if(a){const t=o.map((t=>e[t]));n=(0,ue.sprintf)(a,...t)}return(0,i.createElement)("li",{key:t,dangerouslySetInnerHTML:{__html:n}})}))):"—";if(l&&s)return e[s]?(0,i.createElement)("a",{href:e[s],style:{textDecoration:"none"},target:"_blank"},(0,i.createElement)("strong",null,e[n])):(0,i.createElement)("strong",null,e[n]);if(c){const t=e[n]?"yes":"no";return(0,i.createElement)(d.Icon,{icon:t})}return u&&e[n]?(0,i.createElement)(ur,{...uo(e[n])},e[n]):(0,i.createElement)("div",{dangerouslySetInnerHTML:{__html:e[n]}})};function po({tab:e,tabName:t,namespace:n,collection:r,recordId:a}){const o=function(e,t,n,r){return n=parseInt(n,10),_t((a=>a(ft(e,t)).getTabContent(n,r)),[e,t,n,r])}(n,r,a,t),l=(0,i.useMemo)((()=>e.headers.map((e=>({key:e.name,label:e.label,isSortable:!1,isNumeric:e.is_numeric,...e})))),[e.headers]),[s,c]=(0,i.useState)({type:"table",hiddenFields:["id"],page:1,perPage:25,sort:{field:void 0,direction:void 0},search:"",layout:{primaryField:e.headers?.[0].name||"id"}});return"ERROR"===o.status?(0,i.createElement)(br,{title:e.title},(0,i.createElement)(d.CardBody,null,(0,i.createElement)(d.Notice,{status:"error",isDismissible:!1},o.error?.message||(0,ue.__)("An unknown error occurred.","newsletter-optin-box")))):(0,i.createElement)(Ki,{...e,isLoading:o.isResolving,rows:o.data,headers:l,showFooter:!1,DisplayCell:mo,view:s,setView:c,getItemId:t=>t.id||t[e.headers?.[0].name]})}const fo=(e,t,n=!1)=>{if(!e)return e;n&&(e=(0,u.addQueryArgs)(e,{s:360}));const r=(0,u.getQueryArg)(e,"d");if(!r||!r.includes("ui-avatars.com"))return e;const a=r.match(/\/api\/(.*?)\/64\//),i=a&&a.length>1?a[1]:r,o=uo(t||i),l=r.indexOf("/64/");return-1!==l&&(e=(0,u.addQueryArgs)(e,{d:`${r.substring(0,l+4)}/${o.backgroundColor.replace("#","")}/${o.color.replace("#","")}`})),e.includes("%2F64%2F%")&&(e=e.replace("%2F64%2F%","%2F360%2F%")),e},ho=({record:e,name:t,basePath:n="",viewType:r})=>{const a=mr(),o=e[t],l="table"!==r?"":fo(e.avatar_url,o),s=l?(0,i.createElement)(lr,{src:l,alt:o}):null,u=(0,c.useCallback)((()=>a(`${n}${e.id}`)),[n,e.id]),m=s?(0,i.createElement)(d.Flex,null,(0,i.createElement)(d.FlexItem,null,s),(0,i.createElement)(d.FlexBlock,null,o)):o;return(0,i.createElement)(d.Button,{variant:"link",style:{width:"100%",alignItems:"start",textDecoration:"none"},onClick:u},m)},go=({value:e,enums:t={}})=>{const[n,r]=(0,c.useState)(!1),a=n?e:e.slice(0,2),o=e.length>2;return(0,i.createElement)(d.Flex,{gap:2,justify:"flex-start",wrap:!0},a.map((e=>(0,i.createElement)(d.FlexItem,{key:e},(0,i.createElement)(ur,{...uo(e)},t[e]||e)))),o&&(0,i.createElement)(d.FlexItem,null,(0,i.createElement)(d.Button,{variant:"link",onClick:()=>r(!n)},n?(0,ue.__)("Hide","newsletter-optin-box"):(0,ue.__)("Show all","newsletter-optin-box"))))};function _o({row:e,header:t,headerKey:n,viewType:r="table",isBadge:a=!1}){const o=e[n];if(null==o||""===o)return a?"":(0,i.createElement)("span",{className:"noptin-table__cell--null"},"–");if(Array.isArray(o)&&0===o.length)return a?"":(0,i.createElement)("span",{className:"noptin-table__cell--null"},"–");if(t.is_primary&&"string"==typeof o)return(0,i.createElement)(ho,{record:e,name:n,viewType:r,basePath:t.basePath||""});if("avatar_url"===n){const t=fo(e.avatar_url,o,"table"!==r);return t?"table"!==r?(0,i.createElement)("img",{src:t,alt:o}):t?(0,i.createElement)(lr,{src:t,alt:o}):null:null}if(t.is_boolean){const e=o?"yes":"no",t=o?"#3a9001":"#880000";return(0,i.createElement)(d.Icon,{size:24,style:{color:t},icon:e})}if(t.is_date&&o){const e=Nr.getSettings?(0,Nr.getSettings)():(0,Nr.__experimentalGetSettings)();return 10===o.length?(0,Nr.dateI18n)(e.formats.date,o):(0,Nr.dateI18n)(e.formats.datetime,o)}return t.is_tokens&&Array.isArray(o)?(0,i.createElement)(go,{value:o}):t.enum&&Array.isArray(o)?(0,i.createElement)(go,{value:o,enums:t.enum}):t.is_numeric||t.is_float||"string"==typeof o?(l=t.enum)&&"object"==typeof l&&l.constructor===Object?(0,i.createElement)(ur,{...uo(o)},t.enum[o]||o):o:JSON.stringify(o);var l}var vo=n(809),yo=n.n(vo);const bo=({fields:e,back:t,schema:n,namespace:r,collection:a,selected:o,query:l})=>{const s=0===o.length?{...l}:{include:o.join(",")};s.__fields=e.join(","),s.number=-1,s.context="edit";const u=function(e,t,n={}){const r=gt(n);return _t((n=>n(ft(e,t)).getPartialRecords(r)),[e,t,r])}(r,a,s),m=(0,c.useMemo)((()=>{if(!u.data?.length)return[];const e=n.reduce(((e,t)=>(e[t.name]=t.label,e)),{});return Object.keys(u.data[0]).map((t=>e[t]||t))}),[n,u.data]),p=(0,c.useMemo)((()=>u.data?.length?u.data.map((e=>Object.values(e))):[]),[u.data]),f=(0,i.createElement)(d.Button,{variant:"link",onClick:t},(0,ue.__)("Go Back","newsletter-optin-box"));if(u.isResolving)return(0,i.createElement)(d.__experimentalText,{size:16,as:"p"},(0,i.createElement)(d.Spinner,{style:{marginLeft:0}}),(0,ue.__)("Preparing records...","newsletter-optin-box"));if("ERROR"===u.status)return(0,i.createElement)(Zn,{status:"error",isDismissible:!1},u.error.message||(0,ue.__)("An unknown error occurred.","newsletter-optin-box"),"   ",f);if(!u.data.length)return(0,i.createElement)(Zn,{status:"info",isDismissible:!1},(0,ue.__)("Found no records to export.","newsletter-optin-box"),"   ",f);const h=yo().unparse({fields:m,data:p},{escapeFormulae:!0}),g=`${r}-${a}-${Date.now()}.csv`;return(0,i.createElement)(Zn,{status:"success",isDismissible:!1},(0,ue.__)("Done! Click the button below to download records.","newsletter-optin-box"),"   ",(0,i.createElement)(d.Button,{variant:"primary",href:`data:text/csv;charset=utf-8,${encodeURIComponent(h)}`,download:g,text:(0,ue.__)("Download CSV","newsletter-optin-box")}))},Eo=({fields:e,setFields:t,schema:{schema:n,ignore:r},next:a})=>(0,i.createElement)(d.Flex,{direction:"column",gap:4},(0,i.createElement)(d.FlexItem,null,(0,i.createElement)("p",{className:"description"},(0,ue.__)("Select the fields to include in your exported file","newsletter-optin-box"))),n.map((n=>{if(!r.includes(n.name))return(0,i.createElement)(d.FlexItem,{key:n.name},(0,i.createElement)(d.ToggleControl,{label:n.label===n.description?n.label:`${n.label} (${n.description})`,checked:e.includes(n.name),onChange:()=>{e.includes(n.name)?t(e.filter((e=>e!==n.name))):t([...e,n.name])},__nextHasNoMarginBottom:!0}))})),(0,i.createElement)(d.FlexItem,null,(0,i.createElement)(Jn,{variant:"primary",onClick:a},(0,i.createElement)(d.Icon,{icon:"download"}),(0,ue.__)("Download","newsletter-optin-box")))),wo=({namespace:e,collection:t,...n})=>{const r=Et(e,t),[a,o]=(0,c.useState)((0,Re.compact)(r.data.schema.map((e=>r.data.hidden.includes(e.name)||r.data.ignore.includes(e.name)?null:e.name)))),[l,s]=(0,c.useState)("fields");return"fields"===l?(0,i.createElement)(Eo,{fields:a,setFields:o,schema:r.data,next:()=>s("progress")}):"progress"===l?(0,i.createElement)(bo,{fields:a,schema:r.data.schema,back:()=>s("fields"),namespace:e,collection:t,...n}):void 0};function xo({count:e,selected:t,...n}){const[r,a]=(0,c.useState)(!1),o=0===t.length,l=o?(0,ue.__)("Download","newsletter-optin-box"):(0,ue.__)("Download Selected","newsletter-optin-box"),s=o?(0,ue.sprintf)(/* translators: %s: number of records */ /* translators: %s: number of records */
(0,ue.__)("Download all %s records","newsletter-optin-box"),e):(0,ue.sprintf)(/* translators: %s: number of records */ /* translators: %s: number of records */
(0,ue.__)("Download %s selected records","newsletter-optin-box"),t.length);return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(d.Button,{onClick:()=>a(!0),variant:"tertiary",text:l}),r&&(0,i.createElement)(d.Modal,{title:s,onRequestClose:()=>a(!1)},(0,i.createElement)("div",{className:"hizzle-records-export-modal__body"},(0,i.createElement)(_e,null,(0,i.createElement)(wo,{count:e,selected:t,...n})))))}function ko({namespace:e,collection:t,query:n,count:r,selected:a,setSelected:o}){const l=(0,pe.useDispatch)(`${e}/${t}`),[s,m]=(0,c.useState)(!1),[p,f]=(0,c.useState)(null),[h,g]=(0,c.useState)(!1),_=0===a.length,v=_?(0,ue.__)("Delete","newsletter-optin-box"):(0,ue.__)("Delete Selected","newsletter-optin-box"),y=fr(a,n);return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(d.Button,{onClick:()=>m(!0),variant:"tertiary",icon:"trash",text:v,isDestructive:!0}),s&&(0,i.createElement)(d.Modal,{title:v,onRequestClose:()=>m(!1)},(0,i.createElement)((()=>(0,i.createElement)(i.Fragment,null,h?(0,i.createElement)(i.Fragment,null,(0,i.createElement)(d.Spinner,null),(0,ue.__)("Deleting...","newsletter-optin-box")):(0,i.createElement)(i.Fragment,null,p?(0,i.createElement)(tr,null,p.message):(0,i.createElement)(tr,null,_&&(0,ue.sprintf)((0,ue.__)("Are you sure you want to delete %d matching records?","newsletter-optin-box"),r),!_&&(0,ue.sprintf)((0,ue.__)("Are you sure you want to delete %d selected records?","newsletter-optin-box"),a.length)),(0,i.createElement)(Jn,{isDestructive:!0,onClick:()=>{g(!0),l.deleteRecords((0,u.addQueryArgs)("",y),l).then((e=>{m(!1),o([])})).catch((e=>{f(e)})).finally((()=>{g(!1)}))}},(0,ue.__)("Yes, Delete!","newsletter-optin-box")),(0,i.createElement)(Jn,{onClick:()=>m(!1),variant:"secondary",__withNoMargin:!0},(0,ue.__)("Cancel","newsletter-optin-box"))))),null)))}const Co=({editableFields:e,onSave:t,changes:n,setAttributes:r})=>(0,i.createElement)("form",{onSubmit:t},e.map((e=>{const t={...wa(e),default:"",placeholder:(0,ue.__)("Do not update","newsletter-optin-box")};let a=null;return e.multiple&&(t.label=(0,ue.sprintf)((0,ue.__)("%s - To Add","newsletter-optin-box"),e.label),t.name=`${e.name}::add`,a={...t,name:`${e.name}::remove`,label:(0,ue.sprintf)((0,ue.__)("%s - To Remove","newsletter-optin-box"),e.label)}),(0,i.createElement)(c.Fragment,{key:e.name},(0,i.createElement)("div",{style:{marginBottom:"1.6rem"}},(0,i.createElement)(va,{settingKey:t.name,saved:n,setAttributes:r,setting:t})),a&&(0,i.createElement)("div",{style:{marginBottom:"1.6rem"}},(0,i.createElement)(va,{settingKey:a.name,saved:n,setAttributes:r,setting:a})))}))),So=({editableFields:e,namespace:t,collection:n,query:r,selected:a,count:o})=>{const l=(0,pe.useDispatch)(`${t}/${n}`),[s,u]=(0,c.useState)(null),[m,p]=(0,c.useState)(!1),[f,h]=(0,c.useState)(!1),[g,_]=(0,c.useState)({}),v=fr(a,r),y=Object.keys(g).length>0,b=e=>{if(e?.preventDefault(),m)return;p(!0);const t={bulk_update:{merge:g,query:v}};l.batchAction(t,l).then((()=>{h(!0),_({})})).catch((e=>{u(e)})).finally((()=>{p(!1)}))};return(0,i.createElement)(c.Fragment,null,(0,i.createElement)(Co,{editableFields:e,changes:g,onSave:b,setAttributes:e=>{_({...g,...e}),s&&u(null),f&&h(!1)}}),y&&(0,i.createElement)(Jn,{variant:"primary",onClick:b,isBusy:m},!m&&(0,i.createElement)(d.Icon,{icon:"cloud-saved"})," ",(0,ue.sprintf)(m?(0,ue.__)("Saving %d records...","newsletter-optin-box"):(0,ue.__)("Edit %d records","newsletter-optin-box"),a.length>0?a.length:o),m&&(0,i.createElement)(d.Spinner,null)),s&&!y&&(0,i.createElement)(d.Notice,{status:"error",isDismissible:!0},s.message),f&&!y&&(0,i.createElement)(d.Notice,{status:"success",isDismissible:!0},(0,ue.__)("Records updated successfully.","newsletter-optin-box")))};function Ro(e){const[t,n]=(0,c.useState)(!1),r=Ea(e),a=r.length>0;return(0,i.createElement)(c.Fragment,null,a&&(0,i.createElement)(c.Fragment,null,(0,i.createElement)(d.Button,{onClick:()=>n(!0),variant:"tertiary",text:(0,ue.__)("Bulk Edit","newsletter-optin-box")}),t&&(0,i.createElement)(d.Modal,{title:(0,ue.__)("Bulk Edit","newsletter-optin-box"),onRequestClose:()=>n(!1)},(0,i.createElement)(So,{editableFields:r,...e}))))}const Ao=({namespace:e,collection:t})=>{const n=pr(),{data:r}=Et(e,t);return(0,i.createElement)(d.Button,{onClick:()=>n(`${e}/${t}/add`),variant:"primary",text:r?.labels?.add_new||(0,ue.__)("Add New","newsletter-optin-box")})},Fo=({namespace:e,collection:t,inline:n,query:r,selection:a,onSetSelection:o})=>{const l=bt(e,t,r),s=l.data?.total||0;return(0,i.createElement)("div",null,(0,i.createElement)(d.__experimentalHStack,{wrap:!0},n&&(0,i.createElement)(d.FlexItem,null,(0,i.createElement)(Ao,{namespace:e,collection:t,count:s,selected:a})),(0,i.createElement)(d.FlexItem,null,(0,i.createElement)(Ro,{namespace:e,collection:t,query:r,count:s,selected:a,isBulkEditing:!0})),(0,i.createElement)(d.FlexItem,null,(0,i.createElement)(xo,{namespace:e,collection:t,query:r,count:s,selected:a})),(0,i.createElement)(d.FlexItem,null,(0,i.createElement)(ko,{namespace:e,collection:t,query:r,count:s,selected:a,setSelected:o}))))},Io=["type","hiddenFields"],$o=({schema:{schema:e,hidden:t,ignore:n,labels:r,id_prop:a,badges:o},total:l,summary:s,records:c,isLoading:u,namespace:d,collection:m,updateQueryString:p,query:f,emptyMessage:h,inline:g,basePath:_=""})=>{const v=`${d}/${m}`,y=(0,i.useMemo)((()=>{const t=[];return e.forEach((e=>{e.is_textarea&&!e.is_tokens||n.includes(e.name)||"hide"===e.js_props?.table||t.push({key:e.name,isSortable:!e.is_dynamic&&!e.is_meta,isNumeric:e.is_numeric||e.is_float,basePath:_,...e})})),t}),[e,n]),b=(0,i.useCallback)((e=>{e.paged||(e.paged=1),p({...f,...e})}),[p]),E={...(0,pe.useSelect)((e=>e("core/preferences").get(v,"view")),[v])||{},page:f.paged||1,perPage:f.per_page||25,sort:{field:f.orderby,direction:f.order},search:f.search,layout:{primaryField:a||"id",badgeFields:o||[],mediaField:"avatar_url"}},{set:w}=(0,pe.useDispatch)("core/preferences"),x=(0,i.useCallback)((e=>{const t={};Io.forEach((n=>{void 0!==e[n]&&(t[n]=e[n])})),w(v,"view",t),b({paged:e.page||1,per_page:e.perPage||25,order:e.sort?.direction,orderby:e.sort?.field,search:e.search})}),[v,w]),k=(0,pe.useDispatch)(`${d}/${m}`),C=(0,i.useCallback)((()=>{k.invalidateResolutionForStoreSelector("getRecords")}),[d,m]),S=mr(),R=[{id:"edit",label:(0,ue.__)("Edit","newsletter-optin-box"),icon:"edit",callback:e=>S(e.id),isPrimary:!0},{id:"delete",label:(0,ue.__)("Delete","newsletter-optin-box"),icon:"trash",isDestructive:!0,supportsBulk:!0,isEligible:()=>!0,RenderModal:"Modal"}];return(0,i.createElement)(_e,null,(0,i.createElement)(Ki,{bulkActions:e=>(0,i.createElement)(Fo,{namespace:d,collection:m,inline:g,query:f,...e}),actions:R,rows:c,headers:y,totalRows:u?0:l,summary:s?Object.values(s):[],isLoading:u,onRefresh:C,view:E,setView:x,query:f,className:`${d}-${m}__records-table`,search:!0,title:r?.name,emptyMessage:h||r?.not_found,emptyAction:g?(0,i.createElement)("div",{style:{marginTop:"1rem"}},(0,i.createElement)(Ao,{namespace:d,collection:m})):null,searchPlaceholder:r?.search_items,canSelectRows:!0,idProp:"id",DisplayCell:_o,initialHiddenHeaders:t,storeName:`${d}/${m}`,filters:(0,i.createElement)(xa,{namespace:d,collection:m,query:f,setQuery:p})}))},To=hr((function({namespace:e,collection:t,query:n,setQuery:r,schema:a,...o}){console.log(n),(0,i.useEffect)((()=>{const e=a.schema.find((e=>e.is_primary));e&&n.primary_field!==e.name&&r({...n,primary_field:e.name})}),[n,a.schema]);const l=bt(e,t,n);return"ERROR"===l.status?(0,i.createElement)(br,{title:(0,ue.__)("Error","newsletter-optin-box")},(0,i.createElement)(d.CardBody,null,(0,i.createElement)(d.Notice,{status:"error",isDismissible:!1},l.error?.message||(0,ue.__)("An unknown error occurred.","newsletter-optin-box")))):(0,i.createElement)($o,{schema:a,records:l.data.items,total:l.data.total,summary:l.data.summary,isLoading:l.isResolving,namespace:e,collection:t,updateQueryString:r,query:n,...o})}));function Oo(){const{namespace:e,collection:t}=W(),n=(()=>{const[e,t]=(0,c.useState)({}),[n,r]=(0,c.useState)(!0);return(0,c.useLayoutEffect)((()=>{return e=()=>{r(!0)},window.hizzleNavigation=null!==(t=window.hizzleNavigation)&&void 0!==t?t:{},window.hizzleNavigation.historyPatched||(e=>{const t=e.pushState,n=e.replaceState;e.pushState=function(n){const r=new CustomEvent("pushstate",{state:n});return window.dispatchEvent(r),t.apply(e,arguments)},e.replaceState=function(t){const r=new CustomEvent("replacestate",{state:t});return window.dispatchEvent(r),n.apply(e,arguments)},window.hizzleNavigation.historyPatched=!0})(window.history),window.addEventListener("popstate",e),window.addEventListener("pushstate",e),window.addEventListener("replacestate",e),()=>{window.removeEventListener("popstate",e),window.removeEventListener("pushstate",e),window.removeEventListener("replacestate",e)};var e,t}),[]),(0,c.useEffect)((()=>{if(n){const e=Fe();t(e),r(!1)}}),[n]),e})();return(0,i.createElement)(To,{namespace:e,collection:t,setQuery:$e,query:n})}const Mo=({namespace:e,collection:t,defaultProps:n,inline:r,...a})=>{const[o,l]=(0,i.useState)(n),{id:s,tab:c}=W();return(0,i.createElement)(To,{namespace:e,collection:t,setQuery:l,query:o,inline:r,basePath:r?`${s}/${c}/${e}/${t}/`:"",...a})},Po=hr((function({tab:e,namespace:t,collection:n,recordId:r,schema:a,isInner:o}){const l=yt(t,n,r),s={namespace:t,collection:n,recordId:r,tabName:e};if(!Array.isArray(a.tabs)&&a.tabs[e]){const c=a.tabs[e];return"table"===c.type?(0,i.createElement)(po,{tab:c,record:l,...s}):"collection"===c.type?(0,i.createElement)(Mo,{...c,defaultProps:{[c.filter_by]:r}}):(0,i.createElement)(d.Slot,{name:`${t}-${n}-tab-${e}${o?"--inner":""}`,fillProps:{tab:c,record:l.data}})}return o?(0,i.createElement)(Ta,null):(0,i.createElement)($a,null)})),No=()=>{const{tab:e,namespace:t,collection:n,id:r}=W();return(0,i.createElement)("div",{className:`${t}-${n}__${e||"overview"}-content`},(0,i.createElement)(Po,{namespace:t,collection:n,tab:e,recordId:r}),(0,i.createElement)(ee,null))},Do=()=>{const{innerNamespace:e,innerCollection:t,innerId:n,innerTab:r}=W();return(0,i.createElement)("div",{className:`${namespace}-${collection}__${tab||"overview"}-content`},(0,i.createElement)(Po,{namespace:e,collection:t,tab:r,recordId:n,isInner:!0}))},Lo=hr((function({children:e,recordId:t,namespace:n,collection:r,schema:a,tab:o,basePath:l}){const s=yt(n,r,t),c=mr(),u=[{title:a?.labels?.edit_item||(0,ue.__)("Edit Item","newsletter-optin-box"),name:"overview"}];Array.isArray(a?.tabs)||Object.keys(a.tabs).map((e=>u.push({title:a.tabs[e].title,name:e})));const m=(0,i.useCallback)((e=>{const t=u[e]?.name||"overview";c(`${l}/${t}`)}),[l]);return s.isResolving?(0,i.createElement)(br,{title:a.labels?.edit_item||(0,ue.__)("Edit Item","newsletter-optin-box")},(0,i.createElement)(d.CardBody,null,(0,ue.__)("Loading","newsletter-optin-box"),(0,i.createElement)(d.Spinner,null))):"ERROR"===s.status?(0,i.createElement)(br,{title:(0,ue.__)("Error","newsletter-optin-box")},(0,i.createElement)(d.CardBody,null,(0,i.createElement)(d.Notice,{status:"error",isDismissible:!1},s.error?.message||(0,ue.__)("An unknown error occurred.","newsletter-optin-box")))):(0,i.createElement)(i.Fragment,null,u.length>1&&(0,i.createElement)(sr,{orientation:"horizontal",onNavigate:m},u.map(((e,t)=>(0,i.createElement)(d.Button,{key:e.name,isPressed:e.name===o||!o&&0===t,onClick:()=>m(t)},e.title)))),e)})),Bo=()=>{const{namespace:e,collection:t,id:n,tab:r}=W();return(0,i.createElement)(Lo,{namespace:e,collection:t,recordId:n,tab:r,basePath:n},(0,i.createElement)(ee,null))},zo=()=>{const{innerNamespace:e,innerCollection:t,innerTab:n,innerId:r,id:a,tab:o}=W();return(0,i.createElement)(Lo,{namespace:e,collection:t,recordId:r,tab:n,basePath:`${a}/${o}/${e}/${t}/${r}`},(0,i.createElement)(ee,null))},jo=function(){const{notices:e}=(0,pe.useSelect)((e=>({notices:e(fe.store).getNotices()})),[]),{removeNotice:t}=(0,pe.useDispatch)(fe.store),n=e.filter((({isDismissible:e,type:t})=>e&&"default"===t)),r=e.filter((({isDismissible:e,type:t})=>!e&&"default"===t));return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(d.NoticeList,{notices:r,className:"components-noptin-notices__pinned"}),(0,i.createElement)(d.NoticeList,{notices:n,className:"components-noptin-notices__dismissible",onRemove:t}))},Vo=-3;function Ho(){const e=(0,pe.useSelect)((e=>e(fe.store).getNotices()),[]),{removeNotice:t}=(0,pe.useDispatch)(fe.store),n=e.filter((({type:e})=>"snackbar"===e)).slice(Vo);return(0,i.createElement)(d.SnackbarList,{notices:n,className:"components-editor-notices__snackbar",onRemove:t})}const Uo=Qn.div`
	margin: 1.6rem 0;
	max-width: 600px;
`,qo=Jn.withComponent(d.FormFileUpload),Wo=({onUpload:e})=>(0,i.createElement)(Uo,null,(0,i.createElement)(d.__experimentalText,{weight:600,as:"h3"},(0,ue.__)("This tool allows you to import existing records from a CSV file.","newsletter-optin-box")),(0,i.createElement)(qo,{accept:"text/csv",onChange:t=>e(t.currentTarget.files[0]),variant:"primary"},(0,i.createElement)(d.Icon,{icon:"cloud-upload"}),(0,ue.__)("Select a CSV file","newsletter-optin-box")),(0,i.createElement)(d.Tip,null,(0,ue.__)("The first row of the CSV file should contain the field names/headers.","newsletter-optin-box"),(0,i.createElement)("br",null),(0,ue.__)(" Have a different file type?","newsletter-optin-box")," ",(0,i.createElement)(d.Button,{variant:"link",href:"https://convertio.co/csv-converter/",target:"_blank",text:(0,ue.__)("Convert it to CSV","newsletter-optin-box")}))),Go=Qn(d.FlexItem)`
	width: 320px;
`,Ko=Go.withComponent("div"),Qo=e=>((e=(e=e.replace(/[^a-zA-Z0-9]/g,"")).toLowerCase()).startsWith("cf")&&(e=e.slice(2)),e.startsWith("meta")&&(e=e.slice(4)),e),Yo=({options:e,field:t,value:n,setValue:r,customValue:a,setCustomValue:o})=>(0,i.createElement)(d.Flex,{style:{marginTop:"1.6rem"},gap:4,justify:"flex-start",wrap:!0},(0,i.createElement)(Go,null,(0,i.createElement)(d.SelectControl,{label:t.label,value:n,onChange:r,options:e,__next36pxDefaultSize:!0,__nextHasNoMarginBottom:!0})),"-1"===n&&(0,i.createElement)(Go,null,t.options?(0,i.createElement)(d.SelectControl,{label:(0,ue.__)("Select value","newsletter-optin-box"),value:a,onChange:o,options:[{value:"",label:(0,ue.__)("Select value","newsletter-optin-box"),disabled:!0},...t.options],__next36pxDefaultSize:!0,__nextHasNoMarginBottom:!0}):(0,i.createElement)(d.TextControl,{label:(0,ue.__)("Enter value","newsletter-optin-box"),placeholder:(0,ue.__)("Enter a value to assign all imported records","newsletter-optin-box"),value:a,onChange:o,__nextHasNoMarginBottom:!0}))),Xo=({file:e,schema:t,ignore:n,hidden:r,back:a,onContinue:o,namespace:l,collection:s})=>{const[u,m]=(0,c.useState)([]),[p,f]=(0,c.useState)({}),[h,g]=(0,c.useState)(!1),[_,v]=(0,c.useState)(null),y=(0,c.useMemo)((()=>(0,Re.compact)(t.map((e=>"date_created"!==e.name&&(e.readonly||n.includes(e.name)||["id"].includes(e.name))?null:{value:e.name,label:e.label,is_boolean:e.is_boolean,options:!Array.isArray(e.enum)&&Object.keys(e.enum).map((t=>({value:t,label:e.enum[t]})))})))),[t,n,r]);(0,c.useEffect)((()=>{yo().parse(e,{header:!0,skipEmptyLines:"greedy",preview:5,complete:e=>{m(e.meta.fields)},error(e){v(e)}})}),[e]),(0,c.useEffect)((()=>{if(!u.length)return;const e={};u.forEach((t=>{const n=Qo(t);let r=!1,a=y.find((e=>{const t=Qo(e.value),r=Qo(e.label);return n===t||n===r}));a||(a=y.find((e=>{const t=Qo(e.value),r=Qo(e.label);return n.includes(t)||n.includes(r)||t.includes(n)||r.includes(n)})),r=!0),!a||r&&e[a.value]||(e[a.value]={mapped:!0,value:t,is_boolean:a.is_boolean})})),f(e)}),[u,y]);const b=(0,c.useMemo)((()=>{const e=[{value:"",label:(0,ue.__)("Ignore Field","newsletter-optin-box")},{value:"-1",label:(0,ue.__)("Manually enter value","newsletter-optin-box")},{value:"-2",label:(0,ue.__)("Map Field","newsletter-optin-box"),disabled:!0}];return u.forEach((t=>{e.push({value:t,label:t})})),e}),[u]);return _?(0,i.createElement)(d.Notice,{status:"error",isDismissible:!1},(0,i.createElement)("p",null,_.message),(0,i.createElement)(d.Button,{variant:"link",onClick:a},(0,ue.__)("Try again","newsletter-optin-box"))):(0,i.createElement)(i.Fragment,null,(0,i.createElement)(d.Tip,null,(0,ue.__)("Map the headers of your CSV file to known fields.","newsletter-optin-box")),y.map((e=>{const t=p[e.value]||{is_boolean:e.is_boolean},n=t.value||"";return(0,i.createElement)(Yo,{key:e.value,options:b,field:e,value:n,setValue:n=>{f({...p,[e.value]:{...t,mapped:!["","-1","-2"].includes(n),value:n}})},customValue:t.customValue||"",setCustomValue:n=>{f({...p,[e.value]:{...t,customValue:n}})}})})),(0,i.createElement)("div",{style:{marginTop:"1.6rem",marginBottom:"1.6rem"}},(0,i.createElement)(d.ToggleControl,{label:(0,ue.__)("Update existing records","newsletter-optin-box"),checked:h,onChange:e=>g(e),__nextHasNoMarginBottom:!0})),(0,i.createElement)(d.Slot,{name:`${l}_${s}_import_records_below`},(e=>e.map(((e,t)=>(0,i.createElement)(d.Tip,{key:t},e))))),(0,i.createElement)(Ko,null,(0,i.createElement)(Jn,{variant:"primary",onClick:()=>o(p,h)},(0,ue.__)("Import","newsletter-optin-box")),(0,i.createElement)(Jn,{variant:"secondary",onClick:a,__withNoMargin:!0},(0,ue.__)("Back","newsletter-optin-box"))))},Zo=({from:e=0,to:t,duration:n=5e3})=>{const[r,a]=(0,c.useState)(e);return(0,c.useEffect)((()=>{if(e===t)return void a(t);let r;const i=Date.now(),o=()=>{const l=Date.now()-i;if(l<n){const i=e+(t-e)*l/n;a(Math.round(i)),r=requestAnimationFrame(o)}else a(t)};return r=requestAnimationFrame(o),()=>cancelAnimationFrame(r)}),[e,t,n]),(0,i.createElement)("span",null,Math.round(r))},Jo=({file:e,headers:t,back:n,updateRecords:r,namespace:a,collection:o,basePath:l=""})=>{const s=mr(),[u,m]=(0,c.useState)([]),[p,f]=(0,c.useState)(!1),[h,g]=(0,c.useState)(5e3),[_,v]=(0,c.useState)(!1),[y,b]=(0,c.useState)(!1),[E,w]=(0,c.useState)(0),[x,k]=(0,c.useState)(0),[C,S]=(0,c.useState)(0),[R,A]=(0,c.useState)(0),[F,I]=(0,c.useState)(0),[$,T]=(0,c.useState)(0),[O,M]=(0,c.useState)(0),[P,N]=(0,c.useState)(0),[D,L]=(0,c.useState)(0),[B,z]=(0,c.useState)(0),[j,V]=(0,c.useState)([]),H=(0,pe.useDispatch)(`${a}/${o}`),U=(0,c.useCallback)((e=>{const n={};return Object.keys(t).forEach((r=>{""!==t[r].value&&(t[r].mapped?n[r]=e[t[r].value]:void 0!==t[r].customValue&&(n[r]=t[r].customValue),t[r].is_boolean&&(n[r]=!["0","","false","FALSE","no"].includes(n[r])))})),n}),[t]);return(0,c.useEffect)((()=>{if(_)return;const e=(new Date).getTime(),t=[...j],n=t.shift();if(!n)return void(!1===p&&f(!0));!0===p&&f(!1);const a={import:n,update:r};H.batchAction(a,H).then((({result:e})=>{let t=0,n=0,r=0,a=0,i=[];e?.import&&e.import.length&&e.import.forEach((e=>{e.data?.skipped&&t++,e.data?.updated&&n++,e.data?.created&&r++,e.is_error&&(a++,i.push(e.data))})),z(D),L(D+t),A(C),S(C+n),T(F),I(F+r),N(O),M(O+a),m([...i,...i])})).catch((e=>{newFailed=O+n.length,M(O+n.length),m([...u,e])})).finally((()=>{if(k(x+n.length),0===t.length)return void V(t);const r=((new Date).getTime()-e)/1e3;if(g(Math.ceil(1e3*r)),r<20){const e=20*Math.ceil(n.length/r);if(e<100){const n=[],r=t.flat();for(let t=0;t<r.length;t+=e){const a=r.slice(t,t+e);n.push(a)}return void V(n)}}V(t)}))}),[j,_]),(0,c.useEffect)((()=>{((e,t,n)=>{yo().parse(e,{header:!0,skipEmptyLines:"greedy",complete(e){(e=>{b(!0),w(e.data.length);const t=[];for(let n=0;n<e.data.length;n+=10){const r=e.data.slice(n,n+10);t.push(r.map((e=>U(e))))}V(t),v(!1)})(e)},error(e){(e=>{m([e])})(e)}})})(e)}),[e,t]),y?0===E?(0,i.createElement)(tr,null,(0,ue.sprintf)((0,ue.__)("No records found in %s.","newsletter-optin-box"),e.name)):(0,i.createElement)("div",{className:"noptin-import-progress"},!p&&(0,i.createElement)(i.Fragment,null,(0,i.createElement)(nr,{as:"h3"},(0,ue.__)("Importing","newsletter-optin-box"),(0,i.createElement)("code",null,e.name),"...  ",!_&&(0,i.createElement)(d.Spinner,null),"  ",(0,i.createElement)(d.Button,{variant:"link",onClick:()=>v(!_)},_?(0,ue.__)("Resume","newsletter-optin-box"):(0,ue.__)("Pause","newsletter-optin-box"))),!_&&(0,i.createElement)(or,{total:E,processed:x})),p&&(0,i.createElement)(nr,{as:"h3"},(0,ue.__)("Processed","newsletter-optin-box"),(0,i.createElement)("code",null,e.name)),(0,i.createElement)(d.Flex,{justify:"flex-start",style:{margin:"1.6rem 0"},gap:4,wrap:!0},(0,i.createElement)(d.FlexItem,null,(0,i.createElement)(kr,{value:(0,i.createElement)(Zo,{to:E,duration:3e3}),label:(0,ue.__)("Records Found","newsletter-optin-box"),status:"light"})),F>0&&(0,i.createElement)(d.FlexItem,null,(0,i.createElement)(kr,{value:(0,i.createElement)(Zo,{from:$,to:F,duration:p||_?300:h}),label:(0,ue.__)("Records Created","newsletter-optin-box"),status:"success"})),C>0&&(0,i.createElement)(d.FlexItem,null,(0,i.createElement)(kr,{value:(0,i.createElement)(Zo,{from:R,to:C,duration:p||_?300:h}),label:(0,ue.__)("Records Updated","newsletter-optin-box"),status:"success"})),O>0&&(0,i.createElement)(d.FlexItem,null,(0,i.createElement)(kr,{value:(0,i.createElement)(Zo,{from:P,to:O,duration:p||_?300:h}),label:(0,ue.__)("Records Failed","newsletter-optin-box"),status:"error"})),D>0&&(0,i.createElement)(d.FlexItem,null,(0,i.createElement)(kr,{value:(0,i.createElement)(Zo,{from:B,to:D,duration:p||_?300:h}),label:(0,ue.__)("Records Skipped","newsletter-optin-box"),status:"info"}))),p&&(0,i.createElement)(Jn,{variant:"primary",text:(0,ue.__)("View Records","newsletter-optin-box"),onClick:()=>s(l),maxWidth:"200px"}),u.length>0&&(0,i.createElement)(nr,{as:"h3"},(0,ue.__)("Errors","newsletter-optin-box")," ",p&&(0,i.createElement)(d.Button,{onClick:()=>m([]),variant:"link"},(0,ue.__)("Clear","newsletter-optin-box"))),u.map(((e,t)=>(0,i.createElement)(tr,{key:t},e.message)))):(0,i.createElement)(nr,{as:"h3"},(0,ue.__)("Parsing","newsletter-optin-box"),(0,i.createElement)("code",null,e.name),"...  ",(0,i.createElement)(d.Spinner,null))},el=({file:e,schema:{schema:t,ignore:n,hidden:r,id_prop:a},back:o,...l})=>{const[s,u]=(0,c.useState)(null),[d,m]=(0,c.useState)(!1);return s?(0,i.createElement)(Jo,{file:e,headers:s,updateRecords:d,back:o,id_prop:a,...l}):(0,i.createElement)(Xo,{file:e,schema:t,ignore:n,hidden:r,back:o,onContinue:(e,t)=>{u(e),m(t),window.scrollTo({top:0,behavior:"smooth"})},...l})};function tl(){const{namespace:e,collection:t}=W(),{data:n}=Et(e,t),[r,a]=(0,c.useState)(null);return(0,i.createElement)(br,{title:n.labels?.import||(0,ue.__)("Import","newsletter-optin-box")},(0,i.createElement)(d.CardBody,null,r?(0,i.createElement)(el,{file:r,schema:n,back:()=>a(null),namespace:e,collection:t}):(0,i.createElement)(Wo,{onUpload:e=>{a(e),window.scrollTo({top:0,behavior:"smooth"})}})))}var nl=n(503);function rl({brand:e,children:t}){const n=(0,i.createElement)(_e,null,(0,i.createElement)(nl.Y9,{brand:e})),r=(0,i.createElement)(_e,null,(0,i.createElement)(d.Fill,{name:"noptin-interface-notices"},(0,i.createElement)(jo,null)),t);return(0,i.createElement)(nl.is,{isDistractionFree:!1,header:n,content:r,footer:(0,i.createElement)(nl.wi,null),notices:(0,i.createElement)(Ho,null)})}const al=({defaultRoute:e,brand:t})=>{const n=document.location.pathname,r=n.substring(0,n.lastIndexOf("/"));return(0,i.createElement)(d.SlotFillProvider,null,(0,i.createElement)(_e,null,(0,i.createElement)(rl,{brand:t},(0,i.createElement)(oe,{history:Se(e)},(0,i.createElement)(re,{basename:r},(0,i.createElement)(te,{path:"/:namespace/:collection",exact:!0,element:(0,i.createElement)(vr,null)},(0,i.createElement)(te,{path:":id",exact:!0,element:(0,i.createElement)(Bo,null)},(0,i.createElement)(te,{path:":tab",exact:!0,element:(0,i.createElement)(No,null)},(0,i.createElement)(te,{path:":innerNamespace/:innerCollection",exact:!0,element:(0,i.createElement)(yr,null)},(0,i.createElement)(te,{path:":innerId",exact:!0,element:(0,i.createElement)(zo,null)},(0,i.createElement)(te,{path:":innerTab",exact:!0,element:(0,i.createElement)(Do,null)}),(0,i.createElement)(te,{index:!0,element:(0,i.createElement)(Ta,null)})),(0,i.createElement)(te,{path:"add",exact:!0,element:(0,i.createElement)(Ra,null)}))),(0,i.createElement)(te,{index:!0,element:(0,i.createElement)($a,null)})),(0,i.createElement)(te,{path:"add",exact:!0,element:(0,i.createElement)(Sa,null),handle:{title:({labels:e,collection:t})=>{var n;return null!==(n=e?.add_new_item)&&void 0!==n?n:t}}}),(0,i.createElement)(te,{path:"import",exact:!0,element:(0,i.createElement)(tl,null)}),(0,i.createElement)(te,{index:!0,element:(0,i.createElement)(Oo,null)})))))))};s()((()=>{const e=document.getElementById("noptin-collection__app");if(e){const t=window.noptinCollection.brand;let n=window.noptinCollection.collection;const r=(0,u.getQueryArg)(window.location.search,"hizzle_path");r&&r.split("/").length>1&&(n=r),c.createRoot?(0,c.createRoot)(e).render((0,i.createElement)(al,{brand:t,defaultRoute:n})):(0,c.render)((0,i.createElement)(al,{brand:t,defaultRoute:n}),e)}}))},503:(e,t,n)=>{"use strict";n.d(t,{wi:()=>T,Y9:()=>$,is:()=>I});var r={};n.r(r),n.d(r,{closeModal:()=>b,disableComplementaryArea:()=>p,enableComplementaryArea:()=>m,openModal:()=>y,pinItem:()=>f,setDefaultComplementaryArea:()=>d,setFeatureDefaults:()=>v,setFeatureValue:()=>_,toggleFeature:()=>g,unpinItem:()=>h});var a={};n.r(a),n.d(a,{getActiveComplementaryArea:()=>E,isComplementaryAreaLoading:()=>w,isFeatureActive:()=>k,isItemPinned:()=>x,isModalActive:()=>C});var i=n(609),o=(n(87),n(229)),l=n(143);const s=window.wp.deprecated;var c=n.n(s),u=n(233);const d=(e,t)=>({type:"SET_DEFAULT_COMPLEMENTARY_AREA",scope:e,area:t}),m=(e,t)=>({registry:n,dispatch:r})=>{t&&(n.select(u.store).get(e,"isComplementaryAreaVisible")||n.dispatch(u.store).set(e,"isComplementaryAreaVisible",!0),r({type:"ENABLE_COMPLEMENTARY_AREA",scope:e,area:t}))},p=e=>({registry:t})=>{t.select(u.store).get(e,"isComplementaryAreaVisible")&&t.dispatch(u.store).set(e,"isComplementaryAreaVisible",!1)},f=(e,t)=>({registry:n})=>{if(!t)return;const r=n.select(u.store).get(e,"pinnedItems");!0!==r?.[t]&&n.dispatch(u.store).set(e,"pinnedItems",{...r,[t]:!0})},h=(e,t)=>({registry:n})=>{if(!t)return;const r=n.select(u.store).get(e,"pinnedItems");n.dispatch(u.store).set(e,"pinnedItems",{...r,[t]:!1})};function g(e,t){return function({registry:n}){c()("dispatch( 'core/interface' ).toggleFeature",{since:"6.0",alternative:"dispatch( 'core/preferences' ).toggle"}),n.dispatch(u.store).toggle(e,t)}}function _(e,t,n){return function({registry:r}){c()("dispatch( 'core/interface' ).setFeatureValue",{since:"6.0",alternative:"dispatch( 'core/preferences' ).set"}),r.dispatch(u.store).set(e,t,!!n)}}function v(e,t){return function({registry:n}){c()("dispatch( 'core/interface' ).setFeatureDefaults",{since:"6.0",alternative:"dispatch( 'core/preferences' ).setDefaults"}),n.dispatch(u.store).setDefaults(e,t)}}function y(e){return{type:"OPEN_MODAL",name:e}}function b(){return{type:"CLOSE_MODAL"}}const E=(0,l.createRegistrySelector)((e=>(t,n)=>{const r=e(u.store).get(n,"isComplementaryAreaVisible");if(void 0!==r)return!1===r?null:t?.complementaryAreas?.[n]})),w=(0,l.createRegistrySelector)((e=>(t,n)=>{const r=e(u.store).get(n,"isComplementaryAreaVisible"),a=t?.complementaryAreas?.[n];return r&&void 0===a})),x=(0,l.createRegistrySelector)((e=>(t,n,r)=>{var a;const i=e(u.store).get(n,"pinnedItems");return null===(a=i?.[r])||void 0===a||a})),k=(0,l.createRegistrySelector)((e=>(t,n,r)=>(c()("select( 'core/interface' ).isFeatureActive( scope, featureName )",{since:"6.0",alternative:"select( 'core/preferences' ).get( scope, featureName )"}),!!e(u.store).get(n,r))));function C(e,t){return e.activeModal===t}const S=(0,l.combineReducers)({complementaryAreas:function(e={},t){switch(t.type){case"SET_DEFAULT_COMPLEMENTARY_AREA":{const{scope:n,area:r}=t;return e[n]?e:{...e,[n]:r}}case"ENABLE_COMPLEMENTARY_AREA":{const{scope:n,area:r}=t;return{...e,[n]:r}}}return e},activeModal:function(e=null,t){switch(t.type){case"OPEN_MODAL":return t.name;case"CLOSE_MODAL":return null}return e}}),R=(0,l.createReduxStore)("core/interface",{reducer:S,actions:r,selectors:a});(0,l.register)(R);var A=n(427),F=n(723);const I=e=>(0,i.createElement)(o.Du,{className:"noptin-app__interface",...e}),$=({brand:e,actions:t})=>(0,i.createElement)(A.__experimentalHStack,{as:A.__experimentalSurface,style:{padding:"10px 20px"},wrap:!0},(0,i.createElement)("div",null,(0,i.createElement)(A.__experimentalHStack,null,e.logo&&(0,i.createElement)("img",{src:e.logo,alt:e.name,style:{width:"auto",height:"40px"}}),(0,i.createElement)(A.__experimentalText,{weight:600,size:14},e.name||"Noptin"),(0,i.createElement)(A.__experimentalText,{weight:600,size:14,variant:"muted"},e.version))),t&&(0,i.createElement)("div",null,(0,i.createElement)(A.__experimentalHStack,null,t.map(((e,t)=>(0,i.createElement)(A.Button,{key:t,...e}))))),(0,i.createElement)(A.Slot,{name:"noptin-interface__header"})),T=()=>(0,i.createElement)(A.__experimentalSurface,{style:{padding:"10px 20px"}},(0,i.createElement)("a",{href:"https://wordpress.org/support/plugin/newsletter-optin-box/reviews/?filter=5",target:"_blank",rel:"noreferrer"},(0,i.createElement)(A.__experimentalText,{size:14,variant:"muted"},(0,F.__)("Thank you for using Noptin. Please leave us a review 🌟","newsletter-optin-box"))))},146:(e,t,n)=>{"use strict";var r=n(404),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function s(e){return r.isMemo(e)?o:l[e.$$typeof]||a}l[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[r.Memo]=o;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(f){var a=p(n);a&&a!==f&&e(t,a,r)}var o=u(n);d&&(o=o.concat(d(n)));for(var l=s(t),h=s(n),g=0;g<o.length;++g){var _=o[g];if(!(i[_]||r&&r[_]||h&&h[_]||l&&l[_])){var v=m(n,_);try{c(t,_,v)}catch(e){}}}}return t}},72:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,m=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,h=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,_=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function E(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case i:case l:case o:case p:return e;default:switch(e=e&&e.$$typeof){case c:case m:case g:case h:case s:return e;default:return t}}case a:return t}}}function w(e){return E(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=m,t.Fragment=i,t.Lazy=g,t.Memo=h,t.Portal=a,t.Profiler=l,t.StrictMode=o,t.Suspense=p,t.isAsyncMode=function(e){return w(e)||E(e)===u},t.isConcurrentMode=w,t.isContextConsumer=function(e){return E(e)===c},t.isContextProvider=function(e){return E(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return E(e)===m},t.isFragment=function(e){return E(e)===i},t.isLazy=function(e){return E(e)===g},t.isMemo=function(e){return E(e)===h},t.isPortal=function(e){return E(e)===a},t.isProfiler=function(e){return E(e)===l},t.isStrictMode=function(e){return E(e)===o},t.isSuspense=function(e){return E(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===d||e===l||e===o||e===p||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===h||e.$$typeof===s||e.$$typeof===c||e.$$typeof===m||e.$$typeof===v||e.$$typeof===y||e.$$typeof===b||e.$$typeof===_)},t.typeOf=E},404:(e,t,n)=>{"use strict";e.exports=n(72)},809:function(e,t){var n,r;n=function e(){"use strict";var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},n=!t.document&&!!t.postMessage,r=t.IS_PAPA_WORKER||!1,a={},i=0,o={parse:function(n,r){var l=(r=r||{}).dynamicTyping||!1;if(E(l)&&(r.dynamicTypingFunction=l,l={}),r.dynamicTyping=l,r.transform=!!E(r.transform)&&r.transform,r.worker&&o.WORKERS_SUPPORTED){var s=function(){if(!o.WORKERS_SUPPORTED)return!1;var n,r,l=(n=t.URL||t.webkitURL||null,r=e.toString(),o.BLOB_URL||(o.BLOB_URL=n.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",r,")();"],{type:"text/javascript"})))),s=new t.Worker(l);return s.onmessage=g,s.id=i++,a[s.id]=s}();return s.userStep=r.step,s.userChunk=r.chunk,s.userComplete=r.complete,s.userError=r.error,r.step=E(r.step),r.chunk=E(r.chunk),r.complete=E(r.complete),r.error=E(r.error),delete r.worker,void s.postMessage({input:n,config:r,workerId:s.id})}var p=null;return o.NODE_STREAM_INPUT,"string"==typeof n?(n=function(e){return 65279===e.charCodeAt(0)?e.slice(1):e}(n),p=r.download?new c(r):new d(r)):!0===n.readable&&E(n.read)&&E(n.on)?p=new m(r):(t.File&&n instanceof File||n instanceof Object)&&(p=new u(r)),p.stream(n)},unparse:function(e,t){var n=!1,r=!0,a=",",i="\r\n",l='"',s=l+l,c=!1,u=null,d=!1;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||o.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(a=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(c=t.skipEmptyLines),"string"==typeof t.newline&&(i=t.newline),"string"==typeof t.quoteChar&&(l=t.quoteChar),"boolean"==typeof t.header&&(r=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");u=t.columns}void 0!==t.escapeChar&&(s=t.escapeChar+l),("boolean"==typeof t.escapeFormulae||t.escapeFormulae instanceof RegExp)&&(d=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var m=new RegExp(f(l),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return p(null,e,c);if("object"==typeof e[0])return p(u||Object.keys(e[0]),e,c)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||u),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),p(e.fields||[],e.data||[],c);throw new Error("Unable to serialize unrecognized input");function p(e,t,n){var o="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var l=Array.isArray(e)&&0<e.length,s=!Array.isArray(t[0]);if(l&&r){for(var c=0;c<e.length;c++)0<c&&(o+=a),o+=h(e[c],c);0<t.length&&(o+=i)}for(var u=0;u<t.length;u++){var d=l?e.length:t[u].length,m=!1,p=l?0===Object.keys(t[u]).length:0===t[u].length;if(n&&!l&&(m="greedy"===n?""===t[u].join("").trim():1===t[u].length&&0===t[u][0].length),"greedy"===n&&l){for(var f=[],g=0;g<d;g++){var _=s?e[g]:g;f.push(t[u][_])}m=""===f.join("").trim()}if(!m){for(var v=0;v<d;v++){0<v&&!p&&(o+=a);var y=l&&s?e[v]:v;o+=h(t[u][y],v)}u<t.length-1&&(!n||0<d&&!p)&&(o+=i)}}return o}function h(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var r=!1;d&&"string"==typeof e&&d.test(e)&&(e="'"+e,r=!0);var i=e.toString().replace(m,s);return(r=r||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(i,o.BAD_DELIMITERS)||-1<i.indexOf(a)||" "===i.charAt(0)||" "===i.charAt(i.length-1))?l+i+l:i}}};if(o.RECORD_SEP=String.fromCharCode(30),o.UNIT_SEP=String.fromCharCode(31),o.BYTE_ORDER_MARK="\ufeff",o.BAD_DELIMITERS=["\r","\n",'"',o.BYTE_ORDER_MARK],o.WORKERS_SUPPORTED=!n&&!!t.Worker,o.NODE_STREAM_INPUT=1,o.LocalChunkSize=10485760,o.RemoteChunkSize=5242880,o.DefaultDelimiter=",",o.Parser=h,o.ParserHandle=p,o.NetworkStreamer=c,o.FileStreamer=u,o.StringStreamer=d,o.ReadableStreamStreamer=m,t.jQuery){var l=t.jQuery;l.fn.parse=function(e){var n=e.config||{},r=[];return this.each((function(e){if("INPUT"!==l(this).prop("tagName").toUpperCase()||"file"!==l(this).attr("type").toLowerCase()||!t.FileReader||!this.files||0===this.files.length)return!0;for(var a=0;a<this.files.length;a++)r.push({file:this.files[a],inputElem:this,instanceConfig:l.extend({},n)})})),a(),this;function a(){if(0!==r.length){var t,n,a,s=r[0];if(E(e.before)){var c=e.before(s.file,s.inputElem);if("object"==typeof c){if("abort"===c.action)return"AbortError",t=s.file,n=s.inputElem,a=c.reason,void(E(e.error)&&e.error({name:"AbortError"},t,n,a));if("skip"===c.action)return void i();"object"==typeof c.config&&(s.instanceConfig=l.extend(s.instanceConfig,c.config))}else if("skip"===c)return void i()}var u=s.instanceConfig.complete;s.instanceConfig.complete=function(e){E(u)&&u(e,s.file,s.inputElem),i()},o.parse(s.file,s.instanceConfig)}else E(e.complete)&&e.complete()}function i(){r.splice(0,1),a()}}}function s(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=y(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new p(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,n){if(this.isFirstChunk&&E(this._config.beforeFirstChunk)){var a=this._config.beforeFirstChunk(e);void 0!==a&&(e=a)}this.isFirstChunk=!1,this._halted=!1;var i=this._partialLine+e;this._partialLine="";var l=this._handle.parse(i,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var s=l.meta.cursor;this._finished||(this._partialLine=i.substring(s-this._baseIndex),this._baseIndex=s),l&&l.data&&(this._rowCount+=l.data.length);var c=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)t.postMessage({results:l,workerId:o.WORKER_ID,finished:c});else if(E(this._config.chunk)&&!n){if(this._config.chunk(l,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);l=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(l.data),this._completeResults.errors=this._completeResults.errors.concat(l.errors),this._completeResults.meta=l.meta),this._completed||!c||!E(this._config.complete)||l&&l.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),c||l&&l.meta.paused||this._nextChunk(),l}this._halted=!0},this._sendError=function(e){E(this._config.error)?this._config.error(e):r&&this._config.error&&t.postMessage({workerId:o.WORKER_ID,error:e,finished:!1})}}function c(e){var t;(e=e||{}).chunkSize||(e.chunkSize=o.RemoteChunkSize),s.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),n||(t.onload=b(this._chunkLoaded,this),t.onerror=b(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var r in e)t.setRequestHeader(r,e[r])}if(this._config.chunkSize){var a=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+a)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader("Content-Range");return null===t?-1:parseInt(t.substring(t.lastIndexOf("/")+1))}(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){var n=t.statusText||e;this._sendError(new Error(n))}}function u(e){var t,n;(e=e||{}).chunkSize||(e.chunkSize=o.LocalChunkSize),s.call(this,e);var r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=b(this._chunkLoaded,this),t.onerror=b(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var a=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,a)}var i=t.readAsText(e,this._config.encoding);r||this._chunkLoaded({target:{result:i}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function d(e){var t;s.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,n=this._config.chunkSize;return n?(e=t.substring(0,n),t=t.substring(n)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function m(e){s.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){s.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){s.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=b((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=b((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=b((function(){this._streamCleanUp(),r=!0,this._streamData("")}),this),this._streamCleanUp=b((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function p(e){var t,n,r,a=Math.pow(2,53),i=-a,l=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,s=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,c=this,u=0,d=0,m=!1,p=!1,g=[],_={data:[],errors:[],meta:{}};if(E(e.step)){var v=e.step;e.step=function(t){if(_=t,x())w();else{if(w(),0===_.data.length)return;u+=t.data.length,e.preview&&u>e.preview?n.abort():(_.data=_.data[0],v(_,c))}}}function b(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function w(){return _&&r&&(C("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+o.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines&&(_.data=_.data.filter((function(e){return!b(e)}))),x()&&function(){if(_)if(Array.isArray(_.data[0])){for(var t=0;x()&&t<_.data.length;t++)_.data[t].forEach(n);_.data.splice(0,1)}else _.data.forEach(n);function n(t,n){E(e.transformHeader)&&(t=e.transformHeader(t,n)),g.push(t)}}(),function(){if(!_||!e.header&&!e.dynamicTyping&&!e.transform)return _;function t(t,n){var r,a=e.header?{}:[];for(r=0;r<t.length;r++){var i=r,o=t[r];e.header&&(i=r>=g.length?"__parsed_extra":g[r]),e.transform&&(o=e.transform(o,i)),o=k(i,o),"__parsed_extra"===i?(a[i]=a[i]||[],a[i].push(o)):a[i]=o}return e.header&&(r>g.length?C("FieldMismatch","TooManyFields","Too many fields: expected "+g.length+" fields but parsed "+r,d+n):r<g.length&&C("FieldMismatch","TooFewFields","Too few fields: expected "+g.length+" fields but parsed "+r,d+n)),a}var n=1;return!_.data.length||Array.isArray(_.data[0])?(_.data=_.data.map(t),n=_.data.length):_.data=t(_.data,0),e.header&&_.meta&&(_.meta.fields=g),d+=n,_}()}function x(){return e.header&&0===g.length}function k(t,n){return r=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[r]&&(e.dynamicTyping[r]=e.dynamicTypingFunction(r)),!0===(e.dynamicTyping[r]||e.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(e){if(l.test(e)){var t=parseFloat(e);if(i<t&&t<a)return!0}return!1}(n)?parseFloat(n):s.test(n)?new Date(n):""===n?null:n):n;var r}function C(e,t,n,r){var a={type:e,code:t,message:n};void 0!==r&&(a.row=r),_.errors.push(a)}this.parse=function(a,i,l){var s=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var n=new RegExp(f(t)+"([^]*?)"+f(t),"gm"),r=(e=e.replace(n,"")).split("\r"),a=e.split("\n"),i=1<a.length&&a[0].length<r[0].length;if(1===r.length||i)return"\n";for(var o=0,l=0;l<r.length;l++)"\n"===r[l][0]&&o++;return o>=r.length/2?"\r\n":"\r"}(a,s)),r=!1,e.delimiter)E(e.delimiter)&&(e.delimiter=e.delimiter(a),_.meta.delimiter=e.delimiter);else{var c=function(t,n,r,a,i){var l,s,c,u;i=i||[",","\t","|",";",o.RECORD_SEP,o.UNIT_SEP];for(var d=0;d<i.length;d++){var m=i[d],p=0,f=0,g=0;c=void 0;for(var _=new h({comments:a,delimiter:m,newline:n,preview:10}).parse(t),v=0;v<_.data.length;v++)if(r&&b(_.data[v]))g++;else{var y=_.data[v].length;f+=y,void 0!==c?0<y&&(p+=Math.abs(y-c),c=y):c=y}0<_.data.length&&(f/=_.data.length-g),(void 0===s||p<=s)&&(void 0===u||u<f)&&1.99<f&&(s=p,l=m,u=f)}return{successful:!!(e.delimiter=l),bestDelimiter:l}}(a,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);c.successful?e.delimiter=c.bestDelimiter:(r=!0,e.delimiter=o.DefaultDelimiter),_.meta.delimiter=e.delimiter}var u=y(e);return e.preview&&e.header&&u.preview++,t=a,n=new h(u),_=n.parse(t,i,l),w(),m?{meta:{paused:!0}}:_||{meta:{paused:!1}}},this.paused=function(){return m},this.pause=function(){m=!0,n.abort(),t=E(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){c.streamer._halted?(m=!1,c.streamer.parseChunk(t,!0)):setTimeout(c.resume,3)},this.aborted=function(){return p},this.abort=function(){p=!0,n.abort(),_.meta.aborted=!0,E(e.complete)&&e.complete(_),t=""}}function f(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function h(e){var t,n=(e=e||{}).delimiter,r=e.newline,a=e.comments,i=e.step,l=e.preview,s=e.fastMode,c=t=void 0===e.quoteChar||null===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(c=e.escapeChar),("string"!=typeof n||-1<o.BAD_DELIMITERS.indexOf(n))&&(n=","),a===n)throw new Error("Comment character same as delimiter");!0===a?a="#":("string"!=typeof a||-1<o.BAD_DELIMITERS.indexOf(a))&&(a=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var u=0,d=!1;this.parse=function(o,m,p){if("string"!=typeof o)throw new Error("Input must be a string");var h=o.length,g=n.length,_=r.length,v=a.length,y=E(i),b=[],w=[],x=[],k=u=0;if(!o)return W();if(e.header&&!m){var C=o.split(r)[0].split(n),S=[],R={},A=!1;for(var F in C){var I=C[F];E(e.transformHeader)&&(I=e.transformHeader(I,F));var $=I,T=R[I]||0;for(0<T&&(A=!0,$=I+"_"+T),R[I]=T+1;S.includes($);)$=$+"_"+T;S.push($)}if(A){var O=o.split(r);O[0]=S.join(n),o=O.join(r)}}if(s||!1!==s&&-1===o.indexOf(t)){for(var M=o.split(r),P=0;P<M.length;P++){if(x=M[P],u+=x.length,P!==M.length-1)u+=r.length;else if(p)return W();if(!a||x.substring(0,v)!==a){if(y){if(b=[],V(x.split(n)),G(),d)return W()}else V(x.split(n));if(l&&l<=P)return b=b.slice(0,l),W(!0)}}return W()}for(var N=o.indexOf(n,u),D=o.indexOf(r,u),L=new RegExp(f(c)+f(t),"g"),B=o.indexOf(t,u);;)if(o[u]!==t)if(a&&0===x.length&&o.substring(u,u+v)===a){if(-1===D)return W();u=D+_,D=o.indexOf(r,u),N=o.indexOf(n,u)}else if(-1!==N&&(N<D||-1===D))x.push(o.substring(u,N)),u=N+g,N=o.indexOf(n,u);else{if(-1===D)break;if(x.push(o.substring(u,D)),q(D+_),y&&(G(),d))return W();if(l&&b.length>=l)return W(!0)}else for(B=u,u++;;){if(-1===(B=o.indexOf(t,B+1)))return p||w.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:b.length,index:u}),U();if(B===h-1)return U(o.substring(u,B).replace(L,t));if(t!==c||o[B+1]!==c){if(t===c||0===B||o[B-1]!==c){-1!==N&&N<B+1&&(N=o.indexOf(n,B+1)),-1!==D&&D<B+1&&(D=o.indexOf(r,B+1));var z=H(-1===D?N:Math.min(N,D));if(o.substr(B+1+z,g)===n){x.push(o.substring(u,B).replace(L,t)),o[u=B+1+z+g]!==t&&(B=o.indexOf(t,u)),N=o.indexOf(n,u),D=o.indexOf(r,u);break}var j=H(D);if(o.substring(B+1+j,B+1+j+_)===r){if(x.push(o.substring(u,B).replace(L,t)),q(B+1+j+_),N=o.indexOf(n,u),B=o.indexOf(t,u),y&&(G(),d))return W();if(l&&b.length>=l)return W(!0);break}w.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:b.length,index:u}),B++}}else B++}return U();function V(e){b.push(e),k=u}function H(e){var t=0;if(-1!==e){var n=o.substring(B+1,e);n&&""===n.trim()&&(t=n.length)}return t}function U(e){return p||(void 0===e&&(e=o.substring(u)),x.push(e),u=h,V(x),y&&G()),W()}function q(e){u=e,V(x),x=[],D=o.indexOf(r,u)}function W(e){return{data:b,errors:w,meta:{delimiter:n,linebreak:r,aborted:d,truncated:!!e,cursor:k+(m||0)}}}function G(){i(W()),b=[],w=[]}},this.abort=function(){d=!0},this.getCharIndex=function(){return u}}function g(e){var t=e.data,n=a[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var i={abort:function(){r=!0,_(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:v,resume:v};if(E(n.userStep)){for(var o=0;o<t.results.data.length&&(n.userStep({data:t.results.data[o],errors:t.results.errors,meta:t.results.meta},i),!r);o++);delete t.results}else E(n.userChunk)&&(n.userChunk(t.results,i,t.file),delete t.results)}t.finished&&!r&&_(t.workerId,t.results)}function _(e,t){var n=a[e];E(n.userComplete)&&n.userComplete(t),n.terminate(),delete a[e]}function v(){throw new Error("Not implemented.")}function y(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=y(e[n]);return t}function b(e,t){return function(){e.apply(t,arguments)}}function E(e){return"function"==typeof e}return r&&(t.onmessage=function(e){var n=e.data;if(void 0===o.WORKER_ID&&n&&(o.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:o.WORKER_ID,results:o.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var r=o.parse(n.input,n.config);r&&t.postMessage({workerId:o.WORKER_ID,results:r,finished:!0})}}),(c.prototype=Object.create(s.prototype)).constructor=c,(u.prototype=Object.create(s.prototype)).constructor=u,(d.prototype=Object.create(d.prototype)).constructor=d,(m.prototype=Object.create(s.prototype)).constructor=m,o},void 0===(r=n.apply(t,[]))||(e.exports=r)},731:e=>{var t={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",Ấ:"A",Ắ:"A",Ẳ:"A",Ẵ:"A",Ặ:"A",Æ:"AE",Ầ:"A",Ằ:"A",Ȃ:"A",Ả:"A",Ạ:"A",Ẩ:"A",Ẫ:"A",Ậ:"A",Ç:"C",Ḉ:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ế:"E",Ḗ:"E",Ề:"E",Ḕ:"E",Ḝ:"E",Ȇ:"E",Ẻ:"E",Ẽ:"E",Ẹ:"E",Ể:"E",Ễ:"E",Ệ:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ḯ:"I",Ȋ:"I",Ỉ:"I",Ị:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",Ố:"O",Ṍ:"O",Ṓ:"O",Ȏ:"O",Ỏ:"O",Ọ:"O",Ổ:"O",Ỗ:"O",Ộ:"O",Ờ:"O",Ở:"O",Ỡ:"O",Ớ:"O",Ợ:"O",Ù:"U",Ú:"U",Û:"U",Ü:"U",Ủ:"U",Ụ:"U",Ử:"U",Ữ:"U",Ự:"U",Ý:"Y",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",ấ:"a",ắ:"a",ẳ:"a",ẵ:"a",ặ:"a",æ:"ae",ầ:"a",ằ:"a",ȃ:"a",ả:"a",ạ:"a",ẩ:"a",ẫ:"a",ậ:"a",ç:"c",ḉ:"c",è:"e",é:"e",ê:"e",ë:"e",ế:"e",ḗ:"e",ề:"e",ḕ:"e",ḝ:"e",ȇ:"e",ẻ:"e",ẽ:"e",ẹ:"e",ể:"e",ễ:"e",ệ:"e",ì:"i",í:"i",î:"i",ï:"i",ḯ:"i",ȋ:"i",ỉ:"i",ị:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",ố:"o",ṍ:"o",ṓ:"o",ȏ:"o",ỏ:"o",ọ:"o",ổ:"o",ỗ:"o",ộ:"o",ờ:"o",ở:"o",ỡ:"o",ớ:"o",ợ:"o",ù:"u",ú:"u",û:"u",ü:"u",ủ:"u",ụ:"u",ử:"u",ữ:"u",ự:"u",ý:"y",ÿ:"y",Ā:"A",ā:"a",Ă:"A",ă:"a",Ą:"A",ą:"a",Ć:"C",ć:"c",Ĉ:"C",ĉ:"c",Ċ:"C",ċ:"c",Č:"C",č:"c",C̆:"C",c̆:"c",Ď:"D",ď:"d",Đ:"D",đ:"d",Ē:"E",ē:"e",Ĕ:"E",ĕ:"e",Ė:"E",ė:"e",Ę:"E",ę:"e",Ě:"E",ě:"e",Ĝ:"G",Ǵ:"G",ĝ:"g",ǵ:"g",Ğ:"G",ğ:"g",Ġ:"G",ġ:"g",Ģ:"G",ģ:"g",Ĥ:"H",ĥ:"h",Ħ:"H",ħ:"h",Ḫ:"H",ḫ:"h",Ĩ:"I",ĩ:"i",Ī:"I",ī:"i",Ĭ:"I",ĭ:"i",Į:"I",į:"i",İ:"I",ı:"i",Ĳ:"IJ",ĳ:"ij",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",Ḱ:"K",ḱ:"k",K̆:"K",k̆:"k",Ĺ:"L",ĺ:"l",Ļ:"L",ļ:"l",Ľ:"L",ľ:"l",Ŀ:"L",ŀ:"l",Ł:"l",ł:"l",Ḿ:"M",ḿ:"m",M̆:"M",m̆:"m",Ń:"N",ń:"n",Ņ:"N",ņ:"n",Ň:"N",ň:"n",ŉ:"n",N̆:"N",n̆:"n",Ō:"O",ō:"o",Ŏ:"O",ŏ:"o",Ő:"O",ő:"o",Œ:"OE",œ:"oe",P̆:"P",p̆:"p",Ŕ:"R",ŕ:"r",Ŗ:"R",ŗ:"r",Ř:"R",ř:"r",R̆:"R",r̆:"r",Ȓ:"R",ȓ:"r",Ś:"S",ś:"s",Ŝ:"S",ŝ:"s",Ş:"S",Ș:"S",ș:"s",ş:"s",Š:"S",š:"s",Ţ:"T",ţ:"t",ț:"t",Ț:"T",Ť:"T",ť:"t",Ŧ:"T",ŧ:"t",T̆:"T",t̆:"t",Ũ:"U",ũ:"u",Ū:"U",ū:"u",Ŭ:"U",ŭ:"u",Ů:"U",ů:"u",Ű:"U",ű:"u",Ų:"U",ų:"u",Ȗ:"U",ȗ:"u",V̆:"V",v̆:"v",Ŵ:"W",ŵ:"w",Ẃ:"W",ẃ:"w",X̆:"X",x̆:"x",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Y̆:"Y",y̆:"y",Ź:"Z",ź:"z",Ż:"Z",ż:"z",Ž:"Z",ž:"z",ſ:"s",ƒ:"f",Ơ:"O",ơ:"o",Ư:"U",ư:"u",Ǎ:"A",ǎ:"a",Ǐ:"I",ǐ:"i",Ǒ:"O",ǒ:"o",Ǔ:"U",ǔ:"u",Ǖ:"U",ǖ:"u",Ǘ:"U",ǘ:"u",Ǚ:"U",ǚ:"u",Ǜ:"U",ǜ:"u",Ứ:"U",ứ:"u",Ṹ:"U",ṹ:"u",Ǻ:"A",ǻ:"a",Ǽ:"AE",ǽ:"ae",Ǿ:"O",ǿ:"o",Þ:"TH",þ:"th",Ṕ:"P",ṕ:"p",Ṥ:"S",ṥ:"s",X́:"X",x́:"x",Ѓ:"Г",ѓ:"г",Ќ:"К",ќ:"к",A̋:"A",a̋:"a",E̋:"E",e̋:"e",I̋:"I",i̋:"i",Ǹ:"N",ǹ:"n",Ồ:"O",ồ:"o",Ṑ:"O",ṑ:"o",Ừ:"U",ừ:"u",Ẁ:"W",ẁ:"w",Ỳ:"Y",ỳ:"y",Ȁ:"A",ȁ:"a",Ȅ:"E",ȅ:"e",Ȉ:"I",ȉ:"i",Ȍ:"O",ȍ:"o",Ȑ:"R",ȑ:"r",Ȕ:"U",ȕ:"u",B̌:"B",b̌:"b",Č̣:"C",č̣:"c",Ê̌:"E",ê̌:"e",F̌:"F",f̌:"f",Ǧ:"G",ǧ:"g",Ȟ:"H",ȟ:"h",J̌:"J",ǰ:"j",Ǩ:"K",ǩ:"k",M̌:"M",m̌:"m",P̌:"P",p̌:"p",Q̌:"Q",q̌:"q",Ř̩:"R",ř̩:"r",Ṧ:"S",ṧ:"s",V̌:"V",v̌:"v",W̌:"W",w̌:"w",X̌:"X",x̌:"x",Y̌:"Y",y̌:"y",A̧:"A",a̧:"a",B̧:"B",b̧:"b",Ḑ:"D",ḑ:"d",Ȩ:"E",ȩ:"e",Ɛ̧:"E",ɛ̧:"e",Ḩ:"H",ḩ:"h",I̧:"I",i̧:"i",Ɨ̧:"I",ɨ̧:"i",M̧:"M",m̧:"m",O̧:"O",o̧:"o",Q̧:"Q",q̧:"q",U̧:"U",u̧:"u",X̧:"X",x̧:"x",Z̧:"Z",z̧:"z",й:"и",Й:"И",ё:"е",Ё:"Е"},n=Object.keys(t).join("|"),r=new RegExp(n,"g"),a=new RegExp(n,"");function i(e){return t[e]}var o=function(e){return e.replace(r,i)};e.exports=o,e.exports.has=function(e){return!!e.match(a)},e.exports.remove=o},609:e=>{"use strict";e.exports=window.React},427:e=>{"use strict";e.exports=window.wp.components},491:e=>{"use strict";e.exports=window.wp.compose},143:e=>{"use strict";e.exports=window.wp.data},87:e=>{"use strict";e.exports=window.wp.element},723:e=>{"use strict";e.exports=window.wp.i18n},233:e=>{"use strict";e.exports=window.wp.preferences},942:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=o(e,i(n)))}return e}function i(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=o(t,n));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var i=n[e]={exports:{}};return t[e].call(i.exports,i,i.exports,r),i.exports}r.m=t,e=[],r.O=(t,n,a,i)=>{if(!n){var o=1/0;for(u=0;u<e.length;u++){for(var[n,a,i]=e[u],l=!0,s=0;s<n.length;s++)(!1&i||o>=i)&&Object.keys(r.O).every((e=>r.O[e](n[s])))?n.splice(s--,1):(l=!1,i<o&&(o=i));if(l){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,a,i]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={77:0,178:0,405:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var a,i,[o,l,s]=n,c=0;if(o.some((t=>0!==e[t]))){for(a in l)r.o(l,a)&&(r.m[a]=l[a]);if(s)var u=s(r)}for(t&&t(n);c<o.length;c++)i=o[c],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(u)},n=globalThis.webpackChunknoptin_premium=globalThis.webpackChunknoptin_premium||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var a=r.O(void 0,[405],(()=>r(73)));a=r.O(a)})();