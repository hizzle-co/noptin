(()=>{"use strict";var e,t={5338:(e,t,n)=>{var o=n(5795);t.H=o.createRoot,o.hydrateRoot},5795:e=>{e.exports=window.ReactDOM},7029:(e,t,n)=>{var o={};n.r(o),n.d(o,{closeModal:()=>$,disableComplementaryArea:()=>M,enableComplementaryArea:()=>D,openModal:()=>H,pinItem:()=>P,setDefaultComplementaryArea:()=>R,setFeatureDefaults:()=>B,setFeatureValue:()=>z,toggleFeature:()=>F,unpinItem:()=>O});var r={};n.r(r),n.d(r,{getActiveComplementaryArea:()=>U,isComplementaryAreaLoading:()=>V,isFeatureActive:()=>W,isItemPinned:()=>G,isModalActive:()=>Y});const i=window.React;var a=n.n(i),s=n(5338);const l=window.wp.domReady;var c=n.n(l);const d=window.wp.components,p=window.ReactJSXRuntime;class m extends a().Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?(0,p.jsx)("div",{children:(0,p.jsxs)("div",{style:{backgroundColor:"#FEE2E2",border:"1px solid #F87171",color:"#B91C1C",padding:"0.75rem 1rem",borderRadius:"0.25rem",position:"relative"},role:"alert",children:[(0,p.jsx)(d.__experimentalText,{as:"strong",weight:500,color:"#B91C1C",children:"Oops! Something went wrong."}),"Â ",(0,p.jsx)(d.__experimentalText,{color:"#B91C1C",children:"This error is being logged."}),(0,p.jsxs)("details",{style:{marginTop:"0.5rem",fontSize:"0.875rem"},children:[(0,p.jsx)("summary",{children:"Click for error details"}),(0,p.jsxs)("pre",{style:{overflow:"auto",fontSize:"0.875rem",marginTop:"0.5rem"},children:[this.state.error&&this.state.error.toString(),(0,p.jsx)("br",{}),this.state.errorInfo?.componentStack]})]})]})}):this.props.children}}const f=m,u=window.wp.data,h=window.wp.editor,g=window.wp.coreData,_=window.wp.element,x=({isActive:e})=>((0,_.useEffect)(()=>{let e=!1;return document.body.classList.contains("sticky-menu")&&(e=!0,document.body.classList.remove("sticky-menu")),()=>{e&&document.body.classList.add("sticky-menu")}},[]),(0,_.useEffect)(()=>(e?document.body.classList.add("is-fullscreen-mode"):document.body.classList.remove("is-fullscreen-mode"),()=>{e&&document.body.classList.remove("is-fullscreen-mode")}),[e]),null);function b(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=b(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}const y=function(){for(var e,t,n=0,o="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=b(e))&&(o&&(o+=" "),o+=t);return o},v=window.wp.i18n,w=window.wp.compose,T=(0,_.forwardRef)(({children:e,className:t,ariaLabel:n,as:o="div",...r},i)=>(0,p.jsx)(o,{ref:i,className:y("interface-navigable-region",t),"aria-label":n,role:"region",tabIndex:"-1",...r,children:e}));T.displayName="NavigableRegion";const j=T,S={type:"tween",duration:.25,ease:[.6,0,.4,1]},C={hidden:{opacity:1,marginTop:-60},visible:{opacity:1,marginTop:0},distractionFreeHover:{opacity:1,marginTop:0,transition:{...S,delay:.2,delayChildren:.2}},distractionFreeHidden:{opacity:0,marginTop:-60},distractionFreeDisabled:{opacity:0,marginTop:0,transition:{...S,delay:.8,delayChildren:.8}}},A=(0,_.forwardRef)(function({isDistractionFree:e,footer:t,header:n,editorNotices:o,sidebar:r,secondarySidebar:i,content:a,actions:s,labels:l,className:c},m){const[f,u]=(0,w.useResizeObserver)(),h=(0,w.useViewportMatch)("medium","<"),g={type:"tween",duration:(0,w.useReducedMotion)()?0:.25,ease:[.6,0,.4,1]};!function(e){(0,_.useEffect)(()=>{const t=document&&document.querySelector(`html:not(.${e})`);if(t)return t.classList.toggle(e),()=>{t.classList.toggle(e)}},[e])}("interface-interface-skeleton__html-container");const x={
/* translators: accessibility text for the top bar landmark region. */
header:(0,v._x)("Header","header landmark area"),
/* translators: accessibility text for the content landmark region. */
body:(0,v.__)("Content"),
/* translators: accessibility text for the secondary sidebar landmark region. */
secondarySidebar:(0,v.__)("Block Library"),
/* translators: accessibility text for the settings landmark region. */
sidebar:(0,v._x)("Settings","settings landmark area"),
/* translators: accessibility text for the publish landmark region. */
actions:(0,v.__)("Publish"),
/* translators: accessibility text for the footer landmark region. */
footer:(0,v.__)("Footer"),...l};return(0,p.jsxs)("div",{ref:m,className:y(c,"interface-interface-skeleton",!!t&&"has-footer"),children:[(0,p.jsxs)("div",{className:"interface-interface-skeleton__editor",children:[(0,p.jsx)(d.__unstableAnimatePresence,{initial:!1,children:!!n&&(0,p.jsx)(j,{as:d.__unstableMotion.div,className:"interface-interface-skeleton__header","aria-label":x.header,initial:e&&!h?"distractionFreeHidden":"hidden",whileHover:e&&!h?"distractionFreeHover":"visible",animate:e&&!h?"distractionFreeDisabled":"visible",exit:e&&!h?"distractionFreeHidden":"hidden",variants:C,transition:g,children:n})}),e&&(0,p.jsx)("div",{className:"interface-interface-skeleton__header",children:o}),(0,p.jsxs)("div",{className:"interface-interface-skeleton__body",children:[(0,p.jsx)(d.__unstableAnimatePresence,{initial:!1,children:!!i&&(0,p.jsx)(j,{className:"interface-interface-skeleton__secondary-sidebar",ariaLabel:x.secondarySidebar,as:d.__unstableMotion.div,initial:"closed",animate:"open",exit:"closed",variants:{open:{width:u.width},closed:{width:0}},transition:g,children:(0,p.jsxs)(d.__unstableMotion.div,{style:{position:"absolute",width:h?"100vw":"fit-content",height:"100%",left:0},variants:{open:{x:0},closed:{x:"-100%"}},transition:g,children:[f,i]})})}),(0,p.jsx)(j,{className:"interface-interface-skeleton__content",ariaLabel:x.body,children:a}),!!r&&(0,p.jsx)(j,{className:"interface-interface-skeleton__sidebar",ariaLabel:x.sidebar,children:r}),!!s&&(0,p.jsx)(j,{className:"interface-interface-skeleton__actions",ariaLabel:x.actions,children:s})]})]}),!!t&&(0,p.jsx)(j,{className:"interface-interface-skeleton__footer",ariaLabel:x.footer,children:t})]})}),E=window.wp.deprecated;var N=n.n(E);const k=window.wp.preferences;function L(e){return["core/edit-post","core/edit-site"].includes(e)?(N()(`${e} interface scope`,{alternative:"core interface scope",hint:"core/edit-post and core/edit-site are merging.",version:"6.6"}),"core"):e}function I(e,t){return"core"===e&&"edit-site/template"===t?(N()("edit-site/template sidebar",{alternative:"edit-post/document",version:"6.6"}),"edit-post/document"):"core"===e&&"edit-site/block-inspector"===t?(N()("edit-site/block-inspector sidebar",{alternative:"edit-post/block",version:"6.6"}),"edit-post/block"):t}const R=(e,t)=>({type:"SET_DEFAULT_COMPLEMENTARY_AREA",scope:e=L(e),area:t=I(e,t)}),D=(e,t)=>({registry:n,dispatch:o})=>{t&&(e=L(e),t=I(e,t),n.select(k.store).get(e,"isComplementaryAreaVisible")||n.dispatch(k.store).set(e,"isComplementaryAreaVisible",!0),o({type:"ENABLE_COMPLEMENTARY_AREA",scope:e,area:t}))},M=e=>({registry:t})=>{e=L(e),t.select(k.store).get(e,"isComplementaryAreaVisible")&&t.dispatch(k.store).set(e,"isComplementaryAreaVisible",!1)},P=(e,t)=>({registry:n})=>{if(!t)return;e=L(e),t=I(e,t);const o=n.select(k.store).get(e,"pinnedItems");!0!==o?.[t]&&n.dispatch(k.store).set(e,"pinnedItems",{...o,[t]:!0})},O=(e,t)=>({registry:n})=>{if(!t)return;e=L(e),t=I(e,t);const o=n.select(k.store).get(e,"pinnedItems");n.dispatch(k.store).set(e,"pinnedItems",{...o,[t]:!1})};function F(e,t){return function({registry:n}){N()("dispatch( 'core/interface' ).toggleFeature",{since:"6.0",alternative:"dispatch( 'core/preferences' ).toggle"}),n.dispatch(k.store).toggle(e,t)}}function z(e,t,n){return function({registry:o}){N()("dispatch( 'core/interface' ).setFeatureValue",{since:"6.0",alternative:"dispatch( 'core/preferences' ).set"}),o.dispatch(k.store).set(e,t,!!n)}}function B(e,t){return function({registry:n}){N()("dispatch( 'core/interface' ).setFeatureDefaults",{since:"6.0",alternative:"dispatch( 'core/preferences' ).setDefaults"}),n.dispatch(k.store).setDefaults(e,t)}}function H(e){return{type:"OPEN_MODAL",name:e}}function $(){return{type:"CLOSE_MODAL"}}const U=(0,u.createRegistrySelector)(e=>(t,n)=>{n=L(n);const o=e(k.store).get(n,"isComplementaryAreaVisible");if(void 0!==o)return!1===o?null:t?.complementaryAreas?.[n]}),V=(0,u.createRegistrySelector)(e=>(t,n)=>{n=L(n);const o=e(k.store).get(n,"isComplementaryAreaVisible"),r=t?.complementaryAreas?.[n];return o&&void 0===r}),G=(0,u.createRegistrySelector)(e=>(t,n,o)=>{var r;o=I(n=L(n),o);const i=e(k.store).get(n,"pinnedItems");return null===(r=i?.[o])||void 0===r||r}),W=(0,u.createRegistrySelector)(e=>(t,n,o)=>(N()("select( 'core/interface' ).isFeatureActive( scope, featureName )",{since:"6.0",alternative:"select( 'core/preferences' ).get( scope, featureName )"}),!!e(k.store).get(n,o)));function Y(e,t){return e.activeModal===t}const K=(0,u.combineReducers)({complementaryAreas:function(e={},t){switch(t.type){case"SET_DEFAULT_COMPLEMENTARY_AREA":{const{scope:n,area:o}=t;return e[n]?e:{...e,[n]:o}}case"ENABLE_COMPLEMENTARY_AREA":{const{scope:n,area:o}=t;return{...e,[n]:o}}}return e},activeModal:function(e=null,t){switch(t.type){case"OPEN_MODAL":return t.name;case"CLOSE_MODAL":return null}return e}}),q=(0,u.createReduxStore)("core/interface",{reducer:K,actions:o,selectors:r});(0,u.register)(q);const Z=window.wp.notices;function X(){const{notices:e}=(0,u.useSelect)(e=>({notices:e(Z.store).getNotices()}),[]),{removeNotice:t}=(0,u.useDispatch)(Z.store),n=e.filter(({isDismissible:e,type:t})=>e&&"default"===t),o=e.filter(({isDismissible:e,type:t})=>!e&&"default"===t);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(d.NoticeList,{notices:o,className:"components-editor-notices__pinned"}),(0,p.jsx)(d.NoticeList,{notices:n,className:"components-editor-notices__dismissible",onRemove:t})]})}function J(){const e=(0,u.useSelect)(e=>e(Z.store).getNotices(),[]),{removeNotice:t}=(0,u.useDispatch)(Z.store),n=e.filter(({type:e})=>"snackbar"===e).slice(-3);return(0,p.jsx)(d.SnackbarList,{notices:n,className:"components-editor-notices__snackbar",onRemove:t})}function Q(){const[e,t]=(0,i.useState)(!1),{editPost:n,savePost:o}=(0,u.useDispatch)(h.store),{isSaving:r,isPublished:a,isScheduled:s}=(0,u.useSelect)(e=>{const{isSavingPost:t,isCurrentPostPublished:n,isCurrentPostScheduled:o}=e(h.store);return{isSaving:t(),isPublished:n(),isScheduled:o()}},[]);let l,c;return a?(l=(0,v.__)("Are you sure you want to unpublish this form?"),c=(0,v.__)("Unpublish")):s&&(l=(0,v.__)("Are you sure you want to unschedule this form?"),c=(0,v.__)("Unschedule")),a||s?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(d.Button,{__next40pxDefaultSize:!0,className:"editor-post-switch-to-draft",onClick:()=>{r||t(!0)},"aria-disabled":r,variant:"tertiary",style:{flexGrow:"1",justifyContent:"center"},children:(0,v.__)("Switch to draft")}),(0,p.jsx)(d.__experimentalConfirmDialog,{isOpen:e,onConfirm:()=>{t(!1),n({status:"draft"}),o()},onCancel:()=>t(!1),confirmButtonText:c,children:l})]}):null}const ee=window.noptinForm?.brand||{},te=()=>(0,p.jsxs)(d.__experimentalHStack,{as:d.__experimentalSurface,style:{padding:"10px 20px"},wrap:!0,children:[(0,p.jsx)("div",{children:(0,p.jsx)(f,{children:(0,p.jsxs)(d.__experimentalHStack,{wrap:!0,justify:"flex-start",children:[ee.logo&&(0,p.jsx)("img",{src:ee.logo,alt:ee.name,style:{width:"auto",height:"40px"}}),(0,p.jsx)(d.__experimentalText,{weight:600,size:14,children:ee.name||(0,v.__)("Noptin","noptin")}),(0,p.jsx)(d.__experimentalText,{weight:600,size:14,variant:"muted",children:ee.version}),(0,p.jsx)(d.ToolbarItem,{as:h.EditorHistoryUndo,size:"compact"}),(0,p.jsx)(d.ToolbarItem,{as:h.EditorHistoryRedo,size:"compact"})]})})}),(0,p.jsx)("div",{children:(0,p.jsx)(f,{children:(0,p.jsxs)(d.__experimentalHStack,{children:[(0,p.jsx)(h.PostSavedState,{}),(0,p.jsx)(Q,{}),(0,p.jsx)(h.PostPublishButton,{})]})})})]}),ne=()=>(0,p.jsx)(d.__experimentalSurface,{style:{padding:"10px 20px"},children:(0,p.jsx)("a",{href:"https://wordpress.org/support/plugin/newsletter-optin-box/reviews/?filter=5",target:"_blank",rel:"noreferrer",children:(0,p.jsx)(d.__experimentalText,{size:14,variant:"muted",children:"Thank you for using Noptin. Please leave us a review ðŸŒŸ"})})}),oe=()=>{const[e,t]=(0,g.useEntityProp)("postType","noptin-form","title");return(0,p.jsx)(f,{children:(0,p.jsx)(d.__experimentalInputControl,{label:(0,v.__)("Form Name","noptin"),value:e||"",onChange:t,__next40pxDefaultSize:!0,isPressEnterToChange:!0})})},{entries:re,setPrototypeOf:ie,isFrozen:ae,getPrototypeOf:se,getOwnPropertyDescriptor:le}=Object;let{freeze:ce,seal:de,create:pe}=Object,{apply:me,construct:fe}="undefined"!=typeof Reflect&&Reflect;ce||(ce=function(e){return e}),de||(de=function(e){return e}),me||(me=function(e,t,n){return e.apply(t,n)}),fe||(fe=function(e,t){return new e(...t)});const ue=Ne(Array.prototype.forEach),he=Ne(Array.prototype.lastIndexOf),ge=Ne(Array.prototype.pop),_e=Ne(Array.prototype.push),xe=Ne(Array.prototype.splice),be=Ne(String.prototype.toLowerCase),ye=Ne(String.prototype.toString),ve=Ne(String.prototype.match),we=Ne(String.prototype.replace),Te=Ne(String.prototype.indexOf),je=Ne(String.prototype.trim),Se=Ne(Object.prototype.hasOwnProperty),Ce=Ne(RegExp.prototype.test),Ae=(Ee=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return fe(Ee,t)});var Ee;function Ne(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return me(e,t,o)}}function ke(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:be;ie&&ie(e,null);let o=t.length;for(;o--;){let r=t[o];if("string"==typeof r){const e=n(r);e!==r&&(ae(t)||(t[o]=e),r=e)}e[r]=!0}return e}function Le(e){for(let t=0;t<e.length;t++)Se(e,t)||(e[t]=null);return e}function Ie(e){const t=pe(null);for(const[n,o]of re(e))Se(e,n)&&(Array.isArray(o)?t[n]=Le(o):o&&"object"==typeof o&&o.constructor===Object?t[n]=Ie(o):t[n]=o);return t}function Re(e,t){for(;null!==e;){const n=le(e,t);if(n){if(n.get)return Ne(n.get);if("function"==typeof n.value)return Ne(n.value)}e=se(e)}return function(){return null}}const De=ce(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Me=ce(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Pe=ce(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Oe=ce(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Fe=ce(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),ze=ce(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Be=ce(["#text"]),He=ce(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),$e=ce(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ue=ce(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ve=ce(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ge=de(/\{\{[\w\W]*|[\w\W]*\}\}/gm),We=de(/<%[\w\W]*|[\w\W]*%>/gm),Ye=de(/\$\{[\w\W]*/gm),Ke=de(/^data-[\-\w.\u00B7-\uFFFF]+$/),qe=de(/^aria-[\-\w]+$/),Ze=de(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Xe=de(/^(?:\w+script|data):/i),Je=de(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Qe=de(/^html$/i),et=de(/^[a-z][.\w]*(-[.\w]+)+$/i);var tt=Object.freeze({__proto__:null,ARIA_ATTR:qe,ATTR_WHITESPACE:Je,CUSTOM_ELEMENT:et,DATA_ATTR:Ke,DOCTYPE_NAME:Qe,ERB_EXPR:We,IS_ALLOWED_URI:Ze,IS_SCRIPT_OR_DATA:Xe,MUSTACHE_EXPR:Ge,TMPLIT_EXPR:Ye});const nt=function(){return"undefined"==typeof window?null:window};var ot=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt();const n=t=>e(t);if(n.version="3.2.6",n.removed=[],!t||!t.document||9!==t.document.nodeType||!t.Element)return n.isSupported=!1,n;let{document:o}=t;const r=o,i=r.currentScript,{DocumentFragment:a,HTMLTemplateElement:s,Node:l,Element:c,NodeFilter:d,NamedNodeMap:p=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:m,DOMParser:f,trustedTypes:u}=t,h=c.prototype,g=Re(h,"cloneNode"),_=Re(h,"remove"),x=Re(h,"nextSibling"),b=Re(h,"childNodes"),y=Re(h,"parentNode");if("function"==typeof s){const e=o.createElement("template");e.content&&e.content.ownerDocument&&(o=e.content.ownerDocument)}let v,w="";const{implementation:T,createNodeIterator:j,createDocumentFragment:S,getElementsByTagName:C}=o,{importNode:A}=r;let E={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof re&&"function"==typeof y&&T&&void 0!==T.createHTMLDocument;const{MUSTACHE_EXPR:N,ERB_EXPR:k,TMPLIT_EXPR:L,DATA_ATTR:I,ARIA_ATTR:R,IS_SCRIPT_OR_DATA:D,ATTR_WHITESPACE:M,CUSTOM_ELEMENT:P}=tt;let{IS_ALLOWED_URI:O}=tt,F=null;const z=ke({},[...De,...Me,...Pe,...Fe,...Be]);let B=null;const H=ke({},[...He,...$e,...Ue,...Ve]);let $=Object.seal(pe(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),U=null,V=null,G=!0,W=!0,Y=!1,K=!0,q=!1,Z=!0,X=!1,J=!1,Q=!1,ee=!1,te=!1,ne=!1,oe=!0,ie=!1,ae=!0,se=!1,le={},de=null;const me=ke({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let fe=null;const Ee=ke({},["audio","video","img","source","image","track"]);let Ne=null;const Le=ke({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ge="http://www.w3.org/1998/Math/MathML",We="http://www.w3.org/2000/svg",Ye="http://www.w3.org/1999/xhtml";let Ke=Ye,qe=!1,Xe=null;const Je=ke({},[Ge,We,Ye],ye);let et=ke({},["mi","mo","mn","ms","mtext"]),ot=ke({},["annotation-xml"]);const rt=ke({},["title","style","font","a","script"]);let it=null;const at=["application/xhtml+xml","text/html"];let st=null,lt=null;const ct=o.createElement("form"),dt=function(e){return e instanceof RegExp||e instanceof Function},pt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!lt||lt!==e){if(e&&"object"==typeof e||(e={}),e=Ie(e),it=-1===at.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,st="application/xhtml+xml"===it?ye:be,F=Se(e,"ALLOWED_TAGS")?ke({},e.ALLOWED_TAGS,st):z,B=Se(e,"ALLOWED_ATTR")?ke({},e.ALLOWED_ATTR,st):H,Xe=Se(e,"ALLOWED_NAMESPACES")?ke({},e.ALLOWED_NAMESPACES,ye):Je,Ne=Se(e,"ADD_URI_SAFE_ATTR")?ke(Ie(Le),e.ADD_URI_SAFE_ATTR,st):Le,fe=Se(e,"ADD_DATA_URI_TAGS")?ke(Ie(Ee),e.ADD_DATA_URI_TAGS,st):Ee,de=Se(e,"FORBID_CONTENTS")?ke({},e.FORBID_CONTENTS,st):me,U=Se(e,"FORBID_TAGS")?ke({},e.FORBID_TAGS,st):Ie({}),V=Se(e,"FORBID_ATTR")?ke({},e.FORBID_ATTR,st):Ie({}),le=!!Se(e,"USE_PROFILES")&&e.USE_PROFILES,G=!1!==e.ALLOW_ARIA_ATTR,W=!1!==e.ALLOW_DATA_ATTR,Y=e.ALLOW_UNKNOWN_PROTOCOLS||!1,K=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,q=e.SAFE_FOR_TEMPLATES||!1,Z=!1!==e.SAFE_FOR_XML,X=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,ne=e.RETURN_TRUSTED_TYPE||!1,Q=e.FORCE_BODY||!1,oe=!1!==e.SANITIZE_DOM,ie=e.SANITIZE_NAMED_PROPS||!1,ae=!1!==e.KEEP_CONTENT,se=e.IN_PLACE||!1,O=e.ALLOWED_URI_REGEXP||Ze,Ke=e.NAMESPACE||Ye,et=e.MATHML_TEXT_INTEGRATION_POINTS||et,ot=e.HTML_INTEGRATION_POINTS||ot,$=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&dt(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&($.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&dt(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&($.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&($.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),q&&(W=!1),te&&(ee=!0),le&&(F=ke({},Be),B=[],!0===le.html&&(ke(F,De),ke(B,He)),!0===le.svg&&(ke(F,Me),ke(B,$e),ke(B,Ve)),!0===le.svgFilters&&(ke(F,Pe),ke(B,$e),ke(B,Ve)),!0===le.mathMl&&(ke(F,Fe),ke(B,Ue),ke(B,Ve))),e.ADD_TAGS&&(F===z&&(F=Ie(F)),ke(F,e.ADD_TAGS,st)),e.ADD_ATTR&&(B===H&&(B=Ie(B)),ke(B,e.ADD_ATTR,st)),e.ADD_URI_SAFE_ATTR&&ke(Ne,e.ADD_URI_SAFE_ATTR,st),e.FORBID_CONTENTS&&(de===me&&(de=Ie(de)),ke(de,e.FORBID_CONTENTS,st)),ae&&(F["#text"]=!0),X&&ke(F,["html","head","body"]),F.table&&(ke(F,["tbody"]),delete U.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw Ae('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw Ae('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');v=e.TRUSTED_TYPES_POLICY,w=v.createHTML("")}else void 0===v&&(v=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(n=t.getAttribute(o));const r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}}(u,i)),null!==v&&"string"==typeof w&&(w=v.createHTML(""));ce&&ce(e),lt=e}},mt=ke({},[...Me,...Pe,...Oe]),ft=ke({},[...Fe,...ze]),ut=function(e){_e(n.removed,{element:e});try{y(e).removeChild(e)}catch(t){_(e)}},ht=function(e,t){try{_e(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){_e(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(ee||te)try{ut(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},gt=function(e){let t=null,n=null;if(Q)e="<remove></remove>"+e;else{const t=ve(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===it&&Ke===Ye&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const r=v?v.createHTML(e):e;if(Ke===Ye)try{t=(new f).parseFromString(r,it)}catch(e){}if(!t||!t.documentElement){t=T.createDocument(Ke,"template",null);try{t.documentElement.innerHTML=qe?w:r}catch(e){}}const i=t.body||t.documentElement;return e&&n&&i.insertBefore(o.createTextNode(n),i.childNodes[0]||null),Ke===Ye?C.call(t,X?"html":"body")[0]:X?t.documentElement:i},_t=function(e){return j.call(e.ownerDocument||e,e,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},xt=function(e){return e instanceof m&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof p)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},bt=function(e){return"function"==typeof l&&e instanceof l};function yt(e,t,o){ue(e,e=>{e.call(n,t,o,lt)})}const vt=function(e){let t=null;if(yt(E.beforeSanitizeElements,e,null),xt(e))return ut(e),!0;const o=st(e.nodeName);if(yt(E.uponSanitizeElement,e,{tagName:o,allowedTags:F}),Z&&e.hasChildNodes()&&!bt(e.firstElementChild)&&Ce(/<[/\w!]/g,e.innerHTML)&&Ce(/<[/\w!]/g,e.textContent))return ut(e),!0;if(7===e.nodeType)return ut(e),!0;if(Z&&8===e.nodeType&&Ce(/<[/\w]/g,e.data))return ut(e),!0;if(!F[o]||U[o]){if(!U[o]&&Tt(o)){if($.tagNameCheck instanceof RegExp&&Ce($.tagNameCheck,o))return!1;if($.tagNameCheck instanceof Function&&$.tagNameCheck(o))return!1}if(ae&&!de[o]){const t=y(e)||e.parentNode,n=b(e)||e.childNodes;if(n&&t)for(let o=n.length-1;o>=0;--o){const r=g(n[o],!0);r.__removalCount=(e.__removalCount||0)+1,t.insertBefore(r,x(e))}}return ut(e),!0}return e instanceof c&&!function(e){let t=y(e);t&&t.tagName||(t={namespaceURI:Ke,tagName:"template"});const n=be(e.tagName),o=be(t.tagName);return!!Xe[e.namespaceURI]&&(e.namespaceURI===We?t.namespaceURI===Ye?"svg"===n:t.namespaceURI===Ge?"svg"===n&&("annotation-xml"===o||et[o]):Boolean(mt[n]):e.namespaceURI===Ge?t.namespaceURI===Ye?"math"===n:t.namespaceURI===We?"math"===n&&ot[o]:Boolean(ft[n]):e.namespaceURI===Ye?!(t.namespaceURI===We&&!ot[o])&&!(t.namespaceURI===Ge&&!et[o])&&!ft[n]&&(rt[n]||!mt[n]):!("application/xhtml+xml"!==it||!Xe[e.namespaceURI]))}(e)?(ut(e),!0):"noscript"!==o&&"noembed"!==o&&"noframes"!==o||!Ce(/<\/no(script|embed|frames)/i,e.innerHTML)?(q&&3===e.nodeType&&(t=e.textContent,ue([N,k,L],e=>{t=we(t,e," ")}),e.textContent!==t&&(_e(n.removed,{element:e.cloneNode()}),e.textContent=t)),yt(E.afterSanitizeElements,e,null),!1):(ut(e),!0)},wt=function(e,t,n){if(oe&&("id"===t||"name"===t)&&(n in o||n in ct))return!1;if(W&&!V[t]&&Ce(I,t));else if(G&&Ce(R,t));else if(!B[t]||V[t]){if(!(Tt(e)&&($.tagNameCheck instanceof RegExp&&Ce($.tagNameCheck,e)||$.tagNameCheck instanceof Function&&$.tagNameCheck(e))&&($.attributeNameCheck instanceof RegExp&&Ce($.attributeNameCheck,t)||$.attributeNameCheck instanceof Function&&$.attributeNameCheck(t))||"is"===t&&$.allowCustomizedBuiltInElements&&($.tagNameCheck instanceof RegExp&&Ce($.tagNameCheck,n)||$.tagNameCheck instanceof Function&&$.tagNameCheck(n))))return!1}else if(Ne[t]);else if(Ce(O,we(n,M,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==Te(n,"data:")||!fe[e])if(Y&&!Ce(D,we(n,M,"")));else if(n)return!1;return!0},Tt=function(e){return"annotation-xml"!==e&&ve(e,P)},jt=function(e){yt(E.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||xt(e))return;const o={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:B,forceKeepAttr:void 0};let r=t.length;for(;r--;){const i=t[r],{name:a,namespaceURI:s,value:l}=i,c=st(a),d=l;let p="value"===a?d:je(d);if(o.attrName=c,o.attrValue=p,o.keepAttr=!0,o.forceKeepAttr=void 0,yt(E.uponSanitizeAttribute,e,o),p=o.attrValue,!ie||"id"!==c&&"name"!==c||(ht(a,e),p="user-content-"+p),Z&&Ce(/((--!?|])>)|<\/(style|title)/i,p)){ht(a,e);continue}if(o.forceKeepAttr)continue;if(!o.keepAttr){ht(a,e);continue}if(!K&&Ce(/\/>/i,p)){ht(a,e);continue}q&&ue([N,k,L],e=>{p=we(p,e," ")});const m=st(e.nodeName);if(wt(m,c,p)){if(v&&"object"==typeof u&&"function"==typeof u.getAttributeType)if(s);else switch(u.getAttributeType(m,c)){case"TrustedHTML":p=v.createHTML(p);break;case"TrustedScriptURL":p=v.createScriptURL(p)}if(p!==d)try{s?e.setAttributeNS(s,a,p):e.setAttribute(a,p),xt(e)?ut(e):ge(n.removed)}catch(t){ht(a,e)}}else ht(a,e)}yt(E.afterSanitizeAttributes,e,null)},St=function e(t){let n=null;const o=_t(t);for(yt(E.beforeSanitizeShadowDOM,t,null);n=o.nextNode();)yt(E.uponSanitizeShadowNode,n,null),vt(n),jt(n),n.content instanceof a&&e(n.content);yt(E.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=null,i=null,s=null,c=null;if(qe=!e,qe&&(e="\x3c!--\x3e"),"string"!=typeof e&&!bt(e)){if("function"!=typeof e.toString)throw Ae("toString is not a function");if("string"!=typeof(e=e.toString()))throw Ae("dirty is not a string, aborting")}if(!n.isSupported)return e;if(J||pt(t),n.removed=[],"string"==typeof e&&(se=!1),se){if(e.nodeName){const t=st(e.nodeName);if(!F[t]||U[t])throw Ae("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)o=gt("\x3c!----\x3e"),i=o.ownerDocument.importNode(e,!0),1===i.nodeType&&"BODY"===i.nodeName||"HTML"===i.nodeName?o=i:o.appendChild(i);else{if(!ee&&!q&&!X&&-1===e.indexOf("<"))return v&&ne?v.createHTML(e):e;if(o=gt(e),!o)return ee?null:ne?w:""}o&&Q&&ut(o.firstChild);const d=_t(se?e:o);for(;s=d.nextNode();)vt(s),jt(s),s.content instanceof a&&St(s.content);if(se)return e;if(ee){if(te)for(c=S.call(o.ownerDocument);o.firstChild;)c.appendChild(o.firstChild);else c=o;return(B.shadowroot||B.shadowrootmode)&&(c=A.call(r,c,!0)),c}let p=X?o.outerHTML:o.innerHTML;return X&&F["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&Ce(Qe,o.ownerDocument.doctype.name)&&(p="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+p),q&&ue([N,k,L],e=>{p=we(p,e," ")}),v&&ne?v.createHTML(p):p},n.setConfig=function(){pt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),J=!0},n.clearConfig=function(){lt=null,J=!1},n.isValidAttribute=function(e,t,n){lt||pt({});const o=st(e),r=st(t);return wt(o,r,n)},n.addHook=function(e,t){"function"==typeof t&&_e(E[e],t)},n.removeHook=function(e,t){if(void 0!==t){const n=he(E[e],t);return-1===n?void 0:xe(E[e],n,1)[0]}return ge(E[e])},n.removeHooks=function(e){E[e]=[]},n.removeAllHooks=function(){E={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}();const rt=window.noptinForm?.fields||{},it=({label:e,type:t="text"})=>(0,p.jsx)("input",{type:t||"text",className:"noptin-form-field",placeholder:e}),at=({label:e})=>(0,p.jsx)("textarea",{className:"noptin-form-field",placeholder:e}),st=({option:e})=>{if(!e)return null;const t=e.toString().split("|").splice(0,1).join("");return(0,p.jsx)("option",{value:t,children:t})},lt=({label:e,options:t})=>(0,p.jsxs)("select",{className:"noptin-form-field",children:[(0,p.jsx)("option",{children:e}),t.split(",").map((e,t)=>(0,p.jsx)(st,{option:e},t))]}),ct=({label:e})=>(0,p.jsxs)("label",{children:[(0,p.jsx)("input",{type:"checkbox",className:"noptin-checkbox-form-field"}),(0,p.jsx)("span",{children:e})]}),dt=({type:e,label:t,...n})=>{if("hidden"===n.type)return null;if(!Array.isArray(rt)&&rt[e]){let n=rt[e].markup||"";return n=n.replace(/{{field.type.label}}/g,t||rt[e].label),n=n.replace(/:placeholder="field.type.label"/g,`placeholder="${t||rt[e].label}"`),(0,p.jsx)(_.RawHTML,{className:`noptin-field-${rt[e].type}`,children:ot.sanitize(n)})}return["name","text","email"].includes(e)?(0,p.jsx)(it,{label:t}):"textarea"===e?(0,p.jsx)(at,{label:t}):"select"===e||"dropdown"===e?(0,p.jsx)(lt,{label:t,options:n.options}):"checkbox"===e?(0,p.jsx)(ct,{label:t}):(0,p.jsx)("pre",{children:JSON.stringify({type:e,label:t,...n},null,2)})},pt=({field:e})=>{const[t]=(0,g.useEntityProp)("postType","noptin-form","meta"),n=t?._noptin_state||{},o=y(`noptin-form-${"title"===e?"heading":e}`,n[`${e}Advanced`]?.classes);return(0,p.jsx)(_.RawHTML,{className:o,children:ot.sanitize(n[e]||"")})},mt=({state:e})=>{const t=`\n        .noptin-form-preview .noptin-optin-form-wrapper {\n            ${e?.formBorder?.generated||""}\n            ${e?.noptinFormBg&&`background-color: ${e?.noptinFormBg};`}\n            ${e?.noptinFormBgImg&&`background-image: url(${e?.noptinFormBgImg});`}\n            ${e?.formWidth&&`max-width: ${e?.formWidth};`}\n            ${e?.formHeight&&`min-height: ${e?.formHeight};`}\n            ${e?.descriptionColor&&`color: ${e?.descriptionColor};`}\n        }\n        .noptin-form-preview .noptin-form-header .noptin-form-heading {\n            ${e?.titleColor&&`color: ${e?.titleColor};`}\n            ${e?.titleTypography?.generated||""}\n            ${e?.titleAdvanced?.generated||""}\n        }\n        .noptin-form-preview .noptin-form-header .noptin-form-prefix {\n            ${e?.prefixColor&&`color: ${e?.prefixColor};`}\n            ${e?.prefixTypography?.generated||""}\n            ${e?.prefixAdvanced?.generated||""}\n        }\n        .noptin-form-preview .noptin-form-header .noptin-form-description {\n            ${e?.descriptionColor&&`color: ${e?.descriptionColor};`}\n            ${e?.descriptionTypography?.generated||""}\n            ${e?.descriptionAdvanced?.generated||""}\n        }\n        .noptin-form-preview .noptin-form-footer .noptin-form-note {\n            ${e?.noteColor&&`color: ${e?.noteColor};`}\n            ${e?.noteTypography?.generated||""}\n            ${e?.noteAdvanced?.generated||""}\n        }\n        ${e?.CSS||""}\n    `;return(0,p.jsx)("style",{dangerouslySetInnerHTML:{__html:t}})},ft=()=>{const[e]=(0,g.useEntityProp)("postType","noptin-form","meta"),t=e?._noptin_state||{};return(0,p.jsx)("div",{className:"noptin-form-field-wrapper noptin-form-field-submit noptin-optin-field-wrapper noptin-optin-field-submit",children:(0,p.jsx)("input",{type:"submit",style:{backgroundColor:t.noptinButtonBg,color:t.noptinButtonColor},value:t.noptinButtonLabel||"Subscribe Now",className:y("noptin-form-submit",!t.singleLine&&`noptin-form-button-${t.buttonPosition}`)})})},ut=window.wp.blockEditor,ht=window.hizzlewp.components,gt=({setting:e,meta:t,children:n})=>Array.isArray(e.conditions)&&!e.conditions.every(e=>{const n=e.key.split("."),o=e.operator?e.operator:"==";return(0,ht.compare)(e.value,o,(0,ht.getNestedValue)(t,n))})?null:n,_t={placement:"left-start",offset:36,shift:!0},xt=({indicators:e,label:t})=>(0,p.jsxs)(d.__experimentalHStack,{justify:"flex-start",children:[(0,p.jsx)(d.__experimentalZStack,{isLayered:!1,offset:-8,children:e.map((e,t)=>(0,p.jsx)(d.Flex,{expanded:!1,children:(0,p.jsx)(d.ColorIndicator,{colorValue:e})},t))}),(0,p.jsx)(d.FlexItem,{className:"block-editor-panel-color-gradient-settings__color-name",children:t})]});function bt({isGradient:e=!1,userValue:t,setValue:n,colorGradientControlSettings:o}){return(0,p.jsx)(ut.__experimentalColorGradientControl,{...o,showTitle:!1,enableAlpha:!0,__experimentalIsRenderedInSidebar:!0,colorValue:e?void 0:t,gradientValue:e?t:void 0,onColorChange:e?void 0:n,onGradientChange:e?n:void 0,clearable:!0,headingLevel:3})}function yt({label:e,indicators:t,tabs:n,colorGradientControlSettings:o,isFirst:r=!1,isLast:a=!1,...s}){const l=y("block-editor-tools-panel-color-gradient-settings__item",{first:r,last:a});return(0,p.jsx)(d.__experimentalToolsPanelItem,{className:l,label:e,...s,children:(0,p.jsx)(d.Dropdown,{popoverProps:_t,className:"block-editor-tools-panel-color-gradient-settings__dropdown",renderToggle:({onToggle:n,isOpen:o})=>{const r={onClick:n,className:y("block-editor-panel-color-gradient-settings__dropdown",{"is-open":o}),"aria-expanded":o,"aria-label":(0,v.sprintf)(/* translators: %s is the type of color property, e.g., "background" */ /* translators: %s is the type of color property, e.g., "background" */
(0,v.__)("Color %s styles"),e)};return(0,p.jsx)(d.Button,{...r,children:(0,p.jsx)(xt,{indicators:t,label:e})})},renderContent:()=>(0,p.jsx)(d.__experimentalDropdownContentWrapper,{paddingSize:"none",children:(0,p.jsxs)("div",{className:"block-editor-panel-color-gradient-settings__dropdown-content",children:[1===n.length&&(0,p.jsx)(bt,{...n[0],colorGradientControlSettings:o}),n.length>1&&(0,p.jsx)(d.TabPanel,{tabs:n,children:e=>e?(0,i.createElement)(bt,{...e,key:e.title,colorGradientControlSettings:o}):null})]})})})})}const vt=[{name:"Red",color:"#FF0000"},{name:"Blue",color:"#0000FF"},{name:"Green",color:"#00FF00"},{name:"Yellow",color:"#FFFF00"},{name:"Purple",color:"#800080"},{name:"Orange",color:"#FFA500"},{name:"Pink",color:"#FFC0CB"},{name:"Teal",color:"#008080"},{name:"Navy",color:"#000080"},{name:"Lime",color:"#00FF00"},{name:"Maroon",color:"#800000"},{name:"Olive",color:"#808000"},{name:"Gray",color:"#808080"},{name:"Silver",color:"#C0C0C0"},{name:"Black",color:"#000000"},{name:"White",color:"#FFFFFF"}],wt=({setting:e,meta:t,setAttributes:n,settingKey:o})=>{const r=e.items.map(e=>{const o=e.tabs||[{...e}];return{isShownByDefault:!0,...e,hasValue:()=>o.some(({key:e})=>!!t?.[e]),onDeselect:()=>{const e=o.reduce((e,{key:t})=>(e[t]=void 0,e),{});n(e)},indicators:o.map(({key:e})=>t?.[e]),tabs:o.map(({key:e,label:o})=>({name:e,title:o,setValue:t=>n({[e]:t}),userValue:t?.[e]}))}}),i=r.length;return(0,p.jsx)(d.__experimentalToolsPanel,{label:e.label,resetAll:()=>{const e=r.reduce((e,t)=>((t.tabs||[{...t}]).forEach(({key:t})=>{e[t]=""}),e),{});n(e)},panelId:o,className:"color-block-support-panel",children:(0,p.jsx)("div",{className:"color-block-support-panel__inner-wrapper",style:{display:"grid",gridTemplateColumns:"repeat(2, minmax(0px, 1fr))",gap:"calc(16px) calc(8px)",gridColumn:"1 / -1",rowGap:0},children:r.map(({key:e,...n},r)=>(0,p.jsx)(gt,{setting:{key:e,...n},meta:t,children:(0,p.jsx)(yt,{...n,colorGradientControlSettings:{colors:vt,disableCustomColors:!1},panelId:o,isFirst:0===r,isLast:r===i-1})},n.label))})})},Tt=(e,t)=>{if(!e||!t)return"";const{color:n,style:o,width:r}=e;let i="";return void 0!==r&&(i+=`${t}-width: ${r.toString().match(/^\d+$/)?`${r}px`:r};`),void 0!==o&&(i+=`${t}-style: ${o};`),void 0!==n&&(i+=`${t}-color: ${n};`),i},jt=e=>{if(!e)return"";let t="";if(e.border_radius)if("object"!=typeof e.border_radius)t+=`border-radius: ${e.border_radius.toString().match(/^\d+$/)?`${e.border_radius}px`:e.border_radius};`;else{const n=["topLeft","topRight","bottomRight","bottomLeft"].reduce((t,n)=>{const o=e.border_radius?.[n];return void 0!==o&&(t=`${t} ${o.toString().match(/^\d+$/)?`${o}px`:o}`),t},"");t+=`border-radius: ${n};`}if(e.border)(0,d.__experimentalHasSplitBorders)(e.border)?["top","right","bottom","left"].forEach(n=>{const o=e.border?.[n];t+=Tt(o,`border-${n}`)}):t+=Tt(e.border,"border");else{if(e.style&&(t+=`border-style: ${e.style};`),e.border_width){const n=e.border_width.toString().match(/^\d+$/)?`${e.border_width}px`:e.border_width;t+=`border-width: ${n};`}e.border_color&&(t+=`border-color: ${e.border_color};`)}return console.log(t),t},St=(e,t,n)=>{const o=e?.[t]||{};(0,i.useLayoutEffect)(()=>{const e=jt(o);e!==o.generated&&n({[t]:{...o,generated:e}})},[o,t,n])},Ct=({setting:e,meta:t,setAttributes:n,settingKey:o})=>{const r=t?.[o]||{};St(t,o,n);const i=e=>{const t={border:e,border_radius:r.border_radius,generated:""};n({[o]:{...t,generated:jt(t)}})},a=e=>{const t={...r,border_radius:e,generated:""};n({[o]:{...t,generated:jt(t)}})};let s=r.border;return s||(s={style:r.style,width:r.border_width,color:r.border_color}),(0,p.jsxs)(d.__experimentalToolsPanel,{label:e.label,resetAll:()=>n({[o]:{generated:""}}),panelId:o,className:"border-block-support-panel",children:[(0,p.jsx)(d.__experimentalToolsPanelItem,{hasValue:()=>(0,d.__experimentalIsDefinedBorder)(s),label:e.label,onDeselect:()=>i(void 0),isShownByDefault:!0,panelId:o,children:(0,p.jsx)(d.__experimentalBorderBoxControl,{colors:vt,onChange:i,popoverOffset:40,popoverPlacement:"left-start",value:s,__experimentalIsRenderedInSidebar:!0,size:"__unstable-large"})}),(0,p.jsx)(d.__experimentalToolsPanelItem,{hasValue:()=>{const e=r?.border_radius;return"object"==typeof e?Object.entries(e).some(Boolean):!!e},label:(0,v.__)("Radius"),onDeselect:()=>a(void 0),isShownByDefault:!0,panelId:o,children:(0,p.jsx)(ut.__experimentalBorderRadiusControl,{values:r?.border_radius,onChange:a})})]})},At=window.wp.primitives,Et=(0,p.jsx)(At.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(At.Path,{d:"M13 5.5H4V4h9v1.5Zm7 7H4V11h16v1.5Zm-7 7H4V18h9v1.5Z"})}),Nt=(0,p.jsx)(At.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(At.Path,{d:"M7.5 5.5h9V4h-9v1.5Zm-3.5 7h16V11H4v1.5Zm3.5 7h9V18h-9v1.5Z"})}),kt=(0,p.jsx)(At.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(At.Path,{d:"M11.111 5.5H20V4h-8.889v1.5ZM4 12.5h16V11H4v1.5Zm7.111 7H20V18h-8.889v1.5Z"})}),Lt=(0,p.jsx)(At.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(At.Path,{d:"M4 12.8h16v-1.5H4v1.5zm0 7h12.4v-1.5H4v1.5zM4 4.3v1.5h16V4.3H4z"})}),It=[{label:(0,v.__)("Left"),value:"left",icon:Et},{label:(0,v.__)("Center"),value:"center",icon:Nt},{label:(0,v.__)("Right"),value:"right",icon:kt},{label:(0,v.__)("Justify"),value:"justify",icon:Lt}],Rt=(e,t,n)=>{const o=e?.[t]||{};(0,i.useLayoutEffect)(()=>{const e=(e=>{if(!e)return"";let t="";return["padding","margin"].forEach(n=>{["top","right","bottom","left"].forEach(o=>{const r=e[n]?.[o];r&&(t+=`${n}-${o}: ${r.toString().match(/^\d+$/)?`${r}px`:r};`)})}),e.alignment&&(t+=`text-align: ${e.alignment};`),t})(o);e!==o.generated&&n({[t]:{...o,generated:e}})},[o,t,n])},Dt=({setting:e,meta:t,setAttributes:n,settingKey:o})=>{Rt(t,o,n);const r=t?.[o]||{},i=e=>[r[e],t=>n({[o]:{...r,[e]:t}}),()=>n({[o]:{...r,[e]:void 0}}),()=>!!r[e]],[a,s,l,c]=i("alignment"),[m,f,u,h]=i("margin"),[g,_,x,b]=i("padding"),[y,w,T,j]=i("classes");return(0,p.jsxs)(d.__experimentalToolsPanel,{label:e.label,resetAll:()=>n({[o]:{generated:""}}),panelId:o,className:"border-block-support-panel",children:[(0,p.jsx)(d.__experimentalToolsPanelItem,{label:(0,v.__)("Alignment"),hasValue:c,onDeselect:l,panelId:o,isShownByDefault:!0,children:(0,p.jsx)(d.__experimentalToggleGroupControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,isDeselectable:!0,isBlock:!0,label:(0,v.__)("Alignment"),value:a,onChange:s,children:It.map((e,t)=>(0,p.jsx)(d.__experimentalToggleGroupControlOptionIcon,{...e},t))})}),(0,p.jsx)(d.__experimentalToolsPanelItem,{label:(0,v.__)("Padding"),hasValue:b,onDeselect:x,panelId:o,children:(0,p.jsx)(d.__experimentalBoxControl,{values:g,onChange:_,label:(0,v.__)("Padding"),allowReset:!1,__next40pxDefaultSize:!0})}),(0,p.jsx)(d.__experimentalToolsPanelItem,{label:(0,v.__)("Margin"),hasValue:h,onDeselect:u,panelId:o,children:(0,p.jsx)(d.__experimentalBoxControl,{values:m,onChange:f,label:(0,v.__)("Margin"),allowReset:!1,__next40pxDefaultSize:!0})}),(0,p.jsx)(d.__experimentalToolsPanelItem,{className:"single-column",label:(0,v.__)("CSS Classes"),hasValue:j,onDeselect:T,panelId:o,children:(0,p.jsx)(d.__experimentalInputControl,{value:y,onChange:w,size:"__unstable-large",label:(0,v.__)("CSS Classes"),isPressEnterToChange:!0,__next40pxDefaultSize:!0})})]})},Mt=['apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif',"Arial, Helvetica, sans-serif",'"Arial Black", Gadget, sans-serif',"Verdana, Geneva, sans-serif","Times New Roman, Times, serif","Georgia, serif","Courier New, Courier, monospace","Tahoma, Geneva, sans-serif","Calibri, Arial, sans-serif","Trebuchet MS, sans-serif","Lucida Grande, sans-serif","Palatino, serif",'"Palatino Linotype", "Book Antiqua", Palatino, serif','"Comic Sans MS", cursive, sans-serif',"Impact, Charcoal, sans-serif"],Pt=({value:e,onChange:t})=>{const n=Mt.map(n=>({title:(0,p.jsx)("span",{style:{fontFamily:n},children:(0,p.jsx)(d.__experimentalTruncate,{limit:25,ellipsizeMode:"tail",children:n})}),onClick:()=>t(n),isActive:e===n,label:n}));return(0,p.jsx)(d.__experimentalInputControlSuffixWrapper,{children:(0,p.jsx)(d.DropdownMenu,{icon:"admin-customizer",label:(0,v.__)("Font family","newsletter-optin-box"),controls:n,noIcons:!0})})},Ot=({value:e,onChange:t})=>(0,p.jsx)(d.__experimentalInputControl,{label:(0,v.__)("Font family","newsletter-optin-box"),value:e,onChange:t,suffix:(0,p.jsx)(Pt,{value:e,onChange:t}),isPressEnterToChange:!0,__next40pxDefaultSize:!0}),Ft=[{name:(0,v.__)("Small"),slug:"small",size:13},{name:(0,v.__)("Normal"),slug:"normal",size:16},{name:(0,v.__)("Medium"),slug:"medium",size:20},{name:(0,v.__)("Large"),slug:"large",size:30},{name:(0,v.__)("Huge"),slug:"huge",size:42}],zt=(e,t,n)=>{const o=e?.[t]||{};(0,i.useLayoutEffect)(()=>{const e=(e=>{if(!e)return"";const t=[];return e.font_size&&t.push(`font-size: ${e.font_size.toString().match(/^\d+$/)?`${e.font_size}px`:e.font_size}`),e.font_weight&&t.push(`font-weight: ${e.font_weight}`),e.line_height&&t.push(`line-height: ${e.line_height}`),e.letter_spacing&&t.push(`letter-spacing: ${e.letter_spacing}`),e.text_transform&&t.push(`text-transform: ${e.text_transform}`),e.decoration&&t.push(`text-decoration: ${e.decoration}`),e.style&&t.push(`font-style: ${e.style}`),e.family&&t.push(`font-family: ${e.family}`),t.length?t.join("; ")+";":""})(o);e!==o.generated&&n({[t]:{...o,generated:e}})},[o,t,n])},Bt=({setting:e,meta:t,setAttributes:n,settingKey:o})=>{zt(t,o,n);const r=t?.[o]||{},i=e=>[r[e],t=>n({[o]:{...r,[e]:t}}),()=>n({[o]:{...r,[e]:void 0}}),()=>!!r[e]],[a,s,l,c]=i("family"),[m,f,u,h]=i("font_size"),[g,,,_]=i("style"),[x,,,b]=i("font_weight"),[y,w,T,j]=i("line_height"),[S,C,A,E]=i("letter_spacing"),[N,k,L,I]=i("text_transform"),[R,D,M,P]=i("decoration");return(0,p.jsxs)(d.__experimentalToolsPanel,{label:e.label,resetAll:()=>n({[o]:{generated:""}}),panelId:o,className:"border-block-support-panel",children:[(0,p.jsx)(d.__experimentalToolsPanelItem,{label:(0,v.__)("Font family"),hasValue:c,onDeselect:l,panelId:o,children:(0,p.jsx)(Ot,{value:a||"",onChange:s})}),(0,p.jsx)(d.__experimentalToolsPanelItem,{label:(0,v.__)("Font size"),hasValue:h,onDeselect:u,isShownByDefault:!0,panelId:o,children:(0,p.jsx)(d.FontSizePicker,{value:m,onChange:f,fontSizes:Ft,disableCustomFontSizes:!1,withReset:!1,units:["px","em","rem"],withSlider:!0,size:"__unstable-large",__nextHasNoMarginBottom:!0})}),(0,p.jsx)(d.__experimentalToolsPanelItem,{className:"single-column",label:(0,v.__)("Appearance"),hasValue:()=>_()||b(),onDeselect:()=>{n({[o]:{...r,style:void 0,font_weight:void 0}})},panelId:o,children:(0,p.jsx)(ut.__experimentalFontAppearanceControl,{value:{fontStyle:g,fontWeight:x},onChange:({fontStyle:e,fontWeight:t})=>{n({[o]:{...r,style:e,font_weight:t}})},hasFontStyles:!0,hasFontWeights:!0,size:"__unstable-large"})}),(0,p.jsx)(d.__experimentalToolsPanelItem,{className:"single-column",label:(0,v.__)("Line height"),hasValue:j,onDeselect:T,panelId:o,children:(0,p.jsx)(ut.LineHeightControl,{__nextHasNoMarginBottom:!0,__unstableInputWidth:"auto",value:y,onChange:w,size:"__unstable-large"})}),(0,p.jsx)(d.__experimentalToolsPanelItem,{className:"single-column",label:(0,v.__)("Letter spacing"),hasValue:E,onDeselect:A,panelId:o,children:(0,p.jsx)(ut.__experimentalLetterSpacingControl,{value:S,onChange:C,size:"__unstable-large",__unstableInputWidth:"auto"})}),(0,p.jsx)(d.__experimentalToolsPanelItem,{className:"single-column",label:(0,v.__)("Text decoration"),hasValue:P,onDeselect:M,panelId:o,children:(0,p.jsx)(ut.__experimentalTextDecorationControl,{value:R,onChange:D,size:"__unstable-large",__unstableInputWidth:"auto"})}),(0,p.jsx)(d.__experimentalToolsPanelItem,{label:(0,v.__)("Letter case"),hasValue:I,onDeselect:L,panelId:o,children:(0,p.jsx)(ut.__experimentalTextTransformControl,{value:N,onChange:k,showNone:!0,isBlock:!0,size:"__unstable-large",__nextHasNoMarginBottom:!0})})]})},Ht=({state:e})=>{if(!e.image&&e.hidePrefix&&e.hideTitle&&e.hideDescription)return null;const t=!e.hidePrefix||!e.hideTitle||!e.hideDescription;return(0,p.jsxs)("div",{className:y("noptin-form-header",e.image?`noptin-img-${e.imagePos}`:"no-image"),children:[t&&(0,p.jsxs)("div",{className:"noptin-form-header-text",children:[!e.hidePrefix&&(0,p.jsx)(pt,{field:"prefix"}),!e.hideTitle&&(0,p.jsx)(pt,{field:"title"}),!e.hideDescription&&(0,p.jsx)(pt,{field:"description"})]}),e.image&&(0,p.jsx)("div",{className:"noptin-form-header-image",children:(0,p.jsx)("img",{src:e.image})})]})},$t=({state:e})=>e.hideFields&&e.hideNote?null:(0,p.jsxs)("div",{className:"noptin-form-footer",children:[!e.hideFields&&(0,p.jsxs)("div",{className:"noptin-form-fields",children:[Array.isArray(e.fields)&&e.fields.map(({key:e,type:t})=>(0,p.jsx)(a().Fragment,{children:t&&(0,p.jsx)("div",{className:`noptin-form-field-wrapper noptin-form-field-wrapper-${t.type} noptin-optin-field-wrapper noptin-optin-field-wrapper-${t.type}`,children:(0,p.jsx)(dt,{...t})})},e)),e.gdprCheckbox&&!e.singleLine&&(0,p.jsx)("div",{className:"noptin-gdpr-checkbox-wrapper",style:{marginBottom:10},children:(0,p.jsxs)("label",{children:[(0,p.jsx)("input",{type:"checkbox",required:!0}),(0,p.jsx)(_.RawHTML,{children:ot.sanitize(e.gdprConsentText)})]})}),(0,p.jsx)(ft,{})]}),!e.hideFields&&e.singleLine&&e.gdprCheckbox&&(0,p.jsx)("div",{className:"noptin-gdpr-checkbox-wrapper",style:{marginBottom:10},children:(0,p.jsxs)("label",{children:[(0,p.jsx)("input",{type:"checkbox",required:!0}),(0,p.jsx)(_.RawHTML,{children:ot.sanitize(e.gdprConsentText)})]})}),!e.hideNote&&(0,p.jsx)(pt,{field:"note"})]}),Ut={popup:{width:"620px",height:"280px"},slide_in:{width:"400px",height:"280px"},sidebar:{width:"300px",height:"400px"}},Vt=[["#ff1744","#fafafa","#d50000"],["#f50057","#fafafa","#c51162"],["#d500f9","#fafafa","#aa00ff"],["#651fff","#fafafa","#6200ea"],["#3d5afe","#fafafa","#304ffe"],["#2979ff","#fafafa","#2962ff"],["#00b0ff","#fafafa","#0091ea"],["#00e5ff","#fafafa","#00b8d4"],["#1de9b6","#191919","#00bfa5"],["#00e676","#191919","#00c853"],["#76ff03","#191919","#64dd17"],["#c6ff00","#191919","#aeea00"],["#ffea00","#191919","#ffd600"],["#ffc400","#191919","#ffab00"],["#ff9100","#fafafa","#ff6d00"],["#ff3d00","#fafafa","#dd2c00"],["#ff4081","#fafafa","#f50057"],["#7c4dff","#fafafa","#6200ea"],["#536dfe","#fafafa","#3d5afe"],["#40c4ff","#191919","#00b0ff"],["#18ffff","#191919","#00e5ff"],["#64ffda","#191919","#1de9b6"],["#69f0ae","#191919","#00e676"],["#b2ff59","#191919","#76ff03"],["#eeff41","#191919","#c6ff00"],["#ffd740","#191919","#ffc400"],["#ffab40","#191919","#ff9100"],["#ff6e40","#fafafa","#ff3d00"],["#39ff14","#191919","#0bff01"],["#ff1493","#fafafa","#ff0080"],["#00ffff","#191919","#00e5ff"],["#ff00ff","#fafafa","#f500f5"],["#ff6600","#fafafa","#ff4400"],["#ffff00","#191919","#ffea00"],["#ff6b6b","#fafafa","#4ecdc4"],["#a40606","#fafafa","#d98324"],["#7b4397","#fafafa","#dc2430"],["#11998e","#fafafa","#38ef7d"],["#fc4a1a","#fafafa","#f7b733"],["#00f260","#191919","#0575e6"],["#313131","#fafafa","#607d8b"],["#ffffff","#191919","#191919"],["#aaaaaa","#191919","#191919"]],Gt=()=>{const[e]=(0,g.useEntityProp)("postType","noptin-form","id"),[t,n]=(0,g.useEntityProp)("postType","noptin-form","meta"),o=window.noptinForm?.templates,r=t?._noptin_state||{},a=(0,i.useRef)(!0),s=e=>{n({...t,_noptin_state:{...r,...e}})};St(r,"formBorder",s),Rt(r,"prefixAdvanced",s),Rt(r,"titleAdvanced",s),Rt(r,"descriptionAdvanced",s),Rt(r,"noteAdvanced",s),zt(r,"prefixTypography",s),zt(r,"titleTypography",s),zt(r,"descriptionTypography",s),zt(r,"noteTypography",s),(0,i.useEffect)(()=>{a.current?a.current=!1:r.optinType&&n({...t,_noptin_state:{...r,formHeight:Ut[r.optinType]?.height||"280px",formWidth:Ut[r.optinType]?.width||"620px"}})},[r.optinType]);const{baseControlProps:l,controlProps:c}=(0,d.useBaseControlProps)({label:(0,v.__)("Preview","newsletter-optin-box"),help:(0,v.__)("The form may look slightly different than this when shown in a post, page or widget area.","newsletter-optin-box")});return(0,p.jsx)(f,{children:(0,p.jsxs)(d.BaseControl,{...l,__nextHasNoMarginBottom:!0,children:[(0,p.jsx)(mt,{state:r}),(0,p.jsxs)(d.__experimentalVStack,{spacing:4,children:[(0,p.jsxs)(d.__experimentalHStack,{justify:"flex-start",wrap:!0,children:[o&&(0,p.jsx)(d.DropdownMenu,{icon:"art",label:(0,v.__)("Change template","newsletter-optin-box"),text:(0,v.__)("Change template","newsletter-optin-box"),toggleProps:{variant:"secondary"},controls:Object.entries(o).map(([e,{title:o,data:i}])=>(i.noptinFormBorderColor&&!i.formBorder&&(i.formBorder={border_color:i.noptinFormBorderColor,generated:`border-color: ${i.noptinFormBorderColor};`}),{title:o,onClick:()=>n({...t,_noptin_state:{...r,hideFields:!1,gdprCheckbox:!1,formBorder:{style:"none",border_radius:0,border_width:0,border_color:"#f8f9fa",generated:"border-style: none; border-radius: 0px; border-width: 0px; border-color: #f8f9fa;"},titleAdvanced:{},descriptionAdvanced:{},noteAdvanced:{},prefixAdvanced:{},formHeight:r.optinType&&Ut[r.optinType]?.height||"280px",formWidth:r.optinType&&Ut[r.optinType]?.width||"620px",...i}})}))}),(0,p.jsx)(d.DropdownMenu,{icon:"marker",label:(0,v.__)("Change color theme","newsletter-optin-box"),text:(0,v.__)("Change color theme","newsletter-optin-box"),toggleProps:{variant:"secondary"},controls:Vt.map(e=>({title:(0,p.jsxs)(d.__experimentalHStack,{children:[(0,p.jsx)(d.ColorIndicator,{colorValue:e[0]}),(0,p.jsx)(d.ColorIndicator,{colorValue:e[2]}),(0,p.jsx)(d.ColorIndicator,{colorValue:e[1]})]}),onClick:()=>{const o={...r};e.length&&(o.noptinFormBg=e[0],o.formBorder.border_color=e[2],o.noptinButtonColor=e[0],o.noptinButtonBg=e[1],o.titleColor=e[1],o.descriptionColor=e[1],o.noteColor=e[1]),n({...t,_noptin_state:o})}}))})]}),(0,p.jsxs)("div",{...c,className:y("noptin-optin-form-wrapper",r.imageMain?`noptin-img-${r.imageMainPos}`:"no-image"),children:[(0,p.jsxs)("form",{className:y("noptin-optin-form",r.showLabels?"noptin-label-show":"noptin-label-hide",r.singleLine?"noptin-form-single-line":"noptin-form-new-line"),onSubmit:e=>e.preventDefault(),children:[(0,p.jsx)(Ht,{state:r}),(0,p.jsx)($t,{state:r})]}),r.imageMain&&(0,p.jsx)("div",{className:"noptin-form-main-image",children:(0,p.jsx)("img",{src:r.imageMain})})]}),"inpost"===r.optinType&&(0,p.jsxs)(d.__experimentalVStack,{spacing:4,children:[(0,p.jsxs)(d.__experimentalText,{variant:"muted",align:"center",children:[(0,v.__)("Shortcode","newsletter-optin-box"),":",(0,p.jsxs)("code",{children:["[noptin form=",e,"]"]}),(0,p.jsx)(d.Tooltip,{text:(0,v.__)("Use this shortcode to display the form inside your post, page, or text widget content.","newsletter-optin-box"),children:(0,p.jsx)("span",{className:"dashicons dashicons-editor-help"})})]}),(0,p.jsxs)(d.__experimentalText,{variant:"muted",align:"center",children:[(0,v.__)("PHP Snippet","newsletter-optin-box"),":",(0,p.jsx)("code",{children:`<?php show_noptin_form(${e}); ?>`}),(0,p.jsx)(d.Tooltip,{text:(0,v.__)("Use this PHP snippet to display the form inside your theme template files.","newsletter-optin-box"),children:(0,p.jsx)("span",{className:"dashicons dashicons-editor-help"})})]}),(0,p.jsx)(d.__experimentalText,{variant:"muted",align:"center",children:(0,p.jsx)("a",{href:"https://noptin.com/guide/subscription-forms/preventing-spam-sign-ups/?utm_medium=Documentation&utm_campaign=Subscription%20Forms&utm_term=Spam%20Sign-ups&utm_source=Noptin%20Plugin%20Dashboard",target:"_blank",rel:"noopener noreferrer",children:(0,v.__)("Learn how to prevent spam sign-ups","newsletter-optin-box")})})]})]})]})})},Wt=[{label:(0,v.__)("Popup","newsletter-optin-box"),value:"popup"},{label:(0,v.__)("Shortcode","newsletter-optin-box"),value:"inpost"},{label:(0,v.__)("Widget","newsletter-optin-box"),value:"sidebar"},{label:(0,v.__)("Sliding","newsletter-optin-box"),value:"slide_in"}],Yt=()=>{const[e,t]=(0,g.useEntityProp)("postType","noptin-form","meta"),n=e?._noptin_state||{},o=e?._noptin_optin_type,r=o=>{t({...e,_noptin_optin_type:o,_noptin_state:{...n,optinType:o}})};return(0,i.useEffect)(()=>{o||r("inpost")},[]),(0,i.useEffect)(()=>{o&&o!==n.optinType&&t({...e,_noptin_state:{...n,optinType:o}})},[o,n.optinType]),(0,p.jsx)(f,{children:(0,p.jsx)(d.__experimentalToggleGroupControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,isDeselectable:!1,isBlock:!0,label:(0,v.__)("Form type"),value:o,onChange:r,children:Wt.map((e,t)=>(0,p.jsx)(d.__experimentalToggleGroupControlOption,{...e},t))})})},Kt=()=>(0,p.jsx)(d.Flex,{justify:"center",children:(0,p.jsxs)(d.__experimentalVStack,{className:"noptin-form-preview",spacing:8,children:[(0,p.jsx)(f,{children:(0,p.jsx)(oe,{})}),(0,p.jsx)(f,{children:(0,p.jsx)(Yt,{})}),(0,p.jsx)(f,{children:(0,p.jsx)(Gt,{})})]})}),qt=({setting:e})=>{const t=(0,i.useRef)(null);return(0,i.useEffect)(()=>{if(!e.listen_to||!t.current)return;const n=n=>{if(n.target.closest(e.listen_to)){t.current?.scrollIntoView({behavior:"smooth",block:"start"});const e=t.current?.querySelector("[aria-expanded=false].components-panel__body-toggle");e?.click()}},o=document.getElementById("noptin-form-editor");return o?(o.addEventListener("click",n),()=>o.removeEventListener("click",n)):void 0},[e.listen_to,t.current]),(0,p.jsx)(d.PanelBody,{title:e.title,initialOpen:!1,ref:t,children:(0,p.jsx)(d.__experimentalVStack,{spacing:4,children:(0,p.jsx)(Xt,{settings:e.children})})})},Zt=({setting:e,settingKey:t,meta:n,setAttributes:o})=>"panel"===e.el?(0,p.jsx)(gt,{meta:n,setting:e,children:(0,p.jsx)(qt,{setting:e,meta:n})}):"border"===e.el?(0,p.jsx)(gt,{meta:n,setting:e,children:(0,p.jsx)(Ct,{setting:e,meta:n,settingKey:t,setAttributes:o})}):"color_panel"===e.el?(0,p.jsx)(gt,{meta:n,setting:e,children:(0,p.jsx)(wt,{setting:e,meta:n,settingKey:t,setAttributes:o})}):"typography"===e.el?(0,p.jsx)(gt,{meta:n,setting:e,children:(0,p.jsx)(Bt,{setting:e,meta:n,settingKey:t,setAttributes:o})}):"advanced"===e.el?(0,p.jsx)(gt,{meta:n,setting:e,children:(0,p.jsx)(Dt,{setting:e,meta:n,settingKey:t,setAttributes:o})}):(0,p.jsx)(ht.Setting,{settingKey:t,setting:e,saved:n,setAttributes:o}),Xt=({settings:e})=>{const[t,n]=(0,g.useEntityProp)("postType","noptin-form","meta"),o=t?._noptin_state||{},r=(0,i.useCallback)(e=>{n({...t,_noptin_state:{...o,...e}})},[t,n]);return(0,p.jsx)(p.Fragment,{children:Object.keys(e).map(t=>(0,p.jsx)(f,{children:(0,p.jsx)(Zt,{settingKey:t,setting:e[t],meta:o,setAttributes:r})},t))})},Jt=window.noptinForm?.settings||{},Qt=Object.keys(Jt).map(e=>{const{label:t,...n}=Jt[e];return{key:e,label:t,settings:n}}),en=()=>{const[e,t]=(0,i.useState)(Qt[0]?.key),n=Qt.find(t=>t.key===e),o=(0,i.useCallback)(n=>{const o=n.target;if(o.closest(".noptin-optin-form")){if(!Qt.find(e=>"design"===e.key)||"design"===e)return;t("design"),n.stopPropagation(),setTimeout(()=>{o.click()},100)}},[e]);return(0,i.useEffect)(()=>(window.addEventListener("click",o),()=>{window.removeEventListener("click",o)}),[o]),(0,p.jsxs)("div",{id:"noptin-form-editor__sidebar",className:"interface-complementary-area",children:[(0,p.jsx)("div",{className:"components-panel__header interface-complementary-area-header",tabIndex:-1,children:(0,p.jsx)("ul",{children:Qt.map(n=>(0,p.jsx)("li",{children:(0,p.jsx)(d.Button,{onClick:()=>t(n.key),className:y("edit-form-sidebar__panel-tab",n.key.replace(/\//g,"__").toLowerCase(),{"is-active":e===n.key}),"aria-label":e===n.key?(0,v.sprintf)((0,v.__)("%s (selected)"),n.label||n.key):n.label||n.key,"data-label":n.label||n.key,children:n.label||n.key})},n.key))})}),n&&(0,p.jsx)(Xt,{settings:n.settings})]})},tn=(0,window.wp.url.getQueryArg)(window.location.href,"tab")||"settings",nn=Qt.map(({key:e,label:t,settings:n})=>({name:e,title:t,settings:n}));function on(){const e=(0,w.useViewportMatch)("small","<");return(0,p.jsx)(f,{children:(0,p.jsx)(d.TabPanel,{initialTabName:tn,orientation:e?"vertical":"horizontal",tabs:nn,className:"noptin-settings__tabs",children:e=>(0,p.jsx)(p.Fragment,{children:"preview"===e.name?(0,p.jsx)(Kt,{}):(0,p.jsx)(Xt,{settings:e.settings})})})})}function rn(){const e=(0,w.useViewportMatch)("small","<"),t=()=>(0,p.jsxs)(d.__experimentalVStack,{children:[(0,p.jsx)(J,{}),(0,p.jsx)(X,{}),e?(0,p.jsx)(on,{}):(0,p.jsx)(Kt,{})]});return(0,p.jsx)(A,{isDistractionFree:!1,className:"noptin-app__interface",header:(0,p.jsx)(te,{}),content:(0,p.jsx)(t,{}),sidebar:e?void 0:(0,p.jsx)(en,{}),footer:(0,p.jsx)(ne,{})})}nn.push({name:"preview",title:(0,v.__)("Preview"),settings:{}});const an={__unstableIsPreviewMode:!0,allowedBlockTypes:!1},sn=(0,i.memo)(({post:e})=>{const t=(0,i.useMemo)(()=>e?.meta?._noptin_state&&"object"==typeof e.meta._noptin_state&&0!==Object.keys(e.meta._noptin_state).length?{}:{random:["hello","world"],meta:{...e?.meta,_noptin_state:{...window.noptinForm?.default_form,...window.noptinForm?.form_settings}}},[e]);return(0,p.jsxs)(h.EditorProvider,{post:e,settings:an,initialEdits:t,useSubRegistry:!1,children:[(0,p.jsx)(h.PostLockedModal,{}),(0,p.jsxs)(f,{children:[(0,p.jsx)(rn,{}),(0,p.jsx)(x,{isActive:!1})]})]})}),ln=function({postId:e,postType:t}){const{post:n,hasFinishedResolution:o,hasErrored:r}=(0,u.useSelect)(n=>{const{hasResolutionFailed:o,hasFinishedResolution:r,getEntityRecord:i}=n(g.store);return{post:i("postType",t,e),hasFinishedResolution:r("getEntityRecord",["postType",t,e]),hasErrored:o("getEntityRecord",["postType",t,e])}},[t,e]);return r?(0,p.jsx)(d.Notice,{status:"error",children:"Form not found"}):o?n?(0,p.jsx)(d.SlotFillProvider,{children:(0,p.jsx)(sn,{post:n})}):(0,p.jsx)(d.Notice,{status:"error",children:"Form not found"}):(0,p.jsx)(d.Spinner,{})},cn=()=>(console.log("Initializing form editor"),(0,p.jsx)(f,{children:(0,p.jsx)(ln,{postType:"noptin-form",postId:window.noptinForm?.form})}));c()(()=>{const e=document.createElement("div");e.id="noptin-form-editor",e.className="block-editor",e.innerHTML='<span class="spinner" style="float: none; visibility: visible;"></span>',document.getElementById("wpbody-content").appendChild(e);const t=document.getElementById("noptin-form-editor");t&&(0,s.H)(t).render((0,p.jsx)(cn,{}))})}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,o),i.exports}o.m=t,e=[],o.O=(t,n,r,i)=>{if(!n){var a=1/0;for(d=0;d<e.length;d++){for(var[n,r,i]=e[d],s=!0,l=0;l<n.length;l++)(!1&i||a>=i)&&Object.keys(o.O).every(e=>o.O[e](n[l]))?n.splice(l--,1):(s=!1,i<a&&(a=i));if(s){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[n,r,i]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={830:0,98:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,i,[a,s,l]=n,c=0;if(a.some(t=>0!==e[t])){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);if(l)var d=l(o)}for(t&&t(n);c<a.length;c++)i=a[c],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(d)},n=globalThis.webpackChunknoptin_premium=globalThis.webpackChunknoptin_premium||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=o.O(void 0,[98],()=>o(7029));r=o.O(r)})();