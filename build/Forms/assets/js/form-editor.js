(()=>{var e,t={1390:(e,t,n)=>{"use strict";var o={};n.r(o),n.d(o,{closeModal:()=>$,disableComplementaryArea:()=>L,enableComplementaryArea:()=>I,openModal:()=>B,pinItem:()=>P,setDefaultComplementaryArea:()=>D,setFeatureDefaults:()=>z,setFeatureValue:()=>H,toggleFeature:()=>F,unpinItem:()=>M});var r={};n.r(r),n.d(r,{getActiveComplementaryArea:()=>U,isComplementaryAreaLoading:()=>V,isFeatureActive:()=>W,isItemPinned:()=>G,isModalActive:()=>Y});var i=n(1609),a=n.n(i),s=n(5338);const l=window.wp.domReady;var c=n.n(l);const p=window.wp.components,d=window.ReactJSXRuntime;class f extends a().Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?(0,d.jsx)("div",{children:(0,d.jsxs)("div",{style:{backgroundColor:"#FEE2E2",border:"1px solid #F87171",color:"#B91C1C",padding:"0.75rem 1rem",borderRadius:"0.25rem",position:"relative"},role:"alert",children:[(0,d.jsx)(p.__experimentalText,{as:"strong",weight:500,color:"#B91C1C",children:"Oops! Something went wrong."}),"Â ",(0,d.jsx)(p.__experimentalText,{color:"#B91C1C",children:"This error is being logged."}),(0,d.jsxs)("details",{style:{marginTop:"0.5rem",fontSize:"0.875rem"},children:[(0,d.jsx)("summary",{children:"Click for error details"}),(0,d.jsxs)("pre",{style:{overflow:"auto",fontSize:"0.875rem",marginTop:"0.5rem"},children:[this.state.error&&this.state.error.toString(),(0,d.jsx)("br",{}),this.state.errorInfo?.componentStack]})]})]})}):this.props.children}}const u=f,m=window.wp.data,h=window.wp.editor,g=window.wp.coreData,_=window.wp.element,x=({isActive:e})=>((0,_.useEffect)(()=>{let e=!1;return document.body.classList.contains("sticky-menu")&&(e=!0,document.body.classList.remove("sticky-menu")),()=>{e&&document.body.classList.add("sticky-menu")}},[]),(0,_.useEffect)(()=>(e?document.body.classList.add("is-fullscreen-mode"):document.body.classList.remove("is-fullscreen-mode"),()=>{e&&document.body.classList.remove("is-fullscreen-mode")}),[e]),null);function b(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=b(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}const y=function(){for(var e,t,n=0,o="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=b(e))&&(o&&(o+=" "),o+=t);return o},v=window.wp.i18n,w=window.wp.compose,T=(0,_.forwardRef)(({children:e,className:t,ariaLabel:n,as:o="div",...r},i)=>(0,d.jsx)(o,{ref:i,className:y("interface-navigable-region",t),"aria-label":n,role:"region",tabIndex:"-1",...r,children:e}));T.displayName="NavigableRegion";const j=T,S={type:"tween",duration:.25,ease:[.6,0,.4,1]},C={hidden:{opacity:1,marginTop:-60},visible:{opacity:1,marginTop:0},distractionFreeHover:{opacity:1,marginTop:0,transition:{...S,delay:.2,delayChildren:.2}},distractionFreeHidden:{opacity:0,marginTop:-60},distractionFreeDisabled:{opacity:0,marginTop:0,transition:{...S,delay:.8,delayChildren:.8}}},E=(0,_.forwardRef)(function({isDistractionFree:e,footer:t,header:n,editorNotices:o,sidebar:r,secondarySidebar:i,content:a,actions:s,labels:l,className:c},f){const[u,m]=(0,w.useResizeObserver)(),h=(0,w.useViewportMatch)("medium","<"),g={type:"tween",duration:(0,w.useReducedMotion)()?0:.25,ease:[.6,0,.4,1]};!function(e){(0,_.useEffect)(()=>{const t=document&&document.querySelector(`html:not(.${e})`);if(t)return t.classList.toggle(e),()=>{t.classList.toggle(e)}},[e])}("interface-interface-skeleton__html-container");const x={
/* translators: accessibility text for the top bar landmark region. */
header:(0,v._x)("Header","header landmark area"),
/* translators: accessibility text for the content landmark region. */
body:(0,v.__)("Content"),
/* translators: accessibility text for the secondary sidebar landmark region. */
secondarySidebar:(0,v.__)("Block Library"),
/* translators: accessibility text for the settings landmark region. */
sidebar:(0,v._x)("Settings","settings landmark area"),
/* translators: accessibility text for the publish landmark region. */
actions:(0,v.__)("Publish"),
/* translators: accessibility text for the footer landmark region. */
footer:(0,v.__)("Footer"),...l};return(0,d.jsxs)("div",{ref:f,className:y(c,"interface-interface-skeleton",!!t&&"has-footer"),children:[(0,d.jsxs)("div",{className:"interface-interface-skeleton__editor",children:[(0,d.jsx)(p.__unstableAnimatePresence,{initial:!1,children:!!n&&(0,d.jsx)(j,{as:p.__unstableMotion.div,className:"interface-interface-skeleton__header","aria-label":x.header,initial:e&&!h?"distractionFreeHidden":"hidden",whileHover:e&&!h?"distractionFreeHover":"visible",animate:e&&!h?"distractionFreeDisabled":"visible",exit:e&&!h?"distractionFreeHidden":"hidden",variants:C,transition:g,children:n})}),e&&(0,d.jsx)("div",{className:"interface-interface-skeleton__header",children:o}),(0,d.jsxs)("div",{className:"interface-interface-skeleton__body",children:[(0,d.jsx)(p.__unstableAnimatePresence,{initial:!1,children:!!i&&(0,d.jsx)(j,{className:"interface-interface-skeleton__secondary-sidebar",ariaLabel:x.secondarySidebar,as:p.__unstableMotion.div,initial:"closed",animate:"open",exit:"closed",variants:{open:{width:m.width},closed:{width:0}},transition:g,children:(0,d.jsxs)(p.__unstableMotion.div,{style:{position:"absolute",width:h?"100vw":"fit-content",height:"100%",left:0},variants:{open:{x:0},closed:{x:"-100%"}},transition:g,children:[u,i]})})}),(0,d.jsx)(j,{className:"interface-interface-skeleton__content",ariaLabel:x.body,children:a}),!!r&&(0,d.jsx)(j,{className:"interface-interface-skeleton__sidebar",ariaLabel:x.sidebar,children:r}),!!s&&(0,d.jsx)(j,{className:"interface-interface-skeleton__actions",ariaLabel:x.actions,children:s})]})]}),!!t&&(0,d.jsx)(j,{className:"interface-interface-skeleton__footer",ariaLabel:x.footer,children:t})]})}),N=window.wp.deprecated;var A=n.n(N);const k=window.wp.preferences;function O(e){return["core/edit-post","core/edit-site"].includes(e)?(A()(`${e} interface scope`,{alternative:"core interface scope",hint:"core/edit-post and core/edit-site are merging.",version:"6.6"}),"core"):e}function R(e,t){return"core"===e&&"edit-site/template"===t?(A()("edit-site/template sidebar",{alternative:"edit-post/document",version:"6.6"}),"edit-post/document"):"core"===e&&"edit-site/block-inspector"===t?(A()("edit-site/block-inspector sidebar",{alternative:"edit-post/block",version:"6.6"}),"edit-post/block"):t}const D=(e,t)=>({type:"SET_DEFAULT_COMPLEMENTARY_AREA",scope:e=O(e),area:t=R(e,t)}),I=(e,t)=>({registry:n,dispatch:o})=>{t&&(e=O(e),t=R(e,t),n.select(k.store).get(e,"isComplementaryAreaVisible")||n.dispatch(k.store).set(e,"isComplementaryAreaVisible",!0),o({type:"ENABLE_COMPLEMENTARY_AREA",scope:e,area:t}))},L=e=>({registry:t})=>{e=O(e),t.select(k.store).get(e,"isComplementaryAreaVisible")&&t.dispatch(k.store).set(e,"isComplementaryAreaVisible",!1)},P=(e,t)=>({registry:n})=>{if(!t)return;e=O(e),t=R(e,t);const o=n.select(k.store).get(e,"pinnedItems");!0!==o?.[t]&&n.dispatch(k.store).set(e,"pinnedItems",{...o,[t]:!0})},M=(e,t)=>({registry:n})=>{if(!t)return;e=O(e),t=R(e,t);const o=n.select(k.store).get(e,"pinnedItems");n.dispatch(k.store).set(e,"pinnedItems",{...o,[t]:!1})};function F(e,t){return function({registry:n}){A()("dispatch( 'core/interface' ).toggleFeature",{since:"6.0",alternative:"dispatch( 'core/preferences' ).toggle"}),n.dispatch(k.store).toggle(e,t)}}function H(e,t,n){return function({registry:o}){A()("dispatch( 'core/interface' ).setFeatureValue",{since:"6.0",alternative:"dispatch( 'core/preferences' ).set"}),o.dispatch(k.store).set(e,t,!!n)}}function z(e,t){return function({registry:n}){A()("dispatch( 'core/interface' ).setFeatureDefaults",{since:"6.0",alternative:"dispatch( 'core/preferences' ).setDefaults"}),n.dispatch(k.store).setDefaults(e,t)}}function B(e){return{type:"OPEN_MODAL",name:e}}function $(){return{type:"CLOSE_MODAL"}}const U=(0,m.createRegistrySelector)(e=>(t,n)=>{n=O(n);const o=e(k.store).get(n,"isComplementaryAreaVisible");if(void 0!==o)return!1===o?null:t?.complementaryAreas?.[n]}),V=(0,m.createRegistrySelector)(e=>(t,n)=>{n=O(n);const o=e(k.store).get(n,"isComplementaryAreaVisible"),r=t?.complementaryAreas?.[n];return o&&void 0===r}),G=(0,m.createRegistrySelector)(e=>(t,n,o)=>{var r;o=R(n=O(n),o);const i=e(k.store).get(n,"pinnedItems");return null===(r=i?.[o])||void 0===r||r}),W=(0,m.createRegistrySelector)(e=>(t,n,o)=>(A()("select( 'core/interface' ).isFeatureActive( scope, featureName )",{since:"6.0",alternative:"select( 'core/preferences' ).get( scope, featureName )"}),!!e(k.store).get(n,o)));function Y(e,t){return e.activeModal===t}const K=(0,m.combineReducers)({complementaryAreas:function(e={},t){switch(t.type){case"SET_DEFAULT_COMPLEMENTARY_AREA":{const{scope:n,area:o}=t;return e[n]?e:{...e,[n]:o}}case"ENABLE_COMPLEMENTARY_AREA":{const{scope:n,area:o}=t;return{...e,[n]:o}}}return e},activeModal:function(e=null,t){switch(t.type){case"OPEN_MODAL":return t.name;case"CLOSE_MODAL":return null}return e}}),q=(0,m.createReduxStore)("core/interface",{reducer:K,actions:o,selectors:r});(0,m.register)(q);const Z=window.wp.notices;function X(){const{notices:e}=(0,m.useSelect)(e=>({notices:e(Z.store).getNotices()}),[]),{removeNotice:t}=(0,m.useDispatch)(Z.store),n=e.filter(({isDismissible:e,type:t})=>e&&"default"===t),o=e.filter(({isDismissible:e,type:t})=>!e&&"default"===t);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(p.NoticeList,{notices:o,className:"components-editor-notices__pinned"}),(0,d.jsx)(p.NoticeList,{notices:n,className:"components-editor-notices__dismissible",onRemove:t})]})}function J(){const e=(0,m.useSelect)(e=>e(Z.store).getNotices(),[]),{removeNotice:t}=(0,m.useDispatch)(Z.store),n=e.filter(({type:e})=>"snackbar"===e).slice(-3);return(0,d.jsx)(p.SnackbarList,{notices:n,className:"components-editor-notices__snackbar",onRemove:t})}function Q(){const[e,t]=(0,i.useState)(!1),{editPost:n,savePost:o}=(0,m.useDispatch)(h.store),{isSaving:r,isPublished:a,isScheduled:s}=(0,m.useSelect)(e=>{const{isSavingPost:t,isCurrentPostPublished:n,isCurrentPostScheduled:o}=e(h.store);return{isSaving:t(),isPublished:n(),isScheduled:o()}},[]);let l,c;return a?(l=(0,v.__)("Are you sure you want to unpublish this form?"),c=(0,v.__)("Unpublish")):s&&(l=(0,v.__)("Are you sure you want to unschedule this form?"),c=(0,v.__)("Unschedule")),a||s?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(p.Button,{__next40pxDefaultSize:!0,className:"editor-post-switch-to-draft",onClick:()=>{r||t(!0)},"aria-disabled":r,variant:"tertiary",style:{flexGrow:"1",justifyContent:"center"},children:(0,v.__)("Switch to draft")}),(0,d.jsx)(p.__experimentalConfirmDialog,{isOpen:e,onConfirm:()=>{t(!1),n({status:"draft"}),o()},onCancel:()=>t(!1),confirmButtonText:c,children:l})]}):null}const ee=window.noptinForm?.brand||{},te=()=>(0,d.jsxs)(p.__experimentalHStack,{as:p.__experimentalSurface,style:{padding:"10px 20px"},wrap:!0,children:[(0,d.jsx)("div",{children:(0,d.jsx)(u,{children:(0,d.jsxs)(p.__experimentalHStack,{wrap:!0,justify:"flex-start",children:[ee.logo&&(0,d.jsx)("img",{src:ee.logo,alt:ee.name,style:{width:"auto",height:"40px"}}),(0,d.jsx)(p.__experimentalText,{weight:600,size:14,children:ee.name||(0,v.__)("Noptin","noptin")}),(0,d.jsx)(p.__experimentalText,{weight:600,size:14,variant:"muted",children:ee.version}),(0,d.jsx)(p.ToolbarItem,{as:h.EditorHistoryUndo,size:"compact"}),(0,d.jsx)(p.ToolbarItem,{as:h.EditorHistoryRedo,size:"compact"})]})})}),(0,d.jsx)("div",{children:(0,d.jsx)(u,{children:(0,d.jsxs)(p.__experimentalHStack,{children:[(0,d.jsx)(h.PostSavedState,{}),(0,d.jsx)(Q,{}),(0,d.jsx)(h.PostPublishButton,{})]})})})]}),ne=()=>(0,d.jsx)(p.__experimentalSurface,{style:{padding:"10px 20px"},children:(0,d.jsx)("a",{href:"https://wordpress.org/support/plugin/newsletter-optin-box/reviews/?filter=5",target:"_blank",rel:"noreferrer",children:(0,d.jsx)(p.__experimentalText,{size:14,variant:"muted",children:"Thank you for using Noptin. Please leave us a review ðŸŒŸ"})})}),oe=()=>{const[e,t]=(0,g.useEntityProp)("postType","noptin-form","title");return(0,d.jsx)(u,{children:(0,d.jsx)(p.__experimentalInputControl,{label:(0,v.__)("Form Name","noptin"),value:e||"",onChange:t,__next40pxDefaultSize:!0,isPressEnterToChange:!0})})},{entries:re,setPrototypeOf:ie,isFrozen:ae,getPrototypeOf:se,getOwnPropertyDescriptor:le}=Object;let{freeze:ce,seal:pe,create:de}=Object,{apply:fe,construct:ue}="undefined"!=typeof Reflect&&Reflect;ce||(ce=function(e){return e}),pe||(pe=function(e){return e}),fe||(fe=function(e,t,n){return e.apply(t,n)}),ue||(ue=function(e,t){return new e(...t)});const me=Ae(Array.prototype.forEach),he=Ae(Array.prototype.lastIndexOf),ge=Ae(Array.prototype.pop),_e=Ae(Array.prototype.push),xe=Ae(Array.prototype.splice),be=Ae(String.prototype.toLowerCase),ye=Ae(String.prototype.toString),ve=Ae(String.prototype.match),we=Ae(String.prototype.replace),Te=Ae(String.prototype.indexOf),je=Ae(String.prototype.trim),Se=Ae(Object.prototype.hasOwnProperty),Ce=Ae(RegExp.prototype.test),Ee=(Ne=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ue(Ne,t)});var Ne;function Ae(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return fe(e,t,o)}}function ke(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:be;ie&&ie(e,null);let o=t.length;for(;o--;){let r=t[o];if("string"==typeof r){const e=n(r);e!==r&&(ae(t)||(t[o]=e),r=e)}e[r]=!0}return e}function Oe(e){for(let t=0;t<e.length;t++)Se(e,t)||(e[t]=null);return e}function Re(e){const t=de(null);for(const[n,o]of re(e))Se(e,n)&&(Array.isArray(o)?t[n]=Oe(o):o&&"object"==typeof o&&o.constructor===Object?t[n]=Re(o):t[n]=o);return t}function De(e,t){for(;null!==e;){const n=le(e,t);if(n){if(n.get)return Ae(n.get);if("function"==typeof n.value)return Ae(n.value)}e=se(e)}return function(){return null}}const Ie=ce(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Le=ce(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Pe=ce(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Me=ce(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Fe=ce(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),He=ce(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ze=ce(["#text"]),Be=ce(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),$e=ce(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ue=ce(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ve=ce(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ge=pe(/\{\{[\w\W]*|[\w\W]*\}\}/gm),We=pe(/<%[\w\W]*|[\w\W]*%>/gm),Ye=pe(/\$\{[\w\W]*/gm),Ke=pe(/^data-[\-\w.\u00B7-\uFFFF]+$/),qe=pe(/^aria-[\-\w]+$/),Ze=pe(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Xe=pe(/^(?:\w+script|data):/i),Je=pe(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Qe=pe(/^html$/i),et=pe(/^[a-z][.\w]*(-[.\w]+)+$/i);var tt=Object.freeze({__proto__:null,ARIA_ATTR:qe,ATTR_WHITESPACE:Je,CUSTOM_ELEMENT:et,DATA_ATTR:Ke,DOCTYPE_NAME:Qe,ERB_EXPR:We,IS_ALLOWED_URI:Ze,IS_SCRIPT_OR_DATA:Xe,MUSTACHE_EXPR:Ge,TMPLIT_EXPR:Ye});const nt=function(){return"undefined"==typeof window?null:window};var ot=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt();const n=t=>e(t);if(n.version="3.2.6",n.removed=[],!t||!t.document||9!==t.document.nodeType||!t.Element)return n.isSupported=!1,n;let{document:o}=t;const r=o,i=r.currentScript,{DocumentFragment:a,HTMLTemplateElement:s,Node:l,Element:c,NodeFilter:p,NamedNodeMap:d=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:f,DOMParser:u,trustedTypes:m}=t,h=c.prototype,g=De(h,"cloneNode"),_=De(h,"remove"),x=De(h,"nextSibling"),b=De(h,"childNodes"),y=De(h,"parentNode");if("function"==typeof s){const e=o.createElement("template");e.content&&e.content.ownerDocument&&(o=e.content.ownerDocument)}let v,w="";const{implementation:T,createNodeIterator:j,createDocumentFragment:S,getElementsByTagName:C}=o,{importNode:E}=r;let N={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof re&&"function"==typeof y&&T&&void 0!==T.createHTMLDocument;const{MUSTACHE_EXPR:A,ERB_EXPR:k,TMPLIT_EXPR:O,DATA_ATTR:R,ARIA_ATTR:D,IS_SCRIPT_OR_DATA:I,ATTR_WHITESPACE:L,CUSTOM_ELEMENT:P}=tt;let{IS_ALLOWED_URI:M}=tt,F=null;const H=ke({},[...Ie,...Le,...Pe,...Fe,...ze]);let z=null;const B=ke({},[...Be,...$e,...Ue,...Ve]);let $=Object.seal(de(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),U=null,V=null,G=!0,W=!0,Y=!1,K=!0,q=!1,Z=!0,X=!1,J=!1,Q=!1,ee=!1,te=!1,ne=!1,oe=!0,ie=!1,ae=!0,se=!1,le={},pe=null;const fe=ke({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ue=null;const Ne=ke({},["audio","video","img","source","image","track"]);let Ae=null;const Oe=ke({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ge="http://www.w3.org/1998/Math/MathML",We="http://www.w3.org/2000/svg",Ye="http://www.w3.org/1999/xhtml";let Ke=Ye,qe=!1,Xe=null;const Je=ke({},[Ge,We,Ye],ye);let et=ke({},["mi","mo","mn","ms","mtext"]),ot=ke({},["annotation-xml"]);const rt=ke({},["title","style","font","a","script"]);let it=null;const at=["application/xhtml+xml","text/html"];let st=null,lt=null;const ct=o.createElement("form"),pt=function(e){return e instanceof RegExp||e instanceof Function},dt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!lt||lt!==e){if(e&&"object"==typeof e||(e={}),e=Re(e),it=-1===at.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,st="application/xhtml+xml"===it?ye:be,F=Se(e,"ALLOWED_TAGS")?ke({},e.ALLOWED_TAGS,st):H,z=Se(e,"ALLOWED_ATTR")?ke({},e.ALLOWED_ATTR,st):B,Xe=Se(e,"ALLOWED_NAMESPACES")?ke({},e.ALLOWED_NAMESPACES,ye):Je,Ae=Se(e,"ADD_URI_SAFE_ATTR")?ke(Re(Oe),e.ADD_URI_SAFE_ATTR,st):Oe,ue=Se(e,"ADD_DATA_URI_TAGS")?ke(Re(Ne),e.ADD_DATA_URI_TAGS,st):Ne,pe=Se(e,"FORBID_CONTENTS")?ke({},e.FORBID_CONTENTS,st):fe,U=Se(e,"FORBID_TAGS")?ke({},e.FORBID_TAGS,st):Re({}),V=Se(e,"FORBID_ATTR")?ke({},e.FORBID_ATTR,st):Re({}),le=!!Se(e,"USE_PROFILES")&&e.USE_PROFILES,G=!1!==e.ALLOW_ARIA_ATTR,W=!1!==e.ALLOW_DATA_ATTR,Y=e.ALLOW_UNKNOWN_PROTOCOLS||!1,K=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,q=e.SAFE_FOR_TEMPLATES||!1,Z=!1!==e.SAFE_FOR_XML,X=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,ne=e.RETURN_TRUSTED_TYPE||!1,Q=e.FORCE_BODY||!1,oe=!1!==e.SANITIZE_DOM,ie=e.SANITIZE_NAMED_PROPS||!1,ae=!1!==e.KEEP_CONTENT,se=e.IN_PLACE||!1,M=e.ALLOWED_URI_REGEXP||Ze,Ke=e.NAMESPACE||Ye,et=e.MATHML_TEXT_INTEGRATION_POINTS||et,ot=e.HTML_INTEGRATION_POINTS||ot,$=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&pt(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&($.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&pt(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&($.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&($.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),q&&(W=!1),te&&(ee=!0),le&&(F=ke({},ze),z=[],!0===le.html&&(ke(F,Ie),ke(z,Be)),!0===le.svg&&(ke(F,Le),ke(z,$e),ke(z,Ve)),!0===le.svgFilters&&(ke(F,Pe),ke(z,$e),ke(z,Ve)),!0===le.mathMl&&(ke(F,Fe),ke(z,Ue),ke(z,Ve))),e.ADD_TAGS&&(F===H&&(F=Re(F)),ke(F,e.ADD_TAGS,st)),e.ADD_ATTR&&(z===B&&(z=Re(z)),ke(z,e.ADD_ATTR,st)),e.ADD_URI_SAFE_ATTR&&ke(Ae,e.ADD_URI_SAFE_ATTR,st),e.FORBID_CONTENTS&&(pe===fe&&(pe=Re(pe)),ke(pe,e.FORBID_CONTENTS,st)),ae&&(F["#text"]=!0),X&&ke(F,["html","head","body"]),F.table&&(ke(F,["tbody"]),delete U.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw Ee('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw Ee('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');v=e.TRUSTED_TYPES_POLICY,w=v.createHTML("")}else void 0===v&&(v=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(n=t.getAttribute(o));const r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}}(m,i)),null!==v&&"string"==typeof w&&(w=v.createHTML(""));ce&&ce(e),lt=e}},ft=ke({},[...Le,...Pe,...Me]),ut=ke({},[...Fe,...He]),mt=function(e){_e(n.removed,{element:e});try{y(e).removeChild(e)}catch(t){_(e)}},ht=function(e,t){try{_e(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){_e(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(ee||te)try{mt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},gt=function(e){let t=null,n=null;if(Q)e="<remove></remove>"+e;else{const t=ve(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===it&&Ke===Ye&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const r=v?v.createHTML(e):e;if(Ke===Ye)try{t=(new u).parseFromString(r,it)}catch(e){}if(!t||!t.documentElement){t=T.createDocument(Ke,"template",null);try{t.documentElement.innerHTML=qe?w:r}catch(e){}}const i=t.body||t.documentElement;return e&&n&&i.insertBefore(o.createTextNode(n),i.childNodes[0]||null),Ke===Ye?C.call(t,X?"html":"body")[0]:X?t.documentElement:i},_t=function(e){return j.call(e.ownerDocument||e,e,p.SHOW_ELEMENT|p.SHOW_COMMENT|p.SHOW_TEXT|p.SHOW_PROCESSING_INSTRUCTION|p.SHOW_CDATA_SECTION,null)},xt=function(e){return e instanceof f&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof d)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},bt=function(e){return"function"==typeof l&&e instanceof l};function yt(e,t,o){me(e,e=>{e.call(n,t,o,lt)})}const vt=function(e){let t=null;if(yt(N.beforeSanitizeElements,e,null),xt(e))return mt(e),!0;const o=st(e.nodeName);if(yt(N.uponSanitizeElement,e,{tagName:o,allowedTags:F}),Z&&e.hasChildNodes()&&!bt(e.firstElementChild)&&Ce(/<[/\w!]/g,e.innerHTML)&&Ce(/<[/\w!]/g,e.textContent))return mt(e),!0;if(7===e.nodeType)return mt(e),!0;if(Z&&8===e.nodeType&&Ce(/<[/\w]/g,e.data))return mt(e),!0;if(!F[o]||U[o]){if(!U[o]&&Tt(o)){if($.tagNameCheck instanceof RegExp&&Ce($.tagNameCheck,o))return!1;if($.tagNameCheck instanceof Function&&$.tagNameCheck(o))return!1}if(ae&&!pe[o]){const t=y(e)||e.parentNode,n=b(e)||e.childNodes;if(n&&t)for(let o=n.length-1;o>=0;--o){const r=g(n[o],!0);r.__removalCount=(e.__removalCount||0)+1,t.insertBefore(r,x(e))}}return mt(e),!0}return e instanceof c&&!function(e){let t=y(e);t&&t.tagName||(t={namespaceURI:Ke,tagName:"template"});const n=be(e.tagName),o=be(t.tagName);return!!Xe[e.namespaceURI]&&(e.namespaceURI===We?t.namespaceURI===Ye?"svg"===n:t.namespaceURI===Ge?"svg"===n&&("annotation-xml"===o||et[o]):Boolean(ft[n]):e.namespaceURI===Ge?t.namespaceURI===Ye?"math"===n:t.namespaceURI===We?"math"===n&&ot[o]:Boolean(ut[n]):e.namespaceURI===Ye?!(t.namespaceURI===We&&!ot[o])&&!(t.namespaceURI===Ge&&!et[o])&&!ut[n]&&(rt[n]||!ft[n]):!("application/xhtml+xml"!==it||!Xe[e.namespaceURI]))}(e)?(mt(e),!0):"noscript"!==o&&"noembed"!==o&&"noframes"!==o||!Ce(/<\/no(script|embed|frames)/i,e.innerHTML)?(q&&3===e.nodeType&&(t=e.textContent,me([A,k,O],e=>{t=we(t,e," ")}),e.textContent!==t&&(_e(n.removed,{element:e.cloneNode()}),e.textContent=t)),yt(N.afterSanitizeElements,e,null),!1):(mt(e),!0)},wt=function(e,t,n){if(oe&&("id"===t||"name"===t)&&(n in o||n in ct))return!1;if(W&&!V[t]&&Ce(R,t));else if(G&&Ce(D,t));else if(!z[t]||V[t]){if(!(Tt(e)&&($.tagNameCheck instanceof RegExp&&Ce($.tagNameCheck,e)||$.tagNameCheck instanceof Function&&$.tagNameCheck(e))&&($.attributeNameCheck instanceof RegExp&&Ce($.attributeNameCheck,t)||$.attributeNameCheck instanceof Function&&$.attributeNameCheck(t))||"is"===t&&$.allowCustomizedBuiltInElements&&($.tagNameCheck instanceof RegExp&&Ce($.tagNameCheck,n)||$.tagNameCheck instanceof Function&&$.tagNameCheck(n))))return!1}else if(Ae[t]);else if(Ce(M,we(n,L,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==Te(n,"data:")||!ue[e])if(Y&&!Ce(I,we(n,L,"")));else if(n)return!1;return!0},Tt=function(e){return"annotation-xml"!==e&&ve(e,P)},jt=function(e){yt(N.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||xt(e))return;const o={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:z,forceKeepAttr:void 0};let r=t.length;for(;r--;){const i=t[r],{name:a,namespaceURI:s,value:l}=i,c=st(a),p=l;let d="value"===a?p:je(p);if(o.attrName=c,o.attrValue=d,o.keepAttr=!0,o.forceKeepAttr=void 0,yt(N.uponSanitizeAttribute,e,o),d=o.attrValue,!ie||"id"!==c&&"name"!==c||(ht(a,e),d="user-content-"+d),Z&&Ce(/((--!?|])>)|<\/(style|title)/i,d)){ht(a,e);continue}if(o.forceKeepAttr)continue;if(!o.keepAttr){ht(a,e);continue}if(!K&&Ce(/\/>/i,d)){ht(a,e);continue}q&&me([A,k,O],e=>{d=we(d,e," ")});const f=st(e.nodeName);if(wt(f,c,d)){if(v&&"object"==typeof m&&"function"==typeof m.getAttributeType)if(s);else switch(m.getAttributeType(f,c)){case"TrustedHTML":d=v.createHTML(d);break;case"TrustedScriptURL":d=v.createScriptURL(d)}if(d!==p)try{s?e.setAttributeNS(s,a,d):e.setAttribute(a,d),xt(e)?mt(e):ge(n.removed)}catch(t){ht(a,e)}}else ht(a,e)}yt(N.afterSanitizeAttributes,e,null)},St=function e(t){let n=null;const o=_t(t);for(yt(N.beforeSanitizeShadowDOM,t,null);n=o.nextNode();)yt(N.uponSanitizeShadowNode,n,null),vt(n),jt(n),n.content instanceof a&&e(n.content);yt(N.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=null,i=null,s=null,c=null;if(qe=!e,qe&&(e="\x3c!--\x3e"),"string"!=typeof e&&!bt(e)){if("function"!=typeof e.toString)throw Ee("toString is not a function");if("string"!=typeof(e=e.toString()))throw Ee("dirty is not a string, aborting")}if(!n.isSupported)return e;if(J||dt(t),n.removed=[],"string"==typeof e&&(se=!1),se){if(e.nodeName){const t=st(e.nodeName);if(!F[t]||U[t])throw Ee("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)o=gt("\x3c!----\x3e"),i=o.ownerDocument.importNode(e,!0),1===i.nodeType&&"BODY"===i.nodeName||"HTML"===i.nodeName?o=i:o.appendChild(i);else{if(!ee&&!q&&!X&&-1===e.indexOf("<"))return v&&ne?v.createHTML(e):e;if(o=gt(e),!o)return ee?null:ne?w:""}o&&Q&&mt(o.firstChild);const p=_t(se?e:o);for(;s=p.nextNode();)vt(s),jt(s),s.content instanceof a&&St(s.content);if(se)return e;if(ee){if(te)for(c=S.call(o.ownerDocument);o.firstChild;)c.appendChild(o.firstChild);else c=o;return(z.shadowroot||z.shadowrootmode)&&(c=E.call(r,c,!0)),c}let d=X?o.outerHTML:o.innerHTML;return X&&F["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&Ce(Qe,o.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+d),q&&me([A,k,O],e=>{d=we(d,e," ")}),v&&ne?v.createHTML(d):d},n.setConfig=function(){dt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),J=!0},n.clearConfig=function(){lt=null,J=!1},n.isValidAttribute=function(e,t,n){lt||dt({});const o=st(e),r=st(t);return wt(o,r,n)},n.addHook=function(e,t){"function"==typeof t&&_e(N[e],t)},n.removeHook=function(e,t){if(void 0!==t){const n=he(N[e],t);return-1===n?void 0:xe(N[e],n,1)[0]}return ge(N[e])},n.removeHooks=function(e){N[e]=[]},n.removeAllHooks=function(){N={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}();const rt=window.noptinForm?.fields||{},it=({label:e,type:t="text"})=>(0,d.jsx)("input",{type:t||"text",className:"noptin-form-field",placeholder:e}),at=({label:e})=>(0,d.jsx)("textarea",{className:"noptin-form-field",placeholder:e}),st=({option:e})=>{if(!e)return null;const t=e.toString().split("|").splice(0,1).join("");return(0,d.jsx)("option",{value:t,children:t})},lt=({label:e,options:t})=>(0,d.jsxs)("select",{className:"noptin-form-field",children:[(0,d.jsx)("option",{children:e}),t.split(",").map((e,t)=>(0,d.jsx)(st,{option:e},t))]}),ct=({label:e})=>(0,d.jsxs)("label",{children:[(0,d.jsx)("input",{type:"checkbox",className:"noptin-checkbox-form-field"}),(0,d.jsx)("span",{children:e})]}),pt=({type:e,label:t,...n})=>{if("hidden"===n.type)return null;if(!Array.isArray(rt)&&rt[e]){let n=rt[e].markup||"";return n=n.replace(/{{field.type.label}}/g,t||rt[e].label),n=n.replace(/:placeholder="field.type.label"/g,`placeholder="${t||rt[e].label}"`),(0,d.jsx)(_.RawHTML,{className:`noptin-field-${rt[e].type}`,children:ot.sanitize(n)})}return["name","text","email"].includes(e)?(0,d.jsx)(it,{label:t}):"textarea"===e?(0,d.jsx)(at,{label:t}):"select"===e||"dropdown"===e?(0,d.jsx)(lt,{label:t,options:n.options}):"checkbox"===e?(0,d.jsx)(ct,{label:t}):(0,d.jsx)("pre",{children:JSON.stringify({type:e,label:t,...n},null,2)})};var dt=n(7123),ft=n.n(dt);class ut extends a().Component{constructor(e){super(e),this.contentEditable=a().createRef()}handleChange=e=>{this.props.onHtmlChange(e.target.value)};render(){const{tagName:e="div",onHtmlChange:t,...n}=this.props;return(0,d.jsx)(ft(),{innerRef:this.contentEditable,onChange:this.handleChange,tagName:e,...n})}}const mt=({field:e})=>{console.log(window.noptinForm.settings.design[e]);const[t,n]=(0,g.useEntityProp)("postType","noptin-form","meta"),o=t?._noptin_state||{},r=(0,i.useCallback)(r=>{n({...t,_noptin_state:{...o,[e]:r}})},[t,o,e]),a=y(`noptin-form-${"title"===e?"heading":e}`,o[`${e}Advanced`]?.classes);return(0,d.jsx)("div",{className:a,children:(0,d.jsx)(ut,{html:o[e]||"",onHtmlChange:r})})},ht=({state:e})=>{const t=`\n        .noptin-form-preview .noptin-optin-form-wrapper {\n            ${e?.formBorder?.generated||""}\n            ${e?.noptinFormBg&&`background-color: ${e?.noptinFormBg};`}\n            ${e?.noptinFormBgImg&&`background-image: url(${e?.noptinFormBgImg});`}\n            ${e?.formWidth&&`max-width: ${e?.formWidth};`}\n            ${e?.formHeight&&`min-height: ${e?.formHeight};`}\n            ${e?.descriptionColor&&`color: ${e?.descriptionColor};`}\n        }\n        .noptin-form-preview .noptin-form-header .noptin-form-heading {\n            ${e?.titleColor&&`color: ${e?.titleColor};`}\n            ${e?.titleTypography?.generated||""}\n            ${e?.titleAdvanced?.generated||""}\n        }\n        .noptin-form-preview .noptin-form-header .noptin-form-prefix {\n            ${e?.prefixColor&&`color: ${e?.prefixColor};`}\n            ${e?.prefixTypography?.generated||""}\n            ${e?.prefixAdvanced?.generated||""}\n        }\n        .noptin-form-preview .noptin-form-header .noptin-form-description {\n            ${e?.descriptionColor&&`color: ${e?.descriptionColor};`}\n            ${e?.descriptionTypography?.generated||""}\n            ${e?.descriptionAdvanced?.generated||""}\n        }\n        .noptin-form-preview .noptin-form-footer .noptin-form-note {\n            ${e?.noteColor&&`color: ${e?.noteColor};`}\n            ${e?.noteTypography?.generated||""}\n            ${e?.noteAdvanced?.generated||""}\n        }\n        ${e?.CSS||""}\n    `;return(0,d.jsx)("style",{dangerouslySetInnerHTML:{__html:t}})},gt=()=>{const[e]=(0,g.useEntityProp)("postType","noptin-form","meta"),t=e?._noptin_state||{};return(0,d.jsx)("div",{className:"noptin-form-field-wrapper noptin-form-field-submit noptin-optin-field-wrapper noptin-optin-field-submit",children:(0,d.jsx)("input",{type:"submit",style:{backgroundColor:t.noptinButtonBg,color:t.noptinButtonColor},value:t.noptinButtonLabel||"Subscribe Now",className:y("noptin-form-submit",!t.singleLine&&`noptin-form-button-${t.buttonPosition}`)})})},_t=window.wp.blockEditor,xt=window.hizzlewp.components,bt=({setting:e,meta:t,children:n})=>Array.isArray(e.conditions)&&!e.conditions.every(e=>{const n=e.key.split("."),o=e.operator?e.operator:"==";return(0,xt.compare)(e.value,o,(0,xt.getNestedValue)(t,n))})?null:n,yt={placement:"left-start",offset:36,shift:!0},vt=({indicators:e,label:t})=>(0,d.jsxs)(p.__experimentalHStack,{justify:"flex-start",children:[(0,d.jsx)(p.__experimentalZStack,{isLayered:!1,offset:-8,children:e.map((e,t)=>(0,d.jsx)(p.Flex,{expanded:!1,children:(0,d.jsx)(p.ColorIndicator,{colorValue:e})},t))}),(0,d.jsx)(p.FlexItem,{className:"block-editor-panel-color-gradient-settings__color-name",children:t})]});function wt({isGradient:e=!1,userValue:t,setValue:n,colorGradientControlSettings:o}){return(0,d.jsx)(_t.__experimentalColorGradientControl,{...o,showTitle:!1,enableAlpha:!0,__experimentalIsRenderedInSidebar:!0,colorValue:e?void 0:t,gradientValue:e?t:void 0,onColorChange:e?void 0:n,onGradientChange:e?n:void 0,clearable:!0,headingLevel:3})}function Tt({label:e,indicators:t,tabs:n,colorGradientControlSettings:o,isFirst:r=!1,isLast:a=!1,...s}){const l=y("block-editor-tools-panel-color-gradient-settings__item",{first:r,last:a});return(0,d.jsx)(p.__experimentalToolsPanelItem,{className:l,label:e,...s,children:(0,d.jsx)(p.Dropdown,{popoverProps:yt,className:"block-editor-tools-panel-color-gradient-settings__dropdown",renderToggle:({onToggle:n,isOpen:o})=>{const r={onClick:n,className:y("block-editor-panel-color-gradient-settings__dropdown",{"is-open":o}),"aria-expanded":o,"aria-label":(0,v.sprintf)(/* translators: %s is the type of color property, e.g., "background" */ /* translators: %s is the type of color property, e.g., "background" */
(0,v.__)("Color %s styles"),e)};return(0,d.jsx)(p.Button,{...r,children:(0,d.jsx)(vt,{indicators:t,label:e})})},renderContent:()=>(0,d.jsx)(p.__experimentalDropdownContentWrapper,{paddingSize:"none",children:(0,d.jsxs)("div",{className:"block-editor-panel-color-gradient-settings__dropdown-content",children:[1===n.length&&(0,d.jsx)(wt,{...n[0],colorGradientControlSettings:o}),n.length>1&&(0,d.jsx)(p.TabPanel,{tabs:n,children:e=>e?(0,i.createElement)(wt,{...e,key:e.title,colorGradientControlSettings:o}):null})]})})})})}const jt=[{name:"Red",color:"#FF0000"},{name:"Blue",color:"#0000FF"},{name:"Green",color:"#00FF00"},{name:"Yellow",color:"#FFFF00"},{name:"Purple",color:"#800080"},{name:"Orange",color:"#FFA500"},{name:"Pink",color:"#FFC0CB"},{name:"Teal",color:"#008080"},{name:"Navy",color:"#000080"},{name:"Lime",color:"#00FF00"},{name:"Maroon",color:"#800000"},{name:"Olive",color:"#808000"},{name:"Gray",color:"#808080"},{name:"Silver",color:"#C0C0C0"},{name:"Black",color:"#000000"},{name:"White",color:"#FFFFFF"}],St=({setting:e,meta:t,setAttributes:n,settingKey:o})=>{const r=e.items.map(e=>{const o=e.tabs||[{...e}];return{isShownByDefault:!0,...e,hasValue:()=>o.some(({key:e})=>!!t?.[e]),onDeselect:()=>{const e=o.reduce((e,{key:t})=>(e[t]=void 0,e),{});n(e)},indicators:o.map(({key:e})=>t?.[e]),tabs:o.map(({key:e,label:o})=>({name:e,title:o,setValue:t=>n({[e]:t}),userValue:t?.[e]}))}}),i=r.length;return(0,d.jsx)(p.__experimentalToolsPanel,{label:e.label,resetAll:()=>{const e=r.reduce((e,t)=>((t.tabs||[{...t}]).forEach(({key:t})=>{e[t]=""}),e),{});n(e)},panelId:o,className:"color-block-support-panel",children:(0,d.jsx)("div",{className:"color-block-support-panel__inner-wrapper",style:{display:"grid",gridTemplateColumns:"repeat(2, minmax(0px, 1fr))",gap:"calc(16px) calc(8px)",gridColumn:"1 / -1",rowGap:0},children:r.map(({key:e,...n},r)=>(0,d.jsx)(bt,{setting:{key:e,...n},meta:t,children:(0,d.jsx)(Tt,{...n,colorGradientControlSettings:{colors:jt,disableCustomColors:!1},panelId:o,isFirst:0===r,isLast:r===i-1})},n.label))})})},Ct=(e,t)=>{if(!e||!t)return"";const{color:n,style:o,width:r}=e;let i="";return void 0!==r&&(i+=`${t}-width: ${r.toString().match(/^\d+$/)?`${r}px`:r};`),void 0!==o&&(i+=`${t}-style: ${o};`),void 0!==n&&(i+=`${t}-color: ${n};`),i},Et=e=>{if(!e)return"";let t="";if(e.border_radius)if("object"!=typeof e.border_radius)t+=`border-radius: ${e.border_radius.toString().match(/^\d+$/)?`${e.border_radius}px`:e.border_radius};`;else{const n=["topLeft","topRight","bottomRight","bottomLeft"].reduce((t,n)=>{const o=e.border_radius?.[n];return void 0!==o&&(t=`${t} ${o.toString().match(/^\d+$/)?`${o}px`:o}`),t},"");t+=`border-radius: ${n};`}if(e.border)(0,p.__experimentalHasSplitBorders)(e.border)?["top","right","bottom","left"].forEach(n=>{const o=e.border?.[n];t+=Ct(o,`border-${n}`)}):t+=Ct(e.border,"border");else{if(e.style&&(t+=`border-style: ${e.style};`),e.border_width){const n=e.border_width.toString().match(/^\d+$/)?`${e.border_width}px`:e.border_width;t+=`border-width: ${n};`}e.border_color&&(t+=`border-color: ${e.border_color};`)}return console.log(t),t},Nt=(e,t,n)=>{const o=e?.[t]||{};(0,i.useLayoutEffect)(()=>{const e=Et(o);e!==o.generated&&n({[t]:{...o,generated:e}})},[o,t,n])},At=({setting:e,meta:t,setAttributes:n,settingKey:o})=>{const r=t?.[o]||{};Nt(t,o,n);const i=e=>{const t={border:e,border_radius:r.border_radius,generated:""};n({[o]:{...t,generated:Et(t)}})},a=e=>{const t={...r,border_radius:e,generated:""};n({[o]:{...t,generated:Et(t)}})};let s=r.border;return s||(s={style:r.style,width:r.border_width,color:r.border_color}),(0,d.jsxs)(p.__experimentalToolsPanel,{label:e.label,resetAll:()=>n({[o]:{generated:""}}),panelId:o,className:"border-block-support-panel",children:[(0,d.jsx)(p.__experimentalToolsPanelItem,{hasValue:()=>(0,p.__experimentalIsDefinedBorder)(s),label:e.label,onDeselect:()=>i(void 0),isShownByDefault:!0,panelId:o,children:(0,d.jsx)(p.__experimentalBorderBoxControl,{colors:jt,onChange:i,popoverOffset:40,popoverPlacement:"left-start",value:s,__experimentalIsRenderedInSidebar:!0,size:"__unstable-large"})}),(0,d.jsx)(p.__experimentalToolsPanelItem,{hasValue:()=>{const e=r?.border_radius;return"object"==typeof e?Object.entries(e).some(Boolean):!!e},label:(0,v.__)("Radius"),onDeselect:()=>a(void 0),isShownByDefault:!0,panelId:o,children:(0,d.jsx)(_t.__experimentalBorderRadiusControl,{values:r?.border_radius,onChange:a})})]})},kt=window.wp.primitives,Ot=(0,d.jsx)(kt.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,d.jsx)(kt.Path,{d:"M13 5.5H4V4h9v1.5Zm7 7H4V11h16v1.5Zm-7 7H4V18h9v1.5Z"})}),Rt=(0,d.jsx)(kt.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,d.jsx)(kt.Path,{d:"M7.5 5.5h9V4h-9v1.5Zm-3.5 7h16V11H4v1.5Zm3.5 7h9V18h-9v1.5Z"})}),Dt=(0,d.jsx)(kt.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,d.jsx)(kt.Path,{d:"M11.111 5.5H20V4h-8.889v1.5ZM4 12.5h16V11H4v1.5Zm7.111 7H20V18h-8.889v1.5Z"})}),It=(0,d.jsx)(kt.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,d.jsx)(kt.Path,{d:"M4 12.8h16v-1.5H4v1.5zm0 7h12.4v-1.5H4v1.5zM4 4.3v1.5h16V4.3H4z"})}),Lt=[{label:(0,v.__)("Left"),value:"left",icon:Ot},{label:(0,v.__)("Center"),value:"center",icon:Rt},{label:(0,v.__)("Right"),value:"right",icon:Dt},{label:(0,v.__)("Justify"),value:"justify",icon:It}],Pt=(e,t,n)=>{const o=e?.[t]||{};(0,i.useLayoutEffect)(()=>{const e=(e=>{if(!e)return"";let t="";return["padding","margin"].forEach(n=>{["top","right","bottom","left"].forEach(o=>{const r=e[n]?.[o];r&&(t+=`${n}-${o}: ${r.toString().match(/^\d+$/)?`${r}px`:r};`)})}),e.alignment&&(t+=`text-align: ${e.alignment};`),t})(o);e!==o.generated&&n({[t]:{...o,generated:e}})},[o,t,n])},Mt=({setting:e,meta:t,setAttributes:n,settingKey:o})=>{Pt(t,o,n);const r=t?.[o]||{},i=e=>[r[e],t=>n({[o]:{...r,[e]:t}}),()=>n({[o]:{...r,[e]:void 0}}),()=>!!r[e]],[a,s,l,c]=i("alignment"),[f,u,m,h]=i("margin"),[g,_,x,b]=i("padding"),[y,w,T,j]=i("classes");return(0,d.jsxs)(p.__experimentalToolsPanel,{label:e.label,resetAll:()=>n({[o]:{generated:""}}),panelId:o,className:"border-block-support-panel",children:[(0,d.jsx)(p.__experimentalToolsPanelItem,{label:(0,v.__)("Alignment"),hasValue:c,onDeselect:l,panelId:o,isShownByDefault:!0,children:(0,d.jsx)(p.__experimentalToggleGroupControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,isDeselectable:!0,isBlock:!0,label:(0,v.__)("Alignment"),value:a,onChange:s,children:Lt.map((e,t)=>(0,d.jsx)(p.__experimentalToggleGroupControlOptionIcon,{...e},t))})}),(0,d.jsx)(p.__experimentalToolsPanelItem,{label:(0,v.__)("Padding"),hasValue:b,onDeselect:x,panelId:o,children:(0,d.jsx)(p.__experimentalBoxControl,{values:g,onChange:_,label:(0,v.__)("Padding"),allowReset:!1,__next40pxDefaultSize:!0})}),(0,d.jsx)(p.__experimentalToolsPanelItem,{label:(0,v.__)("Margin"),hasValue:h,onDeselect:m,panelId:o,children:(0,d.jsx)(p.__experimentalBoxControl,{values:f,onChange:u,label:(0,v.__)("Margin"),allowReset:!1,__next40pxDefaultSize:!0})}),(0,d.jsx)(p.__experimentalToolsPanelItem,{className:"single-column",label:(0,v.__)("CSS Classes"),hasValue:j,onDeselect:T,panelId:o,children:(0,d.jsx)(p.__experimentalInputControl,{value:y,onChange:w,size:"__unstable-large",label:(0,v.__)("CSS Classes"),isPressEnterToChange:!0,__next40pxDefaultSize:!0})})]})},Ft=['apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif',"Arial, Helvetica, sans-serif",'"Arial Black", Gadget, sans-serif',"Verdana, Geneva, sans-serif","Times New Roman, Times, serif","Georgia, serif","Courier New, Courier, monospace","Tahoma, Geneva, sans-serif","Calibri, Arial, sans-serif","Trebuchet MS, sans-serif","Lucida Grande, sans-serif","Palatino, serif",'"Palatino Linotype", "Book Antiqua", Palatino, serif','"Comic Sans MS", cursive, sans-serif',"Impact, Charcoal, sans-serif"],Ht=({value:e,onChange:t})=>{const n=Ft.map(n=>({title:(0,d.jsx)("span",{style:{fontFamily:n},children:(0,d.jsx)(p.__experimentalTruncate,{limit:25,ellipsizeMode:"tail",children:n})}),onClick:()=>t(n),isActive:e===n,label:n}));return(0,d.jsx)(p.__experimentalInputControlSuffixWrapper,{children:(0,d.jsx)(p.DropdownMenu,{icon:"admin-customizer",label:(0,v.__)("Font family","newsletter-optin-box"),controls:n,noIcons:!0})})},zt=({value:e,onChange:t})=>(0,d.jsx)(p.__experimentalInputControl,{label:(0,v.__)("Font family","newsletter-optin-box"),value:e,onChange:t,suffix:(0,d.jsx)(Ht,{value:e,onChange:t}),isPressEnterToChange:!0,__next40pxDefaultSize:!0}),Bt=[{name:(0,v.__)("Small"),slug:"small",size:13},{name:(0,v.__)("Normal"),slug:"normal",size:16},{name:(0,v.__)("Medium"),slug:"medium",size:20},{name:(0,v.__)("Large"),slug:"large",size:30},{name:(0,v.__)("Huge"),slug:"huge",size:42}],$t=(e,t,n)=>{const o=e?.[t]||{};(0,i.useLayoutEffect)(()=>{const e=(e=>{if(!e)return"";const t=[];return e.font_size&&t.push(`font-size: ${e.font_size.toString().match(/^\d+$/)?`${e.font_size}px`:e.font_size}`),e.font_weight&&t.push(`font-weight: ${e.font_weight}`),e.line_height&&t.push(`line-height: ${e.line_height}`),e.letter_spacing&&t.push(`letter-spacing: ${e.letter_spacing}`),e.text_transform&&t.push(`text-transform: ${e.text_transform}`),e.decoration&&t.push(`text-decoration: ${e.decoration}`),e.style&&t.push(`font-style: ${e.style}`),e.family&&t.push(`font-family: ${e.family}`),t.length?t.join("; ")+";":""})(o);e!==o.generated&&n({[t]:{...o,generated:e}})},[o,t,n])},Ut=({setting:e,meta:t,setAttributes:n,settingKey:o})=>{$t(t,o,n);const r=t?.[o]||{},i=e=>[r[e],t=>n({[o]:{...r,[e]:t}}),()=>n({[o]:{...r,[e]:void 0}}),()=>!!r[e]],[a,s,l,c]=i("family"),[f,u,m,h]=i("font_size"),[g,,,_]=i("style"),[x,,,b]=i("font_weight"),[y,w,T,j]=i("line_height"),[S,C,E,N]=i("letter_spacing"),[A,k,O,R]=i("text_transform"),[D,I,L,P]=i("decoration");return(0,d.jsxs)(p.__experimentalToolsPanel,{label:e.label,resetAll:()=>n({[o]:{generated:""}}),panelId:o,className:"border-block-support-panel",children:[(0,d.jsx)(p.__experimentalToolsPanelItem,{label:(0,v.__)("Font family"),hasValue:c,onDeselect:l,panelId:o,children:(0,d.jsx)(zt,{value:a||"",onChange:s})}),(0,d.jsx)(p.__experimentalToolsPanelItem,{label:(0,v.__)("Font size"),hasValue:h,onDeselect:m,isShownByDefault:!0,panelId:o,children:(0,d.jsx)(p.FontSizePicker,{value:f,onChange:u,fontSizes:Bt,disableCustomFontSizes:!1,withReset:!1,units:["px","em","rem"],withSlider:!0,size:"__unstable-large",__nextHasNoMarginBottom:!0})}),(0,d.jsx)(p.__experimentalToolsPanelItem,{className:"single-column",label:(0,v.__)("Appearance"),hasValue:()=>_()||b(),onDeselect:()=>{n({[o]:{...r,style:void 0,font_weight:void 0}})},panelId:o,children:(0,d.jsx)(_t.__experimentalFontAppearanceControl,{value:{fontStyle:g,fontWeight:x},onChange:({fontStyle:e,fontWeight:t})=>{n({[o]:{...r,style:e,font_weight:t}})},hasFontStyles:!0,hasFontWeights:!0,size:"__unstable-large"})}),(0,d.jsx)(p.__experimentalToolsPanelItem,{className:"single-column",label:(0,v.__)("Line height"),hasValue:j,onDeselect:T,panelId:o,children:(0,d.jsx)(_t.LineHeightControl,{__nextHasNoMarginBottom:!0,__unstableInputWidth:"auto",value:y,onChange:w,size:"__unstable-large"})}),(0,d.jsx)(p.__experimentalToolsPanelItem,{className:"single-column",label:(0,v.__)("Letter spacing"),hasValue:N,onDeselect:E,panelId:o,children:(0,d.jsx)(_t.__experimentalLetterSpacingControl,{value:S,onChange:C,size:"__unstable-large",__unstableInputWidth:"auto"})}),(0,d.jsx)(p.__experimentalToolsPanelItem,{className:"single-column",label:(0,v.__)("Text decoration"),hasValue:P,onDeselect:L,panelId:o,children:(0,d.jsx)(_t.__experimentalTextDecorationControl,{value:D,onChange:I,size:"__unstable-large",__unstableInputWidth:"auto"})}),(0,d.jsx)(p.__experimentalToolsPanelItem,{label:(0,v.__)("Letter case"),hasValue:R,onDeselect:O,panelId:o,children:(0,d.jsx)(_t.__experimentalTextTransformControl,{value:A,onChange:k,showNone:!0,isBlock:!0,size:"__unstable-large",__nextHasNoMarginBottom:!0})})]})},Vt=({state:e})=>{if(!e.image&&e.hidePrefix&&e.hideTitle&&e.hideDescription)return null;const t=!e.hidePrefix||!e.hideTitle||!e.hideDescription;return(0,d.jsxs)("div",{className:y("noptin-form-header",e.image?`noptin-img-${e.imagePos}`:"no-image"),children:[t&&(0,d.jsxs)("div",{className:"noptin-form-header-text",children:[!e.hidePrefix&&(0,d.jsx)(mt,{field:"prefix"}),!e.hideTitle&&(0,d.jsx)(mt,{field:"title"}),!e.hideDescription&&(0,d.jsx)(mt,{field:"description"})]}),e.image&&(0,d.jsx)("div",{className:"noptin-form-header-image",children:(0,d.jsx)("img",{src:e.image})})]})},Gt=({state:e})=>e.hideFields&&e.hideNote?null:(0,d.jsxs)("div",{className:"noptin-form-footer",children:[!e.hideFields&&(0,d.jsxs)("div",{className:"noptin-form-fields",children:[Array.isArray(e.fields)&&e.fields.map(({key:e,type:t})=>(0,d.jsx)(a().Fragment,{children:t&&(0,d.jsx)("div",{className:`noptin-form-field-wrapper noptin-form-field-wrapper-${t.type} noptin-optin-field-wrapper noptin-optin-field-wrapper-${t.type}`,children:(0,d.jsx)(pt,{...t})})},e)),e.gdprCheckbox&&!e.singleLine&&(0,d.jsx)("div",{className:"noptin-gdpr-checkbox-wrapper",style:{marginBottom:10},children:(0,d.jsxs)("label",{children:[(0,d.jsx)("input",{type:"checkbox",required:!0}),(0,d.jsx)(_.RawHTML,{children:ot.sanitize(e.gdprConsentText)})]})}),(0,d.jsx)(gt,{})]}),!e.hideFields&&e.singleLine&&e.gdprCheckbox&&(0,d.jsx)("div",{className:"noptin-gdpr-checkbox-wrapper",style:{marginBottom:10},children:(0,d.jsxs)("label",{children:[(0,d.jsx)("input",{type:"checkbox",required:!0}),(0,d.jsx)(_.RawHTML,{children:ot.sanitize(e.gdprConsentText)})]})}),!e.hideNote&&(0,d.jsx)(mt,{field:"note"})]}),Wt={popup:{width:"620px",height:"280px"},slide_in:{width:"400px",height:"280px"},sidebar:{width:"300px",height:"400px"}},Yt=[["#ff1744","#fafafa","#d50000"],["#f50057","#fafafa","#c51162"],["#d500f9","#fafafa","#aa00ff"],["#651fff","#fafafa","#6200ea"],["#3d5afe","#fafafa","#304ffe"],["#2979ff","#fafafa","#2962ff"],["#00b0ff","#fafafa","#0091ea"],["#00e5ff","#fafafa","#00b8d4"],["#1de9b6","#191919","#00bfa5"],["#00e676","#191919","#00c853"],["#76ff03","#191919","#64dd17"],["#c6ff00","#191919","#aeea00"],["#ffea00","#191919","#ffd600"],["#ffc400","#191919","#ffab00"],["#ff9100","#fafafa","#ff6d00"],["#ff3d00","#fafafa","#dd2c00"],["#ff4081","#fafafa","#f50057"],["#7c4dff","#fafafa","#6200ea"],["#536dfe","#fafafa","#3d5afe"],["#40c4ff","#191919","#00b0ff"],["#18ffff","#191919","#00e5ff"],["#64ffda","#191919","#1de9b6"],["#69f0ae","#191919","#00e676"],["#b2ff59","#191919","#76ff03"],["#eeff41","#191919","#c6ff00"],["#ffd740","#191919","#ffc400"],["#ffab40","#191919","#ff9100"],["#ff6e40","#fafafa","#ff3d00"],["#39ff14","#191919","#0bff01"],["#ff1493","#fafafa","#ff0080"],["#00ffff","#191919","#00e5ff"],["#ff00ff","#fafafa","#f500f5"],["#ff6600","#fafafa","#ff4400"],["#ffff00","#191919","#ffea00"],["#ff6b6b","#fafafa","#4ecdc4"],["#a40606","#fafafa","#d98324"],["#7b4397","#fafafa","#dc2430"],["#11998e","#fafafa","#38ef7d"],["#fc4a1a","#fafafa","#f7b733"],["#00f260","#191919","#0575e6"],["#313131","#fafafa","#607d8b"],["#ffffff","#191919","#191919"],["#aaaaaa","#191919","#191919"]],Kt=()=>{const[e]=(0,g.useEntityProp)("postType","noptin-form","id"),[t,n]=(0,g.useEntityProp)("postType","noptin-form","meta"),o=window.noptinForm?.templates,r=t?._noptin_state||{},a=(0,i.useRef)(!0),s=e=>{n({...t,_noptin_state:{...r,...e}})};Nt(r,"formBorder",s),Pt(r,"prefixAdvanced",s),Pt(r,"titleAdvanced",s),Pt(r,"descriptionAdvanced",s),Pt(r,"noteAdvanced",s),$t(r,"prefixTypography",s),$t(r,"titleTypography",s),$t(r,"descriptionTypography",s),$t(r,"noteTypography",s),(0,i.useEffect)(()=>{a.current?a.current=!1:r.optinType&&n({...t,_noptin_state:{...r,formHeight:Wt[r.optinType]?.height||"280px",formWidth:Wt[r.optinType]?.width||"620px"}})},[r.optinType]);const{baseControlProps:l,controlProps:c}=(0,p.useBaseControlProps)({label:(0,v.__)("Preview","newsletter-optin-box"),help:(0,v.__)("The form may look slightly different than this when shown in a post, page or widget area.","newsletter-optin-box")});return(0,d.jsx)(u,{children:(0,d.jsxs)(p.BaseControl,{...l,__nextHasNoMarginBottom:!0,children:[(0,d.jsx)(ht,{state:r}),(0,d.jsxs)(p.__experimentalVStack,{spacing:4,children:[(0,d.jsxs)(p.__experimentalHStack,{justify:"flex-start",wrap:!0,children:[o&&(0,d.jsx)(p.DropdownMenu,{icon:"art",label:(0,v.__)("Change template","newsletter-optin-box"),text:(0,v.__)("Change template","newsletter-optin-box"),toggleProps:{variant:"secondary"},controls:Object.entries(o).map(([e,{title:o,data:i}])=>(i.noptinFormBorderColor&&!i.formBorder&&(i.formBorder={border_color:i.noptinFormBorderColor,generated:`border-color: ${i.noptinFormBorderColor};`}),{title:o,onClick:()=>n({...t,_noptin_state:{...r,hideFields:!1,gdprCheckbox:!1,formBorder:{style:"none",border_radius:0,border_width:0,border_color:"#f8f9fa",generated:"border-style: none; border-radius: 0px; border-width: 0px; border-color: #f8f9fa;"},titleAdvanced:{},descriptionAdvanced:{},noteAdvanced:{},prefixAdvanced:{},formHeight:r.optinType&&Wt[r.optinType]?.height||"280px",formWidth:r.optinType&&Wt[r.optinType]?.width||"620px",...i}})}))}),(0,d.jsx)(p.DropdownMenu,{icon:"marker",label:(0,v.__)("Change color theme","newsletter-optin-box"),text:(0,v.__)("Change color theme","newsletter-optin-box"),toggleProps:{variant:"secondary"},controls:Yt.map(e=>({title:(0,d.jsxs)(p.__experimentalHStack,{children:[(0,d.jsx)(p.ColorIndicator,{colorValue:e[0]}),(0,d.jsx)(p.ColorIndicator,{colorValue:e[2]}),(0,d.jsx)(p.ColorIndicator,{colorValue:e[1]})]}),onClick:()=>{const o={...r};e.length&&(o.noptinFormBg=e[0],o.formBorder.border_color=e[2],o.noptinButtonColor=e[0],o.noptinButtonBg=e[1],o.titleColor=e[1],o.descriptionColor=e[1],o.noteColor=e[1]),n({...t,_noptin_state:o})}}))})]}),(0,d.jsxs)("div",{...c,className:y("noptin-optin-form-wrapper",r.imageMain?`noptin-img-${r.imageMainPos}`:"no-image"),children:[(0,d.jsxs)("form",{className:y("noptin-optin-form",r.showLabels?"noptin-label-show":"noptin-label-hide",r.singleLine?"noptin-form-single-line":"noptin-form-new-line"),onSubmit:e=>e.preventDefault(),children:[(0,d.jsx)(Vt,{state:r}),(0,d.jsx)(Gt,{state:r})]}),r.imageMain&&(0,d.jsx)("div",{className:"noptin-form-main-image",children:(0,d.jsx)("img",{src:r.imageMain})})]}),"inpost"===r.optinType&&(0,d.jsxs)(p.__experimentalVStack,{spacing:4,children:[(0,d.jsxs)(p.__experimentalText,{variant:"muted",align:"center",children:[(0,v.__)("Shortcode","newsletter-optin-box"),":",(0,d.jsxs)("code",{children:["[noptin form=",e,"]"]}),(0,d.jsx)(p.Tooltip,{text:(0,v.__)("Use this shortcode to display the form inside your post, page, or text widget content.","newsletter-optin-box"),children:(0,d.jsx)("span",{className:"dashicons dashicons-editor-help"})})]}),(0,d.jsxs)(p.__experimentalText,{variant:"muted",align:"center",children:[(0,v.__)("PHP Snippet","newsletter-optin-box"),":",(0,d.jsx)("code",{children:`<?php show_noptin_form(${e}); ?>`}),(0,d.jsx)(p.Tooltip,{text:(0,v.__)("Use this PHP snippet to display the form inside your theme template files.","newsletter-optin-box"),children:(0,d.jsx)("span",{className:"dashicons dashicons-editor-help"})})]}),(0,d.jsx)(p.__experimentalText,{variant:"muted",align:"center",children:(0,d.jsx)("a",{href:"https://noptin.com/guide/subscription-forms/preventing-spam-sign-ups/?utm_medium=Documentation&utm_campaign=Subscription%20Forms&utm_term=Spam%20Sign-ups&utm_source=Noptin%20Plugin%20Dashboard",target:"_blank",rel:"noopener noreferrer",children:(0,v.__)("Learn how to prevent spam sign-ups","newsletter-optin-box")})})]})]})]})})},qt=[{label:(0,v.__)("Popup","newsletter-optin-box"),value:"popup"},{label:(0,v.__)("Shortcode","newsletter-optin-box"),value:"inpost"},{label:(0,v.__)("Widget","newsletter-optin-box"),value:"sidebar"},{label:(0,v.__)("Sliding","newsletter-optin-box"),value:"slide_in"}],Zt=()=>{const[e,t]=(0,g.useEntityProp)("postType","noptin-form","meta"),n=e?._noptin_state||{},o=e?._noptin_optin_type,r=o=>{t({...e,_noptin_optin_type:o,_noptin_state:{...n,optinType:o}})};return(0,i.useEffect)(()=>{o||r("inpost")},[]),(0,i.useEffect)(()=>{o&&o!==n.optinType&&t({...e,_noptin_state:{...n,optinType:o}})},[o,n.optinType]),(0,d.jsx)(u,{children:(0,d.jsx)(p.__experimentalToggleGroupControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,isDeselectable:!1,isBlock:!0,label:(0,v.__)("Form type"),value:o,onChange:r,children:qt.map((e,t)=>(0,d.jsx)(p.__experimentalToggleGroupControlOption,{...e},t))})})},Xt=()=>(0,d.jsx)(p.Flex,{justify:"center",children:(0,d.jsxs)(p.__experimentalVStack,{className:"noptin-form-preview",spacing:8,children:[(0,d.jsx)(u,{children:(0,d.jsx)(oe,{})}),(0,d.jsx)(u,{children:(0,d.jsx)(Zt,{})}),(0,d.jsx)(u,{children:(0,d.jsx)(Kt,{})})]})}),Jt=({setting:e,meta:t})=>(0,d.jsx)(p.PanelBody,{title:e.title,initialOpen:!1,children:(0,d.jsx)(p.__experimentalVStack,{spacing:4,children:(0,d.jsx)(en,{settings:e.children})})}),Qt=({setting:e,settingKey:t,meta:n,setAttributes:o})=>"panel"===e.el?(0,d.jsx)(bt,{meta:n,setting:e,children:(0,d.jsx)(Jt,{setting:e,meta:n})}):"border"===e.el?(0,d.jsx)(bt,{meta:n,setting:e,children:(0,d.jsx)(At,{setting:e,meta:n,settingKey:t,setAttributes:o})}):"color_panel"===e.el?(0,d.jsx)(bt,{meta:n,setting:e,children:(0,d.jsx)(St,{setting:e,meta:n,settingKey:t,setAttributes:o})}):"typography"===e.el?(0,d.jsx)(bt,{meta:n,setting:e,children:(0,d.jsx)(Ut,{setting:e,meta:n,settingKey:t,setAttributes:o})}):"advanced"===e.el?(0,d.jsx)(bt,{meta:n,setting:e,children:(0,d.jsx)(Mt,{setting:e,meta:n,settingKey:t,setAttributes:o})}):(0,d.jsx)(xt.Setting,{settingKey:t,setting:e,saved:n,setAttributes:o}),en=({settings:e})=>{const[t,n]=(0,g.useEntityProp)("postType","noptin-form","meta"),o=t?._noptin_state||{},r=(0,i.useCallback)(e=>{n({...t,_noptin_state:{...o,...e}})},[t,n]);return(0,d.jsx)(d.Fragment,{children:Object.keys(e).map(t=>(0,d.jsx)(u,{children:(0,d.jsx)(Qt,{settingKey:t,setting:e[t],meta:o,setAttributes:r})},t))})},tn=window.noptinForm?.settings||{},nn=Object.keys(tn).map(e=>{const{label:t,...n}=tn[e];return{key:e,label:t,settings:n}}),on=()=>{const[e,t]=(0,i.useState)(nn[0]?.key),n=nn.find(t=>t.key===e);return(0,d.jsxs)("div",{id:"noptin-form-editor__sidebar",className:"interface-complementary-area",children:[(0,d.jsx)("div",{className:"components-panel__header interface-complementary-area-header",tabIndex:-1,children:(0,d.jsx)("ul",{children:nn.map(n=>(0,d.jsx)("li",{children:(0,d.jsx)(p.Button,{onClick:()=>t(n.key),className:y("edit-form-sidebar__panel-tab",n.key.replace(/\//g,"__").toLowerCase(),{"is-active":e===n.key}),"aria-label":e===n.key?(0,v.sprintf)((0,v.__)("%s (selected)"),n.label||n.key):n.label||n.key,"data-label":n.label||n.key,children:n.label||n.key})},n.key))})}),n&&(0,d.jsx)(en,{settings:n.settings})]})},rn=(0,window.wp.url.getQueryArg)(window.location.href,"tab")||"settings",an=nn.map(({key:e,label:t,settings:n})=>({name:e,title:t,settings:n}));function sn(){const e=(0,w.useViewportMatch)("small","<");return(0,d.jsx)(u,{children:(0,d.jsx)(p.TabPanel,{initialTabName:rn,orientation:e?"vertical":"horizontal",tabs:an,className:"noptin-settings__tabs",children:e=>(0,d.jsx)(d.Fragment,{children:"preview"===e.name?(0,d.jsx)(Xt,{}):(0,d.jsx)(en,{settings:e.settings})})})})}function ln(){const e=(0,w.useViewportMatch)("small","<"),t=()=>(0,d.jsxs)(p.__experimentalVStack,{children:[(0,d.jsx)(J,{}),(0,d.jsx)(X,{}),e?(0,d.jsx)(sn,{}):(0,d.jsx)(Xt,{})]});return(0,d.jsx)(E,{isDistractionFree:!1,className:"noptin-app__interface",header:(0,d.jsx)(te,{}),content:(0,d.jsx)(t,{}),sidebar:e?void 0:(0,d.jsx)(on,{}),footer:(0,d.jsx)(ne,{})})}an.push({name:"preview",title:(0,v.__)("Preview"),settings:{}});const cn={__unstableIsPreviewMode:!0,allowedBlockTypes:!1},pn=(0,i.memo)(({post:e})=>{const t=(0,i.useMemo)(()=>e?.meta?._noptin_state&&"object"==typeof e.meta._noptin_state&&0!==Object.keys(e.meta._noptin_state).length?{}:{random:["hello","world"],meta:{...e?.meta,_noptin_state:{...window.noptinForm?.default_form,...window.noptinForm?.form_settings}}},[e]);return(0,d.jsxs)(h.EditorProvider,{post:e,settings:cn,initialEdits:t,useSubRegistry:!1,children:[(0,d.jsx)(h.PostLockedModal,{}),(0,d.jsxs)(u,{children:[(0,d.jsx)(ln,{}),(0,d.jsx)(x,{isActive:!1})]})]})}),dn=function({postId:e,postType:t}){const{post:n,hasFinishedResolution:o,hasErrored:r}=(0,m.useSelect)(n=>{const{hasResolutionFailed:o,hasFinishedResolution:r,getEntityRecord:i}=n(g.store);return{post:i("postType",t,e),hasFinishedResolution:r("getEntityRecord",["postType",t,e]),hasErrored:o("getEntityRecord",["postType",t,e])}},[t,e]);return r?(0,d.jsx)(p.Notice,{status:"error",children:"Form not found"}):o?n?(0,d.jsx)(p.SlotFillProvider,{children:(0,d.jsx)(pn,{post:n})}):(0,d.jsx)(p.Notice,{status:"error",children:"Form not found"}):(0,d.jsx)(p.Spinner,{})},fn=()=>(console.log("Initializing form editor"),(0,d.jsx)(u,{children:(0,d.jsx)(dn,{postType:"noptin-form",postId:window.noptinForm?.form})}));c()(()=>{const e=document.createElement("div");e.id="noptin-form-editor",e.className="block-editor",e.innerHTML='<span class="spinner" style="float: none; visibility: visible;"></span>',document.getElementById("wpbody-content").appendChild(e);const t=document.getElementById("noptin-form-editor");t&&(0,s.H)(t).render((0,d.jsx)(fn,{}))})},1609:e=>{"use strict";e.exports=window.React},2017:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var o,r,i;if(Array.isArray(t)){if((o=t.length)!=n.length)return!1;for(r=o;0!==r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((o=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=o;0!==r--;)if(!Object.prototype.hasOwnProperty.call(n,i[r]))return!1;for(r=o;0!==r--;){var a=i[r];if(!e(t[a],n[a]))return!1}return!0}return t!=t&&n!=n}},2694:(e,t,n)=>{"use strict";var o=n(6925);function r(){}function i(){}i.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,i,a){if(a!==o){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return n.PropTypes=n,n}},5338:(e,t,n)=>{"use strict";var o=n(5795);t.H=o.createRoot,o.hydrateRoot},5556:(e,t,n)=>{e.exports=n(2694)()},5795:e=>{"use strict";e.exports=window.ReactDOM},6925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},7123:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return s(t,e),t},c=this&&this.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},p=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=l(n(1609)),f=p(n(2017)),u=l(n(5556));function m(e){return e&&e.replace(/&nbsp;|\u202F|\u00A0/g," ").replace(/<br \/>/g,"<br>")}var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastHtml=t.props.html,t.el="function"==typeof t.props.innerRef?{current:null}:d.createRef(),t.getEl=function(){return(t.props.innerRef&&"function"!=typeof t.props.innerRef?t.props.innerRef:t.el).current},t.emitChange=function(e){var n=t.getEl();if(n){var o=n.innerHTML;if(t.props.onChange&&o!==t.lastHtml){var r=Object.assign({},e,{target:{value:o}});t.props.onChange(r)}t.lastHtml=o}},t}return r(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.tagName,o=t.html,r=t.innerRef,a=c(t,["tagName","html","innerRef"]);return d.createElement(n||"div",i(i({},a),{ref:"function"==typeof r?function(t){r(t),e.el.current=t}:r||this.el,onInput:this.emitChange,onBlur:this.props.onBlur||this.emitChange,onKeyUp:this.props.onKeyUp||this.emitChange,onKeyDown:this.props.onKeyDown||this.emitChange,contentEditable:!this.props.disabled,dangerouslySetInnerHTML:{__html:o}}),this.props.children)},t.prototype.shouldComponentUpdate=function(e){var t=this.props,n=this.getEl();return!n||m(e.html)!==m(n.innerHTML)||t.disabled!==e.disabled||t.tagName!==e.tagName||t.className!==e.className||t.innerRef!==e.innerRef||t.placeholder!==e.placeholder||!(0,f.default)(t.style,e.style)},t.prototype.componentDidUpdate=function(){var e=this.getEl();e&&(this.props.html!==e.innerHTML&&(e.innerHTML=this.props.html),this.lastHtml=this.props.html,function(e){var t=document.createTextNode("");e.appendChild(t);var n=document.activeElement===e;if(null!==t&&null!==t.nodeValue&&n){var o=window.getSelection();if(null!==o){var r=document.createRange();r.setStart(t,t.nodeValue.length),r.collapse(!0),o.removeAllRanges(),o.addRange(r)}e instanceof HTMLElement&&e.focus()}}(e))},t.propTypes={html:u.string.isRequired,onChange:u.func,disabled:u.bool,tagName:u.string,className:u.string,style:u.object,innerRef:u.oneOfType([u.object,u.func])},t}(d.Component);t.default=h}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var i=n[e]={exports:{}};return t[e].call(i.exports,i,i.exports,o),i.exports}o.m=t,e=[],o.O=(t,n,r,i)=>{if(!n){var a=1/0;for(p=0;p<e.length;p++){for(var[n,r,i]=e[p],s=!0,l=0;l<n.length;l++)(!1&i||a>=i)&&Object.keys(o.O).every(e=>o.O[e](n[l]))?n.splice(l--,1):(s=!1,i<a&&(a=i));if(s){e.splice(p--,1);var c=r();void 0!==c&&(t=c)}}return t}i=i||0;for(var p=e.length;p>0&&e[p-1][2]>i;p--)e[p]=e[p-1];e[p]=[n,r,i]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={830:0,98:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,i,[a,s,l]=n,c=0;if(a.some(t=>0!==e[t])){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);if(l)var p=l(o)}for(t&&t(n);c<a.length;c++)i=a[c],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(p)},n=globalThis.webpackChunknoptin_premium=globalThis.webpackChunknoptin_premium||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=o.O(void 0,[98],()=>o(1390));r=o.O(r)})();