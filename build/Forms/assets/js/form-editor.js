(()=>{var e,t={1609:e=>{"use strict";e.exports=window.React},2017:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!=o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;0!=o--;){var s=i[o];if(!e(t[s],n[s]))return!1}return!0}return t!=t&&n!=n}},2670:(e,t,n)=>{"use strict";var r={};n.r(r),n.d(r,{closeModal:()=>H,disableComplementaryArea:()=>B,enableComplementaryArea:()=>I,openModal:()=>V,pinItem:()=>$,setDefaultComplementaryArea:()=>E,setFeatureDefaults:()=>L,setFeatureValue:()=>M,toggleFeature:()=>D,unpinItem:()=>R});var o={};n.r(o),n.d(o,{getActiveComplementaryArea:()=>z,isComplementaryAreaLoading:()=>G,isFeatureActive:()=>K,isItemPinned:()=>W,isModalActive:()=>U});var i=n(1609),s=n.n(i),a=n(5338);const l=window.wp.domReady;var c=n.n(l);const d=window.wp.components,p=window.ReactJSXRuntime;class f extends s().Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?(0,p.jsx)("div",{children:(0,p.jsxs)("div",{style:{backgroundColor:"#FEE2E2",border:"1px solid #F87171",color:"#B91C1C",padding:"0.75rem 1rem",borderRadius:"0.25rem",position:"relative"},role:"alert",children:[(0,p.jsx)(d.__experimentalText,{as:"strong",weight:500,color:"#B91C1C",children:"Oops! Something went wrong."}),"Â ",(0,p.jsx)(d.__experimentalText,{color:"#B91C1C",children:"This error is being logged."}),(0,p.jsxs)("details",{style:{marginTop:"0.5rem",fontSize:"0.875rem"},children:[(0,p.jsx)("summary",{children:"Click for error details"}),(0,p.jsxs)("pre",{style:{overflow:"auto",fontSize:"0.875rem",marginTop:"0.5rem"},children:[this.state.error&&this.state.error.toString(),(0,p.jsx)("br",{}),this.state.errorInfo?.componentStack]})]})]})}):this.props.children}}const u=f,m=window.wp.data,h=window.wp.editor,_=window.wp.coreData,g=window.wp.element,x=({isActive:e})=>((0,g.useEffect)((()=>{let e=!1;return document.body.classList.contains("sticky-menu")&&(e=!0,document.body.classList.remove("sticky-menu")),()=>{e&&document.body.classList.add("sticky-menu")}}),[]),(0,g.useEffect)((()=>(e?document.body.classList.add("is-fullscreen-mode"):document.body.classList.remove("is-fullscreen-mode"),()=>{e&&document.body.classList.remove("is-fullscreen-mode")})),[e]),null);function b(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=b(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const y=function(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=b(e))&&(r&&(r+=" "),r+=t);return r},j=window.wp.i18n,v=window.wp.compose,w=(0,g.forwardRef)((({children:e,className:t,ariaLabel:n,as:r="div",...o},i)=>(0,p.jsx)(r,{ref:i,className:y("interface-navigable-region",t),"aria-label":n,role:"region",tabIndex:"-1",...o,children:e})));w.displayName="NavigableRegion";const C=w,S={type:"tween",duration:.25,ease:[.6,0,.4,1]},T={hidden:{opacity:1,marginTop:-60},visible:{opacity:1,marginTop:0},distractionFreeHover:{opacity:1,marginTop:0,transition:{...S,delay:.2,delayChildren:.2}},distractionFreeHidden:{opacity:0,marginTop:-60},distractionFreeDisabled:{opacity:0,marginTop:0,transition:{...S,delay:.8,delayChildren:.8}}},k=(0,g.forwardRef)((function({isDistractionFree:e,footer:t,header:n,editorNotices:r,sidebar:o,secondarySidebar:i,content:s,actions:a,labels:l,className:c},f){const[u,m]=(0,v.useResizeObserver)(),h=(0,v.useViewportMatch)("medium","<"),_={type:"tween",duration:(0,v.useReducedMotion)()?0:.25,ease:[.6,0,.4,1]};!function(e){(0,g.useEffect)((()=>{const t=document&&document.querySelector(`html:not(.${e})`);if(t)return t.classList.toggle(e),()=>{t.classList.toggle(e)}}),[e])}("interface-interface-skeleton__html-container");const x={
/* translators: accessibility text for the top bar landmark region. */
header:(0,j._x)("Header","header landmark area"),
/* translators: accessibility text for the content landmark region. */
body:(0,j.__)("Content"),
/* translators: accessibility text for the secondary sidebar landmark region. */
secondarySidebar:(0,j.__)("Block Library"),
/* translators: accessibility text for the settings landmark region. */
sidebar:(0,j._x)("Settings","settings landmark area"),
/* translators: accessibility text for the publish landmark region. */
actions:(0,j.__)("Publish"),
/* translators: accessibility text for the footer landmark region. */
footer:(0,j.__)("Footer"),...l};return(0,p.jsxs)("div",{ref:f,className:y(c,"interface-interface-skeleton",!!t&&"has-footer"),children:[(0,p.jsxs)("div",{className:"interface-interface-skeleton__editor",children:[(0,p.jsx)(d.__unstableAnimatePresence,{initial:!1,children:!!n&&(0,p.jsx)(C,{as:d.__unstableMotion.div,className:"interface-interface-skeleton__header","aria-label":x.header,initial:e&&!h?"distractionFreeHidden":"hidden",whileHover:e&&!h?"distractionFreeHover":"visible",animate:e&&!h?"distractionFreeDisabled":"visible",exit:e&&!h?"distractionFreeHidden":"hidden",variants:T,transition:_,children:n})}),e&&(0,p.jsx)("div",{className:"interface-interface-skeleton__header",children:r}),(0,p.jsxs)("div",{className:"interface-interface-skeleton__body",children:[(0,p.jsx)(d.__unstableAnimatePresence,{initial:!1,children:!!i&&(0,p.jsx)(C,{className:"interface-interface-skeleton__secondary-sidebar",ariaLabel:x.secondarySidebar,as:d.__unstableMotion.div,initial:"closed",animate:"open",exit:"closed",variants:{open:{width:m.width},closed:{width:0}},transition:_,children:(0,p.jsxs)(d.__unstableMotion.div,{style:{position:"absolute",width:h?"100vw":"fit-content",height:"100%",left:0},variants:{open:{x:0},closed:{x:"-100%"}},transition:_,children:[u,i]})})}),(0,p.jsx)(C,{className:"interface-interface-skeleton__content",ariaLabel:x.body,children:s}),!!o&&(0,p.jsx)(C,{className:"interface-interface-skeleton__sidebar",ariaLabel:x.sidebar,children:o}),!!a&&(0,p.jsx)(C,{className:"interface-interface-skeleton__actions",ariaLabel:x.actions,children:a})]})]}),!!t&&(0,p.jsx)(C,{className:"interface-interface-skeleton__footer",ariaLabel:x.footer,children:t})]})})),N=window.wp.deprecated;var P=n.n(N);const A=window.wp.preferences;function F(e){return["core/edit-post","core/edit-site"].includes(e)?(P()(`${e} interface scope`,{alternative:"core interface scope",hint:"core/edit-post and core/edit-site are merging.",version:"6.6"}),"core"):e}function O(e,t){return"core"===e&&"edit-site/template"===t?(P()("edit-site/template sidebar",{alternative:"edit-post/document",version:"6.6"}),"edit-post/document"):"core"===e&&"edit-site/block-inspector"===t?(P()("edit-site/block-inspector sidebar",{alternative:"edit-post/block",version:"6.6"}),"edit-post/block"):t}const E=(e,t)=>({type:"SET_DEFAULT_COMPLEMENTARY_AREA",scope:e=F(e),area:t=O(e,t)}),I=(e,t)=>({registry:n,dispatch:r})=>{t&&(e=F(e),t=O(e,t),n.select(A.store).get(e,"isComplementaryAreaVisible")||n.dispatch(A.store).set(e,"isComplementaryAreaVisible",!0),r({type:"ENABLE_COMPLEMENTARY_AREA",scope:e,area:t}))},B=e=>({registry:t})=>{e=F(e),t.select(A.store).get(e,"isComplementaryAreaVisible")&&t.dispatch(A.store).set(e,"isComplementaryAreaVisible",!1)},$=(e,t)=>({registry:n})=>{if(!t)return;e=F(e),t=O(e,t);const r=n.select(A.store).get(e,"pinnedItems");!0!==r?.[t]&&n.dispatch(A.store).set(e,"pinnedItems",{...r,[t]:!0})},R=(e,t)=>({registry:n})=>{if(!t)return;e=F(e),t=O(e,t);const r=n.select(A.store).get(e,"pinnedItems");n.dispatch(A.store).set(e,"pinnedItems",{...r,[t]:!1})};function D(e,t){return function({registry:n}){P()("dispatch( 'core/interface' ).toggleFeature",{since:"6.0",alternative:"dispatch( 'core/preferences' ).toggle"}),n.dispatch(A.store).toggle(e,t)}}function M(e,t,n){return function({registry:r}){P()("dispatch( 'core/interface' ).setFeatureValue",{since:"6.0",alternative:"dispatch( 'core/preferences' ).set"}),r.dispatch(A.store).set(e,t,!!n)}}function L(e,t){return function({registry:n}){P()("dispatch( 'core/interface' ).setFeatureDefaults",{since:"6.0",alternative:"dispatch( 'core/preferences' ).setDefaults"}),n.dispatch(A.store).setDefaults(e,t)}}function V(e){return{type:"OPEN_MODAL",name:e}}function H(){return{type:"CLOSE_MODAL"}}const z=(0,m.createRegistrySelector)((e=>(t,n)=>{n=F(n);const r=e(A.store).get(n,"isComplementaryAreaVisible");if(void 0!==r)return!1===r?null:t?.complementaryAreas?.[n]})),G=(0,m.createRegistrySelector)((e=>(t,n)=>{n=F(n);const r=e(A.store).get(n,"isComplementaryAreaVisible"),o=t?.complementaryAreas?.[n];return r&&void 0===o})),W=(0,m.createRegistrySelector)((e=>(t,n,r)=>{var o;r=O(n=F(n),r);const i=e(A.store).get(n,"pinnedItems");return null===(o=i?.[r])||void 0===o||o})),K=(0,m.createRegistrySelector)((e=>(t,n,r)=>(P()("select( 'core/interface' ).isFeatureActive( scope, featureName )",{since:"6.0",alternative:"select( 'core/preferences' ).get( scope, featureName )"}),!!e(A.store).get(n,r))));function U(e,t){return e.activeModal===t}const Z=(0,m.combineReducers)({complementaryAreas:function(e={},t){switch(t.type){case"SET_DEFAULT_COMPLEMENTARY_AREA":{const{scope:n,area:r}=t;return e[n]?e:{...e,[n]:r}}case"ENABLE_COMPLEMENTARY_AREA":{const{scope:n,area:r}=t;return{...e,[n]:r}}}return e},activeModal:function(e=null,t){switch(t.type){case"OPEN_MODAL":return t.name;case"CLOSE_MODAL":return null}return e}}),q=(0,m.createReduxStore)("core/interface",{reducer:Z,actions:r,selectors:o});(0,m.register)(q);const Y=window.wp.notices;function J(){const{notices:e}=(0,m.useSelect)((e=>({notices:e(Y.store).getNotices()})),[]),{removeNotice:t}=(0,m.useDispatch)(Y.store),n=e.filter((({isDismissible:e,type:t})=>e&&"default"===t)),r=e.filter((({isDismissible:e,type:t})=>!e&&"default"===t));return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(d.NoticeList,{notices:r,className:"components-editor-notices__pinned"}),(0,p.jsx)(d.NoticeList,{notices:n,className:"components-editor-notices__dismissible",onRemove:t})]})}function Q(){const e=(0,m.useSelect)((e=>e(Y.store).getNotices()),[]),{removeNotice:t}=(0,m.useDispatch)(Y.store),n=e.filter((({type:e})=>"snackbar"===e)).slice(-3);return(0,p.jsx)(d.SnackbarList,{notices:n,className:"components-editor-notices__snackbar",onRemove:t})}function X(){const[e,t]=(0,i.useState)(!1),{editPost:n,savePost:r}=(0,m.useDispatch)(h.store),{isSaving:o,isPublished:s,isScheduled:a}=(0,m.useSelect)((e=>{const{isSavingPost:t,isCurrentPostPublished:n,isCurrentPostScheduled:r}=e(h.store);return{isSaving:t(),isPublished:n(),isScheduled:r()}}),[]);let l,c;return s?(l=(0,j.__)("Are you sure you want to unpublish this form?"),c=(0,j.__)("Unpublish")):a&&(l=(0,j.__)("Are you sure you want to unschedule this form?"),c=(0,j.__)("Unschedule")),s||a?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(d.Button,{__next40pxDefaultSize:!0,className:"editor-post-switch-to-draft",onClick:()=>{o||t(!0)},"aria-disabled":o,variant:"tertiary",style:{flexGrow:"1",justifyContent:"center"},children:(0,j.__)("Switch to draft")}),(0,p.jsx)(d.__experimentalConfirmDialog,{isOpen:e,onConfirm:()=>{t(!1),n({status:"draft"}),r()},onCancel:()=>t(!1),confirmButtonText:c,children:l})]}):null}const ee=window.noptinForm?.data?.brand||{},te=()=>(0,p.jsxs)(d.__experimentalHStack,{as:d.__experimentalSurface,style:{padding:"10px 20px"},wrap:!0,children:[(0,p.jsx)("div",{children:(0,p.jsx)(u,{children:(0,p.jsxs)(d.__experimentalHStack,{wrap:!0,justify:"flex-start",children:[ee.logo&&(0,p.jsx)("img",{src:ee.logo,alt:ee.name,style:{width:"auto",height:"40px"}}),(0,p.jsx)(d.__experimentalText,{weight:600,size:14,children:ee.name||(0,j.__)("Noptin","noptin")}),(0,p.jsx)(d.__experimentalText,{weight:600,size:14,variant:"muted",children:ee.version}),(0,p.jsx)(d.ToolbarItem,{as:h.EditorHistoryUndo,size:"compact"}),(0,p.jsx)(d.ToolbarItem,{as:h.EditorHistoryRedo,size:"compact"})]})})}),(0,p.jsx)("div",{children:(0,p.jsx)(u,{children:(0,p.jsxs)(d.__experimentalHStack,{children:[(0,p.jsx)(h.PostSavedState,{}),(0,p.jsx)(X,{}),(0,p.jsx)(h.PostPublishButton,{})]})})})]}),ne=()=>(0,p.jsx)(d.__experimentalSurface,{style:{padding:"10px 20px"},children:(0,p.jsx)("a",{href:"https://wordpress.org/support/plugin/newsletter-optin-box/reviews/?filter=5",target:"_blank",rel:"noreferrer",children:(0,p.jsx)(d.__experimentalText,{size:14,variant:"muted",children:"Thank you for using Noptin. Please leave us a review ð"})})}),re=()=>{const[e,t]=(0,_.useEntityProp)("postType","noptin-form","title");return(0,p.jsx)(u,{children:(0,p.jsx)(d.__experimentalInputControl,{label:(0,j.__)("Form Name","noptin"),value:e||"",onChange:t,__next40pxDefaultSize:!0,isPressEnterToChange:!0})})},oe=window.noptinForm?.data?.fields||{},ie=({label:e,type:t="text"})=>(0,p.jsx)("input",{type:t||"text",className:"noptin-form-field",placeholder:e}),se=({label:e})=>(0,p.jsx)("textarea",{className:"noptin-form-field",placeholder:e}),ae=({option:e})=>{if(!e)return null;const t=e.toString().split("|").splice(0,1).join("");return(0,p.jsx)("option",{value:t,children:t})},le=({label:e,options:t})=>(0,p.jsxs)("select",{className:"noptin-form-field",children:[(0,p.jsx)("option",{children:e}),t.split(",").map(((e,t)=>(0,p.jsx)(ae,{option:e},t)))]}),ce=({label:e})=>(0,p.jsxs)("label",{children:[(0,p.jsx)("input",{type:"checkbox",className:"noptin-checkbox-form-field"}),(0,p.jsx)("span",{children:e})]}),de=({type:e,label:t,...n})=>{if("hidden"===n.type)return null;if(!Array.isArray(oe)&&oe[e]){let n=oe[e].markup||"";return n=n.replace(/{{field.type.label}}/g,t||oe[e].label),n=n.replace(/:placeholder="field.type.label"/g,`placeholder="${t||oe[e].label}"`),(0,p.jsx)(g.RawHTML,{className:`noptin-field-${oe[e].type}`,children:n})}return["name","text","email"].includes(e)?(0,p.jsx)(ie,{label:t}):"textarea"===e?(0,p.jsx)(se,{label:t}):"select"===e||"dropdown"===e?(0,p.jsx)(le,{label:t,options:n.options}):"checkbox"===e?(0,p.jsx)(ce,{label:t}):(0,p.jsx)("pre",{children:JSON.stringify({type:e,label:t,...n},null,2)})};var pe=n(7123),fe=n.n(pe);class ue extends s().Component{constructor(e){super(e),this.contentEditable=s().createRef()}handleChange=e=>{this.props.onHtmlChange(e.target.value)};render(){const{html:e,disabled:t=!1,tagName:n="div",...r}=this.props;return(0,p.jsx)(fe(),{innerRef:this.contentEditable,html:e||"",disabled:t,onChange:this.handleChange,tagName:n,...r})}}const me=({field:e})=>{const[t,n]=(0,_.useEntityProp)("postType","noptin-form","meta"),r=t?._noptin_state||{},o=(0,i.useCallback)((o=>{n({...t,_noptin_state:{...r,[e]:o}})}),[t,r,e]);return(0,p.jsx)(ue,{html:r[e],onHtmlChange:o,className:y(`noptin-form-${"title"===e?"heading":e}`,r[`${e}Advanced`]?.classes)})},he=({state:e})=>{const t=`\n        .noptin-form-preview .noptin-optin-form-wrapper {\n            ${e?.formBorder?.generated||""}\n            ${e?.noptinFormBg&&`background-color: ${e?.noptinFormBg};`}\n            ${e?.noptinFormBgImg&&`background-image: url(${e?.noptinFormBgImg});`}\n            ${e?.formWidth&&`max-width: ${e?.formWidth};`}\n            ${e?.formHeight&&`min-height: ${e?.formHeight};`}\n            ${e?.descriptionColor&&`color: ${e?.descriptionColor};`}\n        }\n        .noptin-form-preview .noptin-form-header .noptin-form-heading {\n            ${e?.titleColor&&`color: ${e?.titleColor};`}\n            ${e?.titleTypography?.generated||""}\n            ${e?.titleAdvanced?.generated||""}\n        }\n        .noptin-form-preview .noptin-form-header .noptin-form-prefix {\n            ${e?.prefixColor&&`color: ${e?.prefixColor};`}\n            ${e?.prefixTypography?.generated||""}\n            ${e?.prefixAdvanced?.generated||""}\n        }\n        .noptin-form-preview .noptin-form-header .noptin-form-description {\n            ${e?.descriptionColor&&`color: ${e?.descriptionColor};`}\n            ${e?.descriptionTypography?.generated||""}\n            ${e?.descriptionAdvanced?.generated||""}\n        }\n        .noptin-form-preview .noptin-form-footer .noptin-form-note {\n            ${e?.noteColor&&`color: ${e?.noteColor};`}\n            ${e?.noteTypography?.generated||""}\n            ${e?.noteAdvanced?.generated||""}\n        }\n        ${e?.CSS||""}\n    `;return(0,p.jsx)("style",{dangerouslySetInnerHTML:{__html:t}})},_e=()=>{const[e]=(0,_.useEntityProp)("postType","noptin-form","meta"),t=e?._noptin_state||{};return(0,p.jsx)("div",{className:"noptin-form-field-wrapper noptin-form-field-submit noptin-optin-field-wrapper noptin-optin-field-submit",children:(0,p.jsx)("input",{type:"submit",style:{backgroundColor:t.noptinButtonBg,color:t.noptinButtonColor},value:t.noptinButtonLabel||"Subscribe Now",className:y("noptin-form-submit",!t.singleLine&&`noptin-form-button-${t.buttonPosition}`)})})},ge=window.wp.blockEditor,xe=window.hizzlewp.components,be=({setting:e,meta:t,children:n})=>Array.isArray(e.conditions)&&!e.conditions.every((e=>{const n=e.key.split("."),r=e.operator?e.operator:"==";return(0,xe.compare)(e.value,r,(0,xe.getNestedValue)(t,n))}))?null:n,ye={placement:"left-start",offset:36,shift:!0},je=({indicators:e,label:t})=>(0,p.jsxs)(d.__experimentalHStack,{justify:"flex-start",children:[(0,p.jsx)(d.__experimentalZStack,{isLayered:!1,offset:-8,children:e.map(((e,t)=>(0,p.jsx)(d.Flex,{expanded:!1,children:(0,p.jsx)(d.ColorIndicator,{colorValue:e})},t)))}),(0,p.jsx)(d.FlexItem,{className:"block-editor-panel-color-gradient-settings__color-name",title:t,children:t})]});function ve({isGradient:e,inheritedValue:t,userValue:n,setValue:r,colorGradientControlSettings:o}){return(0,p.jsx)(ge.__experimentalColorGradientControl,{...o,showTitle:!1,enableAlpha:!0,__experimentalIsRenderedInSidebar:!0,colorValue:e?void 0:t,gradientValue:e?t:void 0,onColorChange:e?void 0:r,onGradientChange:e?r:void 0,clearable:t===n,headingLevel:3})}function we({label:e,hasValue:t,resetValue:n,isShownByDefault:r,indicators:o,tabs:i,colorGradientControlSettings:s,panelId:a,isFirst:l=!1,isLast:c=!1}){const f=i.map((({key:e,label:t})=>({name:e,title:t}))),u=y("block-editor-tools-panel-color-gradient-settings__item",{first:l,last:c});return(0,p.jsx)(d.__experimentalToolsPanelItem,{className:u,hasValue:t,label:e,onDeselect:n,isShownByDefault:r,panelId:a,children:(0,p.jsx)(d.Dropdown,{popoverProps:ye,className:"block-editor-tools-panel-color-gradient-settings__dropdown",renderToggle:({onToggle:t,isOpen:n})=>{const r={onClick:t,className:y("block-editor-panel-color-gradient-settings__dropdown",{"is-open":n}),"aria-expanded":n,"aria-label":(0,j.sprintf)(/* translators: %s is the type of color property, e.g., "background" */ /* translators: %s is the type of color property, e.g., "background" */
(0,j.__)("Color %s styles"),e)};return(0,p.jsx)(d.Button,{...r,children:(0,p.jsx)(je,{indicators:o,label:e})})},renderContent:()=>(0,p.jsx)(d.__experimentalDropdownContentWrapper,{paddingSize:"none",children:(0,p.jsxs)("div",{className:"block-editor-panel-color-gradient-settings__dropdown-content",children:[1===i.length&&(0,p.jsx)(ve,{...i[0],colorGradientControlSettings:s}),i.length>1&&(0,p.jsx)(d.TabPanel,{tabs:f,children:e=>{const t=i.find((t=>t.key===e.name));return t?(0,p.jsx)(ve,{...t,colorGradientControlSettings:s}):null}})]})})})})}const Ce=[{name:"Red",color:"#FF0000"},{name:"Blue",color:"#0000FF"},{name:"Green",color:"#00FF00"},{name:"Yellow",color:"#FFFF00"},{name:"Purple",color:"#800080"},{name:"Orange",color:"#FFA500"},{name:"Pink",color:"#FFC0CB"},{name:"Teal",color:"#008080"},{name:"Navy",color:"#000080"},{name:"Lime",color:"#00FF00"},{name:"Maroon",color:"#800000"},{name:"Olive",color:"#808000"},{name:"Gray",color:"#808080"},{name:"Silver",color:"#C0C0C0"},{name:"Black",color:"#000000"},{name:"White",color:"#FFFFFF"}],Se=({setting:e,meta:t,setAttributes:n,settingKey:r})=>{const o=e.items.map((e=>{const r=e.tabs||[{...e}];return{isShownByDefault:!0,...e,hasValue:()=>r.some((({key:e})=>!!t[e])),resetValue:()=>{const e=r.reduce(((e,{key:t})=>(e[t]=void 0,e)),{});n(e)},indicators:r.map((({key:e})=>t[e])),tabs:r.map((({key:e,label:r})=>({key:e,label:r,setValue:t=>n({[e]:t}),userValue:t?.[e]})))}})),i=o.length;return(0,p.jsx)(d.__experimentalToolsPanel,{label:e.label,resetAll:()=>{const e=o.reduce(((e,t)=>((t.tabs||[{...t}]).forEach((({key:t})=>{e[t]=""})),e)),{});n(e)},panelId:r,className:"color-block-support-panel",children:(0,p.jsx)("div",{className:"color-block-support-panel__inner-wrapper",style:{display:"grid",gridTemplateColumns:"repeat(2, minmax(0px, 1fr))",gap:"calc(16px) calc(8px)",gridColumn:"1 / -1",rowGap:0},children:o.map(((e,n)=>(0,p.jsx)(be,{setting:e,meta:t,children:(0,p.jsx)(we,{...e,colorGradientControlSettings:{colors:Ce,disableCustomColors:!1},panelId:r,isFirst:0===n,isLast:n===i-1})},e.key)))})})},Te=(e,t)=>{if(!e||!t)return"";const{color:n,style:r,width:o}=e;let i="";return void 0!==o&&(i+=`${t}-width: ${o.toString().match(/^\d+$/)?`${o}px`:o};`),void 0!==r&&(i+=`${t}-style: ${r};`),void 0!==n&&(i+=`${t}-color: ${n};`),i},ke=e=>{if(!e)return"";let t="";if(e.border_radius)if("object"!=typeof e.border_radius)t+=`border-radius: ${e.border_radius.toString().match(/^\d+$/)?`${e.border_radius}px`:e.border_radius};`;else{const n=["topLeft","topRight","bottomRight","bottomLeft"].reduce(((t,n)=>{const r=e.border_radius?.[n];return void 0!==r&&(t=`${t} ${r.toString().match(/^\d+$/)?`${r}px`:r}`),t}),"");t+=`border-radius: ${n};`}if(e.border)(0,d.__experimentalHasSplitBorders)(e.border)?["top","right","bottom","left"].forEach((n=>{const r=e.border?.[n];t+=Te(r,`border-${n}`)})):t+=Te(e.border,"border");else{if(e.style&&(t+=`border-style: ${e.style};`),e.border_width){const n=e.border_width.toString().match(/^\d+$/)?`${e.border_width}px`:e.border_width;t+=`border-width: ${n};`}e.border_color&&(t+=`border-color: ${e.border_color};`)}return console.log(t),t},Ne=(e,t,n)=>{const r=e?.[t]||{};(0,i.useLayoutEffect)((()=>{const e=ke(r);e!==r.generated&&n({[t]:{...r,generated:e}})}),[r,t,n])},Pe=({setting:e,meta:t,setAttributes:n,settingKey:r})=>{const o=t?.[r]||{};Ne(t,r,n);const i=e=>{const t={border:e,border_radius:o.border_radius,generated:""};n({[r]:{...t,generated:ke(t)}})},s=e=>{const t={...o,border_radius:e,generated:""};n({[r]:{...t,generated:ke(t)}})};let a=o.border;return a||(a={style:o.style,width:o.border_width,color:o.border_color}),(0,p.jsxs)(d.__experimentalToolsPanel,{label:e.label,resetAll:()=>n({[r]:{generated:""}}),panelId:r,className:"border-block-support-panel",children:[(0,p.jsx)(d.__experimentalToolsPanelItem,{hasValue:()=>(0,d.__experimentalIsDefinedBorder)(a),label:e.label,onDeselect:()=>i(void 0),isShownByDefault:!0,panelId:r,children:(0,p.jsx)(d.__experimentalBorderBoxControl,{colors:Ce,onChange:i,popoverOffset:40,popoverPlacement:"left-start",value:a,__experimentalIsRenderedInSidebar:!0,size:"__unstable-large"})}),(0,p.jsx)(d.__experimentalToolsPanelItem,{hasValue:()=>{const e=o?.border_radius;return"object"==typeof e?Object.entries(e).some(Boolean):!!e},label:(0,j.__)("Radius"),onDeselect:()=>s(void 0),isShownByDefault:!0,panelId:r,children:(0,p.jsx)(ge.__experimentalBorderRadiusControl,{values:o?.border_radius,onChange:s})})]})},Ae=window.wp.primitives,Fe=(0,p.jsx)(Ae.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(Ae.Path,{d:"M13 5.5H4V4h9v1.5Zm7 7H4V11h16v1.5Zm-7 7H4V18h9v1.5Z"})}),Oe=(0,p.jsx)(Ae.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(Ae.Path,{d:"M7.5 5.5h9V4h-9v1.5Zm-3.5 7h16V11H4v1.5Zm3.5 7h9V18h-9v1.5Z"})}),Ee=(0,p.jsx)(Ae.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(Ae.Path,{d:"M11.111 5.5H20V4h-8.889v1.5ZM4 12.5h16V11H4v1.5Zm7.111 7H20V18h-8.889v1.5Z"})}),Ie=(0,p.jsx)(Ae.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(Ae.Path,{d:"M4 12.8h16v-1.5H4v1.5zm0 7h12.4v-1.5H4v1.5zM4 4.3v1.5h16V4.3H4z"})}),Be=[{label:(0,j.__)("Left"),value:"left",icon:Fe},{label:(0,j.__)("Center"),value:"center",icon:Oe},{label:(0,j.__)("Right"),value:"right",icon:Ee},{label:(0,j.__)("Justify"),value:"justify",icon:Ie}],$e=(e,t,n)=>{const r=e?.[t]||{};(0,i.useLayoutEffect)((()=>{const e=(e=>{if(!e)return"";let t="";return["padding","margin"].forEach((n=>{["top","right","bottom","left"].forEach((r=>{const o=e[n]?.[r];o&&(t+=`${n}-${r}: ${o.toString().match(/^\d+$/)?`${o}px`:o};`)}))})),e.alignment&&(t+=`text-align: ${e.alignment};`),t})(r);e!==r.generated&&n({[t]:{...r,generated:e}})}),[r,t,n])},Re=({setting:e,meta:t,setAttributes:n,settingKey:r})=>{$e(t,r,n);const o=t?.[r]||{},i=e=>[o[e],t=>n({[r]:{...o,[e]:t}}),()=>n({[r]:{...o,[e]:void 0}}),()=>!!o[e]],[s,a,l,c]=i("alignment"),[f,u,m,h]=i("margin"),[_,g,x,b]=i("padding"),[y,v,w,C]=i("classes");return(0,p.jsxs)(d.__experimentalToolsPanel,{label:e.label,resetAll:()=>n({[r]:{generated:""}}),panelId:r,className:"border-block-support-panel",children:[(0,p.jsx)(d.__experimentalToolsPanelItem,{label:(0,j.__)("Alignment"),hasValue:c,onDeselect:l,panelId:r,isShownByDefault:!0,children:(0,p.jsx)(d.__experimentalToggleGroupControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,isDeselectable:!0,isBlock:!0,label:(0,j.__)("Alignment"),value:s,onChange:a,children:Be.map(((e,t)=>(0,p.jsx)(d.__experimentalToggleGroupControlOptionIcon,{...e},t)))})}),(0,p.jsx)(d.__experimentalToolsPanelItem,{label:(0,j.__)("Padding"),hasValue:b,onDeselect:x,panelId:r,children:(0,p.jsx)(d.__experimentalBoxControl,{values:_,onChange:g,label:(0,j.__)("Padding"),allowReset:!1,__next40pxDefaultSize:!0})}),(0,p.jsx)(d.__experimentalToolsPanelItem,{label:(0,j.__)("Margin"),hasValue:h,onDeselect:m,panelId:r,children:(0,p.jsx)(d.__experimentalBoxControl,{values:f,onChange:u,label:(0,j.__)("Margin"),allowReset:!1,__next40pxDefaultSize:!0})}),(0,p.jsx)(d.__experimentalToolsPanelItem,{className:"single-column",label:(0,j.__)("CSS Classes"),hasValue:C,onDeselect:w,panelId:r,children:(0,p.jsx)(d.__experimentalInputControl,{value:y,onChange:v,size:"__unstable-large",label:(0,j.__)("CSS Classes"),isPressEnterToChange:!0,__next40pxDefaultSize:!0})})]})},De=['apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif',"Arial, Helvetica, sans-serif",'"Arial Black", Gadget, sans-serif',"Verdana, Geneva, sans-serif","Times New Roman, Times, serif","Georgia, serif","Courier New, Courier, monospace","Tahoma, Geneva, sans-serif","Calibri, Arial, sans-serif","Trebuchet MS, sans-serif","Lucida Grande, sans-serif","Palatino, serif",'"Palatino Linotype", "Book Antiqua", Palatino, serif','"Comic Sans MS", cursive, sans-serif',"Impact, Charcoal, sans-serif"],Me=({value:e,onChange:t})=>{const n=De.map((n=>({title:(0,p.jsx)("span",{style:{fontFamily:n},children:(0,p.jsx)(d.__experimentalTruncate,{limit:25,ellipsizeMode:"tail",children:n})}),onClick:()=>t(n),isActive:e===n,label:n})));return(0,p.jsx)(d.__experimentalInputControlSuffixWrapper,{children:(0,p.jsx)(d.DropdownMenu,{icon:"admin-customizer",label:(0,j.__)("Font family","newsletter-optin-box"),controls:n,noIcons:!0})})},Le=({value:e,onChange:t})=>(0,p.jsx)(d.__experimentalInputControl,{label:(0,j.__)("Font family","newsletter-optin-box"),value:e,onChange:t,suffix:(0,p.jsx)(Me,{value:e,onChange:t}),isPressEnterToChange:!0,__next40pxDefaultSize:!0}),Ve=[{name:(0,j.__)("Small"),slug:"small",size:13},{name:(0,j.__)("Normal"),slug:"normal",size:16},{name:(0,j.__)("Medium"),slug:"medium",size:20},{name:(0,j.__)("Large"),slug:"large",size:30},{name:(0,j.__)("Huge"),slug:"huge",size:42}],He=(e,t,n)=>{const r=e?.[t]||{};(0,i.useLayoutEffect)((()=>{const e=(e=>{if(!e)return"";const t=[];return e.font_size&&t.push(`font-size: ${e.font_size.toString().match(/^\d+$/)?`${e.font_size}px`:e.font_size}`),e.font_weight&&t.push(`font-weight: ${e.font_weight}`),e.line_height&&t.push(`line-height: ${e.line_height}`),e.letter_spacing&&t.push(`letter-spacing: ${e.letter_spacing}`),e.text_transform&&t.push(`text-transform: ${e.text_transform}`),e.decoration&&t.push(`text-decoration: ${e.decoration}`),e.style&&t.push(`font-style: ${e.style}`),e.family&&t.push(`font-family: ${e.family}`),t.length?t.join("; ")+";":""})(r);e!==r.generated&&n({[t]:{...r,generated:e}})}),[r,t,n])},ze=({setting:e,meta:t,setAttributes:n,settingKey:r})=>{He(t,r,n);const o=t?.[r]||{},i=e=>[o[e],t=>n({[r]:{...o,[e]:t}}),()=>n({[r]:{...o,[e]:void 0}}),()=>!!o[e]],[s,a,l,c]=i("family"),[f,u,m,h]=i("font_size"),[_,,,g]=i("style"),[x,,,b]=i("font_weight"),[y,v,w,C]=i("line_height"),[S,T,k,N]=i("letter_spacing"),[P,A,F,O]=i("text_transform"),[E,I,B,$]=i("decoration");return(0,p.jsxs)(d.__experimentalToolsPanel,{label:e.label,resetAll:()=>n({[r]:{generated:""}}),panelId:r,className:"border-block-support-panel",children:[(0,p.jsx)(d.__experimentalToolsPanelItem,{label:(0,j.__)("Font family"),hasValue:c,onDeselect:l,panelId:r,children:(0,p.jsx)(Le,{value:s||"",onChange:a})}),(0,p.jsx)(d.__experimentalToolsPanelItem,{label:(0,j.__)("Font size"),hasValue:h,onDeselect:m,isShownByDefault:!0,panelId:r,children:(0,p.jsx)(d.FontSizePicker,{value:f,onChange:u,fontSizes:Ve,disableCustomFontSizes:!1,withReset:!1,units:["px","em","rem"],withSlider:!0,size:"__unstable-large",__nextHasNoMarginBottom:!0})}),(0,p.jsx)(d.__experimentalToolsPanelItem,{className:"single-column",label:(0,j.__)("Appearance"),hasValue:()=>g()||b(),onDeselect:()=>{n({[r]:{...o,style:void 0,font_weight:void 0}})},panelId:r,children:(0,p.jsx)(ge.__experimentalFontAppearanceControl,{value:{fontStyle:_,fontWeight:x},onChange:({fontStyle:e,fontWeight:t})=>{n({[r]:{...o,style:e,font_weight:t}})},hasFontStyles:!0,hasFontWeights:!0,size:"__unstable-large",__nextHasNoMarginBottom:!0})}),(0,p.jsx)(d.__experimentalToolsPanelItem,{className:"single-column",label:(0,j.__)("Line height"),hasValue:C,onDeselect:w,panelId:r,children:(0,p.jsx)(ge.LineHeightControl,{__nextHasNoMarginBottom:!0,__unstableInputWidth:"auto",value:y,onChange:v,size:"__unstable-large"})}),(0,p.jsx)(d.__experimentalToolsPanelItem,{className:"single-column",label:(0,j.__)("Letter spacing"),hasValue:N,onDeselect:k,panelId:r,children:(0,p.jsx)(ge.__experimentalLetterSpacingControl,{value:S,onChange:T,size:"__unstable-large",__unstableInputWidth:"auto"})}),(0,p.jsx)(d.__experimentalToolsPanelItem,{className:"single-column",label:(0,j.__)("Text decoration"),hasValue:$,onDeselect:B,panelId:r,children:(0,p.jsx)(ge.__experimentalTextDecorationControl,{value:E,onChange:I,size:"__unstable-large",__unstableInputWidth:"auto"})}),(0,p.jsx)(d.__experimentalToolsPanelItem,{label:(0,j.__)("Letter case"),hasValue:O,onDeselect:F,panelId:r,children:(0,p.jsx)(ge.__experimentalTextTransformControl,{value:P,onChange:A,showNone:!0,isBlock:!0,size:"__unstable-large",__nextHasNoMarginBottom:!0})})]})},Ge=({state:e})=>{if(!e.image&&e.hidePrefix&&e.hideTitle&&e.hideDescription)return null;const t=!e.hidePrefix||!e.hideTitle||!e.hideDescription;return(0,p.jsxs)("div",{className:y("noptin-form-header",e.image?`noptin-img-${e.imagePos}`:"no-image"),children:[t&&(0,p.jsxs)("div",{className:"noptin-form-header-text",children:[!e.hidePrefix&&(0,p.jsx)(me,{field:"prefix"}),!e.hideTitle&&(0,p.jsx)(me,{field:"title"}),!e.hideDescription&&(0,p.jsx)(me,{field:"description"})]}),e.image&&(0,p.jsx)("div",{className:"noptin-form-header-image",children:(0,p.jsx)("img",{src:e.image})})]})},We=({state:e})=>e.hideFields&&e.hideNote?null:(0,p.jsxs)("div",{className:"noptin-form-footer",children:[!e.hideFields&&(0,p.jsxs)("div",{className:"noptin-form-fields",children:[Array.isArray(e.fields)&&e.fields.map((({key:e,type:t})=>(0,p.jsx)(s().Fragment,{children:t&&(0,p.jsx)("div",{className:`noptin-form-field-wrapper noptin-form-field-wrapper-${t.type} noptin-optin-field-wrapper noptin-optin-field-wrapper-${t.type}`,children:(0,p.jsx)(de,{...t})})},e))),e.gdprCheckbox&&!e.singleLine&&(0,p.jsx)("div",{className:"noptin-gdpr-checkbox-wrapper",style:{marginBottom:10},children:(0,p.jsxs)("label",{children:[(0,p.jsx)("input",{type:"checkbox",required:!0}),(0,p.jsx)(g.RawHTML,{children:e.gdprConsentText})]})}),(0,p.jsx)(_e,{})]}),!e.hideFields&&e.singleLine&&e.gdprCheckbox&&(0,p.jsx)("div",{className:"noptin-gdpr-checkbox-wrapper",style:{marginBottom:10},children:(0,p.jsxs)("label",{children:[(0,p.jsx)("input",{type:"checkbox",required:!0}),(0,p.jsx)(g.RawHTML,{children:e.gdprConsentText})]})}),!e.hideNote&&(0,p.jsx)(me,{field:"note"})]}),Ke={popup:{width:"620px",height:"280px"},slide_in:{width:"400px",height:"280px"},sidebar:{width:"300px",height:"400px"}},Ue=[["#ff1744","#fafafa","#d50000"],["#f50057","#fafafa","#c51162"],["#d500f9","#fafafa","#aa00ff"],["#651fff","#fafafa","#6200ea"],["#3d5afe","#fafafa","#304ffe"],["#2979ff","#fafafa","#2962ff"],["#00b0ff","#fafafa","#0091ea"],["#00e5ff","#fafafa","#00b8d4"],["#1de9b6","#191919","#00bfa5"],["#00e676","#191919","#00c853"],["#76ff03","#191919","#64dd17"],["#c6ff00","#191919","#aeea00"],["#ffea00","#191919","#ffd600"],["#ffc400","#191919","#ffab00"],["#ff9100","#fafafa","#ff6d00"],["#ff3d00","#fafafa","#dd2c00"],["#ff4081","#fafafa","#f50057"],["#7c4dff","#fafafa","#6200ea"],["#536dfe","#fafafa","#3d5afe"],["#40c4ff","#191919","#00b0ff"],["#18ffff","#191919","#00e5ff"],["#64ffda","#191919","#1de9b6"],["#69f0ae","#191919","#00e676"],["#b2ff59","#191919","#76ff03"],["#eeff41","#191919","#c6ff00"],["#ffd740","#191919","#ffc400"],["#ffab40","#191919","#ff9100"],["#ff6e40","#fafafa","#ff3d00"],["#39ff14","#191919","#0bff01"],["#ff1493","#fafafa","#ff0080"],["#00ffff","#191919","#00e5ff"],["#ff00ff","#fafafa","#f500f5"],["#ff6600","#fafafa","#ff4400"],["#ffff00","#191919","#ffea00"],["#ff6b6b","#fafafa","#4ecdc4"],["#a40606","#fafafa","#d98324"],["#7b4397","#fafafa","#dc2430"],["#11998e","#fafafa","#38ef7d"],["#fc4a1a","#fafafa","#f7b733"],["#00f260","#191919","#0575e6"],["#313131","#fafafa","#607d8b"],["#ffffff","#191919","#191919"],["#aaaaaa","#191919","#191919"]],Ze=()=>{const[e]=(0,_.useEntityProp)("postType","noptin-form","id"),[t,n]=(0,_.useEntityProp)("postType","noptin-form","meta"),r=window.noptinForm?.data?.templates,o=t?._noptin_state||{},s=(0,i.useRef)(!0),a=e=>{n({...t,_noptin_state:{...o,...e}})};Ne(o,"formBorder",a),$e(o,"prefixAdvanced",a),$e(o,"titleAdvanced",a),$e(o,"descriptionAdvanced",a),$e(o,"noteAdvanced",a),He(o,"prefixTypography",a),He(o,"titleTypography",a),He(o,"descriptionTypography",a),He(o,"noteTypography",a),(0,i.useEffect)((()=>{s.current?s.current=!1:o.optinType&&n({...t,_noptin_state:{...o,formHeight:Ke[o.optinType]?.height||"280px",formWidth:Ke[o.optinType]?.width||"620px"}})}),[o.optinType]);const{baseControlProps:l,controlProps:c}=(0,d.useBaseControlProps)({label:(0,j.__)("Preview","newsletter-optin-box"),help:(0,j.__)("The form may look slightly different than this when shown in a post, page or widget area.","newsletter-optin-box")});return(0,p.jsx)(u,{children:(0,p.jsxs)(d.BaseControl,{...l,__nextHasNoMarginBottom:!0,children:[(0,p.jsx)(he,{state:o}),(0,p.jsxs)(d.__experimentalVStack,{spacing:4,children:[(0,p.jsxs)(d.__experimentalHStack,{justify:"flex-start",wrap:!0,children:[r&&(0,p.jsx)(d.DropdownMenu,{icon:"art",label:(0,j.__)("Change template","newsletter-optin-box"),text:(0,j.__)("Change template","newsletter-optin-box"),toggleProps:{variant:"secondary"},controls:Object.entries(r).map((([e,{title:r,data:i}])=>(i.noptinFormBorderColor&&!i.formBorder&&(i.formBorder={border_color:i.noptinFormBorderColor,generated:`border-color: ${i.noptinFormBorderColor};`}),{title:r,onClick:()=>n({...t,_noptin_state:{...o,hideFields:!1,gdprCheckbox:!1,formBorder:{style:"none",border_radius:0,border_width:0,border_color:"#f8f9fa",generated:"border-style: none; border-radius: 0px; border-width: 0px; border-color: #f8f9fa;"},titleAdvanced:{},descriptionAdvanced:{},noteAdvanced:{},prefixAdvanced:{},formHeight:o.optinType&&Ke[o.optinType]?.height||"280px",formWidth:o.optinType&&Ke[o.optinType]?.width||"620px",...i}})})))}),(0,p.jsx)(d.DropdownMenu,{icon:"marker",label:(0,j.__)("Change color theme","newsletter-optin-box"),text:(0,j.__)("Change color theme","newsletter-optin-box"),toggleProps:{variant:"secondary"},controls:Ue.map((e=>({title:(0,p.jsxs)(d.__experimentalHStack,{children:[(0,p.jsx)(d.ColorIndicator,{colorValue:e[0]}),(0,p.jsx)(d.ColorIndicator,{colorValue:e[2]}),(0,p.jsx)(d.ColorIndicator,{colorValue:e[1]})]}),onClick:()=>{const r={...o};e.length&&(r.noptinFormBg=e[0],r.formBorder.border_color=e[2],r.noptinButtonColor=e[0],r.noptinButtonBg=e[1],r.titleColor=e[1],r.descriptionColor=e[1],r.noteColor=e[1]),n({...t,_noptin_state:r})}})))})]}),(0,p.jsxs)("div",{...c,className:y("noptin-optin-form-wrapper",o.imageMain?`noptin-img-${o.imageMainPos}`:"no-image"),children:[(0,p.jsxs)("form",{className:y("noptin-optin-form",o.showLabels?"noptin-label-show":"noptin-label-hide",o.singleLine?"noptin-form-single-line":"noptin-form-new-line"),onSubmit:e=>e.preventDefault(),children:[(0,p.jsx)(Ge,{state:o}),(0,p.jsx)(We,{state:o})]}),o.imageMain&&(0,p.jsx)("div",{className:"noptin-form-main-image",children:(0,p.jsx)("img",{src:o.imageMain})})]}),(0,p.jsxs)(d.__experimentalText,{variant:"muted",align:"center",children:["Shortcode: ",(0,p.jsxs)("code",{children:["[noptin form=",e,"]"]})]})]})]})})},qe=[{label:(0,j.__)("Popup","newsletter-optin-box"),value:"popup"},{label:(0,j.__)("Shortcode","newsletter-optin-box"),value:"inpost"},{label:(0,j.__)("Widget","newsletter-optin-box"),value:"sidebar"},{label:(0,j.__)("Sliding","newsletter-optin-box"),value:"slide_in"}],Ye=()=>{const[e,t]=(0,_.useEntityProp)("postType","noptin-form","meta"),n=e?._noptin_state||{},r=e?._noptin_optin_type,o=r=>{t({...e,_noptin_optin_type:r,_noptin_state:{...n,optinType:r}})};return(0,i.useEffect)((()=>{r||o("inpost")}),[]),(0,i.useEffect)((()=>{r&&r!==n.optinType&&t({...e,_noptin_state:{...n,optinType:r}})}),[r,n.optinType]),(0,p.jsx)(u,{children:(0,p.jsx)(d.__experimentalToggleGroupControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,isDeselectable:!1,isBlock:!0,label:(0,j.__)("Form type"),value:r,onChange:o,children:qe.map(((e,t)=>(0,p.jsx)(d.__experimentalToggleGroupControlOption,{...e},t)))})})},Je=()=>(0,p.jsx)(d.Flex,{justify:"center",children:(0,p.jsxs)(d.__experimentalVStack,{className:"noptin-form-preview",spacing:8,children:[(0,p.jsx)(u,{children:(0,p.jsx)(re,{})}),(0,p.jsx)(u,{children:(0,p.jsx)(Ye,{})}),(0,p.jsx)(u,{children:(0,p.jsx)(Ze,{})})]})}),Qe=({setting:e,meta:t})=>(0,p.jsx)(d.PanelBody,{title:e.title,initialOpen:!1,children:(0,p.jsx)(d.__experimentalVStack,{spacing:4,children:(0,p.jsx)(et,{settings:e.children})})}),Xe=({setting:e,settingKey:t,meta:n,setAttributes:r})=>"panel"===e.el?(0,p.jsx)(be,{meta:n,setting:e,children:(0,p.jsx)(Qe,{setting:e,meta:n})}):"border"===e.el?(0,p.jsx)(be,{meta:n,setting:e,children:(0,p.jsx)(Pe,{setting:e,meta:n,settingKey:t,setAttributes:r})}):"color_panel"===e.el?(0,p.jsx)(be,{meta:n,setting:e,children:(0,p.jsx)(Se,{setting:e,meta:n,settingKey:t,setAttributes:r})}):"typography"===e.el?(0,p.jsx)(be,{meta:n,setting:e,children:(0,p.jsx)(ze,{setting:e,meta:n,settingKey:t,setAttributes:r})}):"advanced"===e.el?(0,p.jsx)(be,{meta:n,setting:e,children:(0,p.jsx)(Re,{setting:e,meta:n,settingKey:t,setAttributes:r})}):(0,p.jsx)(xe.Setting,{settingKey:t,setting:e,saved:n,setAttributes:r}),et=({settings:e})=>{const[t,n]=(0,_.useEntityProp)("postType","noptin-form","meta"),r=t?._noptin_state||{},o=(0,i.useCallback)((e=>{n({...t,_noptin_state:{...r,...e}})}),[t,n]);return(0,p.jsx)(p.Fragment,{children:Object.keys(e).map((t=>(0,p.jsx)(u,{children:(0,p.jsx)(Xe,{settingKey:t,setting:e[t],meta:r,setAttributes:o})},t)))})},tt=window.noptinForm?.data?.settings||{},nt=Object.keys(tt).map((e=>{const{label:t,...n}=tt[e];return{key:e,label:t,settings:n}})),rt=()=>{const[e,t]=(0,i.useState)(nt[0]?.key),n=nt.find((t=>t.key===e));return(0,p.jsxs)("div",{id:"noptin-form-editor__sidebar",className:"interface-complementary-area",children:[(0,p.jsx)("div",{className:"components-panel__header interface-complementary-area-header",tabIndex:-1,children:(0,p.jsx)("ul",{children:nt.map((n=>(0,p.jsx)("li",{children:(0,p.jsx)(d.Button,{onClick:()=>t(n.key),className:y("edit-form-sidebar__panel-tab",n.key.replace(/\//g,"__").toLowerCase(),{"is-active":e===n.key}),"aria-label":e===n.key?(0,j.sprintf)((0,j.__)("%s (selected)"),n.label||n.key):n.label||n.key,"data-label":n.label||n.key,children:n.label||n.key})},n.key)))})}),n&&(0,p.jsx)(et,{settings:n.settings})]})},ot=(0,window.wp.url.getQueryArg)(window.location.href,"tab")||"settings",it=nt.map((({key:e,label:t,settings:n})=>({name:e,title:t,settings:n})));function st(){const e=(0,v.useViewportMatch)("small","<");return(0,p.jsx)(u,{children:(0,p.jsx)(d.TabPanel,{initialTabName:ot,orientation:e?"vertical":"horizontal",tabs:it,className:"noptin-settings__tabs",children:e=>(0,p.jsx)(p.Fragment,{children:"preview"===e.name?(0,p.jsx)(Je,{}):(0,p.jsx)(et,{settings:e.settings})})})})}function at(){const e=(0,v.useViewportMatch)("small","<"),t=()=>(0,p.jsxs)(d.__experimentalVStack,{children:[(0,p.jsx)(Q,{}),(0,p.jsx)(J,{}),e?(0,p.jsx)(st,{}):(0,p.jsx)(Je,{})]});return(0,p.jsx)(k,{isDistractionFree:!1,className:"noptin-app__interface",header:(0,p.jsx)(te,{}),content:(0,p.jsx)(t,{}),sidebar:e?void 0:(0,p.jsx)(rt,{}),footer:(0,p.jsx)(ne,{})})}it.push({name:"preview",title:(0,j.__)("Preview"),settings:{}});const lt={__unstableIsPreviewMode:!0,allowedBlockTypes:!1},ct=(0,i.memo)((({post:e})=>{const t=(0,i.useMemo)((()=>e?.meta?._noptin_state&&"object"==typeof e.meta._noptin_state&&0!==Object.keys(e.meta._noptin_state).length?{}:{random:["hello","world"],meta:{...e?.meta,_noptin_state:{...window.noptinForm.data?.default_form}}}),[e]);return(0,p.jsxs)(h.EditorProvider,{post:e,settings:lt,initialEdits:t,useSubRegistry:!1,children:[(0,p.jsx)(h.PostLockedModal,{}),(0,p.jsxs)(u,{children:[(0,p.jsx)(at,{}),(0,p.jsx)(x,{isActive:!1})]})]})})),dt=function({postId:e,postType:t}){const{post:n,hasFinishedResolution:r,hasErrored:o}=(0,m.useSelect)((n=>{const{hasResolutionFailed:r,hasFinishedResolution:o,getEntityRecord:i}=n(_.store);return{post:i("postType",t,e),hasFinishedResolution:o("getEntityRecord",["postType",t,e]),hasErrored:r("getEntityRecord",["postType",t,e])}}),[t,e]);return o?(0,p.jsx)(d.Notice,{status:"error",children:"Form not found"}):r?n?(0,p.jsx)(d.SlotFillProvider,{children:(0,p.jsx)(ct,{post:n})}):(0,p.jsx)(d.Notice,{status:"error",children:"Form not found"}):(0,p.jsx)(d.Spinner,{})},pt=()=>(console.log("Initializing form editor"),(0,p.jsx)(u,{children:(0,p.jsx)(dt,{postType:"noptin-form",postId:window.noptinForm.data.form})}));c()((()=>{const e=document.createElement("div");e.id="noptin-form-editor",e.className="block-editor",e.innerHTML='<span class="spinner" style="float: none; visibility: visible;"></span>',document.getElementById("wpbody-content").appendChild(e);const t=document.getElementById("noptin-form-editor");t&&(0,a.H)(t).render((0,p.jsx)(pt,{}))}))},2694:(e,t,n)=>{"use strict";var r=n(6925);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},5338:(e,t,n)=>{"use strict";var r=n(5795);t.H=r.createRoot,r.hydrateRoot},5556:(e,t,n)=>{e.exports=n(2694)()},5795:e=>{"use strict";e.exports=window.ReactDOM},6925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},7123:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},s=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return a(t,e),t},c=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var p=l(n(1609)),f=d(n(2017)),u=l(n(5556));function m(e){return e&&e.replace(/&nbsp;|\u202F|\u00A0/g," ").replace(/<br \/>/g,"<br>")}var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastHtml=t.props.html,t.el="function"==typeof t.props.innerRef?{current:null}:p.createRef(),t.getEl=function(){return(t.props.innerRef&&"function"!=typeof t.props.innerRef?t.props.innerRef:t.el).current},t.emitChange=function(e){var n=t.getEl();if(n){var r=n.innerHTML;if(t.props.onChange&&r!==t.lastHtml){var o=Object.assign({},e,{target:{value:r}});t.props.onChange(o)}t.lastHtml=r}},t}return o(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.tagName,r=t.html,o=t.innerRef,s=c(t,["tagName","html","innerRef"]);return p.createElement(n||"div",i(i({},s),{ref:"function"==typeof o?function(t){o(t),e.el.current=t}:o||this.el,onInput:this.emitChange,onBlur:this.props.onBlur||this.emitChange,onKeyUp:this.props.onKeyUp||this.emitChange,onKeyDown:this.props.onKeyDown||this.emitChange,contentEditable:!this.props.disabled,dangerouslySetInnerHTML:{__html:r}}),this.props.children)},t.prototype.shouldComponentUpdate=function(e){var t=this.props,n=this.getEl();return!n||m(e.html)!==m(n.innerHTML)||t.disabled!==e.disabled||t.tagName!==e.tagName||t.className!==e.className||t.innerRef!==e.innerRef||t.placeholder!==e.placeholder||!(0,f.default)(t.style,e.style)},t.prototype.componentDidUpdate=function(){var e=this.getEl();e&&(this.props.html!==e.innerHTML&&(e.innerHTML=this.props.html),this.lastHtml=this.props.html,function(e){var t=document.createTextNode("");e.appendChild(t);var n=document.activeElement===e;if(null!==t&&null!==t.nodeValue&&n){var r=window.getSelection();if(null!==r){var o=document.createRange();o.setStart(t,t.nodeValue.length),o.collapse(!0),r.removeAllRanges(),r.addRange(o)}e instanceof HTMLElement&&e.focus()}}(e))},t.propTypes={html:u.string.isRequired,onChange:u.func,disabled:u.bool,tagName:u.string,className:u.string,style:u.object,innerRef:u.oneOfType([u.object,u.func])},t}(p.Component);t.default=h}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e].call(i.exports,i,i.exports,r),i.exports}r.m=t,e=[],r.O=(t,n,o,i)=>{if(!n){var s=1/0;for(d=0;d<e.length;d++){for(var[n,o,i]=e[d],a=!0,l=0;l<n.length;l++)(!1&i||s>=i)&&Object.keys(r.O).every((e=>r.O[e](n[l])))?n.splice(l--,1):(a=!1,i<s&&(s=i));if(a){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[n,o,i]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={830:0,98:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,i,[s,a,l]=n,c=0;if(s.some((t=>0!==e[t]))){for(o in a)r.o(a,o)&&(r.m[o]=a[o]);if(l)var d=l(r)}for(t&&t(n);c<s.length;c++)i=s[c],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(d)},n=globalThis.webpackChunknoptin_premium=globalThis.webpackChunknoptin_premium||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=r.O(void 0,[98],(()=>r(2670)));o=r.O(o)})();