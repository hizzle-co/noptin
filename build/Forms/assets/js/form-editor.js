(()=>{"use strict";var e,t={5338(e,t,n){var o=n(5795);t.H=o.createRoot,o.hydrateRoot},5795(e){e.exports=window.ReactDOM},7133(e,t,n){const o=window.React;var r=n.n(o),i=n(5338);const a=window.wp.domReady;var s=n.n(a);const l=window.hizzlewp.components,c=window.wp.data,p=window.wp.editor,d=window.wp.components,m=window.wp.coreData,u=window.wp.compose,f=window.hizzlewp.interface,h=window.wp.notices,g=window.ReactJSXRuntime;function _(){const{notices:e}=(0,c.useSelect)(e=>({notices:e(h.store).getNotices()}),[]),{removeNotice:t}=(0,c.useDispatch)(h.store),n=e.filter(({isDismissible:e,type:t})=>e&&"default"===t),o=e.filter(({isDismissible:e,type:t})=>!e&&"default"===t);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(d.NoticeList,{notices:o,className:"components-editor-notices__pinned"}),(0,g.jsx)(d.NoticeList,{notices:n,className:"components-editor-notices__dismissible",onRemove:t})]})}function x(){const e=(0,c.useSelect)(e=>e(h.store).getNotices(),[]),{removeNotice:t}=(0,c.useDispatch)(h.store),n=e.filter(({type:e})=>"snackbar"===e).slice(-3);return(0,g.jsx)(d.SnackbarList,{notices:n,className:"components-editor-notices__snackbar",onRemove:t})}const b=window.wp.i18n;function y(){const[e,t]=(0,o.useState)(!1),{editPost:n,savePost:r}=(0,c.useDispatch)(p.store),{isSaving:i,isPublished:a,isScheduled:s}=(0,c.useSelect)(e=>{const{isSavingPost:t,isCurrentPostPublished:n,isCurrentPostScheduled:o}=e(p.store);return{isSaving:t(),isPublished:n(),isScheduled:o()}},[]);let l,m;return s?(l=(0,b.__)("Are you sure you want to unschedule this form?"),m=(0,b.__)("Unschedule")):(l=(0,b.__)("Are you sure you want to unpublish this form?"),m=(0,b.__)("Unpublish")),i||a||s?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(d.Button,{__next40pxDefaultSize:!0,className:"editor-post-switch-to-draft",onClick:()=>{i||t(!0)},"aria-disabled":i,variant:"tertiary",style:{flexGrow:"1",justifyContent:"center"},children:(0,b.__)("Switch to draft")}),(0,g.jsx)(d.__experimentalConfirmDialog,{isOpen:e,onConfirm:()=>{t(!1),n({status:"draft"}),r()},onCancel:()=>t(!1),confirmButtonText:m,children:l})]}):null}const w=window.wp.url,v=window.noptinForm?.preview_url||window.location.origin,T=e=>(0,w.addQueryArgs)(v,{noptin_preview_form:e});function j(){const{postId:e,isDirty:t}=(0,c.useSelect)(e=>{const t=e(p.store);return{isDirty:t.isEditedPostDirty(),postId:t.getCurrentPostId()}},[]);return t?null:(0,g.jsx)(d.Button,{variant:"tertiary",className:"editor-post-preview",href:T(e),target:`wp-preview-${e}`,role:"link",size:"compact",children:(0,g.jsxs)(g.Fragment,{children:[(0,b._x)("Preview","imperative verb"),(0,g.jsx)(d.VisuallyHidden,{as:"span",children:/* translators: accessibility text */ /* translators: accessibility text */
(0,b.__)("(opens in a new tab)")})]})})}const S=window.noptinForm?.brand||{},C=()=>((0,c.useSelect)(e=>e(p.store).getCurrentPostId(),[]),(0,g.jsxs)(d.__experimentalHStack,{as:d.__experimentalSurface,style:{padding:"10px 20px"},wrap:!0,children:[(0,g.jsx)("div",{children:(0,g.jsx)(l.ErrorBoundary,{children:(0,g.jsxs)(d.__experimentalHStack,{wrap:!0,justify:"flex-start",children:[S.logo&&(0,g.jsx)("img",{src:S.logo,alt:S.name,style:{width:"auto",height:"40px"}}),(0,g.jsx)(d.__experimentalText,{weight:600,size:14,children:S.name||(0,b.__)("Noptin","noptin")}),(0,g.jsx)(d.__experimentalText,{weight:600,size:14,variant:"muted",children:S.version}),(0,g.jsx)(d.ToolbarItem,{as:p.EditorHistoryUndo,size:"compact"}),(0,g.jsx)(d.ToolbarItem,{as:p.EditorHistoryRedo,size:"compact"})]})})}),(0,g.jsx)("div",{children:(0,g.jsx)(l.ErrorBoundary,{children:(0,g.jsxs)(d.__experimentalHStack,{children:[(0,g.jsx)(l.ErrorBoundary,{children:(0,g.jsx)(j,{})}),(0,g.jsx)(l.ErrorBoundary,{children:(0,g.jsx)(p.PostSavedState,{})}),(0,g.jsx)(l.ErrorBoundary,{children:(0,g.jsx)(y,{})}),(0,g.jsx)(l.ErrorBoundary,{children:(0,g.jsx)(p.PostPublishButton,{})})]})})})]})),E=()=>{const[e,t]=(0,m.useEntityProp)("postType","noptin-form","title"),n=(0,o.useRef)(!1),{postId:r,postStatus:i}=(0,c.useSelect)(e=>{const{getCurrentPostId:t,getCurrentPostAttribute:n}=e(p.store);return{postId:t(),postStatus:n("status")}},[]);return(0,o.useEffect)(()=>{n.current||"auto-draft"!==i||e&&""!==e||(t((0,b.__)("Newsletter Form #","newsletter-optin-box")+r),n.current=!0)},[i,e,r,t]),(0,g.jsx)(l.ErrorBoundary,{children:(0,g.jsx)(d.__experimentalInputControl,{label:(0,b.__)("Form Name","newsletter-optin-box"),value:e||"",onChange:t,__next40pxDefaultSize:!0,isPressEnterToChange:!0})})};function A(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=A(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}const N=function(){for(var e,t,n=0,o="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=A(e))&&(o&&(o+=" "),o+=t);return o},{entries:k,setPrototypeOf:D,isFrozen:I,getPrototypeOf:P,getOwnPropertyDescriptor:R}=Object;let{freeze:L,seal:O,create:M}=Object,{apply:F,construct:B}="undefined"!=typeof Reflect&&Reflect;L||(L=function(e){return e}),O||(O=function(e){return e}),F||(F=function(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];return e.apply(t,o)}),B||(B=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return new e(...n)});const z=te(Array.prototype.forEach),H=te(Array.prototype.lastIndexOf),$=te(Array.prototype.pop),U=te(Array.prototype.push),V=te(Array.prototype.splice),G=te(String.prototype.toLowerCase),W=te(String.prototype.toString),Y=te(String.prototype.match),K=te(String.prototype.replace),q=te(String.prototype.indexOf),Z=te(String.prototype.trim),X=te(Object.prototype.hasOwnProperty),J=te(RegExp.prototype.test),Q=(ee=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return B(ee,t)});var ee;function te(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return F(e,t,o)}}function ne(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:G;D&&D(e,null);let o=t.length;for(;o--;){let r=t[o];if("string"==typeof r){const e=n(r);e!==r&&(I(t)||(t[o]=e),r=e)}e[r]=!0}return e}function oe(e){for(let t=0;t<e.length;t++)X(e,t)||(e[t]=null);return e}function re(e){const t=M(null);for(const[n,o]of k(e))X(e,n)&&(Array.isArray(o)?t[n]=oe(o):o&&"object"==typeof o&&o.constructor===Object?t[n]=re(o):t[n]=o);return t}function ie(e,t){for(;null!==e;){const n=R(e,t);if(n){if(n.get)return te(n.get);if("function"==typeof n.value)return te(n.value)}e=P(e)}return function(){return null}}const ae=L(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),se=L(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),le=L(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ce=L(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),pe=L(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),de=L(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),me=L(["#text"]),ue=L(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),fe=L(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),he=L(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ge=L(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),_e=O(/\{\{[\w\W]*|[\w\W]*\}\}/gm),xe=O(/<%[\w\W]*|[\w\W]*%>/gm),be=O(/\$\{[\w\W]*/gm),ye=O(/^data-[\-\w.\u00B7-\uFFFF]+$/),we=O(/^aria-[\-\w]+$/),ve=O(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Te=O(/^(?:\w+script|data):/i),je=O(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Se=O(/^html$/i),Ce=O(/^[a-z][.\w]*(-[.\w]+)+$/i);var Ee=Object.freeze({__proto__:null,ARIA_ATTR:we,ATTR_WHITESPACE:je,CUSTOM_ELEMENT:Ce,DATA_ATTR:ye,DOCTYPE_NAME:Se,ERB_EXPR:xe,IS_ALLOWED_URI:ve,IS_SCRIPT_OR_DATA:Te,MUSTACHE_EXPR:_e,TMPLIT_EXPR:be});const Ae=function(){return"undefined"==typeof window?null:window};var Ne=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae();const n=t=>e(t);if(n.version="3.3.1",n.removed=[],!t||!t.document||9!==t.document.nodeType||!t.Element)return n.isSupported=!1,n;let{document:o}=t;const r=o,i=r.currentScript,{DocumentFragment:a,HTMLTemplateElement:s,Node:l,Element:c,NodeFilter:p,NamedNodeMap:d=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:m,DOMParser:u,trustedTypes:f}=t,h=c.prototype,g=ie(h,"cloneNode"),_=ie(h,"remove"),x=ie(h,"nextSibling"),b=ie(h,"childNodes"),y=ie(h,"parentNode");if("function"==typeof s){const e=o.createElement("template");e.content&&e.content.ownerDocument&&(o=e.content.ownerDocument)}let w,v="";const{implementation:T,createNodeIterator:j,createDocumentFragment:S,getElementsByTagName:C}=o,{importNode:E}=r;let A={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof k&&"function"==typeof y&&T&&void 0!==T.createHTMLDocument;const{MUSTACHE_EXPR:N,ERB_EXPR:D,TMPLIT_EXPR:I,DATA_ATTR:P,ARIA_ATTR:R,IS_SCRIPT_OR_DATA:O,ATTR_WHITESPACE:F,CUSTOM_ELEMENT:B}=Ee;let{IS_ALLOWED_URI:ee}=Ee,te=null;const oe=ne({},[...ae,...se,...le,...pe,...me]);let _e=null;const xe=ne({},[...ue,...fe,...he,...ge]);let be=Object.seal(M(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ye=null,we=null;const Te=Object.seal(M(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let je=!0,Ce=!0,Ne=!1,ke=!0,De=!1,Ie=!0,Pe=!1,Re=!1,Le=!1,Oe=!1,Me=!1,Fe=!1,Be=!0,ze=!1,He=!0,$e=!1,Ue={},Ve=null;const Ge=ne({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let We=null;const Ye=ne({},["audio","video","img","source","image","track"]);let Ke=null;const qe=ne({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ze="http://www.w3.org/1998/Math/MathML",Xe="http://www.w3.org/2000/svg",Je="http://www.w3.org/1999/xhtml";let Qe=Je,et=!1,tt=null;const nt=ne({},[Ze,Xe,Je],W);let ot=ne({},["mi","mo","mn","ms","mtext"]),rt=ne({},["annotation-xml"]);const it=ne({},["title","style","font","a","script"]);let at=null;const st=["application/xhtml+xml","text/html"];let lt=null,ct=null;const pt=o.createElement("form"),dt=function(e){return e instanceof RegExp||e instanceof Function},mt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!ct||ct!==e){if(e&&"object"==typeof e||(e={}),e=re(e),at=-1===st.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,lt="application/xhtml+xml"===at?W:G,te=X(e,"ALLOWED_TAGS")?ne({},e.ALLOWED_TAGS,lt):oe,_e=X(e,"ALLOWED_ATTR")?ne({},e.ALLOWED_ATTR,lt):xe,tt=X(e,"ALLOWED_NAMESPACES")?ne({},e.ALLOWED_NAMESPACES,W):nt,Ke=X(e,"ADD_URI_SAFE_ATTR")?ne(re(qe),e.ADD_URI_SAFE_ATTR,lt):qe,We=X(e,"ADD_DATA_URI_TAGS")?ne(re(Ye),e.ADD_DATA_URI_TAGS,lt):Ye,Ve=X(e,"FORBID_CONTENTS")?ne({},e.FORBID_CONTENTS,lt):Ge,ye=X(e,"FORBID_TAGS")?ne({},e.FORBID_TAGS,lt):re({}),we=X(e,"FORBID_ATTR")?ne({},e.FORBID_ATTR,lt):re({}),Ue=!!X(e,"USE_PROFILES")&&e.USE_PROFILES,je=!1!==e.ALLOW_ARIA_ATTR,Ce=!1!==e.ALLOW_DATA_ATTR,Ne=e.ALLOW_UNKNOWN_PROTOCOLS||!1,ke=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,De=e.SAFE_FOR_TEMPLATES||!1,Ie=!1!==e.SAFE_FOR_XML,Pe=e.WHOLE_DOCUMENT||!1,Oe=e.RETURN_DOM||!1,Me=e.RETURN_DOM_FRAGMENT||!1,Fe=e.RETURN_TRUSTED_TYPE||!1,Le=e.FORCE_BODY||!1,Be=!1!==e.SANITIZE_DOM,ze=e.SANITIZE_NAMED_PROPS||!1,He=!1!==e.KEEP_CONTENT,$e=e.IN_PLACE||!1,ee=e.ALLOWED_URI_REGEXP||ve,Qe=e.NAMESPACE||Je,ot=e.MATHML_TEXT_INTEGRATION_POINTS||ot,rt=e.HTML_INTEGRATION_POINTS||rt,be=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&dt(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(be.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&dt(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(be.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(be.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),De&&(Ce=!1),Me&&(Oe=!0),Ue&&(te=ne({},me),_e=[],!0===Ue.html&&(ne(te,ae),ne(_e,ue)),!0===Ue.svg&&(ne(te,se),ne(_e,fe),ne(_e,ge)),!0===Ue.svgFilters&&(ne(te,le),ne(_e,fe),ne(_e,ge)),!0===Ue.mathMl&&(ne(te,pe),ne(_e,he),ne(_e,ge))),e.ADD_TAGS&&("function"==typeof e.ADD_TAGS?Te.tagCheck=e.ADD_TAGS:(te===oe&&(te=re(te)),ne(te,e.ADD_TAGS,lt))),e.ADD_ATTR&&("function"==typeof e.ADD_ATTR?Te.attributeCheck=e.ADD_ATTR:(_e===xe&&(_e=re(_e)),ne(_e,e.ADD_ATTR,lt))),e.ADD_URI_SAFE_ATTR&&ne(Ke,e.ADD_URI_SAFE_ATTR,lt),e.FORBID_CONTENTS&&(Ve===Ge&&(Ve=re(Ve)),ne(Ve,e.FORBID_CONTENTS,lt)),e.ADD_FORBID_CONTENTS&&(Ve===Ge&&(Ve=re(Ve)),ne(Ve,e.ADD_FORBID_CONTENTS,lt)),He&&(te["#text"]=!0),Pe&&ne(te,["html","head","body"]),te.table&&(ne(te,["tbody"]),delete ye.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw Q('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw Q('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');w=e.TRUSTED_TYPES_POLICY,v=w.createHTML("")}else void 0===w&&(w=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(n=t.getAttribute(o));const r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}}(f,i)),null!==w&&"string"==typeof v&&(v=w.createHTML(""));L&&L(e),ct=e}},ut=ne({},[...se,...le,...ce]),ft=ne({},[...pe,...de]),ht=function(e){U(n.removed,{element:e});try{y(e).removeChild(e)}catch(t){_(e)}},gt=function(e,t){try{U(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){U(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(Oe||Me)try{ht(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},_t=function(e){let t=null,n=null;if(Le)e="<remove></remove>"+e;else{const t=Y(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===at&&Qe===Je&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const r=w?w.createHTML(e):e;if(Qe===Je)try{t=(new u).parseFromString(r,at)}catch(e){}if(!t||!t.documentElement){t=T.createDocument(Qe,"template",null);try{t.documentElement.innerHTML=et?v:r}catch(e){}}const i=t.body||t.documentElement;return e&&n&&i.insertBefore(o.createTextNode(n),i.childNodes[0]||null),Qe===Je?C.call(t,Pe?"html":"body")[0]:Pe?t.documentElement:i},xt=function(e){return j.call(e.ownerDocument||e,e,p.SHOW_ELEMENT|p.SHOW_COMMENT|p.SHOW_TEXT|p.SHOW_PROCESSING_INSTRUCTION|p.SHOW_CDATA_SECTION,null)},bt=function(e){return e instanceof m&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof d)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},yt=function(e){return"function"==typeof l&&e instanceof l};function wt(e,t,o){z(e,e=>{e.call(n,t,o,ct)})}const vt=function(e){let t=null;if(wt(A.beforeSanitizeElements,e,null),bt(e))return ht(e),!0;const o=lt(e.nodeName);if(wt(A.uponSanitizeElement,e,{tagName:o,allowedTags:te}),Ie&&e.hasChildNodes()&&!yt(e.firstElementChild)&&J(/<[/\w!]/g,e.innerHTML)&&J(/<[/\w!]/g,e.textContent))return ht(e),!0;if(7===e.nodeType)return ht(e),!0;if(Ie&&8===e.nodeType&&J(/<[/\w]/g,e.data))return ht(e),!0;if(!(Te.tagCheck instanceof Function&&Te.tagCheck(o))&&(!te[o]||ye[o])){if(!ye[o]&&jt(o)){if(be.tagNameCheck instanceof RegExp&&J(be.tagNameCheck,o))return!1;if(be.tagNameCheck instanceof Function&&be.tagNameCheck(o))return!1}if(He&&!Ve[o]){const t=y(e)||e.parentNode,n=b(e)||e.childNodes;if(n&&t)for(let o=n.length-1;o>=0;--o){const r=g(n[o],!0);r.__removalCount=(e.__removalCount||0)+1,t.insertBefore(r,x(e))}}return ht(e),!0}return e instanceof c&&!function(e){let t=y(e);t&&t.tagName||(t={namespaceURI:Qe,tagName:"template"});const n=G(e.tagName),o=G(t.tagName);return!!tt[e.namespaceURI]&&(e.namespaceURI===Xe?t.namespaceURI===Je?"svg"===n:t.namespaceURI===Ze?"svg"===n&&("annotation-xml"===o||ot[o]):Boolean(ut[n]):e.namespaceURI===Ze?t.namespaceURI===Je?"math"===n:t.namespaceURI===Xe?"math"===n&&rt[o]:Boolean(ft[n]):e.namespaceURI===Je?!(t.namespaceURI===Xe&&!rt[o])&&!(t.namespaceURI===Ze&&!ot[o])&&!ft[n]&&(it[n]||!ut[n]):!("application/xhtml+xml"!==at||!tt[e.namespaceURI]))}(e)?(ht(e),!0):"noscript"!==o&&"noembed"!==o&&"noframes"!==o||!J(/<\/no(script|embed|frames)/i,e.innerHTML)?(De&&3===e.nodeType&&(t=e.textContent,z([N,D,I],e=>{t=K(t,e," ")}),e.textContent!==t&&(U(n.removed,{element:e.cloneNode()}),e.textContent=t)),wt(A.afterSanitizeElements,e,null),!1):(ht(e),!0)},Tt=function(e,t,n){if(Be&&("id"===t||"name"===t)&&(n in o||n in pt))return!1;if(Ce&&!we[t]&&J(P,t));else if(je&&J(R,t));else if(Te.attributeCheck instanceof Function&&Te.attributeCheck(t,e));else if(!_e[t]||we[t]){if(!(jt(e)&&(be.tagNameCheck instanceof RegExp&&J(be.tagNameCheck,e)||be.tagNameCheck instanceof Function&&be.tagNameCheck(e))&&(be.attributeNameCheck instanceof RegExp&&J(be.attributeNameCheck,t)||be.attributeNameCheck instanceof Function&&be.attributeNameCheck(t,e))||"is"===t&&be.allowCustomizedBuiltInElements&&(be.tagNameCheck instanceof RegExp&&J(be.tagNameCheck,n)||be.tagNameCheck instanceof Function&&be.tagNameCheck(n))))return!1}else if(Ke[t]);else if(J(ee,K(n,F,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==q(n,"data:")||!We[e])if(Ne&&!J(O,K(n,F,"")));else if(n)return!1;return!0},jt=function(e){return"annotation-xml"!==e&&Y(e,B)},St=function(e){wt(A.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||bt(e))return;const o={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:_e,forceKeepAttr:void 0};let r=t.length;for(;r--;){const i=t[r],{name:a,namespaceURI:s,value:l}=i,c=lt(a),p=l;let d="value"===a?p:Z(p);if(o.attrName=c,o.attrValue=d,o.keepAttr=!0,o.forceKeepAttr=void 0,wt(A.uponSanitizeAttribute,e,o),d=o.attrValue,!ze||"id"!==c&&"name"!==c||(gt(a,e),d="user-content-"+d),Ie&&J(/((--!?|])>)|<\/(style|title|textarea)/i,d)){gt(a,e);continue}if("attributename"===c&&Y(d,"href")){gt(a,e);continue}if(o.forceKeepAttr)continue;if(!o.keepAttr){gt(a,e);continue}if(!ke&&J(/\/>/i,d)){gt(a,e);continue}De&&z([N,D,I],e=>{d=K(d,e," ")});const m=lt(e.nodeName);if(Tt(m,c,d)){if(w&&"object"==typeof f&&"function"==typeof f.getAttributeType)if(s);else switch(f.getAttributeType(m,c)){case"TrustedHTML":d=w.createHTML(d);break;case"TrustedScriptURL":d=w.createScriptURL(d)}if(d!==p)try{s?e.setAttributeNS(s,a,d):e.setAttribute(a,d),bt(e)?ht(e):$(n.removed)}catch(t){gt(a,e)}}else gt(a,e)}wt(A.afterSanitizeAttributes,e,null)},Ct=function e(t){let n=null;const o=xt(t);for(wt(A.beforeSanitizeShadowDOM,t,null);n=o.nextNode();)wt(A.uponSanitizeShadowNode,n,null),vt(n),St(n),n.content instanceof a&&e(n.content);wt(A.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=null,i=null,s=null,c=null;if(et=!e,et&&(e="\x3c!--\x3e"),"string"!=typeof e&&!yt(e)){if("function"!=typeof e.toString)throw Q("toString is not a function");if("string"!=typeof(e=e.toString()))throw Q("dirty is not a string, aborting")}if(!n.isSupported)return e;if(Re||mt(t),n.removed=[],"string"==typeof e&&($e=!1),$e){if(e.nodeName){const t=lt(e.nodeName);if(!te[t]||ye[t])throw Q("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)o=_t("\x3c!----\x3e"),i=o.ownerDocument.importNode(e,!0),1===i.nodeType&&"BODY"===i.nodeName||"HTML"===i.nodeName?o=i:o.appendChild(i);else{if(!Oe&&!De&&!Pe&&-1===e.indexOf("<"))return w&&Fe?w.createHTML(e):e;if(o=_t(e),!o)return Oe?null:Fe?v:""}o&&Le&&ht(o.firstChild);const p=xt($e?e:o);for(;s=p.nextNode();)vt(s),St(s),s.content instanceof a&&Ct(s.content);if($e)return e;if(Oe){if(Me)for(c=S.call(o.ownerDocument);o.firstChild;)c.appendChild(o.firstChild);else c=o;return(_e.shadowroot||_e.shadowrootmode)&&(c=E.call(r,c,!0)),c}let d=Pe?o.outerHTML:o.innerHTML;return Pe&&te["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&J(Se,o.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+d),De&&z([N,D,I],e=>{d=K(d,e," ")}),w&&Fe?w.createHTML(d):d},n.setConfig=function(){mt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Re=!0},n.clearConfig=function(){ct=null,Re=!1},n.isValidAttribute=function(e,t,n){ct||mt({});const o=lt(e),r=lt(t);return Tt(o,r,n)},n.addHook=function(e,t){"function"==typeof t&&U(A[e],t)},n.removeHook=function(e,t){if(void 0!==t){const n=H(A[e],t);return-1===n?void 0:V(A[e],n,1)[0]}return $(A[e])},n.removeHooks=function(e){A[e]=[]},n.removeAllHooks=function(){A={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}();const ke=window.wp.element,De=window.noptinForm?.fields||{},Ie=({label:e,type:t="text"})=>(0,g.jsx)("input",{type:t||"text",className:"noptin-form-field",placeholder:e}),Pe=({label:e})=>(0,g.jsx)("textarea",{className:"noptin-form-field",placeholder:e}),Re=({option:e})=>{if(!e)return null;const t=e.toString().split("|").splice(0,1).join("");return(0,g.jsx)("option",{value:t,children:t})},Le=({label:e,options:t})=>(0,g.jsxs)("select",{className:"noptin-form-field",children:[(0,g.jsx)("option",{children:e}),t.split(",").map((e,t)=>(0,g.jsx)(Re,{option:e},t))]}),Oe=({label:e})=>(0,g.jsxs)("label",{children:[(0,g.jsx)("input",{type:"checkbox",className:"noptin-checkbox-form-field"}),(0,g.jsx)("span",{children:e})]}),Me=({type:e,label:t,...n})=>{if("hidden"===n.type)return null;if(!Array.isArray(De)&&De[e]){let n=De[e].markup||"";return n=n.replace(/{{field.type.label}}/g,t||De[e].label),n=n.replace(/:placeholder="field.type.label"/g,`placeholder="${t||De[e].label}"`),(0,g.jsx)(ke.RawHTML,{className:`noptin-field-${De[e].type}`,children:Ne.sanitize(n)})}return["name","text","email"].includes(e)?(0,g.jsx)(Ie,{label:t}):"textarea"===e?(0,g.jsx)(Pe,{label:t}):"select"===e||"dropdown"===e?(0,g.jsx)(Le,{label:t,options:n.options}):"checkbox"===e?(0,g.jsx)(Oe,{label:t}):(0,g.jsx)("pre",{children:JSON.stringify({type:e,label:t,...n},null,2)})},Fe=({field:e})=>{const[t]=(0,m.useEntityProp)("postType","noptin-form","meta"),n=t?._noptin_state||{},o=N(`noptin-form-${"title"===e?"heading":e}`,n[`${e}Advanced`]?.classes);return(0,g.jsx)(ke.RawHTML,{className:o,children:Ne.sanitize(n[e]||"")})},Be=({state:e})=>{const t=`\n        .noptin-form-preview .noptin-optin-form-wrapper {\n            ${e?.formBorder?.generated||""}\n            ${e?.noptinFormBg&&`background-color: ${e?.noptinFormBg};`}\n            ${e?.noptinFormBgImg&&`background-image: url(${e?.noptinFormBgImg});`}\n            ${e?.formWidth&&`max-width: ${e?.formWidth};`}\n            ${e?.formHeight&&`min-height: ${e?.formHeight};`}\n            ${e?.descriptionColor&&`color: ${e?.descriptionColor};`}\n        }\n        .noptin-form-preview .noptin-form-header .noptin-form-heading {\n            ${e?.titleColor&&`color: ${e?.titleColor};`}\n            ${e?.titleTypography?.generated||""}\n            ${e?.titleAdvanced?.generated||""}\n        }\n        .noptin-form-preview .noptin-form-header .noptin-form-prefix {\n            ${e?.prefixColor&&`color: ${e?.prefixColor};`}\n            ${e?.prefixTypography?.generated||""}\n            ${e?.prefixAdvanced?.generated||""}\n        }\n        .noptin-form-preview .noptin-form-header .noptin-form-description {\n            ${e?.descriptionColor&&`color: ${e?.descriptionColor};`}\n            ${e?.descriptionTypography?.generated||""}\n            ${e?.descriptionAdvanced?.generated||""}\n        }\n        .noptin-form-preview .noptin-form-footer .noptin-form-note {\n            ${e?.noteColor&&`color: ${e?.noteColor};`}\n            ${e?.noteTypography?.generated||""}\n            ${e?.noteAdvanced?.generated||""}\n        }\n        ${e?.CSS||""}\n    `;return(0,g.jsx)("style",{dangerouslySetInnerHTML:{__html:t}})},ze=()=>{const[e]=(0,m.useEntityProp)("postType","noptin-form","meta"),t=e?._noptin_state||{};return(0,g.jsx)("div",{className:"noptin-form-field-wrapper noptin-form-field-submit noptin-optin-field-wrapper noptin-optin-field-submit",children:(0,g.jsx)("input",{type:"submit",style:{backgroundColor:t.noptinButtonBg,color:t.noptinButtonColor},value:t.noptinButtonLabel||"Subscribe Now",className:N("noptin-form-submit",!t.singleLine&&`noptin-form-button-${t.buttonPosition}`)})})},He=window.wp.blockEditor,$e=({setting:e,meta:t,children:n})=>Array.isArray(e.conditions)&&!e.conditions.every(e=>{const n=e.key.split("."),o=e.operator?e.operator:"==";return(0,l.compare)(e.value,o,(0,l.getNestedValue)(t,n))})?null:n,Ue={placement:"left-start",offset:36,shift:!0},Ve=({indicators:e,label:t})=>(0,g.jsxs)(d.__experimentalHStack,{justify:"flex-start",children:[(0,g.jsx)(d.__experimentalZStack,{isLayered:!1,offset:-8,children:e.map((e,t)=>(0,g.jsx)(d.Flex,{expanded:!1,children:(0,g.jsx)(d.ColorIndicator,{colorValue:e})},t))}),(0,g.jsx)(d.FlexItem,{className:"block-editor-panel-color-gradient-settings__color-name",children:t})]});function Ge({isGradient:e=!1,userValue:t,setValue:n,colorGradientControlSettings:o}){return(0,g.jsx)(He.__experimentalColorGradientControl,{...o,showTitle:!1,enableAlpha:!0,__experimentalIsRenderedInSidebar:!0,colorValue:e?void 0:t,gradientValue:e?t:void 0,onColorChange:e?void 0:n,onGradientChange:e?n:void 0,clearable:!0,headingLevel:3})}function We({label:e,indicators:t,tabs:n,colorGradientControlSettings:r,isFirst:i=!1,isLast:a=!1,...s}){const l=N("block-editor-tools-panel-color-gradient-settings__item",{first:i,last:a});return(0,g.jsx)(d.__experimentalToolsPanelItem,{className:l,label:e,...s,children:(0,g.jsx)(d.Dropdown,{popoverProps:Ue,className:"block-editor-tools-panel-color-gradient-settings__dropdown",renderToggle:({onToggle:n,isOpen:o})=>{const r={onClick:n,className:N("block-editor-panel-color-gradient-settings__dropdown",{"is-open":o}),"aria-expanded":o,"aria-label":"Color %s styles"};return(0,g.jsx)(d.Button,{...r,children:(0,g.jsx)(Ve,{indicators:t,label:e})})},renderContent:()=>(0,g.jsx)(d.__experimentalDropdownContentWrapper,{paddingSize:"none",children:(0,g.jsxs)("div",{className:"block-editor-panel-color-gradient-settings__dropdown-content",children:[1===n.length&&(0,g.jsx)(Ge,{...n[0],colorGradientControlSettings:r}),n.length>1&&(0,g.jsx)(d.TabPanel,{tabs:n,children:e=>e?(0,o.createElement)(Ge,{...e,key:e.title,colorGradientControlSettings:r}):null})]})})})})}const Ye=[{name:"Red",color:"#FF0000"},{name:"Blue",color:"#0000FF"},{name:"Green",color:"#00FF00"},{name:"Yellow",color:"#FFFF00"},{name:"Purple",color:"#800080"},{name:"Orange",color:"#FFA500"},{name:"Pink",color:"#FFC0CB"},{name:"Teal",color:"#008080"},{name:"Navy",color:"#000080"},{name:"Lime",color:"#00FF00"},{name:"Maroon",color:"#800000"},{name:"Olive",color:"#808000"},{name:"Gray",color:"#808080"},{name:"Silver",color:"#C0C0C0"},{name:"Black",color:"#000000"},{name:"White",color:"#FFFFFF"}],Ke=({setting:e,meta:t,setAttributes:n,settingKey:o})=>{const r=e.items.map(e=>{const o=e.tabs||[{...e}];return{isShownByDefault:!0,...e,hasValue:()=>o.some(({key:e})=>!!t?.[e]),onDeselect:()=>{const e=o.reduce((e,{key:t})=>(e[t]=void 0,e),{});n(e)},indicators:o.map(({key:e})=>t?.[e]),tabs:o.map(({key:e,label:o})=>({name:e,title:o,setValue:t=>n({[e]:t}),userValue:t?.[e]}))}}),i=r.length;return(0,g.jsx)(d.__experimentalToolsPanel,{label:e.label,resetAll:()=>{const e=r.reduce((e,t)=>((t.tabs||[{...t}]).forEach(({key:t})=>{e[t]=""}),e),{});n(e)},panelId:o,className:"color-block-support-panel",children:(0,g.jsx)("div",{className:"color-block-support-panel__inner-wrapper",style:{display:"grid",gridTemplateColumns:"repeat(2, minmax(0px, 1fr))",gap:"calc(16px) calc(8px)",gridColumn:"1 / -1",rowGap:0},children:r.map(({key:e,...n},r)=>(0,g.jsx)($e,{setting:{key:e,...n},meta:t,children:(0,g.jsx)(We,{...n,colorGradientControlSettings:{colors:Ye,disableCustomColors:!1},panelId:o,isFirst:0===r,isLast:r===i-1})},n.label))})})},qe=(e,t)=>{if(!e||!t)return"";const{color:n,style:o,width:r}=e;let i="";return void 0!==r&&(i+=`${t}-width: ${r.toString().match(/^\d+$/)?`${r}px`:r};`),void 0!==o&&(i+=`${t}-style: ${o};`),void 0!==n&&(i+=`${t}-color: ${n};`),i},Ze=e=>{if(!e)return"";let t="";if(e.border_radius)if("object"!=typeof e.border_radius)t+=`border-radius: ${e.border_radius.toString().match(/^\d+$/)?`${e.border_radius}px`:e.border_radius};`;else{const n=["topLeft","topRight","bottomRight","bottomLeft"].reduce((t,n)=>{const o=e.border_radius?.[n];return void 0!==o&&(t=`${t} ${o.toString().match(/^\d+$/)?`${o}px`:o}`),t},"");t+=`border-radius: ${n};`}if(e.border)(0,d.__experimentalHasSplitBorders)(e.border)?["top","right","bottom","left"].forEach(n=>{const o=e.border?.[n];t+=qe(o,`border-${n}`)}):t+=qe(e.border,"border");else{if(e.style&&(t+=`border-style: ${e.style};`),e.border_width){const n=e.border_width.toString().match(/^\d+$/)?`${e.border_width}px`:e.border_width;t+=`border-width: ${n};`}e.border_color&&(t+=`border-color: ${e.border_color};`)}return console.log(t),t},Xe=(e,t,n)=>{const r=e?.[t]||{};(0,o.useLayoutEffect)(()=>{const e=Ze(r);e!==r.generated&&n({[t]:{...r,generated:e}})},[r,t,n])},Je=({setting:e,meta:t,setAttributes:n,settingKey:o})=>{const r=t?.[o]||{};Xe(t,o,n);const i=e=>{const t={border:e,border_radius:r.border_radius,generated:""};n({[o]:{...t,generated:Ze(t)}})},a=e=>{const t={...r,border_radius:e,generated:""};n({[o]:{...t,generated:Ze(t)}})};let s=r.border;return s||(s={style:r.style,width:r.border_width,color:r.border_color}),(0,g.jsxs)(d.__experimentalToolsPanel,{label:e.label,resetAll:()=>n({[o]:{generated:""}}),panelId:o,className:"border-block-support-panel",children:[(0,g.jsx)(d.__experimentalToolsPanelItem,{hasValue:()=>(0,d.__experimentalIsDefinedBorder)(s),label:e.label,onDeselect:()=>i(void 0),isShownByDefault:!0,panelId:o,children:(0,g.jsx)(d.__experimentalBorderBoxControl,{colors:Ye,onChange:i,popoverOffset:40,popoverPlacement:"left-start",value:s,__experimentalIsRenderedInSidebar:!0,size:"__unstable-large"})}),(0,g.jsx)(d.__experimentalToolsPanelItem,{hasValue:()=>{const e=r?.border_radius;return"object"==typeof e?Object.entries(e).some(Boolean):!!e},label:(0,b.__)("Radius"),onDeselect:()=>a(void 0),isShownByDefault:!0,panelId:o,children:(0,g.jsx)(He.__experimentalBorderRadiusControl,{values:r?.border_radius,onChange:a})})]})},Qe=window.wp.primitives;var et=(0,g.jsx)(Qe.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,g.jsx)(Qe.Path,{d:"M13 5.5H4V4h9v1.5Zm7 7H4V11h16v1.5Zm-7 7H4V18h9v1.5Z"})}),tt=(0,g.jsx)(Qe.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,g.jsx)(Qe.Path,{d:"M7.5 5.5h9V4h-9v1.5Zm-3.5 7h16V11H4v1.5Zm3.5 7h9V18h-9v1.5Z"})}),nt=(0,g.jsx)(Qe.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,g.jsx)(Qe.Path,{d:"M11.111 5.5H20V4h-8.889v1.5ZM4 12.5h16V11H4v1.5Zm7.111 7H20V18h-8.889v1.5Z"})}),ot=(0,g.jsx)(Qe.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,g.jsx)(Qe.Path,{d:"M4 12.8h16v-1.5H4v1.5zm0 7h12.4v-1.5H4v1.5zM4 4.3v1.5h16V4.3H4z"})});const rt=[{label:(0,b.__)("Left"),value:"left",icon:et},{label:(0,b.__)("Center"),value:"center",icon:tt},{label:(0,b.__)("Right"),value:"right",icon:nt},{label:(0,b.__)("Justify"),value:"justify",icon:ot}],it=(e,t,n)=>{const r=e?.[t]||{};(0,o.useLayoutEffect)(()=>{const e=(e=>{if(!e)return"";let t="";return["padding","margin"].forEach(n=>{["top","right","bottom","left"].forEach(o=>{const r=e[n]?.[o];r&&(t+=`${n}-${o}: ${r.toString().match(/^\d+$/)?`${r}px`:r};`)})}),e.alignment&&(t+=`text-align: ${e.alignment};`),t})(r);e!==r.generated&&n({[t]:{...r,generated:e}})},[r,t,n])},at=({setting:e,meta:t,setAttributes:n,settingKey:o})=>{it(t,o,n);const r=t?.[o]||{},i=e=>[r[e],t=>n({[o]:{...r,[e]:t}}),()=>n({[o]:{...r,[e]:void 0}}),()=>!!r[e]],[a,s,l,c]=i("alignment"),[p,m,u,f]=i("margin"),[h,_,x,y]=i("padding"),[w,v,T,j]=i("classes");return(0,g.jsxs)(d.__experimentalToolsPanel,{label:e.label,resetAll:()=>n({[o]:{generated:""}}),panelId:o,className:"border-block-support-panel",children:[(0,g.jsx)(d.__experimentalToolsPanelItem,{label:(0,b.__)("Alignment"),hasValue:c,onDeselect:l,panelId:o,isShownByDefault:!0,children:(0,g.jsx)(d.__experimentalToggleGroupControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,isDeselectable:!0,isBlock:!0,label:(0,b.__)("Alignment"),value:a,onChange:s,children:rt.map((e,t)=>(0,g.jsx)(d.__experimentalToggleGroupControlOptionIcon,{...e},t))})}),(0,g.jsx)(d.__experimentalToolsPanelItem,{label:(0,b.__)("Padding"),hasValue:y,onDeselect:x,panelId:o,children:(0,g.jsx)(d.__experimentalBoxControl,{values:h,onChange:_,label:(0,b.__)("Padding"),allowReset:!1,__next40pxDefaultSize:!0})}),(0,g.jsx)(d.__experimentalToolsPanelItem,{label:(0,b.__)("Margin"),hasValue:f,onDeselect:u,panelId:o,children:(0,g.jsx)(d.__experimentalBoxControl,{values:p,onChange:m,label:(0,b.__)("Margin"),allowReset:!1,__next40pxDefaultSize:!0})}),(0,g.jsx)(d.__experimentalToolsPanelItem,{className:"single-column",label:(0,b.__)("CSS Classes"),hasValue:j,onDeselect:T,panelId:o,children:(0,g.jsx)(d.__experimentalInputControl,{value:w,onChange:v,size:"__unstable-large",label:(0,b.__)("CSS Classes"),isPressEnterToChange:!0,__next40pxDefaultSize:!0})})]})},st=['apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif',"Arial, Helvetica, sans-serif",'"Arial Black", Gadget, sans-serif',"Verdana, Geneva, sans-serif","Times New Roman, Times, serif","Georgia, serif","Courier New, Courier, monospace","Tahoma, Geneva, sans-serif","Calibri, Arial, sans-serif","Trebuchet MS, sans-serif","Lucida Grande, sans-serif","Palatino, serif",'"Palatino Linotype", "Book Antiqua", Palatino, serif','"Comic Sans MS", cursive, sans-serif',"Impact, Charcoal, sans-serif"],lt=({value:e,onChange:t})=>{const n=st.map(n=>({title:(0,g.jsx)("span",{style:{fontFamily:n},children:(0,g.jsx)(d.__experimentalTruncate,{limit:25,ellipsizeMode:"tail",children:n})}),onClick:()=>t(n),isActive:e===n,label:n}));return(0,g.jsx)(d.__experimentalInputControlSuffixWrapper,{children:(0,g.jsx)(d.DropdownMenu,{icon:"admin-customizer",label:(0,b.__)("Font family","newsletter-optin-box"),controls:n,noIcons:!0})})},ct=({value:e,onChange:t})=>(0,g.jsx)(d.__experimentalInputControl,{label:(0,b.__)("Font family","newsletter-optin-box"),value:e,onChange:t,suffix:(0,g.jsx)(lt,{value:e,onChange:t}),isPressEnterToChange:!0,__next40pxDefaultSize:!0}),pt=[{name:(0,b.__)("Small"),slug:"small",size:13},{name:(0,b.__)("Normal"),slug:"normal",size:16},{name:(0,b.__)("Medium"),slug:"medium",size:20},{name:(0,b.__)("Large"),slug:"large",size:30},{name:(0,b.__)("Huge"),slug:"huge",size:42}],dt=(e,t,n)=>{const r=e?.[t]||{};(0,o.useLayoutEffect)(()=>{const e=(e=>{if(!e)return"";const t=[];return e.font_size&&t.push(`font-size: ${e.font_size.toString().match(/^\d+$/)?`${e.font_size}px`:e.font_size}`),e.font_weight&&t.push(`font-weight: ${e.font_weight}`),e.line_height&&t.push(`line-height: ${e.line_height}`),e.letter_spacing&&t.push(`letter-spacing: ${e.letter_spacing}`),e.text_transform&&t.push(`text-transform: ${e.text_transform}`),e.decoration&&t.push(`text-decoration: ${e.decoration}`),e.style&&t.push(`font-style: ${e.style}`),e.family&&t.push(`font-family: ${e.family}`),t.length?t.join("; ")+";":""})(r);e!==r.generated&&n({[t]:{...r,generated:e}})},[r,t,n])},mt=({setting:e,meta:t,setAttributes:n,settingKey:o})=>{dt(t,o,n);const r=t?.[o]||{},i=e=>[r[e],t=>n({[o]:{...r,[e]:t}}),()=>n({[o]:{...r,[e]:void 0}}),()=>!!r[e]],[a,s,l,c]=i("family"),[p,m,u,f]=i("font_size"),[h,,,_]=i("style"),[x,,,y]=i("font_weight"),[w,v,T,j]=i("line_height"),[S,C,E,A]=i("letter_spacing"),[N,k,D,I]=i("text_transform"),[P,R,L,O]=i("decoration");return(0,g.jsxs)(d.__experimentalToolsPanel,{label:e.label,resetAll:()=>n({[o]:{generated:""}}),panelId:o,className:"border-block-support-panel",children:[(0,g.jsx)(d.__experimentalToolsPanelItem,{label:(0,b.__)("Font family"),hasValue:c,onDeselect:l,panelId:o,children:(0,g.jsx)(ct,{value:a||"",onChange:s})}),(0,g.jsx)(d.__experimentalToolsPanelItem,{label:(0,b.__)("Font size"),hasValue:f,onDeselect:u,isShownByDefault:!0,panelId:o,children:(0,g.jsx)(d.FontSizePicker,{value:p,onChange:m,fontSizes:pt,disableCustomFontSizes:!1,withReset:!1,units:["px","em","rem"],withSlider:!0,size:"__unstable-large",__nextHasNoMarginBottom:!0})}),(0,g.jsx)(d.__experimentalToolsPanelItem,{className:"single-column",label:(0,b.__)("Appearance"),hasValue:()=>_()||y(),onDeselect:()=>{n({[o]:{...r,style:void 0,font_weight:void 0}})},panelId:o,children:(0,g.jsx)(He.__experimentalFontAppearanceControl,{value:{fontStyle:h,fontWeight:x},onChange:({fontStyle:e,fontWeight:t})=>{n({[o]:{...r,style:e,font_weight:t}})},hasFontStyles:!0,hasFontWeights:!0,size:"__unstable-large"})}),(0,g.jsx)(d.__experimentalToolsPanelItem,{className:"single-column",label:(0,b.__)("Line height"),hasValue:j,onDeselect:T,panelId:o,children:(0,g.jsx)(He.LineHeightControl,{__nextHasNoMarginBottom:!0,__unstableInputWidth:"auto",value:w,onChange:v,size:"__unstable-large"})}),(0,g.jsx)(d.__experimentalToolsPanelItem,{className:"single-column",label:(0,b.__)("Letter spacing"),hasValue:A,onDeselect:E,panelId:o,children:(0,g.jsx)(He.__experimentalLetterSpacingControl,{value:S,onChange:C,size:"__unstable-large",__unstableInputWidth:"auto"})}),(0,g.jsx)(d.__experimentalToolsPanelItem,{className:"single-column",label:(0,b.__)("Text decoration"),hasValue:O,onDeselect:L,panelId:o,children:(0,g.jsx)(He.__experimentalTextDecorationControl,{value:P,onChange:R,size:"__unstable-large",__unstableInputWidth:"auto"})}),(0,g.jsx)(d.__experimentalToolsPanelItem,{label:(0,b.__)("Letter case"),hasValue:I,onDeselect:D,panelId:o,children:(0,g.jsx)(He.__experimentalTextTransformControl,{value:N,onChange:k,showNone:!0,isBlock:!0,size:"__unstable-large",__nextHasNoMarginBottom:!0})})]})},ut=({state:e})=>{if(!e.image&&e.hidePrefix&&e.hideTitle&&e.hideDescription)return null;const t=!e.hidePrefix||!e.hideTitle||!e.hideDescription;return(0,g.jsxs)("div",{className:N("noptin-form-header",e.image?`noptin-img-${e.imagePos}`:"no-image"),children:[t&&(0,g.jsxs)("div",{className:"noptin-form-header-text",children:[!e.hidePrefix&&(0,g.jsx)(Fe,{field:"prefix"}),!e.hideTitle&&(0,g.jsx)(Fe,{field:"title"}),!e.hideDescription&&(0,g.jsx)(Fe,{field:"description"})]}),e.image&&(0,g.jsx)("div",{className:"noptin-form-header-image",children:(0,g.jsx)("img",{src:e.image})})]})},ft=({state:e})=>e.hideFields&&e.hideNote?null:(0,g.jsxs)("div",{className:"noptin-form-footer",children:[!e.hideFields&&(0,g.jsxs)("div",{className:"noptin-form-fields",children:[Array.isArray(e.fields)&&e.fields.map(({key:e,type:t})=>(0,g.jsx)(r().Fragment,{children:t&&(0,g.jsx)("div",{className:`noptin-form-field-wrapper noptin-form-field-wrapper-${t.type} noptin-optin-field-wrapper noptin-optin-field-wrapper-${t.type}`,children:(0,g.jsx)(Me,{...t})})},e)),e.gdprCheckbox&&!e.singleLine&&(0,g.jsx)("div",{className:"noptin-gdpr-checkbox-wrapper",style:{marginBottom:10},children:(0,g.jsxs)("label",{children:[(0,g.jsx)("input",{type:"checkbox",required:!0}),(0,g.jsx)(ke.RawHTML,{children:Ne.sanitize(e.gdprConsentText)})]})}),(0,g.jsx)(ze,{})]}),!e.hideFields&&e.singleLine&&e.gdprCheckbox&&(0,g.jsx)("div",{className:"noptin-gdpr-checkbox-wrapper",style:{marginBottom:10},children:(0,g.jsxs)("label",{children:[(0,g.jsx)("input",{type:"checkbox",required:!0}),(0,g.jsx)(ke.RawHTML,{children:Ne.sanitize(e.gdprConsentText)})]})}),!e.hideNote&&(0,g.jsx)(Fe,{field:"note"})]}),ht={popup:{width:"620px",height:"280px"},slide_in:{width:"400px",height:"280px"},sidebar:{width:"300px",height:"400px"}},gt=[["#ff1744","#fafafa","#d50000"],["#f50057","#fafafa","#c51162"],["#d500f9","#fafafa","#aa00ff"],["#651fff","#fafafa","#6200ea"],["#3d5afe","#fafafa","#304ffe"],["#2979ff","#fafafa","#2962ff"],["#00b0ff","#fafafa","#0091ea"],["#00e5ff","#fafafa","#00b8d4"],["#1de9b6","#191919","#00bfa5"],["#00e676","#191919","#00c853"],["#76ff03","#191919","#64dd17"],["#c6ff00","#191919","#aeea00"],["#ffea00","#191919","#ffd600"],["#ffc400","#191919","#ffab00"],["#ff9100","#fafafa","#ff6d00"],["#ff3d00","#fafafa","#dd2c00"],["#ff4081","#fafafa","#f50057"],["#7c4dff","#fafafa","#6200ea"],["#536dfe","#fafafa","#3d5afe"],["#40c4ff","#191919","#00b0ff"],["#18ffff","#191919","#00e5ff"],["#64ffda","#191919","#1de9b6"],["#69f0ae","#191919","#00e676"],["#b2ff59","#191919","#76ff03"],["#eeff41","#191919","#c6ff00"],["#ffd740","#191919","#ffc400"],["#ffab40","#191919","#ff9100"],["#ff6e40","#fafafa","#ff3d00"],["#39ff14","#191919","#0bff01"],["#ff1493","#fafafa","#ff0080"],["#00ffff","#191919","#00e5ff"],["#ff00ff","#fafafa","#f500f5"],["#ff6600","#fafafa","#ff4400"],["#ffff00","#191919","#ffea00"],["#ff6b6b","#fafafa","#4ecdc4"],["#a40606","#fafafa","#d98324"],["#7b4397","#fafafa","#dc2430"],["#11998e","#fafafa","#38ef7d"],["#fc4a1a","#fafafa","#f7b733"],["#00f260","#191919","#0575e6"],["#313131","#fafafa","#607d8b"],["#ffffff","#191919","#191919"],["#aaaaaa","#191919","#191919"]],_t=()=>{const[e]=(0,m.useEntityProp)("postType","noptin-form","id"),[t,n]=(0,m.useEntityProp)("postType","noptin-form","meta"),r=window.noptinForm?.templates,i=t?._noptin_state||{},a=(0,o.useRef)(!0),s=e=>{n({...t,_noptin_state:{...i,...e}})};Xe(i,"formBorder",s),it(i,"prefixAdvanced",s),it(i,"titleAdvanced",s),it(i,"descriptionAdvanced",s),it(i,"noteAdvanced",s),dt(i,"prefixTypography",s),dt(i,"titleTypography",s),dt(i,"descriptionTypography",s),dt(i,"noteTypography",s),(0,o.useEffect)(()=>{a.current?a.current=!1:i.optinType&&n({...t,_noptin_state:{...i,formHeight:ht[i.optinType]?.height||"280px",formWidth:ht[i.optinType]?.width||"620px"}})},[i.optinType]);const{baseControlProps:c,controlProps:p}=(0,d.useBaseControlProps)({label:(0,b.__)("Preview","newsletter-optin-box"),help:(0,b.__)("The form may look slightly different than this when shown in a post, page or widget area.","newsletter-optin-box")});return(0,g.jsx)(l.ErrorBoundary,{children:(0,g.jsxs)(d.BaseControl,{...c,__nextHasNoMarginBottom:!0,children:[(0,g.jsx)(Be,{state:i}),(0,g.jsxs)(d.__experimentalVStack,{spacing:4,children:[(0,g.jsxs)(d.__experimentalHStack,{justify:"flex-start",wrap:!0,children:[r&&(0,g.jsx)(d.DropdownMenu,{icon:"art",label:(0,b.__)("Change template","newsletter-optin-box"),text:(0,b.__)("Change template","newsletter-optin-box"),toggleProps:{variant:"secondary"},controls:Object.entries(r).map(([e,{title:o,data:r}])=>(r.noptinFormBorderColor&&!r.formBorder&&(r.formBorder={border_color:r.noptinFormBorderColor,generated:`border-color: ${r.noptinFormBorderColor};`}),{title:o,onClick:()=>n({...t,_noptin_state:{...i,hideFields:!1,gdprCheckbox:!1,formBorder:{style:"none",border_radius:0,border_width:0,border_color:"#f8f9fa",generated:"border-style: none; border-radius: 0px; border-width: 0px; border-color: #f8f9fa;"},titleAdvanced:{},descriptionAdvanced:{},noteAdvanced:{},prefixAdvanced:{},formHeight:i.optinType&&ht[i.optinType]?.height||"280px",formWidth:i.optinType&&ht[i.optinType]?.width||"620px",...r}})}))}),(0,g.jsx)(d.DropdownMenu,{icon:"marker",label:(0,b.__)("Change color theme","newsletter-optin-box"),text:(0,b.__)("Change color theme","newsletter-optin-box"),toggleProps:{variant:"secondary"},controls:gt.map(e=>({title:(0,g.jsxs)(d.__experimentalHStack,{children:[(0,g.jsx)(d.ColorIndicator,{colorValue:e[0]}),(0,g.jsx)(d.ColorIndicator,{colorValue:e[2]}),(0,g.jsx)(d.ColorIndicator,{colorValue:e[1]})]}),onClick:()=>{const o={...i};e.length&&(o.noptinFormBg=e[0],o.formBorder.border_color=e[2],o.noptinButtonColor=e[0],o.noptinButtonBg=e[1],o.titleColor=e[1],o.descriptionColor=e[1],o.noteColor=e[1]),n({...t,_noptin_state:o})}}))})]}),(0,g.jsxs)("div",{...p,className:N("noptin-optin-form-wrapper",i.imageMain?`noptin-img-${i.imageMainPos}`:"no-image"),children:[(0,g.jsxs)("form",{className:N("noptin-optin-form",i.showLabels?"noptin-label-show":"noptin-label-hide",i.singleLine?"noptin-form-single-line":"noptin-form-new-line"),onSubmit:e=>e.preventDefault(),children:[(0,g.jsx)(ut,{state:i}),(0,g.jsx)(ft,{state:i})]}),i.imageMain&&(0,g.jsx)("div",{className:"noptin-form-main-image",children:(0,g.jsx)("img",{src:i.imageMain})})]}),"inpost"===i.optinType&&(0,g.jsxs)(d.__experimentalVStack,{spacing:4,children:[(0,g.jsxs)(d.__experimentalText,{variant:"muted",align:"center",children:[(0,b.__)("Shortcode","newsletter-optin-box"),":",(0,g.jsxs)("code",{children:["[noptin form=",e,"]"]}),(0,g.jsx)(d.Tooltip,{text:(0,b.__)("Use this shortcode to display the form inside your post, page, or text widget content.","newsletter-optin-box"),children:(0,g.jsx)("span",{className:"dashicons dashicons-editor-help"})})]}),(0,g.jsxs)(d.__experimentalText,{variant:"muted",align:"center",children:[(0,b.__)("PHP Snippet","newsletter-optin-box"),":",(0,g.jsx)("code",{children:`<?php show_noptin_form(${e}); ?>`}),(0,g.jsx)(d.Tooltip,{text:(0,b.__)("Use this PHP snippet to display the form inside your theme template files.","newsletter-optin-box"),children:(0,g.jsx)("span",{className:"dashicons dashicons-editor-help"})})]}),(0,g.jsx)(d.__experimentalText,{variant:"muted",align:"center",children:(0,g.jsx)("a",{href:"https://noptin.com/guide/subscription-forms/preventing-spam-sign-ups/?utm_medium=Documentation&utm_campaign=Subscription%20Forms&utm_term=Spam%20Sign-ups&utm_source=Noptin%20Plugin%20Dashboard",target:"_blank",rel:"noopener noreferrer",children:(0,b.__)("Learn how to prevent spam sign-ups","newsletter-optin-box")})})]})]})]})})},xt=[{label:(0,b.__)("Popup","newsletter-optin-box"),value:"popup"},{label:(0,b.__)("Shortcode","newsletter-optin-box"),value:"inpost"},{label:(0,b.__)("Widget","newsletter-optin-box"),value:"sidebar"},{label:(0,b.__)("Sliding","newsletter-optin-box"),value:"slide_in"}],bt=()=>{const[e,t]=(0,m.useEntityProp)("postType","noptin-form","meta"),n=e?._noptin_state||{},r=e?._noptin_optin_type,i=o=>{t({...e,_noptin_optin_type:o,_noptin_state:{...n,optinType:o}})};return(0,o.useEffect)(()=>{r||i("inpost")},[]),(0,o.useEffect)(()=>{r&&r!==n.optinType&&t({...e,_noptin_state:{...n,optinType:r}})},[r,n.optinType]),(0,g.jsx)(l.ErrorBoundary,{children:(0,g.jsx)(d.__experimentalToggleGroupControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,isDeselectable:!1,isBlock:!0,label:(0,b.__)("Form type"),value:r,onChange:i,children:xt.map((e,t)=>(0,g.jsx)(d.__experimentalToggleGroupControlOption,{...e},t))})})},yt=()=>(0,g.jsx)(d.Flex,{justify:"center",children:(0,g.jsxs)(d.__experimentalVStack,{className:"noptin-form-preview",spacing:8,children:[(0,g.jsx)(l.ErrorBoundary,{children:(0,g.jsx)(E,{})}),(0,g.jsx)(l.ErrorBoundary,{children:(0,g.jsx)(bt,{})}),(0,g.jsx)(l.ErrorBoundary,{children:(0,g.jsx)(_t,{})})]})}),wt=({setting:e})=>{const t=(0,o.useRef)(null);return(0,o.useEffect)(()=>{if(!e.listen_to||!t.current)return;const n=n=>{if(n.target.closest(e.listen_to)){t.current?.scrollIntoView({behavior:"smooth",block:"start"});const e=t.current?.querySelector("[aria-expanded=false].components-panel__body-toggle");e?.click()}},o=document.getElementById("noptin-form-editor");return o?(o.addEventListener("click",n),()=>o.removeEventListener("click",n)):void 0},[e.listen_to,t.current]),(0,g.jsx)(d.PanelBody,{title:e.title,initialOpen:!1,ref:t,children:(0,g.jsx)(d.__experimentalVStack,{spacing:4,children:(0,g.jsx)(Tt,{settings:e.children})})})},vt=({setting:e,settingKey:t,meta:n,setAttributes:o})=>"panel"===e.el?(0,g.jsx)($e,{meta:n,setting:e,children:(0,g.jsx)(wt,{setting:e,meta:n})}):"border"===e.el?(0,g.jsx)($e,{meta:n,setting:e,children:(0,g.jsx)(Je,{setting:e,meta:n,settingKey:t,setAttributes:o})}):"color_panel"===e.el?(0,g.jsx)($e,{meta:n,setting:e,children:(0,g.jsx)(Ke,{setting:e,meta:n,settingKey:t,setAttributes:o})}):"typography"===e.el?(0,g.jsx)($e,{meta:n,setting:e,children:(0,g.jsx)(mt,{setting:e,meta:n,settingKey:t,setAttributes:o})}):"advanced"===e.el?(0,g.jsx)($e,{meta:n,setting:e,children:(0,g.jsx)(at,{setting:e,meta:n,settingKey:t,setAttributes:o})}):(0,g.jsx)(l.Setting,{settingKey:t,setting:e,saved:n,setAttributes:o}),Tt=({settings:e})=>{const[t,n]=(0,m.useEntityProp)("postType","noptin-form","meta"),r=t?._noptin_state||{},i=(0,o.useCallback)(e=>{n({...t,_noptin_state:{...r,...e}})},[t,n]);return(0,g.jsx)(g.Fragment,{children:Object.keys(e).map(t=>(0,g.jsx)(l.ErrorBoundary,{children:(0,g.jsx)(vt,{settingKey:t,setting:e[t],meta:r,setAttributes:i})},t))})},jt=window.noptinForm?.settings||{},St=Object.keys(jt).map(e=>{const{label:t,...n}=jt[e];return{key:e,label:t,settings:n}}),Ct=()=>{const[e,t]=(0,o.useState)(St[0]?.key),n=St.find(t=>t.key===e),r=(0,o.useCallback)(n=>{const o=n.target;if(o.closest(".noptin-optin-form")){if(!St.find(e=>"design"===e.key)||"design"===e)return;t("design"),n.stopPropagation(),setTimeout(()=>{o.click()},100)}},[e]);return(0,o.useEffect)(()=>(window.addEventListener("click",r),()=>{window.removeEventListener("click",r)}),[r]),(0,g.jsxs)("div",{id:"noptin-form-editor__sidebar",className:"interface-complementary-area",children:[(0,g.jsx)("div",{className:"components-panel__header interface-complementary-area-header",tabIndex:-1,children:(0,g.jsx)("ul",{children:St.map(n=>(0,g.jsx)("li",{children:(0,g.jsx)(d.Button,{onClick:()=>t(n.key),className:N("edit-form-sidebar__panel-tab",n.key.replace(/\//g,"__").toLowerCase(),{"is-active":e===n.key}),"aria-label":e===n.key?(0,b.sprintf)((0,b.__)("%s (selected)"),n.label||n.key):n.label||n.key,"data-label":n.label||n.key,children:n.label||n.key})},n.key))})}),n&&(0,g.jsx)(Tt,{settings:n.settings})]})},Et=(0,w.getQueryArg)(window.location.href,"tab")||"settings",At=St.map(({key:e,label:t,settings:n})=>({name:e,title:t,settings:n}));function Nt(){const e=(0,u.useViewportMatch)("small","<");return(0,g.jsx)(l.ErrorBoundary,{children:(0,g.jsx)(d.TabPanel,{initialTabName:Et,orientation:e?"vertical":"horizontal",tabs:At,className:"noptin-settings__tabs",children:e=>(0,g.jsx)(g.Fragment,{children:"preview"===e.name?(0,g.jsx)(yt,{}):(0,g.jsx)(Tt,{settings:e.settings})})})})}At.push({name:"preview",title:(0,b.__)("Preview"),settings:{}});const kt=()=>{const[e,t]=(0,o.useState)(!1),[n,r]=(0,o.useState)(null),{postStatus:i,isAutosavingPost:a,isSavingPost:s,postId:l}=(0,c.useSelect)(e=>{const{getCurrentPostAttribute:t,isAutosavingPost:n,isSavingPost:o,getCurrentPostId:r}=e(p.store);return{postStatus:t("status"),isAutosavingPost:n(),isSavingPost:o(),postId:r()}},[]);if((0,o.useEffect)(()=>{a||s||"publish"!==i||"publish"===n||null===n||t(!0),s||r(i)},[i,n,a,s]),!e)return null;const m=[{title:(0,b.__)("Add a Welcome Email","newsletter-optin-box"),description:(0,b.__)("Send new subscribers a welcome email to engage them from the start.","newsletter-optin-box"),url:"https://noptin.com/guide/email-subscribers/welcome-new-subscribers/",icon:"email"},{title:(0,b.__)("Prevent SPAM Sign-ups","newsletter-optin-box"),description:(0,b.__)("Protect your forms from spam with reCAPTCHA and other security measures.","newsletter-optin-box"),url:"https://noptin.com/guide/subscription-forms/preventing-spam-sign-ups/",icon:"lock"}];return(0,g.jsx)(d.Modal,{title:(0,b.__)("Form Published Successfully!","newsletter-optin-box")+"",onRequestClose:()=>t(!1),size:"medium",children:(0,g.jsxs)(d.__experimentalVStack,{spacing:4,children:[(0,g.jsx)("p",{children:(0,b.__)("Your subscription form is now live! Here are some next steps to help you get the most out of your form:","newsletter-optin-box")}),(0,g.jsx)(d.__experimentalVStack,{spacing:3,children:m.map((e,t)=>(0,g.jsx)(d.Card,{size:"small",children:(0,g.jsx)(d.CardBody,{children:(0,g.jsxs)(d.__experimentalHStack,{alignment:"flex-start",justify:"flex-start",spacing:3,as:"a",href:e.url,target:"_blank",style:{textDecoration:"none",color:"inherit"},wrap:!0,children:[(0,g.jsx)("div",{style:{color:"#2563eb",backgroundColor:"#dbeafe",borderRadius:8,padding:8},children:(0,g.jsx)(d.Icon,{icon:e.icon,size:20})}),(0,g.jsx)(d.FlexBlock,{children:(0,g.jsxs)(d.__experimentalVStack,{spacing:2,children:[(0,g.jsx)(d.__experimentalHeading,{level:5,children:e.title}),(0,g.jsx)(d.__experimentalText,{variant:"muted",children:e.description}),(0,g.jsx)(d.Button,{variant:"link",children:(0,b.__)("Learn More ","newsletter-optin-box")})]})})]})})},t))}),(0,g.jsxs)(d.__experimentalHStack,{justify:"flex-end",children:[(0,g.jsx)(d.Button,{variant:"secondary",onClick:()=>t(!1),__next40pxDefaultSize:!0,children:(0,b.__)("Got it!","newsletter-optin-box")}),(0,g.jsx)(d.Button,{variant:"primary",className:"editor-post-preview",href:T(l),target:`wp-preview-${l}`,role:"link",__next40pxDefaultSize:!0,children:(0,b._x)("Preview","imperative verb")})]})]})})},Dt=(0,g.jsx)(f.Footer,{children:(0,g.jsx)("a",{href:"https://wordpress.org/support/plugin/newsletter-optin-box/reviews/?filter=5",target:"_blank",rel:"noreferrer",children:(0,g.jsx)(d.__experimentalText,{size:14,variant:"muted",children:"Thank you for using Noptin. Please leave us a review "})})});function It(){const e=(0,u.useViewportMatch)("small","<"),t=()=>(0,g.jsxs)(d.__experimentalVStack,{children:[(0,g.jsx)(x,{}),(0,g.jsx)(_,{}),(0,g.jsx)(l.ErrorBoundary,{children:e?(0,g.jsx)(Nt,{}):(0,g.jsx)(yt,{})})]});return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(f.Interface,{storeName:"noptin/form-editor",className:"noptin-app__interface",header:(0,g.jsx)(C,{}),content:(0,g.jsx)(t,{}),sidebar:e?void 0:(0,g.jsx)(Ct,{}),footer:Dt}),(0,g.jsx)(l.ErrorBoundary,{children:(0,g.jsx)(kt,{})})]})}const Pt={__unstableIsPreviewMode:!0,allowedBlockTypes:!1},Rt=(0,o.memo)(({post:e})=>{const t=(0,o.useMemo)(()=>e?.meta?._noptin_state&&"object"==typeof e.meta._noptin_state&&0!==Object.keys(e.meta._noptin_state).length?{}:{random:["hello","world"],meta:{...e?.meta,_noptin_state:{...window.noptinForm?.default_form,...window.noptinForm?.form_settings}}},[e]);return(0,g.jsxs)(p.EditorProvider,{post:e,settings:Pt,initialEdits:t,useSubRegistry:!1,children:[(0,g.jsx)(p.UnsavedChangesWarning,{}),(0,g.jsx)(p.PostLockedModal,{}),(0,g.jsx)(l.ErrorBoundary,{children:(0,g.jsx)(It,{})})]})}),Lt=function({postId:e,postType:t}){const{post:n,hasFinishedResolution:o,hasErrored:r}=(0,c.useSelect)(n=>{const{hasResolutionFailed:o,hasFinishedResolution:r,getEntityRecord:i}=n(m.store);return{post:i("postType",t,e),hasFinishedResolution:r("getEntityRecord",["postType",t,e]),hasErrored:o("getEntityRecord",["postType",t,e])}},[t,e]);return r?(0,g.jsx)(d.Notice,{status:"error",children:"Form not found"}):o?n?(0,g.jsx)(d.SlotFillProvider,{children:(0,g.jsx)(Rt,{post:n})}):(0,g.jsx)(d.Notice,{status:"error",children:"Form not found"}):(0,g.jsx)(d.Spinner,{})},Ot=(0,g.jsx)(l.ErrorBoundary,{children:(0,g.jsx)(Lt,{postType:"noptin-form",postId:window.noptinForm?.form})});s()(()=>{const e=document.createElement("div");e.id="noptin-form-editor",e.className="block-editor",e.innerHTML='<span class="spinner" style="float: none; visibility: visible;"></span>',document.getElementById("wpbody-content").appendChild(e);const t=document.getElementById("noptin-form-editor");t&&(0,i.H)(t).render(Ot)})}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,o),i.exports}o.m=t,e=[],o.O=(t,n,r,i)=>{if(!n){var a=1/0;for(p=0;p<e.length;p++){for(var[n,r,i]=e[p],s=!0,l=0;l<n.length;l++)(!1&i||a>=i)&&Object.keys(o.O).every(e=>o.O[e](n[l]))?n.splice(l--,1):(s=!1,i<a&&(a=i));if(s){e.splice(p--,1);var c=r();void 0!==c&&(t=c)}}return t}i=i||0;for(var p=e.length;p>0&&e[p-1][2]>i;p--)e[p]=e[p-1];e[p]=[n,r,i]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={830:0,98:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,i,[a,s,l]=n,c=0;if(a.some(t=>0!==e[t])){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);if(l)var p=l(o)}for(t&&t(n);c<a.length;c++)i=a[c],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(p)},n=globalThis.webpackChunknoptin_premium=globalThis.webpackChunknoptin_premium||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=o.O(void 0,[98],()=>o(7133));r=o.O(r)})();