(()=>{"use strict";var e={20:(e,t,o)=>{var r=o(609),n=Symbol.for("react.element"),i=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,o){var r,a={},c=null,p=null;for(r in void 0!==o&&(c=""+o),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(p=t.ref),t)i.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:n,type:e,key:c,ref:p,props:a,_owner:l.current}}},848:(e,t,o)=>{e.exports=o(20)},609:e=>{e.exports=window.React}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,o),i.exports}const r=window.wp.blocks;var n=o(609);const i=window.wp.i18n,l=window.wp.blockEditor,s=window.wp.components,a=window.wp.coreData,c=window.wp.data,p=window.wp.htmlEntities,d=window.wp.primitives;var u=o(848);const w=(0,u.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(d.Path,{d:"M15.5 9.5a1 1 0 100-2 1 1 0 000 2zm0 1.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5zm-2.25 6v-2a2.75 2.75 0 00-2.75-2.75h-4A2.75 2.75 0 003.75 15v2h1.5v-2c0-.69.56-1.25 1.25-1.25h4c.69 0 1.25.56 1.25 1.25v2h1.5zm7-2v2h-1.5v-2c0-.69-.56-1.25-1.25-1.25H15v-1.5h2.5A2.75 2.75 0 0120.25 15zM9.5 8.5a1 1 0 11-2 0 1 1 0 012 0zm1.5 0a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z",fillRule:"evenodd"})}),f={per_page:100};(0,r.registerBlockType)("noptin/form",{edit:({attributes:e,setAttributes:t,clientId:o})=>{const d=(0,l.useBlockProps)(),{replaceBlock:u}=(0,c.useDispatch)(l.store),{forms:m,hasFinishedResolution:v,hasErrored:_}=(0,c.useSelect)((e=>{const{hasResolutionFailed:t,hasFinishedResolution:o,getEntityRecords:r}=e(a.store);return{forms:r("postType","noptin-form",f),hasFinishedResolution:o("getEntityRecords",["postType","noptin-form",f]),hasErrored:t("getEntityRecords",["postType","noptin-form",f])}}),[]);if(!v)return(0,n.createElement)("div",{...d},(0,n.createElement)(s.Spinner,null));if(_)return(0,n.createElement)("div",{...d},(0,n.createElement)(s.Notice,{status:"error"},(0,i.__)("An error occurred while fetching forms.","newsletter-optin-box")));const h=[{label:(0,i.__)("Default form","newsletter-optin-box"),value:"0"},{label:(0,i.__)("Single-line / Horizontal form","newsletter-optin-box"),value:"-1"}];return Array.isArray(m)&&m.forEach((e=>{h.push({label:(0,p.decodeEntities)(e.title.raw),value:`${e.id}`})})),(0,n.createElement)("div",{...d},(0,n.createElement)(s.Placeholder,{icon:w,label:(0,i.__)("Newsletter Form","newsletter-optin-box"),instructions:(0,i.__)("Select a newsletter form to display.","newsletter-optin-box"),isColumnLayout:!0},(0,n.createElement)(s.SelectControl,{label:(0,i.__)("Select Newsletter Form","newsletter-optin-box"),value:e.form,options:h,onChange:e=>{t({form:e})},hideLabelFromVision:!0}),(0,n.createElement)("div",null,(0,n.createElement)(s.Button,{variant:"primary",onClick:function(){u(o,(0,r.createBlock)("noptin/email-optin",{style:{color:{text:"#32373c",background:"#eeeeee"},elements:{button:{color:{text:"#fafafa",background:"#313131"}}},border:{color:"#eeeeee",radius:"0px",style:"solid",width:"2px"},...e.style||{}}}))},text:(0,i.__)("Or create a new form","newsletter-optin-box")}))))},icon:w,save:function(e){return null}})})();