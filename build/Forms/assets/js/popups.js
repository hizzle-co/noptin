(()=>{"use strict";var e,t={6042:()=>{const e=":not([inert]):not([inert] *)",t=':not([tabindex^="-"])',i=":not(:disabled)";var n=[`a[href]${e}${t}`,`area[href]${e}${t}`,`input:not([type="hidden"]):not([type="radio"])${e}${t}${i}`,`input[type="radio"]${e}${t}${i}`,`select${e}${t}${i}`,`textarea${e}${t}${i}`,`button${e}${t}${i}`,`details${e} > summary:first-of-type${t}`,`iframe${e}${t}`,`audio[controls]${e}${t}`,`video[controls]${e}${t}`,`[contenteditable]${e}${t}`,`[tabindex]${e}${t}`];function o(e){(e.querySelector("[autofocus]")||e).focus()}function r(e,t){if(t&&d(e))return e;if(function(e){return!(e.shadowRoot&&"-1"===e.getAttribute("tabindex")||e.matches(":disabled,[hidden],[inert]"))}(e))if(e.shadowRoot){let i=s(e.shadowRoot,t);for(;i;){const e=r(i,t);if(e)return e;i=a(i,t)}}else if("slot"===e.localName){const i=e.assignedElements({flatten:!0});t||i.reverse();for(const e of i){const i=r(e,t);if(i)return i}}else{let i=s(e,t);for(;i;){const e=r(i,t);if(e)return e;i=a(i,t)}}return!t&&d(e)?e:null}function s(e,t){return t?e.firstElementChild:e.lastElementChild}function a(e,t){return t?e.nextElementSibling:e.previousElementSibling}const d=e=>!e.shadowRoot?.delegatesFocus&&e.matches(n.join(","))&&!(e=>!(!e.matches("details:not([open]) *")||e.matches("details>summary:first-of-type"))||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length))(e);function l(e=document){const t=e.activeElement;return t?t.shadowRoot?l(t.shadowRoot)||document.activeElement:t:null}function c(e,t){return function t(i){if(!i||i===document||i===window)return null;const n=u(i);return n&&(i=n),i.closest(e)||t(i.getRootNode().host)}(t)}function u(e){return e.assignedSlot||(e.parentNode?u(e.parentNode):null)}const h="data-a11y-dialog";class p{$el;id;previouslyFocused;shown;constructor(e){this.$el=e,this.id=this.$el.getAttribute(h)||this.$el.id,this.previouslyFocused=null,this.shown=!1,this.maintainFocus=this.maintainFocus.bind(this),this.bindKeypress=this.bindKeypress.bind(this),this.handleTriggerClicks=this.handleTriggerClicks.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.$el.setAttribute("aria-hidden","true"),this.$el.setAttribute("aria-modal","true"),this.$el.setAttribute("tabindex","-1"),this.$el.hasAttribute("role")||this.$el.setAttribute("role","dialog"),document.addEventListener("click",this.handleTriggerClicks,!0)}destroy(){return this.fire("destroy").defaultPrevented||(this.hide(),document.removeEventListener("click",this.handleTriggerClicks,!0),this.$el.replaceWith(this.$el.cloneNode(!0))),this}show(e){return this.shown||this.fire("show",e).defaultPrevented||(this.shown=!0,this.$el.removeAttribute("aria-hidden"),this.previouslyFocused=l(),"BODY"===this.previouslyFocused?.tagName&&e?.target&&(this.previouslyFocused=e.target),"focus"===e?.type?this.maintainFocus():o(this.$el),document.body.addEventListener("focus",this.maintainFocus,!0),this.$el.addEventListener("keydown",this.bindKeypress,!0)),this}hide(e){return this.shown?(this.fire("hide",e).defaultPrevented||(this.shown=!1,this.$el.setAttribute("aria-hidden","true"),this.previouslyFocused?.focus?.(),document.body.removeEventListener("focus",this.maintainFocus,!0),this.$el.removeEventListener("keydown",this.bindKeypress,!0)),this):this}on(e,t,i){return this.$el.addEventListener(e,t,i),this}off(e,t,i){return this.$el.removeEventListener(e,t,i),this}fire(e,t){const i=new CustomEvent(e,{detail:t,cancelable:!0});return this.$el.dispatchEvent(i),i}handleTriggerClicks(e){const t=e.composedPath()[0],i=c(`[${h}-show="${this.id}"]`,t),n=c(`[${h}-hide="${this.id}"]`,t),o=c(`[${h}-hide]`,t)&&c('[aria-modal="true"]',t)===this.$el;i&&this.show(e),(n||o)&&this.hide(e)}bindKeypress(e){if(c('[aria-modal="true"]',l())!==this.$el)return;let t=!1;try{t=!!this.$el.querySelector('[popover]:not([popover="manual"]):popover-open')}catch{}"Escape"!==e.key||"alertdialog"===this.$el.getAttribute("role")||t||(e.preventDefault(),this.hide(e)),"Tab"===e.key&&function(e,t){const[i,n]=function(e){const t=r(e,!0);return[t,t?r(e,!1)||t:null]}(e);if(!i)return t.preventDefault();const o=l();t.shiftKey&&o===i?(n.focus(),t.preventDefault()):t.shiftKey||o!==n||(i.focus(),t.preventDefault())}(this.$el,e)}maintainFocus(){const e=l();c(`[aria-modal="true"], [${h}-ignore-focus-trap]`,e)||o(this.$el)}}function m(){for(const e of document.querySelectorAll("[data-a11y-dialog]"))new p(e)}"undefined"!=typeof document&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",m):m());const f=()=>{const e=document.documentElement,t=document.body;return(e.scrollTop||t.scrollTop)/((e.scrollHeight||t.scrollHeight)-e.clientHeight)*100},v=(e,t)=>{let i;return function(...n){i||(e.apply(this,n),i=!0,setTimeout((()=>i=!1),t))}},$={slideIn:!1,popup:!1},g=e=>{const t=document.getElementById("noptin-form-preview");e.id||(e.id=`noptin-popup-${Math.random().toString(36).substr(2,9)}`);const i=e.querySelector(".noptin-optin-form-wrapper");if(i)try{const n=t?"immediate":i.dataset?.trigger,o=i.querySelector("input[name=noptin_form_id]"),r=o?.value,s=parseInt(i.dataset?.hideSeconds||""),a=function(e,t){const i=e.querySelector(".noptin-optin-form-wrapper"),n=!!i?.closest(".noptin-slide_in-main-wrapper"),o=n?(e=>{const t=e.querySelector("[data-a11y-dialog-hide]");let i=()=>{};const n={show:()=>{e.classList.add("noptin-initialized"),e.setAttribute("aria-hidden","false")},hide:()=>{e.setAttribute("aria-hidden","true"),i()},on:(e,t)=>{"hide"===e&&(i=t)}};return t?.addEventListener("click",(()=>{n.hide()})),n})(e):new p(e),r=()=>{if(!window.NOPTIN_SUBSCRIBED){if(n){if($.slideIn)return;$.slideIn=!0}else{if($.popup)return;$.popup=!0}o.show(),window.fetch(window.noptinParams?.ajaxurl||"",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},credentials:"same-origin",body:new URLSearchParams({action:"noptin_log_form_impression",_wpnonce:window.noptinParams?.nonce||"",form_id:t})}).catch((e=>{console.error("Error logging form impression:",e)}))}};o.on("hide",(()=>{n?$.slideIn=!1:$.popup=!1,t&&(i&&parseInt(i.dataset?.hideSeconds||"")?localStorage.setItem("noptinFormDisplayed"+t,`${(new Date).getTime()}`):sessionStorage.setItem("noptinFormDisplayed"+t,"1"))}));const s=i&&i.dataset.value||"";return{close:o.hide,immediate(){r()},before_leave(){let e=null;const t=t=>{t.clientY>0||(e=window.setTimeout(n,200))},i=()=>{e&&(clearTimeout(e),e=null)},n=()=>{r(),o()},o=()=>{document.removeEventListener("mouseleave",t),document.removeEventListener("mouseenter",i)};document.addEventListener("mouseleave",t),document.addEventListener("mouseenter",i)},on_scroll(){const e=parseFloat(s);if(isNaN(e))return;const t=v((()=>{console.log(f(),e),f()>e&&(r(),window.removeEventListener("scroll",t))}),500);window.addEventListener("scroll",t)},after_delay(){const e=1e3*parseFloat(s);isNaN(e)||setTimeout(r,e)},after_click(){s&&document.body.addEventListener("click",(e=>{e.target.matches(s)&&(e.preventDefault(),r())}))}}}(e,r);if(!t)if(s>0&&"after_click"!==n){if(r){const e=localStorage.getItem(`noptinFormDisplayed${r}`),t=(new Date).getTime();if(e&&t-parseInt(e)<1e3*s)return;localStorage.removeItem(`noptinFormDisplayed${r}`)}}else if(r&&"after_click"!==n&&sessionStorage.getItem(`noptinFormDisplayed${r}`))return;n&&a[n]?a[n]():a.immediate()}catch(e){console.error(e)}else console.error("No wrapper found")};var y;y=()=>{document.querySelectorAll(".noptin-popup-main-wrapper, .noptin-slide_in-main-wrapper").forEach(g)},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",y):y()}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var r=i[e]={exports:{}};return t[e](r,r.exports,n),r.exports}n.m=t,e=[],n.O=(t,i,o,r)=>{if(!i){var s=1/0;for(c=0;c<e.length;c++){for(var[i,o,r]=e[c],a=!0,d=0;d<i.length;d++)(!1&r||s>=r)&&Object.keys(n.O).every((e=>n.O[e](i[d])))?i.splice(d--,1):(a=!1,r<s&&(s=r));if(a){e.splice(c--,1);var l=o();void 0!==l&&(t=l)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[i,o,r]},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={459:0,95:0};n.O.j=t=>0===e[t];var t=(t,i)=>{var o,r,[s,a,d]=i,l=0;if(s.some((t=>0!==e[t]))){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(d)var c=d(n)}for(t&&t(i);l<s.length;l++)r=s[l],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(c)},i=globalThis.webpackChunknoptin_premium=globalThis.webpackChunknoptin_premium||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var o=n.O(void 0,[95],(()=>n(6042)));o=n.O(o)})();