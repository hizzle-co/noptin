(()=>{"use strict";var e,t={661:()=>{const e=":not([inert]):not([inert] *)",t=':not([tabindex^="-"])',i=":not(:disabled)";var n=[`a[href]${e}${t}`,`area[href]${e}${t}`,`input:not([type="hidden"]):not([type="radio"])${e}${t}${i}`,`input[type="radio"]${e}${t}${i}`,`select${e}${t}${i}`,`textarea${e}${t}${i}`,`button${e}${t}${i}`,`details${e} > summary:first-of-type${t}`,`iframe${e}${t}`,`audio[controls]${e}${t}`,`video[controls]${e}${t}`,`[contenteditable]${e}${t}`,`[tabindex]${e}${t}`];function o(e){(e.querySelector("[autofocus]")||e).focus()}function s(e,t){if(t&&l(e))return e;if(function(e){return!(e.shadowRoot&&"-1"===e.getAttribute("tabindex")||e.matches(":disabled,[hidden],[inert]"))}(e))if(e.shadowRoot){let i=r(e.shadowRoot,t);for(;i;){const e=s(i,t);if(e)return e;i=a(i,t)}}else if("slot"===e.localName){const i=e.assignedElements({flatten:!0});t||i.reverse();for(const e of i){const i=s(e,t);if(i)return i}}else{let i=r(e,t);for(;i;){const e=s(i,t);if(e)return e;i=a(i,t)}}return!t&&l(e)?e:null}function r(e,t){return t?e.firstElementChild:e.lastElementChild}function a(e,t){return t?e.nextElementSibling:e.previousElementSibling}const l=e=>!e.shadowRoot?.delegatesFocus&&e.matches(n.join(","))&&!(e=>!(!e.matches("details:not([open]) *")||e.matches("details>summary:first-of-type"))||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length))(e);function d(e=document){const t=e.activeElement;return t?t.shadowRoot?d(t.shadowRoot)||document.activeElement:t:null}const c="data-a11y-dialog";class u{$el;id;previouslyFocused;shown;constructor(e){this.$el=e,this.id=this.$el.getAttribute(c)||this.$el.id,this.previouslyFocused=null,this.shown=!1,this.maintainFocus=this.maintainFocus.bind(this),this.bindKeypress=this.bindKeypress.bind(this),this.handleTriggerClicks=this.handleTriggerClicks.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.$el.setAttribute("aria-hidden","true"),this.$el.setAttribute("aria-modal","true"),this.$el.setAttribute("tabindex","-1"),this.$el.hasAttribute("role")||this.$el.setAttribute("role","dialog"),document.addEventListener("click",this.handleTriggerClicks,!0)}destroy(){return this.fire("destroy").defaultPrevented||(this.hide(),document.removeEventListener("click",this.handleTriggerClicks,!0),this.$el.replaceWith(this.$el.cloneNode(!0))),this}show(e){return this.shown||this.fire("show",e).defaultPrevented||(this.shown=!0,this.$el.removeAttribute("aria-hidden"),this.previouslyFocused=d(),"BODY"===this.previouslyFocused?.tagName&&e?.target&&(this.previouslyFocused=e.target),"focus"===e?.type?this.maintainFocus(e):o(this.$el),document.body.addEventListener("focus",this.maintainFocus,!0),this.$el.addEventListener("keydown",this.bindKeypress,!0)),this}hide(e){return this.shown?(this.fire("hide",e).defaultPrevented||(this.shown=!1,this.$el.setAttribute("aria-hidden","true"),this.previouslyFocused?.focus?.(),document.body.removeEventListener("focus",this.maintainFocus,!0),this.$el.removeEventListener("keydown",this.bindKeypress,!0)),this):this}on(e,t,i){return this.$el.addEventListener(e,t,i),this}off(e,t,i){return this.$el.removeEventListener(e,t,i),this}fire(e,t){const i=new CustomEvent(e,{detail:t,cancelable:!0});return this.$el.dispatchEvent(i),i}handleTriggerClicks(e){const t=e.composedPath()[0];t.closest(`[${c}-show="${this.id}"]`)&&this.show(e),(t.closest(`[${c}-hide="${this.id}"]`)||t.closest(`[${c}-hide]`)&&t.closest('[aria-modal="true"]')===this.$el)&&this.hide(e)}bindKeypress(e){if('[aria-modal="true"]',function e(t){return t&&t!==document&&t!==window?(t.assignedSlot&&(t=t.assignedSlot),t.closest('[aria-modal="true"]')||e(t.getRootNode().host)):null}(d())!==this.$el)return;let t=!1;try{t=!!this.$el.querySelector('[popover]:not([popover="manual"]):popover-open')}catch{}"Escape"!==e.key||"alertdialog"===this.$el.getAttribute("role")||t||(e.preventDefault(),this.hide(e)),"Tab"===e.key&&function(e,t){const[i,n]=function(e){const t=s(e,!0);return[t,t?s(e,!1)||t:null]}(e);if(!i)return t.preventDefault();const o=d();t.shiftKey&&o===i?(n.focus(),t.preventDefault()):t.shiftKey||o!==n||(i.focus(),t.preventDefault())}(this.$el,e)}maintainFocus(e){e.target.closest(`[aria-modal="true"], [${c}-ignore-focus-trap]`)||o(this.$el)}}function h(){for(const e of document.querySelectorAll("[data-a11y-dialog]"))new u(e)}"undefined"!=typeof document&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",h):h());const p=()=>{const e=document.documentElement,t=document.body;return(e.scrollTop||t.scrollTop)/((e.scrollHeight||t.scrollHeight)-e.clientHeight)*100},m=(e,t)=>{let i;return function(...n){i||(e.apply(this,n),i=!0,setTimeout((()=>i=!1),t))}},f={slideIn:!1,popup:!1},v=e=>{const t=document.getElementById("noptin-form-preview");e.id||(e.id=`noptin-popup-${Math.random().toString(36).substr(2,9)}`);const i=e.querySelector(".noptin-optin-form-wrapper");if(i)try{const n=t?"immediate":i.dataset?.trigger,o=i.querySelector("input[name=noptin_form_id]"),s=o?.value,r=parseInt(i.dataset?.hideSeconds||""),a=function(e,t){const i=e.querySelector(".noptin-optin-form-wrapper"),n=!!i?.closest(".noptin-slide_in-main-wrapper"),o=n?(e=>{const t=e.querySelector("[data-a11y-dialog-hide]");let i=()=>{};const n={show:()=>{e.classList.add("noptin-initialized"),e.setAttribute("aria-hidden","false")},hide:()=>{e.setAttribute("aria-hidden","true"),i()},on:(e,t)=>{"hide"===e&&(i=t)}};return t?.addEventListener("click",(()=>{n.hide()})),n})(e):new u(e),s=()=>{if(!window.NOPTIN_SUBSCRIBED){if(n){if(f.slideIn)return;f.slideIn=!0}else{if(f.popup)return;f.popup=!0}o.show(),window.fetch(window.noptinParams?.ajaxurl||"",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},credentials:"same-origin",body:new URLSearchParams({action:"noptin_log_form_impression",_wpnonce:window.noptinParams?.nonce||"",form_id:t})}).catch((e=>{console.error("Error logging form impression:",e)}))}};o.on("hide",(()=>{n?f.slideIn=!1:f.popup=!1,t&&(i&&parseInt(i.dataset?.hideSeconds||"")?localStorage.setItem("noptinFormDisplayed"+t,`${(new Date).getTime()}`):sessionStorage.setItem("noptinFormDisplayed"+t,"1"))}));const r=i&&i.dataset.value||"";return{close:o.hide,immediate(){s()},before_leave(){let e=null;const t=t=>{t.clientY>0||(e=window.setTimeout(n,200))},i=()=>{e&&(clearTimeout(e),e=null)},n=()=>{s(),o()},o=()=>{document.removeEventListener("mouseleave",t),document.removeEventListener("mouseenter",i)};document.addEventListener("mouseleave",t),document.addEventListener("mouseenter",i)},on_scroll(){const e=parseFloat(r);if(isNaN(e))return;const t=m((()=>{console.log(p(),e),p()>e&&(s(),window.removeEventListener("scroll",t))}),500);window.addEventListener("scroll",t)},after_delay(){const e=1e3*parseFloat(r);isNaN(e)||setTimeout(s,e)},after_click(){r&&document.body.addEventListener("click",(e=>{e.target.matches(r)&&(e.preventDefault(),s())}))}}}(e,s);if(!t)if(r>0&&"after_click"!==n){if(s){const e=localStorage.getItem(`noptinFormDisplayed${s}`),t=(new Date).getTime();if(e&&t-parseInt(e)<1e3*r)return;localStorage.removeItem(`noptinFormDisplayed${s}`)}}else if(s&&"after_click"!==n&&sessionStorage.getItem(`noptinFormDisplayed${s}`))return;n&&a[n]?a[n]():a.immediate()}catch(e){console.error(e)}else console.error("No wrapper found")};var $;$=()=>{document.querySelectorAll(".noptin-popup-main-wrapper, .noptin-slide_in-main-wrapper").forEach(v)},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",$):$()}},i={};function n(e){var o=i[e];if(void 0!==o)return o.exports;var s=i[e]={exports:{}};return t[e](s,s.exports,n),s.exports}n.m=t,e=[],n.O=(t,i,o,s)=>{if(!i){var r=1/0;for(c=0;c<e.length;c++){i=e[c][0],o=e[c][1],s=e[c][2];for(var a=!0,l=0;l<i.length;l++)(!1&s||r>=s)&&Object.keys(n.O).every((e=>n.O[e](i[l])))?i.splice(l--,1):(a=!1,s<r&&(r=s));if(a){e.splice(c--,1);var d=o();void 0!==d&&(t=d)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[i,o,s]},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={459:0,95:0};n.O.j=t=>0===e[t];var t=(t,i)=>{var o,s,r=i[0],a=i[1],l=i[2],d=0;if(r.some((t=>0!==e[t]))){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(l)var c=l(n)}for(t&&t(i);d<r.length;d++)s=r[d],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(c)},i=self.webpackChunknoptin_premium=self.webpackChunknoptin_premium||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var o=n.O(void 0,[95],(()=>n(661)));o=n.O(o)})();