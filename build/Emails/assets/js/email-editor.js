(()=>{var e,t={314:(e,t,n)=>{"use strict";var a={};n.r(a),n.d(a,{closeModal:()=>ne,disableComplementaryArea:()=>q,enableComplementaryArea:()=>Y,openModal:()=>te,pinItem:()=>K,setDefaultComplementaryArea:()=>Z,setFeatureDefaults:()=>ee,setFeatureValue:()=>J,toggleFeature:()=>Q,unpinItem:()=>X});var l={};n.r(l),n.d(l,{getActiveComplementaryArea:()=>ae,isComplementaryAreaLoading:()=>le,isFeatureActive:()=>oe,isItemPinned:()=>re,isModalActive:()=>ie});var r={};n.r(r),n.d(r,{openGeneralSidebar:()=>de,redo:()=>me,registerSidebar:()=>Ee,saveEmail:()=>ke,setBlocks:()=>fe,setCurrentSidebar:()=>be,setEmail:()=>ve,setEmailCSS:()=>xe,setEmailField:()=>ye,setEmailMeta:()=>we,setIsInserterOpened:()=>_e,setPreviewDeviceType:()=>he,togglePinnedPluginItem:()=>pe,undo:()=>ue,updatePreferredStyleVariations:()=>ge});var o={};n.r(o),n.d(o,{getBlocks:()=>Re,getCurrentSidebar:()=>Te,getEmail:()=>De,getEmailAuthor:()=>Qe,getEmailCSS:()=>lt,getEmailContentNormal:()=>Xe,getEmailContentOptions:()=>je,getEmailContentPlainText:()=>Ye,getEmailContentRawHtml:()=>qe,getEmailContentType:()=>We,getEmailContentVisual:()=>Ke,getEmailFooterText:()=>tt,getEmailHeading:()=>et,getEmailId:()=>Ve,getEmailMeta:()=>at,getEmailName:()=>Ue,getEmailPreviewText:()=>Je,getEmailPublishDate:()=>Fe,getEmailStatus:()=>He,getEmailSubject:()=>Ge,getEmailTemplate:()=>nt,getEmailType:()=>Oe,getInsertionPoint:()=>Me,getNextRedo:()=>Pe,getNextUndo:()=>Ae,getParentEmailId:()=>ze,getPreviewDeviceType:()=>Ce,getSidebars:()=>Be,hasRedo:()=>Le,hasUndo:()=>Ne,isDirty:()=>ot,isInserterOpened:()=>Ie,isSavingEmail:()=>rt,isScheduled:()=>$e,isVisualEditor:()=>Ze});const i=window.React,s=window.wp.domReady;var c=n.n(s);const u=window.wp.element,m=window.wp.preferences,d="noptin/edit-email",p=window.noptinEmailEditorSettings||{},g=window.noptinEmailSettingsMisc||{},h=p.types||{},_=Object.keys(h).map((e=>({value:e,label:h[e].label}))),b=`${d}/block-inspector`,E=`${d}/email-settings`,f=["email_sender","recipients","email_type","template","content_normal","content_plain_text","content_raw_html","content_visual","when_to_run","sends_after","sends_after_unit","preview_text","footer_text","heading","css"],v=window.wp.data,y=window.wp.blocks,w=window.wp.hooks,x=window.wp.mediaUtils;(0,w.addFilter)("editor.MediaUpload","noptin/edit-email/components/media-upload",(()=>x.MediaUpload));const k=window.wp.components,S=window.wp.blockEditor,C=(window.wp.formatLibrary,window.wp.coreData),T=(0,v.combineReducers)({id(e=0,t){switch(t.type){case"SET_EMAIL_ID":return t.value;case"SET_EMAIL":return t.email?.id||0}return e},parent_id(e=0,t){switch(t.type){case"SET_EMAIL_PARENT_ID":return t.value;case"SET_EMAIL":return t.email?.parent_id||0}return e},created(e="",t){switch(t.type){case"SET_EMAIL_PUBLISH_DATE":return t.value;case"SET_EMAIL":return t.email?.created||""}return e},status(e="draft",t){switch(t.type){case"SET_EMAIL_STATUS":return t.value;case"SET_EMAIL":return t.email?.status||"draft"}return e},type(e="newsletter",t){switch(t.type){case"SET_EMAIL_TYPE":return t.value;case"SET_EMAIL":return t.email?.type||"newsletter"}return e},name(e="",t){switch(t.type){case"SET_EMAIL_NAME":return t.value;case"SET_EMAIL":return t.email?.name||""}return e},subject(e="",t){switch(t.type){case"SET_EMAIL_SUBJECT":return t.value;case"SET_EMAIL":return t.email?.subject||""}return e},author(e=0,t){switch(t.type){case"SET_EMAIL_AUTHOR":return t.value;case"SET_EMAIL":return t.email?.author||0}return e},options:(0,v.combineReducers)({email_sender(e="noptin",t){switch(t.type){case"SET_EMAIL_SENDER":return t.value;case"SET_EMAIL":return t.email?.options?.sender||"noptin"}return e},recipients(e="",t){switch(t.type){case"SET_EMAIL_RECIPIENTS":return t.value;case"SET_EMAIL":return t.email?.options?.recipients||""}return e},email_type(e="normal",t){switch(t.type){case"SET_EMAIL_CONTENT_TYPE":return t.value;case"SET_EMAIL":return t.email?.options?.email_type||"normal"}return e},template(e="paste",t){switch(t.type){case"SET_EMAIL_TEMPLATE":return t.value;case"SET_EMAIL":return t.email?.options?.template||"paste"}return e},content_normal(e="",t){switch(t.type){case"SET_EMAIL_CONTENT_NORMAL":return t.value;case"SET_EMAIL":return t.email?.options?.content_normal||""}return e},content_plain_text(e="",t){switch(t.type){case"SET_EMAIL_CONTENT_PLAIN_TEXT":return t.value;case"SET_EMAIL":return t.email?.options?.content_plain_text||""}return e},content_raw_html(e="",t){switch(t.type){case"SET_EMAIL_CONTENT_RAW_HTML":return t.value;case"SET_EMAIL":return t.email?.options?.content_raw_html||""}return e},content_visual(e="",t){switch(t.type){case"SET_EMAIL_CONTENT_VISUAL":return t.value;case"SET_EMAIL":return t.email?.options?.content_visual||"";case"SET_BLOCKS":case"UNDO":case"REDO":return(0,y.serialize)(t.blocks)}return e},when_to_run(e="",t){switch(t.type){case"SET_EMAIL_WHEN_TO_RUN":return t.value;case"SET_EMAIL":return t.email?.options?.when_to_run||""}return e},sends_after(e=5,t){switch(t.type){case"SET_EMAIL_SENDS_AFTER":return t.value;case"SET_EMAIL":return t.email?.options?.sends_after||""}return e},sends_after_unit(e="minutes",t){switch(t.type){case"SET_EMAIL_SENDS_AFTER_UNIT":return t.value;case"SET_EMAIL":return t.email?.options?.sends_after_unit||""}return e},preview_text(e="",t){switch(t.type){case"SET_EMAIL_PREVIEW_TEXT":return t.value;case"SET_EMAIL":return t.email?.options?.preview_text||""}return e},heading(e="",t){switch(t.type){case"SET_EMAIL_HEADING":return t.value;case"SET_EMAIL":return t.email?.options?.heading||""}return e},footer_text(e="",t){switch(t.type){case"SET_EMAIL_FOOTER_TEXT":return t.value;case"SET_EMAIL":return t.email?.options?.footer_text||""}return e},css(e=new Map,t){switch(t.type){case"SET_EMAIL_CSS":const n={...e};return n[t.key]=t.value,n;case"SET_EMAIL":return t.email?.options?.css||{}}return e}}),meta(e=new Map,t){switch(t.type){case"SET_EMAIL_META":const n={...e};return n[t.key]=t.value,n;case"SET_EMAIL":const a=new Map;return Object.keys(t.email?.options||{}).forEach((e=>{f.includes(e)||(a[e]=t.email?.options[e])})),a}return e}}),B=(0,v.combineReducers)({deviceType:function(e="Desktop",t){return"SET_PREVIEW_DEVICE_TYPE"===t.type?t.deviceType:e},blockInserterPanel:function(e=!1,t){return"SET_IS_INSERTER_OPENED"===t.type?t.value:e},sidebar:function(e={all:{},current:void 0},t){switch(t.type){case"SET_CURRENT_SIDEBAR":return{...e,current:t.value};case"REGISTER_SIDEBAR":return{...e,all:{...e.all,[t.name]:t.sidebar}}}return e},email:T,blocks:function(e={blocks:[],undo:[],redo:[]},t){switch(t.type){case"SET_BLOCKS":case"SET_EMAIL_CONTENT_VISUAL":const n={...e};return t.persistent&&(n.undo=[e.blocks,...e.undo.slice(-50)],n.redo=[]),n.blocks="SET_BLOCKS"===t.type?t.blocks:(0,y.parse)(t.value||""),n;case"UNDO":if(0===e.undo.length)return e;const a={...e};return{blocks:[...t.blocks],undo:a.undo.slice(1),redo:[a.blocks,...a.redo]};case"REDO":if(0===e.redo.length)return e;const l={...e};return{blocks:[...t.blocks],undo:[l.blocks,...l.undo],redo:l.redo.slice(1)};case"SET_EMAIL":const r=(0,y.parse)(t.email?.content?.visual||"");return{blocks:Array.isArray(r)?r:[],undo:[],redo:[]}}return e},isSavingEmail:function(e=!1,t){return"SET_IS_SAVING"===t.type?t.value:e},isDirty:function(e=!1,t){return"SET_EMAIL"!==t.type&&(!!t.type.startsWith("SET_EMAIL_")||!!["SET_BLOCKS","UNDO","REDO"].includes(t.type)||e)}}),I=window.wp.i18n,M=({isActive:e})=>((0,u.useEffect)((()=>{let e=!1;return document.body.classList.contains("sticky-menu")&&(e=!0,document.body.classList.remove("sticky-menu")),()=>{e&&document.body.classList.add("sticky-menu")}}),[]),(0,u.useEffect)((()=>(e?document.body.classList.add("is-fullscreen-mode"):document.body.classList.remove("is-fullscreen-mode"),()=>{e&&document.body.classList.remove("is-fullscreen-mode")})),[e]),null);var N=n(184),L=n.n(N);const A=window.wp.compose;function P({children:e,className:t,ariaLabel:n,as:a="div",...l}){return(0,i.createElement)(a,{className:L()("interface-navigable-region",t),"aria-label":n,role:"region",tabIndex:"-1",...l},e)}const R={hidden:{opacity:0},hover:{opacity:1,transition:{type:"tween",delay:.2,delayChildren:.2}},distractionFreeInactive:{opacity:1,transition:{delay:0}}},D=(0,u.forwardRef)((function({isDistractionFree:e,footer:t,header:n,editorNotices:a,sidebar:l,secondarySidebar:r,notices:o,content:s,contentProps:c,actions:m,labels:d,className:p,enableRegionNavigation:g=!0,shortcuts:h},_){const b=(0,k.__unstableUseNavigateRegions)(h);!function(e){(0,u.useEffect)((()=>{const t=document&&document.querySelector(`html:not(.${e})`);if(t)return t.classList.toggle(e),()=>{t.classList.toggle(e)}}),[e])}("interface-interface-skeleton__html-container");const E={
/* translators: accessibility text for the top bar landmark region. */
header:(0,I.__)("Header"),
/* translators: accessibility text for the content landmark region. */
body:(0,I.__)("Content"),
/* translators: accessibility text for the secondary sidebar landmark region. */
secondarySidebar:(0,I.__)("Block Library"),
/* translators: accessibility text for the settings landmark region. */
sidebar:(0,I.__)("Settings"),
/* translators: accessibility text for the publish landmark region. */
actions:(0,I.__)("Publish"),
/* translators: accessibility text for the footer landmark region. */
footer:(0,I.__)("Footer"),...d};return(0,i.createElement)("div",{...g?b:{},ref:(0,A.useMergeRefs)([_,g?b.ref:void 0]),className:L()(p,"interface-interface-skeleton",b.className,!!t&&"has-footer")},(0,i.createElement)("div",{className:"interface-interface-skeleton__editor"},!!n&&(0,i.createElement)(P,{as:k.__unstableMotion.div,className:"interface-interface-skeleton__header","aria-label":E.header,initial:e?"hidden":"distractionFreeInactive",whileHover:e?"hover":"distractionFreeInactive",animate:e?"hidden":"distractionFreeInactive",variants:R,transition:e?{type:"tween",delay:.8}:void 0},n),e&&(0,i.createElement)("div",{className:"interface-interface-skeleton__header"},a),(0,i.createElement)("div",{className:"interface-interface-skeleton__body"},!!r&&(0,i.createElement)(P,{className:"interface-interface-skeleton__secondary-sidebar",ariaLabel:E.secondarySidebar},r),!!o&&(0,i.createElement)("div",{className:"interface-interface-skeleton__notices"},o),(0,i.createElement)(P,{className:"interface-interface-skeleton__content",ariaLabel:E.body,...c},s),!!l&&(0,i.createElement)(P,{className:"interface-interface-skeleton__sidebar",ariaLabel:E.sidebar},l),!!m&&(0,i.createElement)(P,{className:"interface-interface-skeleton__actions",ariaLabel:E.actions},m))),!!t&&(0,i.createElement)(P,{className:"interface-interface-skeleton__footer",ariaLabel:E.footer},t))}));function V({scope:e,...t}){return(0,i.createElement)(k.Fill,{name:`PinnedItems/${e}`,...t})}V.Slot=function({scope:e,className:t,...n}){return(0,i.createElement)(k.Slot,{name:`PinnedItems/${e}`,...n},(e=>e?.length>0&&(0,i.createElement)("div",{className:L()(t,"interface-pinned-items")},e)))};const z=V,H=window.wp.primitives,F=(0,i.createElement)(H.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(H.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"}));function $({as:e=k.DropdownMenu,className:t,label:
/* translators: button label text should, if possible, be under 16 characters. */
n=(0,I.__)("Options"),popoverProps:a,toggleProps:l,children:r}){return(0,i.createElement)(e,{className:L()("interface-more-menu-dropdown",t),icon:F,label:n,popoverProps:{placement:"bottom-end",...a,className:L()("interface-more-menu-dropdown__content",a?.className)},toggleProps:{tooltipPosition:"bottom",...l}},(e=>r(e)))}const O=()=>{};function U({name:e,as:t=k.Button,onClick:n,...a}){return(0,i.createElement)(k.Fill,{name:e},(({onClick:e})=>(0,i.createElement)(t,{onClick:n||e?(...t)=>{(n||O)(...t),(e||O)(...t)}:void 0,...a})))}U.Slot=function({name:e,as:t=k.ButtonGroup,fillProps:n={},bubblesVirtually:a,...l}){return(0,i.createElement)(k.Slot,{name:e,bubblesVirtually:a,fillProps:n},(e=>{if(!u.Children.toArray(e).length)return null;const n=[];u.Children.forEach(e,(({props:{__unstableExplicitMenuItem:e,__unstableTarget:t}})=>{t&&e&&n.push(t)}));const a=u.Children.map(e,(e=>!e.props.__unstableExplicitMenuItem&&n.includes(e.props.__unstableTarget)?null:e));return(0,i.createElement)(t,{...l},a)}))};const G=U,j=window.wp.deprecated;var W=n.n(j);const Z=(e,t)=>({type:"SET_DEFAULT_COMPLEMENTARY_AREA",scope:e,area:t}),Y=(e,t)=>({registry:n,dispatch:a})=>{t&&(n.select(m.store).get(e,"isComplementaryAreaVisible")||n.dispatch(m.store).set(e,"isComplementaryAreaVisible",!0),a({type:"ENABLE_COMPLEMENTARY_AREA",scope:e,area:t}))},q=e=>({registry:t})=>{t.select(m.store).get(e,"isComplementaryAreaVisible")&&t.dispatch(m.store).set(e,"isComplementaryAreaVisible",!1)},K=(e,t)=>({registry:n})=>{if(!t)return;const a=n.select(m.store).get(e,"pinnedItems");!0!==a?.[t]&&n.dispatch(m.store).set(e,"pinnedItems",{...a,[t]:!0})},X=(e,t)=>({registry:n})=>{if(!t)return;const a=n.select(m.store).get(e,"pinnedItems");n.dispatch(m.store).set(e,"pinnedItems",{...a,[t]:!1})};function Q(e,t){return function({registry:n}){W()("dispatch( 'core/interface' ).toggleFeature",{since:"6.0",alternative:"dispatch( 'core/preferences' ).toggle"}),n.dispatch(m.store).toggle(e,t)}}function J(e,t,n){return function({registry:a}){W()("dispatch( 'core/interface' ).setFeatureValue",{since:"6.0",alternative:"dispatch( 'core/preferences' ).set"}),a.dispatch(m.store).set(e,t,!!n)}}function ee(e,t){return function({registry:n}){W()("dispatch( 'core/interface' ).setFeatureDefaults",{since:"6.0",alternative:"dispatch( 'core/preferences' ).setDefaults"}),n.dispatch(m.store).setDefaults(e,t)}}function te(e){return{type:"OPEN_MODAL",name:e}}function ne(){return{type:"CLOSE_MODAL"}}const ae=(0,v.createRegistrySelector)((e=>(t,n)=>{const a=e(m.store).get(n,"isComplementaryAreaVisible");if(void 0!==a)return!1===a?null:t?.complementaryAreas?.[n]})),le=(0,v.createRegistrySelector)((e=>(t,n)=>{const a=e(m.store).get(n,"isComplementaryAreaVisible"),l=t?.complementaryAreas?.[n];return a&&void 0===l})),re=(0,v.createRegistrySelector)((e=>(t,n,a)=>{var l;const r=e(m.store).get(n,"pinnedItems");return null===(l=r?.[a])||void 0===l||l})),oe=(0,v.createRegistrySelector)((e=>(t,n,a)=>(W()("select( 'core/interface' ).isFeatureActive( scope, featureName )",{since:"6.0",alternative:"select( 'core/preferences' ).get( scope, featureName )"}),!!e(m.store).get(n,a))));function ie(e,t){return e.activeModal===t}const se=(0,v.combineReducers)({complementaryAreas:function(e={},t){switch(t.type){case"SET_DEFAULT_COMPLEMENTARY_AREA":{const{scope:n,area:a}=t;return e[n]?e:{...e,[n]:a}}case"ENABLE_COMPLEMENTARY_AREA":{const{scope:n,area:a}=t;return{...e,[n]:a}}}return e},activeModal:function(e=null,t){switch(t.type){case"OPEN_MODAL":return t.name;case"CLOSE_MODAL":return null}return e}}),ce=(0,v.createReduxStore)("core/interface",{reducer:se,actions:a,selectors:l});(0,v.register)(ce);const ue=()=>({select:e,dispatch:t})=>{const n=e.getNextUndo();!1!==n&&t({type:"UNDO",blocks:n})},me=()=>({select:e,dispatch:t})=>{const n=e.getNextRedo();!1!==n&&t({type:"REDO",blocks:n})},de=e=>({registry:t})=>{t.dispatch(ce).enableComplementaryArea(d,e)},pe=e=>({registry:t})=>{const n=t.select(ce).isItemPinned(d,e);t.dispatch(ce)[n?"unpinItem":"pinItem"](d,e)},ge=(e,t)=>({registry:n})=>{var a;if(!e)return;const l=null!==(a=n.select(m.store).get(d,"preferredStyleVariations"))&&void 0!==a?a:{};if(t)n.dispatch(m.store).set(d,"preferredStyleVariations",{...l,[e]:t});else{const t={...l};delete t[e],n.dispatch(m.store).set(d,"preferredStyleVariations",t)}};function he(e){return{type:"SET_PREVIEW_DEVICE_TYPE",deviceType:e}}function _e(e){return{type:"SET_IS_INSERTER_OPENED",value:e}}function be(e){return{type:"SET_CURRENT_SIDEBAR",value:e}}function Ee(e,t){return{type:"REGISTER_SIDEBAR",name:e,sidebar:t}}function fe(e,t){return e.length&&"core/paragraph"===e[e.length-1].name&&!e[e.length-1].attributes.content&&(t=!1),{type:"SET_BLOCKS",blocks:e,persistent:t}}function ve(e){return{type:"SET_EMAIL",email:e}}function ye(e,t){return{type:"SET_EMAIL_"+e.toUpperCase(),value:t}}function we(e,t){return{type:"SET_EMAIL_META",key:e,value:t}}function xe(e,t){return{type:"SET_EMAIL_CSS",key:e,value:t}}const ke=e=>({dispatch:t})=>{e&&t(ye("status",e)),t({type:"SAVE_EMAIL",status:e})},Se={rootClientId:void 0,insertionIndex:void 0,filterValue:void 0};function Ce(e){return e.deviceType}function Te(e){return e.sidebar?.current}function Be(e){return e.sidebar?.all||{}}function Ie(e){return!!e.blockInserterPanel}function Me(e){return"boolean"==typeof e.blockInserterPanel?Se:e.blockInserterPanel}function Ne(e){return e.blocks.undo.length>0}function Le(e){return e.blocks.redo.length>0}function Ae(e){return 0!==e.blocks.undo.length&&e.blocks.undo[0]}function Pe(e){return 0!==e.blocks.redo.length&&e.blocks.redo[0]}function Re(e){return e.blocks.blocks}function De(e){return e.email}function Ve(e){return e.email.id}function ze(e){return e.email.parent_id}function He(e){return e.email.status}function Fe(e){return e.email.created}function $e(e){const t=e.email.created;return t&&new Date(t)>new Date}function Oe(e){return e.email.type}function Ue(e){return e.email.name}function Ge(e){return e.email.subject}function je(e){return e.email.options}function We(e){return e.email.options.email_type}function Ze(e){return"visual"===e.email.options.email_type}function Ye(e){return e.email.options.content_plain_text}function qe(e){return e.email.options.content_raw_html}function Ke(e){return e.email.options.content_visual}function Xe(e){return e.email.options.content_normal}function Qe(e){return e.email.author}function Je(e){return e.email.options.preview_text}function et(e){return e.email.options.heading}function tt(e){return e.email.options.footer_text}function nt(e){return e.email.options.template}function at(e){return e.email.meta||{}}function lt(e){return e.email.options.css}function rt(e){return e.isSavingEmail}function ot(e){return e.isDirty}const it=(0,v.createReduxStore)(d,{reducer:B,actions:r,selectors:o});function st({onError:e=(e=>e),...t}){(0,x.uploadMedia)({onError:({message:t})=>e(t),wpAllowedMimeTypes:p?.wpAllowedMimeTypes,...t})}(0,v.register)(it);const ct=(e,t,n)=>[e?.style?.noptin?.[n]||{},t&&(0,u.useCallback)((a=>{t({style:{...e.style||{},noptin:{...e.style?.noptin||{},[n]:{...e.style?.noptin?.[n]||{},...a}}}})}),[e,t,n]),t&&(0,u.useCallback)((()=>{t({style:{...e.style||{},noptin:{...e.style?.noptin||{},[n]:{}}}})}),[e,t,n])],ut=[],mt=(e=!0)=>{const{saveEmail:t}=(0,v.useDispatch)(it),[n,a]=(0,u.useState)(!1),l=(0,v.useSelect)((a=>{const l=a(it),r=l.isSavingEmail(),o=l.getEmailStatus(),i=0===l.getEmailId(),s=l.isDirty(),c=!i&&!s&&["future","publish"].includes(o);return{isDrafting:r&&"draft"===o,isPublishing:r&&["future","publish"].includes(o),isSaved:n||!i&&!s,isPublished:c,isNew:i,isDirty:s,status:o,isSaving:r,isScheduled:l.isScheduled(),isNewsletter:"newsletter"===l.getEmailType(),handleSave:()=>t(e?"publish":"draft"),disabled:r||e&&c||!e&&!i&&!s,forceSavedMessage:n}}),[e,n,t]),r=l.isSaving&&(e?"publish"===l.status:"draft"===l.status),o=(0,A.usePrevious)(r);return(0,u.useEffect)((()=>{let e;return o&&!r&&(a(!0),e=setTimeout((()=>{a(!1)}),1e3)),()=>clearTimeout(e)}),[r]),l},dt=(0,i.createElement)(H.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(H.Path,{d:"M17 10h-1.2V7c0-2.1-1.7-3.8-3.8-3.8-2.1 0-3.8 1.7-3.8 3.8v3H7c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1h10c.6 0 1-.4 1-1v-8c0-.6-.4-1-1-1zm-2.8 0H9.8V7c0-1.2 1-2.2 2.2-2.2s2.2 1 2.2 2.2v3z"})),pt=window.wp.url,gt=g.license||{},ht=window.wp.styleEngine,_t=[{elementType:"button"},{elementType:"link",pseudo:[":hover"]},{elementType:"heading",elements:["h1","h2","h3","h4","h5","h6"]}];function bt(e,t){const n=e.split(","),a=t.split(","),l=[];return n.forEach((e=>{a.forEach((t=>{l.push(`${e.trim()} ${t.trim()}`)}))})),l.join(", ")}(0,A.createHigherOrderComponent)((e=>t=>{const{setEmailCSS:n}=(0,v.useDispatch)(it),a=(0,v.useSelect)((e=>e(it).getEmailCSS()),[])[t.clientId]||"",l=`block-${t.clientId}`;(0,u.useEffect)((()=>{t.attributes.anchor!==l&&t.setAttributes({anchor:l})}),[t.clientId]);const r=`.editor-styles-wrapper #${l}`,o=t.attributes.style?.elements,s=(0,u.useMemo)((()=>{if(!o)return"";const e=[];return _t.forEach((({elementType:t,pseudo:n,elements:a})=>{const l=o?.[t];if(l){const a=bt(r,y.__EXPERIMENTAL_ELEMENTS[t]);console.log(l),e.push((0,ht.compileCSS)(l,{selector:a})),n&&n.forEach((n=>{l[n]&&e.push((0,ht.compileCSS)(l[n],{selector:bt(r,`${y.__EXPERIMENTAL_ELEMENTS[t]}${n}`)}))}))}a&&a.forEach((t=>{o[t]&&e.push((0,ht.compileCSS)(o[t],{selector:bt(r,y.__EXPERIMENTAL_ELEMENTS[t])}))}))})),e.join("")}),[r,o,t.name]);return s!==a&&n(t.clientId,s),(0,i.createElement)(e,{...t})}),"withNoptinStyles"),(0,w.addFilter)("blocks.getSaveContent.extraProps","core/style/addSaveProps",(function(e,t,n){return"core/html"!==t.name&&(e.id=""===n.anchor?null:n.anchor),e})),(0,y.setCategories)([{slug:"content",title:(0,I.__)("Content","dnd-email"),icon:"admin-generic"},{slug:"design",title:(0,I.__)("Design","dnd-email"),icon:"welcome-widgets-menus"}]);const Et=(0,i.createElement)(H.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(H.Path,{d:"m9.99609 14v-.2251l.00391.0001v6.225h1.5v-14.5h2.5v14.5h1.5v-14.5h3v-1.5h-8.50391c-2.76142 0-5 2.23858-5 5 0 2.7614 2.23858 5 5 5z"})),ft=(e,t)=>!0===e||(Array.isArray(e)?e.includes(t):"object"==typeof e&&!0===e[t]),vt=["Arial, Helvetica, sans-serif","Verdana, Geneva, sans-serif","Times New Roman, Times, serif","Georgia, serif","Courier New, Courier, monospace","Tahoma, Geneva, sans-serif","Calibri, Arial, sans-serif","Trebuchet MS, sans-serif","Lucida Grande, sans-serif","Palatino, serif"],yt=({value:e,onChange:t})=>{const n=vt.map((n=>({title:(0,i.createElement)("span",{style:{fontFamily:n}},(0,i.createElement)(k.__experimentalTruncate,{limit:25,ellipsizeMode:"tail"},n)),onClick:()=>t(n),isActive:e===n,label:n})));return(0,i.createElement)(k.__experimentalInputControlSuffixWrapper,null,(0,i.createElement)(k.DropdownMenu,{icon:"admin-customizer",label:(0,I.__)("Font family","newsletter-optin-box"),controls:n,noIcons:!0}))},wt=({value:e,onChange:t})=>(0,i.createElement)(k.__experimentalInputControl,{label:(0,I.__)("Font family","newsletter-optin-box"),placeholder:"Arial, Helvetica, sans-serif",value:e,onChange:t,suffix:(0,i.createElement)(yt,{value:e,onChange:t})});function xt({className:e="editor-post-publish-button editor-post-publish-button__button"}){const{isPublishing:t,status:n,isScheduled:a,isNewsletter:l,handleSave:r,isPublished:o,disabled:s}=mt(!0);let c=(0,I.__)("Save");return t?c=a?(0,I.__)("Scheduling…"):l?(0,I.__)("Sending…"):(0,I.__)("Saving…"):o?c="future"===n?(0,I.__)("Scheduled"):"sending"===n?(0,I.__)("Sending"):l?(0,I.__)("Sent"):(0,I.__)("Saved"):a?c="future"!==n?(0,I.__)("Schedule"):(0,I.__)("Save"):l&&"publish"!==n&&(c=(0,I.__)("Send")),(0,i.createElement)(k.Button,{className:e,onClick:s?void 0:r,variant:"primary",isBusy:t,text:c,disabled:s})}const kt=(0,u.forwardRef)((function({icon:e,size:t=24,...n},a){return(0,u.cloneElement)(e,{width:t,height:t,...n,ref:a})})),St=(0,i.createElement)(H.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(H.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})),Ct=(0,i.createElement)(H.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(H.Path,{d:"M17.3 10.1c0-2.5-2.1-4.4-4.8-4.4-2.2 0-4.1 1.4-4.6 3.3h-.2C5.7 9 4 10.7 4 12.8c0 2.1 1.7 3.8 3.7 3.8h9c1.8 0 3.2-1.5 3.2-3.3.1-1.6-1.1-2.9-2.6-3.2zm-.5 5.1h-9c-1.2 0-2.2-1.1-2.2-2.3s1-2.4 2.2-2.4h1.3l.3-1.1c.4-1.3 1.7-2.2 3.2-2.2 1.8 0 3.3 1.3 3.3 2.9v1.3l1.3.2c.8.1 1.4.9 1.4 1.8-.1 1-.9 1.8-1.8 1.8z"}));function Tt({className:e,...t}){const{isDrafting:n,handleSave:a,isSaved:l,isPublished:r,disabled:o}=mt(!1);let s;s=n?(0,I.__)("Saving"):r?(0,I.__)("Revert to draft"):l?(0,I.__)("Saved"):(0,I.__)("Save draft");const c=L()(e,{"is-saving":n,"is-saved":l,[(0,k.__unstableGetAnimateClassName)({type:"loading"})]:n,"editor-post-save-draft":!e&&!l,"editor-post-saved-state":!e&&l});return(0,i.createElement)(k.Button,{className:c,onClick:o?void 0:a,variant:"tertiary",size:"compact",label:s,disabled:o,...t},(n||l)&&(0,i.createElement)(kt,{icon:l?St:Ct}),s)}function Bt({breakpoint:e,operator:t=">=",children:n}){return(0,A.useViewportMatch)(e,t)?n:null}function It({mobileOnly:e=!0}){const t=(0,i.createElement)("div",null,(0,i.createElement)(k.Flex,{direction:"column",gap:4},(0,i.createElement)(k.FlexItem,null,(0,i.createElement)(xt,{className:"noptin-block-button"})),(0,i.createElement)(k.FlexItem,null,(0,i.createElement)(Tt,{className:"noptin-block-button",variant:"secondary"}))));return e?(0,i.createElement)(Bt,{breakpoint:"small",operator:"<"},t):t}const Mt=function({type:e,label:t,help:n,...a}){const{setEmailField:l}=(0,v.useDispatch)(it),{content:r,subject:o}=(0,v.useSelect)((t=>({content:"plain_text"===e?t(it).getEmailContentPlainText():t(it).getEmailContentRawHtml(),subject:t(it).getEmailSubject()})),[]),s=(0,u.useCallback)((t=>{l(`content_${e}`,t)}),[l]),c=(0,u.useCallback)((e=>{l("subject",e)}),[l]);return(0,i.createElement)(k.Fill,{name:`${d}-content__${e}`},(0,i.createElement)(k.Flex,{align:"top",justify:"center"},(0,i.createElement)(k.FlexBlock,{style:{maxWidth:620,margin:32}},(0,i.createElement)(k.TextControl,{className:"noptin-field-control",label:(0,I.__)("Email Subject","newsletter-optin-box"),value:o||"",onChange:c,help:(0,I.__)("Required. The subject of your email. You can use email tags to provide dynamic values.","newsletter-optin-box")}),(0,i.createElement)(k.BaseControl,{label:t,className:`notin-edit-email-content__${e} noptin-field-control block-library-html__edit`,help:n,__nextHasNoMarginBottom:!0},(0,i.createElement)(S.PlainText,{autoComplete:"off",dir:"auto",value:r,onChange:s,rows:15,className:"editor-post-text-editor",...a})),(0,i.createElement)(It,null))))},Nt=window.wp.keyboardShortcuts,Lt=window.wp.keycodes;function At(){const{redo:e,undo:t}=(0,v.useDispatch)(it),{replaceBlocks:n}=(0,v.useDispatch)(S.store),{getBlockName:a,getSelectedBlockClientId:l,getBlockAttributes:r}=(0,v.useSelect)(S.store),o=(e,t)=>{e.preventDefault();const o=0===t?"core/paragraph":"noptin/heading",i=l();if(null===i)return;const s=a(i);if("core/paragraph"!==s&&"noptin/heading"!==s)return;const c=r(i);n(i,(0,y.createBlock)(o,{level:t,...c}))};return(0,Nt.useShortcut)("core/edit-email/undo",(e=>{t(),e.preventDefault()})),(0,Nt.useShortcut)("core/edit-email/redo",(t=>{e(),t.preventDefault()})),(0,Nt.useShortcut)("core/edit-email/transform-heading-to-paragraph",(e=>o(e,0))),[1,2,3,4,5,6].forEach((e=>{(0,Nt.useShortcut)(`core/edit-email/transform-paragraph-to-heading-${e}`,(t=>o(t,e)))})),null}At.Register=function(){const{registerShortcut:e}=(0,v.useDispatch)(Nt.store);return(0,u.useEffect)((()=>{e({name:"core/edit-email/undo",category:"global",description:(0,I.__)("Undo your last changes."),keyCombination:{modifier:"primary",character:"z"}}),e({name:"core/edit-email/redo",category:"global",description:(0,I.__)("Redo your last undo."),keyCombination:{modifier:"primaryShift",character:"z"},aliases:(0,Lt.isAppleOS)()?[]:[{modifier:"primary",character:"y"}]}),e({name:"core/edit-email/save",category:"global",description:(0,I.__)("Save your changes."),keyCombination:{modifier:"primary",character:"s"}}),e({name:"core/edit-email/keyboard-shortcuts",category:"main",description:(0,I.__)("Display these keyboard shortcuts."),keyCombination:{modifier:"access",character:"h"}}),e({name:"core/edit-email/next-region",category:"global",description:(0,I.__)("Navigate to the next part of the editor."),keyCombination:{modifier:"ctrl",character:"`"},aliases:[{modifier:"access",character:"n"}]}),e({name:"core/edit-email/previous-region",category:"global",description:(0,I.__)("Navigate to the previous part of the editor."),keyCombination:{modifier:"ctrlShift",character:"`"},aliases:[{modifier:"access",character:"p"},{modifier:"ctrlShift",character:"~"}]}),e({name:"core/edit-email/transform-heading-to-paragraph",category:"block-library",description:(0,I.__)("Transform heading to paragraph."),keyCombination:{modifier:"access",character:"0"}}),[1,2,3,4,5,6].forEach((t=>{e({name:`core/edit-email/transform-paragraph-to-heading-${t}`,category:"block-library",description:(0,I.__)("Transform paragraph to heading."),keyCombination:{modifier:"access",character:`${t}`}})}))}),[e]),null};const Pt=At,Rt=window.wp.notices;function Dt({text:e,children:t}){const{createInfoNotice:n}=(0,v.useDispatch)(Rt.store),a=(0,A.useCopyToClipboard)(e,(()=>{n((0,I.__)("Error copied to clipboard."),{type:"snackbar"})}));return(0,i.createElement)(k.Button,{variant:"secondary",ref:a},t)}function Vt({message:e,error:t}){const n=[(0,i.createElement)(Dt,{key:"copy-error",text:t.stack},(0,I.__)("Copy Error"))];return(0,i.createElement)(S.Warning,{className:"edit-post-error-boundary",actions:n},e)}class zt extends u.Component{constructor(){super(...arguments),this.state={error:null}}componentDidCatch(e){(0,w.doAction)("editor.ErrorBoundary.errorLogged",e)}static getDerivedStateFromError(e){return{error:e}}render(){return this.state.error?(0,i.createElement)(Vt,{message:this.props.error||(0,I.__)("The editor has encountered an unexpected error."),error:this.state.error}):this.props.children}}const Ht=`${d}-content__visual`,Ft=({children:e})=>{const t=function(){const{meta:e,mode:t,css:n}=(0,v.useSelect)((e=>{const t=e(it);return{meta:t.getEmailMeta(),mode:t.getEmailContentType(),css:t.getEmailCSS()}}),[]);return(0,u.useMemo)((()=>`\n\t\t\t\t.block-editor-iframe__body.editor-styles-wrapper {\n\t\t\t\t\tbackground-color: ${e.background_color||"#f1f1f1"};\n\t\t\t\t\tfont-family: ${e.font_family||"Arial, Helvetica, sans-serif"};\n\t\t\t\t\tfont-size: ${e.font_size||"14px"};\n\t\t\t\t\tfont-style: ${e.font_style||"normal"};\n\t\t\t\t\tfont-weight: ${e.font_weight||"normal"};\n\t\t\t\t\tline-height: ${e.line_height||"1.5"};\n\t\t\t\t\tbox-sizing: border-box;\n\t\t\t\t}\n\t\t\t\t.content {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tmax-width: 100%;\n\t\t\t\t\tcolor: ${e.color||"#111111"};\n\t\t\t\t\tpadding: 0;\n\t\t\t\t\toverflow: auto;\n\t\t\t\t\tbox-sizing: border-box;\n\t\t\t\t}\n\t\t\t\t.content * {\n\t\t\t\t\tbox-sizing: border-box;\n\t\t\t\t}\n\t\t\t\t.content a {\n\t\t\t\t\tcolor: ${e.link_color||"#1a82e2"};\n\t\t\t\t}\n\t\t\t\t.noptin-button-link {\n\t\t\t\t\tcolor: ${e.button_color||"#fff"};\n\t\t\t\t}\n\t\t\t\t.block-editor-default-block-appender__content {\n\t\t\t\t\tmargin-left: 10px;\n\t\t\t\t\tmargin-right: 10px;\n\t\t\t\t}\n\t\t\t\t.noptin-button-link__wrapper {\n\t\t\t\t\tbackground-color: ${e.button_background||"#1a82e2"};\n\t\t\t\t\tcolor: ${e.button_color||"#fff"};\n\t\t\t\t}\n\t\t\t\t${Object.values(n).join("\n")}\n\t\t\t\t${e.custom_css||""}\n\n\t\t\t\t@media only screen and (max-width: 360px) {\n\t\t\t\t\t.wp-block-noptin-columns.is-stacked-on-mobile {\n\t\t\t\t\t\tdisplay: block !important;\n\t\t\t\t\t}\n\n\t\t\t\t\t.wp-block-noptin-columns.is-stacked-on-mobile .wp-block-noptin-column {\n\t\t\t\t\t\tdisplay: block !important;\n\t\t\t\t\t\tvertical-align: top !important;\n\t\t\t\t\t\twidth: 100% !important;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t.block-editor-url-popover__settings > .components-h-stack .components-toggle-control:first-child {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\t\t\t`),[e,t,n])}();return(0,i.createElement)(i.Fragment,null,p.styles&&Object.keys(p.styles).map((e=>(0,i.createElement)("link",{key:e,rel:"stylesheet",id:`${e}-css`,href:p.styles[e]}))),(0,i.createElement)("style",{dangerouslySetInnerHTML:{__html:t}}),(0,i.createElement)("div",{className:"content"},e))},$t=function(){const e=(0,v.useSelect)((e=>e(it).getPreviewDeviceType()),[]),t=(0,S.__experimentalUseResizeCanvas)(e),n=(0,S.__unstableUseTypingObserver)(),a={marginLeft:10,marginRight:10};return(0,A.useViewportMatch)("medium","<")&&(a.marginTop=48),(0,i.createElement)(k.Fill,{name:Ht},(0,i.createElement)(Pt,null),(0,i.createElement)(S.BlockTools,{style:t,className:`edit-post-visual-editor__editor-canvas is-${e.toLowerCase()}-preview`},(0,i.createElement)(S.BlockCanvas,{height:"100%"},(0,i.createElement)(Ft,null,(0,i.createElement)("div",{className:"editor-editor-canvas__post-title-wrapper",contentEditable:!1,ref:n,style:a},(0,i.createElement)(Zn,null)),(0,i.createElement)(zt,null,(0,i.createElement)(S.BlockList,{className:"edit-post-editor-canvas__block-list"}))))))},Ot=`${d}-content__normal`,{wp:Ut}=window;function Gt({content:e,setContent:t}){const n=(0,A.useInstanceId)(Gt,"wp-noptin-classic-editor"),a=(0,u.useRef)(null);(0,u.useEffect)((()=>{if(!a.current)return;const t=window.tinymce?.get(n),l=t?.getContent();t&&l!==e&&(console.log({currentContent:l,content:e}),t.setContent(e||""))}),[e]),(0,u.useEffect)((()=>{if(a.current)return Ut.oldEditor.initialize(n,{tinymce:!!window.tinymce&&{content_css:!1,theme_advanced_buttons:"bold,italic,underline,|,bullist,numlist,blockquote,|,link,unlink,|,spellchecker,fullscreen,|,formatselect,styleselect",drag_drop_upload:!0,toolbar1:"formatselect,bold,italic,bullist,numlist,blockquote,alignleft,aligncenter,alignright,link,spellchecker,wp_adv,dfw",toolbar2:"strikethrough,hr,forecolor,pastetext,removeformat,charmap,outdent,indent,undo,redo,wp_help",min_height:400,wpautop:!1,setup:function(n){e&&n.on("loadContent",(()=>n.setContent(e))),n.on("blur",(()=>(t(n.getContent()),!1)));const a=(0,A.debounce)((()=>{const e=n.getContent();e!==n._lastChange&&(n._lastChange=e,t(e))}),250);n.on("Paste Change input Undo Redo",a),n.on("remove",a.cancel),n.on("keydown",(e=>{Lt.isKeyboardEvent.primary(e,"z")&&e.stopPropagation();const{altKey:t}=e;t&&e.keyCode===Lt.F10&&e.stopPropagation()}))}},mediaButtons:!0,quicktags:!0}),()=>{Ut.oldEditor.remove(n)}}),[a.current]);const{baseControlProps:l,controlProps:r}=(0,k.useBaseControlProps)({className:"noptin-field-control",label:(0,I.__)("Email Content","newsletter-optin-box"),id:n,help:(0,I.__)("The content of your email. You can use email tags to provide dynamic values.","newsletter-optin-box"),__nextHasNoMarginBottom:!0});return(0,i.createElement)(k.BaseControl,{...l},(0,i.createElement)("textarea",{...r,className:"wp-editor-area",value:e||"",onChange:e=>t(e.target.value),name:n,rows:10,style:{width:"100%"},ref:a}))}function jt(){const{setEmailField:e}=(0,v.useDispatch)(it),{subject:t,heading:n,content:a,footer_text:l}=(0,v.useSelect)((e=>({heading:e(it).getEmailHeading(),content:e(it).getEmailContentNormal(),footer_text:e(it).getEmailFooterText(),subject:e(it).getEmailSubject()})),[]),r=(0,u.useCallback)((t=>{console.log({content:t}),e("content_normal",t)}),[e]),o=(0,u.useCallback)((t=>{e("footer_text",t)}),[e]),s=(0,u.useCallback)((t=>{e("heading",t)}),[e]),c=(0,u.useCallback)((t=>{e("subject",t)}),[e]);return(0,i.createElement)(k.Fill,{name:Ot},(0,i.createElement)(k.Flex,{align:"top",justify:"center"},(0,i.createElement)(k.FlexBlock,{style:{maxWidth:620,margin:32}},(0,i.createElement)(k.TextControl,{className:"noptin-field-control",label:(0,I.__)("Email Subject","newsletter-optin-box"),value:t||"",onChange:c,help:(0,I.__)("Required. The subject of your email. You can use email tags to provide dynamic values.","newsletter-optin-box")}),(0,i.createElement)(k.TextControl,{className:"noptin-field-control",label:(0,I.__)("Email Heading","newsletter-optin-box"),value:n||"",onChange:s,help:(0,I.__)("This text will be displayed at the top of the email. You can use email tags to provide dynamic values.","newsletter-optin-box")}),(0,i.createElement)(zt,null,(0,i.createElement)(Gt,{content:a,setContent:r})),(0,i.createElement)(k.TextareaControl,{className:"noptin-field-control",label:(0,I.__)("Footer Text","newsletter-optin-box"),value:l||"",onChange:o,help:(0,I.__)("This text will be displayed at the bottom of the email. You can use email tags to provide dynamic values.","newsletter-optin-box"),__nextHasNoMarginBottom:!0}),(0,i.createElement)(It,null))))}function Wt({mode:e}){return(0,i.createElement)(i.Fragment,null,(0,i.createElement)($t,null),(0,i.createElement)(jt,null),(0,i.createElement)(Mt,{type:"plain_text",label:(0,I.__)("Email Content","newsletter-optin-box"),placeholder:(0,I.__)("Type your email content here","newsletter-optin-box"),help:(0,I.__)("You can use email tags to provide dynamic values.","newsletter-optin-box")}),(0,i.createElement)(Mt,{type:"raw_html",label:(0,I.__)("Email Content","newsletter-optin-box"),placeholder:(0,I.__)("Paste the raw HTML of your email here","newsletter-optin-box"),help:(0,I.__)("You can use email tags to provide dynamic values.","newsletter-optin-box")}),(0,i.createElement)(k.Slot,{name:`${d}-content__${e}`}))}function Zt(){const{mode:e}=(0,v.useSelect)((e=>({mode:e(it).getEmailContentType()})),[]),{saveEmail:t}=(0,v.useDispatch)(it);return(0,Nt.useShortcut)("core/edit-email/save",(e=>{e.preventDefault(),t()})),(0,i.createElement)(zt,null,(0,i.createElement)(Wt,{mode:e}))}const Yt=(0,i.createElement)(H.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(H.Path,{d:"M20 11.2H6.8l3.7-3.7-1-1L3.9 12l5.6 5.5 1-1-3.7-3.7H20z"})),qt=(0,i.createElement)(H.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(H.Path,{d:"M15.6 6.5l-1.1 1 2.9 3.3H8c-.9 0-1.7.3-2.3.9-1.4 1.5-1.4 4.2-1.4 5.6v.2h1.5v-.3c0-1.1 0-3.5 1-4.5.3-.3.7-.5 1.3-.5h9.2L14.5 15l1.1 1.1 4.6-4.6-4.6-5z"})),Kt=(0,i.createElement)(H.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(H.Path,{d:"M18.3 11.7c-.6-.6-1.4-.9-2.3-.9H6.7l2.9-3.3-1.1-1-4.5 5L8.5 16l1-1-2.7-2.7H16c.5 0 .9.2 1.3.5 1 1 1 3.4 1 4.5v.3h1.5v-.2c0-1.5 0-4.3-1.5-5.7z"})),Xt=(0,u.forwardRef)((function(e,t){const n=(0,Lt.isAppleOS)()?Lt.displayShortcut.primaryShift("z"):Lt.displayShortcut.primary("y"),a=(0,v.useSelect)((e=>e(it).hasRedo()),[]),{redo:l}=(0,v.useDispatch)(it);return(0,i.createElement)(k.Button,{...e,ref:t,icon:(0,I.isRTL)()?Kt
/* translators: button label text should, if possible, be under 16 characters. */:qt,label:(0,I.__)("Redo"),shortcut:n,"aria-disabled":!a,onClick:a?l:void 0,className:"editor-history__redo",showTooltip:!0})})),Qt=(0,u.forwardRef)((function(e,t){const n=(0,v.useSelect)((e=>e(it).hasUndo()),[]),{undo:a}=(0,v.useDispatch)(it);return(0,i.createElement)(k.Button,{...e,ref:t,icon:(0,I.isRTL)()?qt
/* translators: button label text should, if possible, be under 16 characters. */:Kt,label:(0,I.__)("Undo"),shortcut:Lt.displayShortcut.primary("z"),"aria-disabled":!n,onClick:n?a:void 0,className:"editor-history__undo",showTooltip:!0})})),Jt=(0,i.createElement)(H.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(H.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"})),en=e=>{e.preventDefault()},tn=(0,u.forwardRef)((function(e,t){const n=(0,Lt.isAppleOS)()?Lt.displayShortcut.primaryShift("`"):Lt.displayShortcut.primary("`"),a=(0,v.useSelect)((e=>e(it).isInserterOpened()),[]),{setIsInserterOpened:l}=(0,v.useDispatch)(it);return(0,i.createElement)(k.Button,{...e,ref:t,className:"edit-post-header-toolbar__inserter-toggle",variant:"primary",isPressed:a,"aria-expanded":a,onMouseDown:en,onClick:()=>l(!a),icon:Jt
/* translators: button label text should, if possible, be under 16 characters. */,label:(0,I.__)("Toggle block inserter"),shortcut:n,showTooltip:!0})})),nn=function({contentType:e}){const t=(0,I.sprintf)(/* translators: %s: content type label. */
(0,I.__)("%s Email"),h[e]?.label||"");return(0,i.createElement)(S.NavigableToolbar,{className:"edit-post-header-toolbar","aria-label":(0,I.__)("Email tools"),shouldUseKeyboardFocusShortcut:!0,variant:"unstyled"},(0,i.createElement)("div",{className:"edit-post-header-toolbar__left"},"visual"===e&&(0,i.createElement)(i.Fragment,null,(0,i.createElement)(Bt,{breakpoint:"large"},(0,i.createElement)(k.ToolbarItem,{as:tn})),(0,i.createElement)(k.ToolbarItem,{as:Qt}),(0,i.createElement)(k.ToolbarItem,{as:Xt})),"visual"!==e&&(0,i.createElement)(k.__experimentalText,{className:"edit-post-header-toolbar__title",as:"span",size:14,weight:500,numberOfLines:1,truncate:!0,upperCase:!0},t)))},an=function(){const{mode:e}=(0,v.useSelect)((e=>({mode:e(it).getEmailContentType()})),[]),{setEmailField:t}=(0,v.useDispatch)(it),n=(0,u.useCallback)((e=>{t("content_type",e)}),[t]);return(0,i.createElement)(k.MenuGroup,{label:(0,I.__)("Email Type")},(0,i.createElement)(k.MenuItemsChoice,{choices:_,value:e,onSelect:n}))},{Fill:ln,Slot:rn}=(0,k.createSlotFill)("ToolsMoreMenuGroup");ln.Slot=({fillProps:e})=>(0,i.createElement)(rn,{fillProps:e},(e=>e.length>0&&(0,i.createElement)(k.MenuGroup,{label:(0,I.__)("Tools")},e)));const on=ln,sn=function(){return(0,i.createElement)(k.MenuGroup,{label:(0,I._x)("View","noun")},(0,i.createElement)(m.PreferenceToggleMenuItem,{scope:it.name,name:"fullscreenMode",label:(0,I.__)("Fullscreen mode"),info:(0,I.__)("Show and hide admin UI"),messageActivated:(0,I.__)("Fullscreen mode activated"),messageDeactivated:(0,I.__)("Fullscreen mode deactivated")}))},cn=()=>(0,i.createElement)($,{toggleProps:{showTooltip:!0}},(({onClose:e})=>(0,i.createElement)(i.Fragment,null,(0,i.createElement)(Bt,{breakpoint:"large",operator:"<"},(0,i.createElement)(z.Slot,{scope:d})),(0,i.createElement)(Bt,{breakpoint:"medium"},(0,i.createElement)(sn,null)),(0,i.createElement)(an,null),(0,i.createElement)(G.Slot,{name:`${d}/plugin-more-menu`,label:(0,I.__)("Plugins"),as:k.MenuGroup,fillProps:{onClick:e}}),(0,i.createElement)(on.Slot,{fillProps:{onClose:e}}))));function un(){const e=(0,v.useSelect)((e=>e(it).getPreviewDeviceType()),[]),{setPreviewDeviceType:t}=(0,v.useDispatch)(it);return(0,i.createElement)(S.__experimentalPreviewOptions,{isEnabled:!0,className:"edit-post-post-preview-dropdown",deviceType:e,setDeviceType:t})}const mn={hidden:{y:"-50px"},distractionFreeInactive:{y:0},hover:{y:0,transition:{type:"tween",delay:.2}}};function dn(){return(0,v.useSelect)((e=>!!e(m.store).get(d,"fullscreenMode")),[])?(0,i.createElement)(k.Button,{className:"edit-post-fullscreen-mode-close",icon:Yt,href:p.back,label:(0,I.__)("Back"),showTooltip:!0}):null}const pn=function(){const e=(0,v.useSelect)((e=>e(it).getEmailContentType()),[]),t="visual"===e;return(0,i.createElement)("div",{className:"edit-post-header"},(0,i.createElement)(dn,null),(0,i.createElement)(k.__unstableMotion.div,{variants:mn,transition:{type:"tween",delay:.8},className:"edit-post-header__toolbar"},(0,i.createElement)(nn,{contentType:e})),(0,i.createElement)(k.__unstableMotion.div,{variants:mn,transition:{type:"tween",delay:.8},className:"edit-post-header__settings"},(0,i.createElement)(Tt,null),(0,i.createElement)(xt,null),(0,i.createElement)(Bt,{breakpoint:"large"},t&&(0,i.createElement)(un,null),(0,i.createElement)(z.Slot,{scope:d})),(0,i.createElement)(cn,null)))};function gn(){const e=(0,v.useSelect)((e=>e(Rt.store).getNotices()),[]),{removeNotice:t}=(0,v.useDispatch)(Rt.store),n=e.filter((({isDismissible:e,type:t})=>e&&"default"===t)),a=e.filter((({isDismissible:e,type:t})=>!e&&"default"===t));return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(k.NoticeList,{notices:a,className:"components-editor-notices__pinned"}),(0,i.createElement)(k.NoticeList,{notices:n,className:"components-editor-notices__dismissible",onRemove:t}))}function hn(){const e=(0,v.useSelect)((e=>e(Rt.store).getNotices()),[]),{removeNotice:t}=(0,v.useDispatch)(Rt.store),n=e.filter((({type:e})=>"snackbar"===e));return(0,i.createElement)(k.SnackbarList,{notices:n,className:"components-editor-notices__snackbar",onRemove:t})}function bn(){const e=((e=ut)=>(0,v.useSelect)((e=>e(it).getEmailContentType()),e))();return(0,i.createElement)("div",{className:"edit-post-layout__footer"},"visual"===e&&(0,i.createElement)(S.BlockBreadcrumb,{rootLabelText:(0,I.__)("Email")}),"visual"!==e&&(0,i.createElement)("ul",{className:"block-editor-block-breadcrumb"},(0,i.createElement)("li",{className:"block-editor-block-breadcrumb__current"},h[e]?.description)))}const En=(0,i.createElement)(H.SVG,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(H.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM8.5 18.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h2.5v13zm10-.5c0 .3-.2.5-.5.5h-8v-13h8c.3 0 .5.2.5.5v12z"})),fn=(0,i.createElement)(H.SVG,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(H.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4 14.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h8v13zm4.5-.5c0 .3-.2.5-.5.5h-2.5v-13H18c.3 0 .5.2.5.5v12z"})),vn=p.templates||{},yn=Object.keys(vn).map((e=>({value:e,label:vn[e]}))),wn=()=>{const{setEmailField:e}=(0,v.useDispatch)(it),{content_type:t,type:n,name:a,preview_text:l,template:r}=(0,v.useSelect)((e=>{const t=e(it);return{content_type:t.getEmailContentType(),type:t.getEmailType(),name:t.getEmailName(),preview_text:t.getEmailPreviewText(),template:t.getEmailTemplate()}}),[]);return(0,i.createElement)(k.PanelBody,{title:(0,I.__)("Email Settings","newsletter-optin-box"),initialOpen:!1},(0,i.createElement)("div",{className:"noptin-panel__row"},(0,i.createElement)(k.SelectControl,{value:t||"visual",onChange:t=>e("content_type",t),label:(0,I.__)("Email Type","newsletter-optin-box"),options:_,help:h[t]?.description||(0,I.__)("Choose the type of email you want to create.","newsletter-optin-box")})),"normal"===t&&(0,i.createElement)("div",{className:"noptin-panel__row"},(0,i.createElement)(k.SelectControl,{value:r||"paste",onChange:t=>e("template",t),label:(0,I.__)("Template","newsletter-optin-box"),options:yn,help:(0,I.__)("Choose the template you want to use.","newsletter-optin-box")})),"newsletter"!==n&&(0,i.createElement)("div",{className:"noptin-panel__row"},(0,i.createElement)(k.TextControl,{value:a||"",onChange:t=>e("name",t),label:(0,I.__)("Campaign Name","newsletter-optin-box"),help:(0,I.__)("For your reference only.","newsletter-optin-box"),placeholder:(0,I.__)("Example: Black Friday Sale","newsletter-optin-box")})),("visual"===t||"normal"===t)&&(0,i.createElement)("div",{className:"noptin-panel__row"},(0,i.createElement)(k.TextControl,{value:l||"",onChange:t=>e("preview_text",t),label:(0,I.__)("Preview Text","newsletter-optin-box"),help:(0,I.__)("This is the text that appears in the inbox when the email is received.","newsletter-optin-box"),placeholder:(0,I.__)("Example: Save up to 50%","newsletter-optin-box")})),(0,i.createElement)(k.Slot,{name:`${d}/editor-settings__main`}))},xn=window.lodash,kn=()=>{const{setEmailMeta:e}=(0,v.useDispatch)(it),{content_type:t,template:n,meta:a,settings:l}=(0,v.useSelect)((e=>{const t=e(it);return{meta:t.getEmailMeta(),content_type:t.getEmailContentType(),template:t.getEmailTemplate(),settings:e(S.store).getSettings()}}),[]),r="visual"===t||"normal"===t&&["paste","merriweather","plain"].includes(n),o="visual"===t||"normal"===t&&["plain"].includes(n),s=t=>n=>{e(t,n)};return(0,i.createElement)(i.Fragment,null,r&&(0,i.createElement)(S.PanelColorSettings,{__experimentalIsRenderedInSidebar:!0,enableAlpha:!1,showTitle:!0,disableCustomColors:!1,colors:l.__experimentalFeatures?.color?.palette?.theme||[],title:(0,I.__)("Colors"),colorSettings:(0,xn.compact)([{value:a.color||"#111111",onChange:s("color"),label:(0,I.__)("Text")},{value:a.link_color||"#1a82e2",onChange:s("link_color"),label:(0,I.__)("Link")},{value:a.background_color||"#f1f1f1",onChange:s("background_color"),label:(0,I.__)("Background")},o?null:{value:a.content_background||"#ffffff",onChange:s("content_background"),label:(0,I.__)("Content Background")},"normal"!==t?null:{value:a.footer_text_color||"#95a5a6",onChange:s("footer_text_color"),label:(0,I.__)("Footer text color")}])}))},Sn=[{a11yLabel:"Pixels (px)",label:"px",step:1,value:"px"},{a11yLabel:"Rem (rem)",label:"rem",step:.5,value:"rem"},{a11yLabel:"Em (em)",label:"em",step:.5,value:"em"}],Cn=()=>{const{setEmailMeta:e}=(0,v.useDispatch)(it),{content_type:t,template:n,meta:a}=(0,v.useSelect)((e=>{const t=e(it);return{meta:t.getEmailMeta(),content_type:t.getEmailContentType(),template:t.getEmailTemplate()}}),[]),l="visual"===t||"normal"===t,r="visual"===t||"normal"===t&&!["paste","merriweather","plain"].includes(n),o=t=>n=>{e(t,n)};return(0,i.createElement)(i.Fragment,null,l&&(0,i.createElement)(k.PanelBody,{title:(0,I.__)("Design","newsletter-optin-box"),initialOpen:!1},r||(0,i.createElement)("div",{className:"noptin-panel__row"},(0,i.createElement)(k.__experimentalUnitControl,{label:(0,I.__)("Width","newsletter-optin-box"),value:a.width||"600px",onChange:o("width"),min:100,max:1e3,units:Sn,help:(0,I.__)("The width of your email's content area.","newsletter-optin-box")})),(0,i.createElement)("div",{className:"noptin-panel__row"},(0,i.createElement)(k.TextareaControl,{__nextHasNoMarginBottom:!0,value:a.custom_css||"",onChange:o("custom_css"),label:(0,I.__)("Custom CSS","newsletter-optin-box"),help:(0,I.__)("Add custom CSS to your email. You can also use this field to import custom fonts.","newsletter-optin-box")})),(0,i.createElement)(k.Slot,{name:`${d}/editor-settings__design`})))},Tn=()=>{const{setEmailMeta:e}=(0,v.useDispatch)(it),{content_type:t,template:n,meta:a}=(0,v.useSelect)((e=>{const t=e(it);return{meta:t.getEmailMeta(),content_type:t.getEmailContentType(),template:t.getEmailTemplate()}}),[]),l="visual"===t||"normal"===t&&["paste","merriweather","plain"].includes(n),r=t=>n=>{e(t,n)},o=(0,u.useCallback)((({fontStyle:t,fontWeight:n})=>{e("font_style",t),e("font_weight",n)}),[e]),s={fontStyle:a.font_style||void 0,fontWeight:a.font_weight||void 0};return(0,i.createElement)(i.Fragment,null,l&&(0,i.createElement)(k.PanelBody,{title:(0,I.__)("Typography","newsletter-optin-box"),initialOpen:!1},(0,i.createElement)("div",{className:"noptin-panel__row"},(0,i.createElement)(wt,{value:a.font_family||"",onChange:r("font_family")})),(0,i.createElement)("div",{className:"noptin-panel__row"},(0,i.createElement)(S.FontSizePicker,{__nextHasNoMarginBottom:!0,value:a.font_size||14,fallbackFontSize:14,onChange:r("font_size"),label:(0,I.__)("Font size","newsletter-optin-box"),disableCustomFontSizes:!1})),(0,i.createElement)("div",{className:"noptin-panel__row"},(0,i.createElement)(S.__experimentalFontAppearanceControl,{__nextHasNoMarginBottom:!0,value:s,onChange:o})),(0,i.createElement)("div",{className:"noptin-panel__row"},(0,i.createElement)(S.LineHeightControl,{__nextHasNoMarginBottom:!0,value:a.line_height||"1.7",onChange:r("line_height"),label:(0,I.__)("Line height","newsletter-optin-box"),__unstableInputWidth:"100%"})),(0,i.createElement)(k.Slot,{name:`${d}/editor-settings__typography`})))},Bn=()=>{const[e,t]=(e=>{if(gt.is_usable&&gt.key)return[!0,null];const t=gt.install_desc||(0,I.__)("Activate your license key to unlock","newsletter-optin-box"),n=gt.install_text||(0,I.__)("View Pricing","newsletter-optin-box");let a=gt.install_url||gt.upgrade_url||"https://noptin.com/pricing/";return gt.key||(a=(0,pt.addQueryArgs)(a,{utm_source:"attachments",utm_campaign:(g.data?.type||"noptin")+"-emails"})),[!1,(0,i.createElement)(k.Placeholder,{icon:dt,label:(0,I.__)("Premium Feature","newsletter-optin-box"),className:"noptin-premium-feature"},(0,i.createElement)(k.__experimentalVStack,{spacing:4},(0,i.createElement)("div",null,t),(0,i.createElement)(k.__experimentalHStack,{wrap:!0},!gt.key&&(0,i.createElement)(k.Button,{href:gt.activate_url,variant:"tertiary",target:"_blank",text:(0,I.__)("Activate license","newsletter-optin-box"),size:"small"}),(0,i.createElement)(k.Button,{href:a,variant:"primary",target:"_blank",text:n,size:"small"}))))]})(),{setEmailMeta:n}=(0,v.useDispatch)(it),a=(0,v.useSelect)((e=>e(it).getEmailMeta()),[]).attachments||[],l=(0,u.useCallback)((()=>{n("attachments",[...a,""])}),[a,n]),r=(0,u.useCallback)((e=>{n("attachments",a.filter(((t,n)=>n!==e)))}),[a,n]),o=(0,u.useCallback)(((e,t)=>{n("attachments",a.map(((n,a)=>a===e?t:n)))}),[a,n]);return(0,i.createElement)(k.PanelBody,{title:(0,I.__)("Email Attachments","newsletter-optin-box"),initialOpen:!1},(0,i.createElement)(k.__experimentalVStack,null,!e&&(0,i.createElement)(i.Fragment,null,(0,i.createElement)("p",{className:"description"},(0,I.__)("The add-ons pack allows you to attach images, videos, PDFs or other file types to this email.","newsletter-optin-box")),t),e&&(0,i.createElement)(i.Fragment,null,a.map(((e,t)=>(0,i.createElement)(k.__experimentalInputControl,{label:(0,I.__)("Enter file path or URL","newsletter-optin-box"),value:e,onChange:e=>o(t,e),isPressEnterToChange:!0,hideLabelFromVision:!0,placeholder:(0,I.__)("Enter file path or URL","newsletter-optin-box"),key:t,prefix:(0,i.createElement)(i.Fragment,null,(0,i.createElement)(x.MediaUpload,{onSelect:e=>{if(!e?.length)return;const l=e.map((e=>e.url));n("attachments",[...a.slice(0,t),...l,...a.slice(t+1)])},multiple:!0,render:({open:e})=>(0,i.createElement)(k.Button,{variant:"tertiary",onClick:e,icon:"upload",label:(0,I.__)("Upload","newsletter-optin-box"),showTooltip:!0})})),suffix:(0,i.createElement)(i.Fragment,null,(0,i.createElement)(k.Button,{isDestructive:!0,variant:"tertiary",onClick:()=>r(t),icon:"trash",label:(0,I.__)("Remove","newsletter-optin-box"),showTooltip:!0}))}))),(0,i.createElement)(k.Button,{variant:"primary",onClick:l,style:{justifyContent:"center"}},(0,I.__)("Add Attachment","newsletter-optin-box"),(0,i.createElement)(k.Icon,{icon:"plus"})),(0,i.createElement)("p",{className:"description"},(0,I.__)("You can only attach files that are hosted on your server.","newsletter-optin-box")))))};function In(){return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(wn,null),(0,i.createElement)(Bn,null),(0,i.createElement)(Tn,null),(0,i.createElement)(Cn,null),(0,i.createElement)(kn,null))}const Mn=(0,i.createElement)(H.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(H.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"}));function Nn({as:e=k.Button,name:t,...n}){const a=e,l=(0,v.useSelect)((e=>e(it).getCurrentSidebar()===t),[t]),{setCurrentSidebar:r}=(0,v.useDispatch)(it);return(0,i.createElement)(a,{isPressed:l,"aria-controls":t.replace("/",":"),onClick:()=>{r(l?null:t)},...n})}const Ln=({children:e,className:t,toggleButtonProps:n})=>{const a=(0,i.createElement)(Nn,{icon:Mn,...n});return(0,i.createElement)(i.Fragment,null,(0,i.createElement)("div",{className:"components-panel__header interface-complementary-area-header__small"},a),(0,i.createElement)("div",{className:L()("components-panel__header","interface-complementary-area-header",t),tabIndex:-1},e,a))},An=`${d}/sidebar-area`;function Pn({children:e,className:t,id:n}){return(0,i.createElement)(k.Fill,{name:An},(0,i.createElement)("div",{id:n,className:t},e))}function Rn({children:e,className:t,closeLabel:n=(0,I.__)("Close plugin"),name:a,header:l,headerClassName:r,icon:o,panelClassName:s,title:c,isActiveByDefault:m=!1}){const p=(0,v.useSelect)((e=>e(it).getCurrentSidebar()),[a]),{setCurrentSidebar:g}=(0,v.useDispatch)(it),h=p===a,_=(0,A.useViewportMatch)("medium","<");return(0,u.useEffect)((()=>{m&&void 0===p&&!_&&g(a)}),[p,m,a,_]),(0,i.createElement)(i.Fragment,null,(0,i.createElement)(z,{scope:d},(0,i.createElement)(Nn,{name:a,"aria-expanded":h,label:c,icon:o,showTooltip:!0,size:"compact"})),h&&(0,i.createElement)(Pn,{className:L()("interface-complementary-area",t),id:a.replace("/",":")},(0,i.createElement)(Ln,{className:r,toggleButtonProps:{label:n,name:a}},l),(0,i.createElement)(k.Panel,{className:s},e)))}Rn.Slot=e=>(0,i.createElement)(k.Slot,{name:An,...e});const Dn=Rn;function Vn(){const[e,t]=(0,u.useState)(E),n=(0,u.useCallback)((()=>{t(b)}),[t]),a=(0,u.useCallback)((()=>{t(E)}),[t]),{hasSelectedBlock:l,mode:r}=(0,v.useSelect)((e=>({hasSelectedBlock:!!e(S.store).getSelectedBlock(),mode:e(it).getEmailContentType()})),[]);return(0,u.useEffect)((()=>{"visual"===r||e!==b?(l&&e===E&&t(b),l||e!==b||t(E)):t(E)}),[l,t,r]),(0,i.createElement)(Dn,{className:"edit-post-sidebar",header:(0,i.createElement)("ul",null,(0,i.createElement)("li",null,(0,i.createElement)(k.Button,{onClick:a,className:L()("edit-post-sidebar__panel-tab",{"is-active":e===E}),"aria-label":e===E?(0,I.__)("Settings (selected)"):(0,I.__)("Settings"),"data-label":(0,I.__)("Settings")},(0,I.__)("Settings"))),"visual"===r&&(0,i.createElement)("li",null,(0,i.createElement)(k.Button,{onClick:n,className:L()("edit-post-sidebar__panel-tab",{"is-active":e===b}),"aria-label":e===b?(0,I.__)("Block (selected)"):(0,I.__)("Block"),"data-label":(0,I.__)("Block")},(0,I.__)("Settings")))),headerClassName:"edit-post-sidebar__panel-tabs"
/* translators: button label text should, if possible, be under 16 characters. */,title:e===E?(0,I.__)("Settings"):(0,I.__)("Block"),closeLabel:(0,I.__)("Close Settings"),name:E,icon:(0,I.isRTL)()?En:fn,isActiveByDefault:!0},e===E&&(0,i.createElement)(In,null),e===b&&(0,i.createElement)(S.BlockInspector,{showNoBlockSelectedMessage:!0}))}function zn(){const e=(0,v.useSelect)((e=>e(it).getInsertionPoint()),[]);return(0,i.createElement)("div",{className:"edit-post-editor__inserter-panel"},(0,i.createElement)("div",{className:"edit-post-editor__inserter-panel-content"},(0,i.createElement)(S.__experimentalLibrary,{showInserterHelpPanel:!1,shouldFocusBlock:!0,rootClientId:e.rootClientId,__experimentalInsertionIndex:e.insertionIndex,__experimentalFilterValue:e.filterValue})))}function Hn(){const e=(0,A.useFocusOnMount)("firstElement"),[t,n]=(0,u.useState)(null),a=(0,u.useRef)(),l=(0,A.useMergeRefs)([e,a,n]);return(0,i.createElement)("div",{className:"edit-post-editor__document-overview-panel"},(0,i.createElement)("div",{className:"edit-post-editor__list-view-container",ref:l},(0,i.createElement)("div",{className:"edit-post-editor__list-view-panel-content"},(0,i.createElement)(S.__experimentalListView,{dropZoneElement:t}))))}const Fn=[{name:"blocks",title:(0,I.__)("Blocks","newsletter-optin-box")},{name:"overview",title:(0,I.__)("Overview","newsletter-optin-box")}];function $n(){return(0,i.createElement)(Bt,{breakpoint:"medium"},(0,i.createElement)(k.TabPanel,{className:"block-editor-inserter__tabs edit-post-editor__inserter-panel",tabs:Fn},(e=>(0,i.createElement)("div",{style:{width:350,overflow:"auto"}},(0,i.createElement)(k.__experimentalScrollable,null,"blocks"===e.name&&(0,i.createElement)(zn,null),"overview"===e.name&&(0,i.createElement)(Hn,null))))))}function On(){const[e,t]=(0,u.useState)(0),n=(0,v.useSelect)((e=>e(it).getEmailId()),[]),a=(0,A.usePrevious)(n);(0,u.useEffect)((()=>{n===a&&n===e||!n||l(n)}),[n,a,e]);const l=e=>{window.history.replaceState({id:e},"Email "+e,function(e){return(0,pt.addQueryArgs)("admin.php",{"noptin-campaign-id":e,page:"noptin-email-campaigns"})}(e)),t(e)};return null}function Un(){}const Gn=window.wp.richText,jn=window.wp.dom,Wn=/[\r\n]+/g,Zn=(0,u.forwardRef)((function(e,t){const[n,a]=(0,u.useState)(!1),{ref:l}=function(e){const t=(0,u.useRef)(),n=(0,v.useSelect)((e=>e(it).getEmailId()<1),[]);return(0,u.useImperativeHandle)(e,(()=>({focus:()=>{t?.current?.focus()}}))),(0,u.useEffect)((()=>{if(!t.current)return;const{defaultView:e}=t.current.ownerDocument,{name:a,parent:l}=e,r="editor-canvas"===a?l.document:e.document,{activeElement:o,body:i}=r;!n||o&&i!==o||t.current.focus()}),[n]),{ref:t}}(t),{subject:r,setSubject:o}=function(){const{setEmailField:e}=(0,v.useDispatch)(it),t=(0,v.useSelect)((e=>e(it).getEmailSubject()),[]),n=(0,u.useCallback)((t=>{e("subject",t)}),[e]);return{subject:t,setSubject:n}}(),[s,c]=(0,u.useState)({}),{clearSelectedBlock:m,insertBlocks:d,insertDefaultBlock:p}=(0,v.useDispatch)(S.store);function g(e){d(e,0)}function h(){a(!1),c({})}const{ref:_}=(0,Gn.__unstableUseRichText)({value:r,onChange:function(e){o(e.replace(Wn," "))},placeholder:(0,I.__)("Enter email subject"),selectionStart:s.start,selectionEnd:s.end,onSelectionChange(e,t){c((n=>{const{start:a,end:l}=n;return a===e&&l===t?n:{start:e,end:t}}))},__unstableDisableFormats:!1}),b=L()("wp-block wp-block-post-title block-editor-block-list__block editor-post-title editor-post-title__input rich-text",{"is-selected":n});return(0,i.createElement)("h1",{ref:(0,A.useMergeRefs)([_,l]),contentEditable:!0,className:b,"aria-label":(0,I.__)("Enter email subject"),role:"textbox","aria-multiline":"true",onFocus:function(){a(!0),m()},onBlur:h,onKeyDown:function(e){e.keyCode===Lt.ENTER&&(e.preventDefault(),p(void 0,void 0,0))},onKeyPress:h,onPaste:function(e){const t=e.clipboardData;let n="",a="";try{n=t.getData("text/plain"),a=t.getData("text/html")}catch(e){try{a=t.getData("Text")}catch(e){return}}window.console.log("Received HTML:\n\n",a),window.console.log("Received plain text:\n\n",n);const l=(0,y.pasteHandler)({HTML:a,plainText:n});if(e.preventDefault(),l.length)if("string"!=typeof l){const[e]=l;if(r||"core/heading"!==e.name&&"core/paragraph"!==e.name)g(l);else{const t=(0,jn.__unstableStripHTML)(e.attributes.content);o(t),g(l.slice(1))}}else{const e={...(0,Gn.create)({html:r}),...s},t=(0,jn.__unstableStripHTML)(l),n=(0,Gn.insert)(e,(0,Gn.create)({html:t}));o((0,Gn.toHTMLString)({value:n})),c({start:n.start,end:n.end})}}})})),Yn={fontFamily:!1,fontSize:!0,fontAppearance:!1,lineHeight:!1,letterSpacing:!1,textTransform:!1,textDecoration:!1},qn=[{name:(0,I.__)("Small"),slug:"small",size:13},{name:(0,I.__)("Normal"),slug:"normal",size:16},{name:(0,I.__)("Medium"),slug:"medium",size:20},{name:(0,I.__)("Large"),slug:"large",size:36},{name:(0,I.__)("Huge"),slug:"huge",size:42}];function Kn({attributes:e={style:{noptin:{typography:{}}}},setAttributes:t,settings:n,panelId:a,defaultControls:l=Yn}){const[r,o,s]=ct(e,t,"typography"),c=ft(n,"fontFamily"),u=r.fontFamily,m=e=>o({fontFamily:e}),d=ft(n,"fontSize"),p=r.fontSize,g=e=>o({fontSize:e}),h=ft(n,"fontStyle"),_=ft(n,"fontWeight"),b=h||_,E=r.fontStyle,f=r.fontWeight,v=({fontStyle:e,fontWeight:t})=>o({fontStyle:e,fontWeight:t}),y=ft(n,"lineHeight"),w=r.lineHeight,x=e=>o({lineHeight:e}),C=ft(n,"letterSpacing"),T=r.letterSpacing,B=e=>o({letterSpacing:e}),M=ft(n,"textTransform"),N=r.textTransform,L=e=>o({textTransform:e}),A=ft(n,"textDecoration"),P=r.textDecoration,R=e=>o({textDecoration:e});return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(k.__experimentalToolsPanel,{label:(0,I.__)("Typography"),resetAll:s,panelId:a,className:"typography-block-support-panel"},c&&(0,i.createElement)(k.__experimentalToolsPanelItem,{label:(0,I.__)("Font family"),hasValue:()=>!!u,onDeselect:()=>m(void 0),isShownByDefault:l.fontFamily,panelId:a},(0,i.createElement)(wt,{value:u||"",onChange:m})),d&&(0,i.createElement)(k.__experimentalToolsPanelItem,{label:(0,I.__)("Font size"),hasValue:()=>!!p,onDeselect:()=>g(void 0),isShownByDefault:l.fontSize,panelId:a},(0,i.createElement)(k.FontSizePicker,{value:p,onChange:g,fontSizes:qn,disableCustomFontSizes:!1,withReset:!1,units:["px","em","rem"],withSlider:!0,size:"__unstable-large",__nextHasNoMarginBottom:!0})),b&&(0,i.createElement)(k.__experimentalToolsPanelItem,{className:"single-column",label:(0,I.__)("Appearance"),hasValue:()=>!!E||!!f,onDeselect:()=>{v({fontStyle:void 0,fontWeight:void 0})},isShownByDefault:l.fontAppearance,panelId:a},(0,i.createElement)(S.__experimentalFontAppearanceControl,{value:{fontStyle:E,fontWeight:f},onChange:v,hasFontStyles:h,hasFontWeights:_,size:"__unstable-large",__nextHasNoMarginBottom:!0})),y&&(0,i.createElement)(k.__experimentalToolsPanelItem,{className:"single-column",label:(0,I.__)("Line height"),hasValue:()=>!!w,onDeselect:()=>x(void 0),isShownByDefault:l.lineHeight,panelId:a},(0,i.createElement)(S.LineHeightControl,{__nextHasNoMarginBottom:!0,__unstableInputWidth:"auto",value:w,onChange:x,size:"__unstable-large"})),C&&(0,i.createElement)(k.__experimentalToolsPanelItem,{className:"single-column",label:(0,I.__)("Letter spacing"),hasValue:()=>!!T,onDeselect:()=>B(void 0),isShownByDefault:l.letterSpacing,panelId:a},(0,i.createElement)(S.__experimentalLetterSpacingControl,{value:T,onChange:B,size:"__unstable-large",__unstableInputWidth:"auto"})),A&&(0,i.createElement)(k.__experimentalToolsPanelItem,{className:"single-column",label:(0,I.__)("Text decoration"),hasValue:()=>!!P,onDeselect:()=>R(void 0),isShownByDefault:l.textDecoration,panelId:a},(0,i.createElement)(S.__experimentalTextDecorationControl,{value:P,onChange:R,size:"__unstable-large",__unstableInputWidth:"auto"})),M&&(0,i.createElement)(k.__experimentalToolsPanelItem,{label:(0,I.__)("Letter case"),hasValue:()=>!!N,onDeselect:()=>L(void 0),isShownByDefault:l.textTransform,panelId:a},(0,i.createElement)(S.__experimentalTextTransformControl,{value:N,onChange:L,showNone:!0,isBlock:!0,size:"__unstable-large",__nextHasNoMarginBottom:!0}))))}const Xn=e=>{const[t]=ct(e,null,"typography");return t},Qn=()=>{const e=(0,v.useSelect)((e=>e(S.store).getSettings()),[]);return e.__experimentalFeatures?.color?.palette?.theme||[]};function Jn({attributes:e={style:{noptin:{border:{}}}},setAttributes:t=(e=>e),settings:n,panelId:a}){const[l,r,o]=ct(e,t,"border"),s=Qn();return(0,i.createElement)(k.__experimentalToolsPanel,{label:(0,I.__)("Border"),resetAll:o,panelId:a,className:"border-block-support-panel"},ft(n,"border")&&(0,i.createElement)(k.__experimentalToolsPanelItem,{hasValue:()=>(0,k.__experimentalIsDefinedBorder)(l?.border),label:(0,I.__)("Border"),onDeselect:()=>r({border:void 0}),isShownByDefault:!0,panelId:a},(0,i.createElement)(k.__experimentalBorderBoxControl,{colors:s,onChange:e=>r({border:e}),popoverOffset:40,popoverPlacement:"left-start",value:l?.border,__experimentalIsRenderedInSidebar:!0,size:"__unstable-large"})),ft(n,"radius")&&(0,i.createElement)(k.__experimentalToolsPanelItem,{hasValue:()=>{const e=l?.radius;return"object"==typeof e?Object.entries(e).some(Boolean):!!e},label:(0,I.__)("Radius"),onDeselect:()=>r({radius:void 0}),isShownByDefault:!0,panelId:a},(0,i.createElement)(S.__experimentalBorderRadiusControl,{values:l?.radius,onChange:e=>r({radius:e})})))}const ea=e=>{const[t]=ct(e,null,"border");if(!t)return{};const n=(e,t)=>{if(!e)return{};const n={};return["style","width","color"].forEach((a=>{const l=e[a],r=`${t}${a.charAt(0).toUpperCase()+a.slice(1)}`;l&&(n[r]=l)})),n[`${t}Width`]&&n[`${t}Color`]&&!n[`${t}Style`]&&(n[`${t}Style`]="solid"),n},a=e?.style?.noptin?.border;return{...(0,k.__experimentalIsDefinedBorder)(a?.border)?(e=>{if(!(0,k.__experimentalHasSplitBorders)(e))return n(e,"border");let t={};return["top","right","bottom","left"].forEach((a=>{const l=e[a],r=`border${a.charAt(0).toUpperCase()+a.slice(1)}`;t={...t,...n(l,r)}})),t})(a?.border):{},...(l=t.radius,l&&"object"==typeof l?{borderRadius:["topLeft","topRight","bottomRight","bottomLeft"].reduce(((e,t)=>{const n=l[t];return n&&(e=`${e} ${n}`),e}),"")}:{borderRadius:l})};var l},ta={placement:"left-start",offset:36,shift:!0},na=({indicators:e,label:t})=>(0,i.createElement)(k.__experimentalHStack,{justify:"flex-start"},(0,i.createElement)(k.__experimentalZStack,{isLayered:!1,offset:-8},e.map(((e,t)=>(0,i.createElement)(k.Flex,{key:t,expanded:!1},(0,i.createElement)(k.ColorIndicator,{colorValue:e}))))),(0,i.createElement)(k.FlexItem,{className:"block-editor-panel-color-gradient-settings__color-name",title:t},t));function aa({isGradient:e,inheritedValue:t,userValue:n,setValue:a,colorGradientControlSettings:l}){return(0,i.createElement)(S.__experimentalColorGradientControl,{...l,showTitle:!1,enableAlpha:!0,__experimentalIsRenderedInSidebar:!0,colorValue:e?void 0:t,gradientValue:e?t:void 0,onColorChange:e?void 0:a,onGradientChange:e?a:void 0,clearable:t===n,headingLevel:3})}function la({label:e,hasValue:t,resetValue:n,isShownByDefault:a,indicators:l,tabs:r,colorGradientControlSettings:o,panelId:s}){const c=r.map((({key:e,label:t})=>({name:e,title:t})));return(0,i.createElement)(k.__experimentalToolsPanelItem,{className:"block-editor-tools-panel-color-gradient-settings__item",hasValue:t,label:e,onDeselect:n,isShownByDefault:a,panelId:s},(0,i.createElement)(k.Dropdown,{popoverProps:ta,className:"block-editor-tools-panel-color-gradient-settings__dropdown",renderToggle:({onToggle:t,isOpen:n})=>{const a={onClick:t,className:L()("block-editor-panel-color-gradient-settings__dropdown",{"is-open":n}),"aria-expanded":n,"aria-label":(0,I.sprintf)(/* translators: %s is the type of color property, e.g., "background" */
(0,I.__)("Color %s styles"),e)};return(0,i.createElement)(k.Button,{...a},(0,i.createElement)(na,{indicators:l,label:e}))},renderContent:()=>(0,i.createElement)(k.__experimentalDropdownContentWrapper,{paddingSize:"none"},(0,i.createElement)("div",{className:"block-editor-panel-color-gradient-settings__dropdown-content"},1===r.length&&(0,i.createElement)(aa,{...r[0],colorGradientControlSettings:o}),r.length>1&&(0,i.createElement)(k.TabPanel,{tabs:c},(e=>{const t=r.find((t=>t.key===e.name));return t?(0,i.createElement)(aa,{...t,colorGradientControlSettings:o}):null}))))}))}const ra={text:!0,background:!0,link:!0,heading:!0,button:!0},oa={text:{label:(0,I.__)("Text"),prepare:(e,t)=>{t?.text&&(e.style.color=t.text)}},background:{label:(0,I.__)("Background"),prepare:(e,t)=>{t?.background&&(e.style.backgroundColor=t.background)}},link:{label:(0,I.__)("Link"),prepare:(e,t,n)=>{t?.link&&(e.css=`${e.css} #${n} a { color: ${t.link} }`)}},heading:{label:(0,I.__)("Heading"),tabs:[{key:"heading",label:(0,I.__)("Text")},{key:"headingBackground",label:(0,I.__)("Background")}],prepare:(e,t,n)=>{t?.heading&&(e.css=`${e.css} #${n} h1,\n#${n} h2,\n#${n} h3,\n#${n} h4,\n#${n} h5,\n#${n} h6 { color: ${t.heading} }`),t?.headingBackground&&(e.css=`${e.css} #${n} h1,\n#${n} h2,\n#${n} h3,\n#${n} h4,\n#${n} h5,\n#${n} h6 { background-color: ${t.headingBackground} }`)}},button:{label:(0,I.__)("Button"),tabs:[{key:"button",label:(0,I.__)("Text")},{key:"buttonBackground",label:(0,I.__)("Background")}],prepare:(e,t,n)=>{t?.button&&(e.css=`${e.css} #${n} .noptin-button-link,\n#${n} .noptin-button-link__wrapper { color: ${t.button} }`),t?.buttonBackground&&(e.css=`${e.css} #${n} .noptin-button-link,\n#${n} .noptin-button-link__wrapper { background-color: ${t.buttonBackground} }`)}}};function ia({settings:e,panelId:t,defaultControls:n=ra,children:a=null,attributes:l,setAttributes:r}){const[o,s,c]=ct(l,r,"color"),u=Qn(),m=(0,xn.compact)(Object.keys(oa).map((t=>{if(!ft(e,t))return!1;const a=oa[t].tabs||[{key:t,label:oa[t].label}];return{key:t,label:oa[t].label,hasValue:()=>!!o[t],resetValue:()=>s({[t]:void 0}),isShownByDefault:n[t],indicators:[o?.[t]],tabs:a.map((({key:e,label:t})=>({key:e,label:t,setValue:t=>s({[e]:t}),userValue:o?.[e]})))}})));return(0,i.createElement)(i.Fragment,null,m.map((e=>(0,i.createElement)(la,{...e,colorGradientControlSettings:{colors:u,disableCustomColors:!1},panelId:t}))),a)}const sa=e=>{const[t]=ct(e,null,"color"),n={style:{},css:""};return t?(Object.values(oa).forEach((a=>{a.prepare(n,t,e.anchor)}),n),n):{style:{},css:""}};function ca(e){if(!e)return;if("core/html"===e.name)return(0,y.registerBlockType)({name:e.name,...e.metadata},e.settings);e.metadata.attributes=e.metadata.attributes||{},e.metadata.attributes.anchor={type:"string",source:"attribute",attribute:"id",selector:"*"},e.metadata?.noptin&&!e.metadata.attributes?.style&&(e.metadata.attributes=e.metadata.attributes||{},e.metadata.attributes.style={type:"object",default:{}});const{metadata:t,settings:n,name:a}=(({metadata:e,settings:t,...n})=>{if(e?.noptin?.typography){const n=t.edit;t.edit=t=>{const a=ft(e.noptin.typography,"textAlign"),[l,r]=ct(t.attributes,t.setAttributes,"typography");return(0,i.createElement)(i.Fragment,null,a&&(0,i.createElement)(S.BlockControls,{group:"block"},(0,i.createElement)(S.AlignmentControl,{value:l.textAlign,onChange:e=>r({textAlign:e})})),(0,i.createElement)(S.InspectorControls,{group:"styles"},(0,i.createElement)(Kn,{panelId:t.clientId,attributes:t.attributes,setAttributes:t.setAttributes,settings:e.noptin.typography})),n(t))}}return{metadata:e,settings:t,...n}})((({metadata:e,settings:t,...n})=>{if(e?.noptin?.border){const n=t.edit;t.edit=t=>(0,i.createElement)(i.Fragment,null,(0,i.createElement)(S.InspectorControls,{group:"styles"},(0,i.createElement)(Jn,{panelId:t.clientId,attributes:t.attributes,setAttributes:t.setAttributes,settings:e.noptin.border})),n(t))}return{metadata:e,settings:t,...n}})((({metadata:e,settings:t,...n})=>{if(e?.noptin?.color){const n=t.edit;t.edit=(e=>(0,A.createHigherOrderComponent)((t=>n=>{const{setEmailCSS:a}=(0,v.useDispatch)(it),l=(0,v.useSelect)((e=>e(it).getEmailCSS()),[])[n.clientId]||"",r=`block-${n.clientId}`;(0,i.useEffect)((()=>{n.attributes.anchor!==r&&n.setAttributes({anchor:r})}),[n.clientId]);const o=(0,i.useMemo)((()=>sa(n.attributes).css),[n.attributes]);return o!==l&&a(n.clientId,o),(0,i.createElement)(i.Fragment,null,(0,i.createElement)(S.InspectorControls,{group:"color"},(0,i.createElement)(ia,{panelId:n.clientId,attributes:n.attributes,setAttributes:n.setAttributes,settings:e})),(0,i.createElement)(t,{...n}))}),"withNoptinColors"))(e.noptin.color)(n)}return{metadata:e,settings:t,...n}})(e)));return(0,y.registerBlockType)({name:a,...t},n)}const ua=e=>{const t={margin:{},padding:{}};return Object.entries(e).forEach((([e,n])=>{e.startsWith("margin")?t.margin[e]=n:e.startsWith("padding")&&(t.padding[e]=n)})),t},ma=(e,t=!1)=>{const n=(0,S.__experimentalGetSpacingClassesAndStyles)(e),a=n?.style||{};return t?ua(a):a};function da(e){const{batch:t}=(0,v.useRegistry)(),{moveBlocksToPosition:n,replaceInnerBlocks:a,duplicateBlocks:l,insertBlock:r}=(0,v.useDispatch)(S.store),{getBlockRootClientId:o,getBlockIndex:i,getBlockOrder:s,getBlockName:c,getBlock:m,getNextBlockClientId:d,canInsertBlockType:p}=(0,v.useSelect)(S.store),g=(0,u.useRef)(e);return g.current=e,(0,A.useRefEffect)((e=>{function u(e){if(e.defaultPrevented)return;if(e.keyCode!==Lt.ENTER)return;const{content:u,clientId:h}=g.current;if(u.length)return;const _=o(h);if(!(0,y.hasBlockSupport)(c(_),"__experimentalOnEnter",!1))return;const b=s(_),E=b.indexOf(h);if(E===b.length-1){let t=_;for(;!p(c(h),o(t));)t=o(t);return void("string"==typeof t&&(e.preventDefault(),n([h],_,o(t),i(t)+1)))}const f=(0,y.getDefaultBlockName)();if(!p(f,o(_)))return;e.preventDefault();const v=m(_);t((()=>{l([_]);const e=i(_);a(_,v.innerBlocks.slice(0,E)),a(d(_),v.innerBlocks.slice(E+1)),r((0,y.createBlock)(f),e+1,o(_),!0)}))}return e.addEventListener("keydown",u),()=>{e.removeEventListener("keydown",u)}}),[])}ma.save=(e,t=!1)=>{const n=(0,S.__experimentalGetSpacingClassesAndStyles)(e),a=n?.style||{};return t?ua(a):a};const pa={apiVersion:3,name:"core/paragraph",title:(0,I.__)("Paragraph","newsletter-optin-box"),category:"content",description:(0,I.__)("Start with the basic building block of all narrative.","newsletter-optin-box"),keywords:["text"],attributes:{content:{type:"string",source:"html",selector:"p",default:"",__experimentalRole:"content"},placeholder:{type:"string"},style:{type:"object",default:{spacing:{margin:{bottom:"16px",left:"10px",right:"10px"}}}}},noptin:{typography:!0,border:!0,color:{background:!0,text:!0,link:!0}},supports:{anchor:!1,className:!0,spacing:{__experimentalSkipSerialization:!0,margin:!0,padding:!0,__experimentalDefaultControls:{margin:!0,padding:!1}},__experimentalSelector:"p",__unstablePasteTextInline:!0}},ga={from:[{type:"raw",priority:20,selector:"p",schema:({phrasingContentSchema:e,isPaste:t})=>({p:{children:e,attributes:t?[]:["style","id"]}}),transform(e){const t=(0,y.getBlockAttributes)("core/paragraph",e.outerHTML),{textAlign:n}=e.style||{};return"left"!==n&&"center"!==n&&"right"!==n||(t.align=n),(0,y.createBlock)("core/paragraph",t)}}]},{name:ha}=pa,_a={icon:Et,example:{attributes:{content:(0,I.__)("In a village of La Mancha, the name of which I have no desire to call to mind, there lived not long since one of those gentlemen that keep a lance in the lance-rack, an old buckler, a lean hack, and a greyhound for coursing.")}},__experimentalLabel(e,{context:t}){const n=e?.metadata?.name;if("list-view"===t&&n)return n;if("accessibility"===t){if(n)return n;const{content:t}=e;return t&&0!==t.length?t:(0,I.__)("Empty")}},transforms:ga,merge:(e,t)=>({content:(e.content||"")+(t.content||"")}),edit:function({attributes:e,mergeBlocks:t,onReplace:n,onRemove:a,setAttributes:l,clientId:r}){const{content:o,placeholder:s}=e,c=(0,S.useBlockProps)({ref:da({clientId:r,content:o}),style:{...Xn(e),...ea(e),...ma(e),...sa(e).style}});return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(S.RichText,{identifier:"content",tagName:"p",...c,value:o,onChange:e=>l({content:e}),onSplit:(t,n)=>{let a;(n||t)&&(a={...e,content:t});const l=(0,y.createBlock)("core/paragraph",a);return n&&(l.clientId=r),l},onMerge:t,onReplace:n,onRemove:a,"aria-label":o?(0,I.__)("Block: Paragraph"):(0,I.__)("Empty block; start writing or type forward slash to choose a block"),"data-empty":!o,placeholder:s||(0,I.__)("Start writing or type / to choose a block"),"data-custom-placeholder":!!s||void 0,__unstableAllowPrefixTransformations:!0}))},save:function({attributes:e}){const{content:t}=e,n=S.useBlockProps.save({style:{...Xn(e),...ea(e),...ma.save(e),...sa(e).style}});return(0,i.createElement)("p",{...n},(0,i.createElement)(S.RichText.Content,{value:t}))}},ba=(ca({name:ha,metadata:pa,settings:_a}),(0,i.createElement)(H.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(H.Path,{d:"M6 5V18.5911L12 13.8473L18 18.5911V5H6Z"}))),Ea={apiVersion:3,name:"core/heading",title:(0,I.__)("Heading","newsletter-optin-box"),category:"content",description:(0,I.__)("Introduce new sections and organize content to help readers understand the structure of your content.","newsletter-optin-box"),keywords:["title","subtitle"],attributes:{content:{type:"string",source:"html",selector:"h1,h2,h3,h4,h5,h6",default:"",__experimentalRole:"content"},level:{type:"number",default:2},placeholder:{type:"string"},style:{type:"object",default:{spacing:{margin:{bottom:"16px",left:"10px",right:"10px"}}}}},noptin:{typography:!0,border:!0,color:{background:!0,text:!0,link:!0}},supports:{anchor:!1,className:!0,spacing:{__experimentalSkipSerialization:!0,margin:!0,padding:!0,__experimentalDefaultControls:{margin:!0,padding:!1}},__unstablePasteTextInline:!0,__experimentalSlashInserter:!0}},fa={from:[{type:"block",isMultiBlock:!0,blocks:["core/paragraph"],transform:e=>e.map((({content:e,className:t,align:n})=>(0,y.createBlock)("core/heading",{content:e,className:t,textAlign:n})))},{type:"raw",selector:"h1,h2,h3,h4,h5,h6",schema:({phrasingContentSchema:e,isPaste:t})=>{const n={children:e,attributes:t?[]:["style","id"]};return{h1:n,h2:n,h3:n,h4:n,h5:n,h6:n}},transform(e){const t=(0,y.getBlockAttributes)("core/heading",e.outerHTML),{textAlign:n}=e.style||{};var a;return t.level=(a=e.nodeName,Number(a.substr(1))),"left"!==n&&"center"!==n&&"right"!==n||(t.align=n),(0,y.createBlock)("core/heading",t)}},...[1,2,3,4,5,6].map((e=>({type:"prefix",prefix:Array(e+1).join("#"),transform:t=>(0,y.createBlock)("core/heading",{level:e,content:t})}))),...[1,2,3,4,5,6].map((e=>({type:"enter",regExp:new RegExp(`^/(h|H)${e}$`),transform:()=>(0,y.createBlock)("core/heading",{level:e})})))],to:[{type:"block",isMultiBlock:!0,blocks:["core/paragraph"],transform:e=>e.map((({content:e,textAlign:t})=>(0,y.createBlock)("core/paragraph",{content:e,align:t})))}]},{name:va}=Ea,ya={icon:ba,example:{attributes:{content:(0,I.__)("Code is Poetry"),level:2}},__experimentalLabel(e,{context:t}){const{content:n,level:a}=e,l=e?.metadata?.name;return"list-view"===t&&(l||n)?e?.metadata?.name||n:"accessibility"===t?n&&0!==n.length?(0,I.sprintf)(/* translators: accessibility text. 1: heading level. 2: heading content. */
(0,I.__)("Level %1$s. %2$s"),a,n):(0,I.sprintf)(/* translators: accessibility text. %s: heading level. */
(0,I.__)("Level %s. Empty."),a):void 0},transforms:fa,merge:(e,t)=>({content:(e.content||"")+(t.content||"")}),edit:function({attributes:e,setAttributes:t,mergeBlocks:n,onReplace:a,clientId:l}){const{placeholder:r,content:o,level:s}=e,c=(0,S.useBlockProps)({style:{...Xn(e),...ea(e),...ma(e),...sa(e).style}});return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(S.BlockControls,{group:"block"},(0,i.createElement)(S.HeadingLevelDropdown,{value:s,onChange:e=>t({level:e})})),(0,i.createElement)(S.RichText,{identifier:"content",tagName:"h"+s,value:o,onChange:e=>{t({content:e})},onMerge:n,onSplit:(t,n)=>{let a;var r;return a=n||t?(0,y.createBlock)("core/heading",{...e,content:t}):(0,y.createBlock)(null!==(r=(0,y.getDefaultBlockName)())&&void 0!==r?r:"core/heading"),n&&(a.clientId=l),a},onReplace:a,onRemove:()=>a([]),placeholder:r||(0,I.__)("Enter heading..."),...c}))},save:function({attributes:e}){const{content:t,level:n}=e,a="h"+n,l=S.useBlockProps.save({style:{...Xn(e),...ea(e),...ma.save(e),...sa(e).style}});return(0,i.createElement)(a,{...l},(0,i.createElement)(S.RichText.Content,{value:t}))}},wa=(ca({name:va,metadata:Ea,settings:ya}),(0,i.createElement)(H.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(H.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v8.4l-3-2.9c-.3-.3-.8-.3-1 0L11.9 14 9 12c-.3-.2-.6-.2-.8 0l-3.6 2.6V5c-.1-.3.1-.5.4-.5zm14 15H5c-.3 0-.5-.2-.5-.5v-2.4l4.1-3 3 1.9c.3.2.7.2.9-.1L16 12l3.5 3.4V19c0 .3-.2.5-.5.5z"}))),xa=window.wp.blob,ka=(0,i.createElement)(H.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(H.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M6 5.5h12a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5H6a.5.5 0 0 1-.5-.5V6a.5.5 0 0 1 .5-.5ZM4 6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6Zm4 10h2v-1.5H8V16Zm5 0h-2v-1.5h2V16Zm1 0h2v-1.5h-2V16Z"})),Sa=(0,i.createElement)(H.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(H.Path,{d:"M16.5 7.8v7H18v-7c0-1-.8-1.8-1.8-1.8h-7v1.5h7c.2 0 .3.1.3.3zm-8.7 8.7c-.1 0-.2-.1-.2-.2V2H6v4H2v1.5h4v8.8c0 1 .8 1.8 1.8 1.8h8.8v4H18v-4h4v-1.5H7.8z"})),Ca=(0,i.createElement)(H.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(H.Path,{d:"M18.5 15v3.5H13V6.7l4.5 4.1 1-1.1-6.2-5.8-5.8 5.8 1 1.1 4-4v11.7h-6V15H4v5h16v-5z"})),Ta=["image"],Ba=({href:e,children:t})=>e?(0,i.createElement)("a",{href:e,onClick:e=>e.preventDefault(),"aria-disabled":!0,style:{pointerEvents:"none",cursor:"default",display:"block",textDecoration:"none",maxWidth:"100%"}},t):t;function Ia({temporaryURL:e,attributes:t,setAttributes:n,isSelected:a,insertBlocksAfter:l,onSelectImage:r,onSelectURL:o,onUploadError:s,containerRef:c,clientId:m,blockEditingMode:d}){const{url:p="",alt:g,caption:h,align:_,id:b,href:E,rel:f,linkClass:w,linkDestination:x,width:T,height:B,scale:M,sizeSlug:N}=t,L=T?parseInt(T,10):void 0,P=B?parseInt(B,10):void 0,R=(0,u.useRef)(),D=(0,A.usePrevious)(h),[V,z]=(0,u.useState)(!!h),{image:H,multiImageSelection:F}=(0,v.useSelect)((e=>{const{getMedia:t}=e(C.store),{getMultiSelectedBlockClientIds:n,getBlockName:l}=e(S.store),r=n();return{image:b&&a?t(b,{context:"view"}):null,multiImageSelection:r.length&&r.every((e=>"core/image"===l(e)))}}),[b,a]),{imageEditing:$,imageSizes:O,mediaUpload:U}=(0,v.useSelect)((e=>{const{getSettings:t}=e(S.store),n=t();return{imageEditing:n.imageEditing,imageSizes:n.imageSizes,mediaUpload:n.mediaUpload}}),[m]),{createErrorNotice:G,createSuccessNotice:j}=(0,v.useDispatch)(Rt.store),[{loadedNaturalWidth:W,loadedNaturalHeight:Z},Y]=(0,u.useState)({loadedNaturalWidth:void 0,loadedNaturalHeight:void 0}),[q,K]=(0,u.useState)(!1),[X,Q]=(0,u.useState)(),J=function(e,t){const[n,a]=(0,u.useState)();function l(){a(e.current?.clientWidth)}return(0,u.useEffect)(l,t),(0,u.useEffect)((()=>{const{defaultView:t}=e.current.ownerDocument;return t.addEventListener("resize",l),()=>{t.removeEventListener("resize",l)}}),[]),n}(c,[_]),ee="default"===d,te=O.filter((({slug:e})=>H?.media_details?.sizes?.[e]?.source_url)).map((({name:e,slug:t})=>({value:t,label:e}))),ne=!!U;(0,u.useEffect)((()=>{Ma(b,p)&&a&&ne?X||window.fetch(p.includes("?")?p:p+"?").then((e=>e.blob())).then((e=>Q(e))).catch((()=>{})):Q(void 0)}),[b,p,a,X,ne]),(0,u.useEffect)((()=>{h&&!D&&z(!0)}),[h,D]);const ae=(0,u.useCallback)((e=>{e&&!h&&e.focus()}),[h]),{naturalWidth:le,naturalHeight:re}=(0,u.useMemo)((()=>({naturalWidth:R.current?.naturalWidth||W||void 0,naturalHeight:R.current?.naturalHeight||Z||void 0})),[W,Z,R.current?.complete]);(0,u.useEffect)((()=>{a||(K(!1),h||z(!1))}),[a,h]);const oe=b&&le&&re&&$,ie=!F&&oe&&!q,se=()=>{n({width:void 0,height:void 0,scale:void 0})},ce=(0,k.__experimentalUseCustomUnits)({availableUnits:["px"]}),ue=(0,i.createElement)(i.Fragment,null,(0,i.createElement)(k.__experimentalToolsPanelItem,{label:(0,I.__)("Width"),isShownByDefault:!0,hasValue:()=>!!T,onDeselect:()=>n({width:void 0}),panelId:m,style:{gridColumn:"span 1"}},(0,i.createElement)(S.__experimentalUnitControl,{label:(0,I.__)("Width"),placeholder:(0,I.__)("Auto"),labelPosition:"top",min:0,value:T||"",onChange:e=>n({width:e}),size:"__unstable-large"})),(0,i.createElement)(k.__experimentalToolsPanelItem,{label:(0,I.__)("Height"),isShownByDefault:!0,hasValue:()=>!!B,onDeselect:()=>n({height:void 0}),panelId:m,style:{gridColumn:"span 1"}},(0,i.createElement)(S.__experimentalUnitControl,{label:(0,I.__)("Height"),placeholder:(0,I.__)("Auto"),labelPosition:"top",units:ce,min:0,value:B||"",onChange:e=>n({height:e}),size:"__unstable-large"}))),me=(0,i.createElement)(i.Fragment,null,(0,i.createElement)(S.BlockControls,{group:"block"},ee&&(0,i.createElement)(S.BlockAlignmentControl,{value:_,onChange:e=>n({align:e})}),ee&&(0,i.createElement)(k.ToolbarButton,{onClick:()=>{z(!V),V&&h&&n({caption:void 0})},icon:ka,isPressed:V,label:V?(0,I.__)("Remove caption"):(0,I.__)("Add caption")}),!F&&!q&&(0,i.createElement)(S.__experimentalImageURLInputUI,{url:E||"",onChangeUrl:n,linkDestination:x,mediaUrl:H&&H.source_url||p,mediaLink:H&&H.link,linkClass:w,rel:f}),ie&&(0,i.createElement)(k.ToolbarButton,{onClick:()=>K(!0),icon:Sa,label:(0,I.__)("Crop")})),!F&&!q&&(0,i.createElement)(S.BlockControls,{group:"other"},(0,i.createElement)(S.MediaReplaceFlow,{mediaId:b,mediaURL:p,allowedTypes:Ta,accept:"image/*",onSelect:r,onSelectURL:o,onError:s})),!F&&X&&(0,i.createElement)(S.BlockControls,null,(0,i.createElement)(k.ToolbarGroup,null,(0,i.createElement)(k.ToolbarButton,{onClick:function(){U({filesList:[X],onFileChange([e]){r(e),(0,xa.isBlobURL)(e.url)||(Q(void 0),j((0,I.__)("Image uploaded."),{type:"snackbar"}))},allowedTypes:Ta,onError(e){G(e,{type:"snackbar"})}})},icon:Ca,label:(0,I.__)("Upload external image")}))),(0,i.createElement)(S.InspectorControls,null,(0,i.createElement)(k.__experimentalToolsPanel,{label:(0,I.__)("Settings"),panelId:m,resetAll:se},!F&&(0,i.createElement)(k.__experimentalToolsPanelItem,{label:(0,I.__)("Alternative text"),isShownByDefault:!0,hasValue:()=>""!==g,panelId:m,onDeselect:()=>n({alt:void 0})},(0,i.createElement)(k.TextareaControl,{label:(0,I.__)("Alternative text"),value:g,onChange:e=>n({alt:e}),help:(0,i.createElement)(i.Fragment,null,(0,i.createElement)(k.ExternalLink,{href:"https://www.w3.org/WAI/tutorials/images/decision-tree"},(0,I.__)("Describe the purpose of the image.")),(0,i.createElement)("br",null),(0,I.__)("Leave empty if decorative.")),__nextHasNoMarginBottom:!0})),ee&&(0,i.createElement)(i.Fragment,null,te.length>0?(0,i.createElement)(k.__experimentalToolsPanelItem,{label:(0,I.__)("Image size"),isShownByDefault:!0,hasValue:()=>"large"!==N,panelId:m,onDeselect:()=>n({sizeSlug:"large"})},(0,i.createElement)(k.SelectControl,{label:(0,I.__)("Image size"),value:N,options:te,onChange:function(e){const t=H?.media_details?.sizes?.[e]?.source_url;if(!t)return null;n({url:t,sizeSlug:e,height:void 0,width:H?.media_details?.sizes?.[e]?.width||void 0})},className:"noptin-field-control"})):null,ue)))),de=(0,pt.getFilename)(p);let pe;pe=g||(de?(0,I.sprintf)(/* translators: %s: file name */
(0,I.__)("This image has an empty alt attribute; its file name is %s"),de):(0,I.__)("This image has an empty alt attribute"));const ge=R.current?.width||J,he=oe&&q,_e=(0,i.createElement)(Ba,{href:E},he?(0,i.createElement)(S.__experimentalImageEditor,{id:b,url:p,width:L,height:P,clientWidth:ge,naturalHeight:re,naturalWidth:le,onSaveImage:e=>n(e),onFinishEditing:()=>{K(!1)}}):(0,i.createElement)(i.Fragment,null,(0,i.createElement)("img",{src:e||p,alt:pe,onLoad:e=>{Y({loadedNaturalWidth:e.target?.naturalWidth,loadedNaturalHeight:e.target?.naturalHeight})},ref:R,style:{width:!T&&B?"auto":T,height:B,objectFit:M,maxWidth:"100%",...ea(t)}}),e&&(0,i.createElement)(k.Spinner,null)));return p||e?(0,i.createElement)(i.Fragment,null,!e&&me,_e,V&&(!S.RichText.isEmpty(h)||a)&&(0,i.createElement)(S.RichText,{identifier:"caption",ref:ae,className:"wp-block-image__caption",tagName:"div","aria-label":(0,I.__)("Image caption text"),placeholder:(0,I.__)("Add caption"),value:h,onChange:e=>n({caption:e}),inlineToolbar:!0,__unstableOnSplitAtEnd:()=>l((0,y.createBlock)((0,y.getDefaultBlockName)())),style:{fontSize:"12px",textAlign:_,marginTop:"12px"}})):(0,i.createElement)(S.InspectorControls,null,(0,i.createElement)(k.__experimentalToolsPanel,{label:(0,I.__)("Settings"),panelId:m,resetAll:se},ee&&ue))}const Ma=(e,t)=>t&&!e&&!(0,xa.isBlobURL)(t);function Na(e,t){var n,a;return"url"in(null!==(n=e?.sizes?.[t])&&void 0!==n?n:{})||"source_url"in(null!==(a=e?.media_details?.sizes?.[t])&&void 0!==a?a:{})}const La={apiVersion:3,name:"core/image",title:(0,I.__)("Image","newsletter-optin-box"),category:"content",description:(0,I.__)("Insert an image to make a visual statement.","newsletter-optin-box"),keywords:["img","picture","media","photo"],attributes:{align:{type:"string"},url:{type:"string",source:"attribute",selector:"img",attribute:"src",__experimentalRole:"content"},alt:{type:"string",source:"attribute",selector:"img",attribute:"alt",default:"",__experimentalRole:"content"},caption:{type:"string",source:"html",selector:".wp-block-image__caption",__experimentalRole:"content"},href:{type:"string",source:"attribute",selector:"a",attribute:"href",__experimentalRole:"content"},rel:{type:"string",source:"attribute",selector:"a",attribute:"rel"},linkClass:{type:"string",source:"attribute",selector:"a",attribute:"class"},id:{type:"number",__experimentalRole:"content"},width:{type:"string"},height:{type:"string"},scale:{type:"string"},sizeSlug:{type:"string",default:"large"},linkDestination:{type:"string"},link:{type:"string"},style:{type:"object",default:{spacing:{margin:{bottom:"16px"}}}}},supports:{anchor:!1,spacing:{__experimentalSkipSerialization:!0,margin:!0,padding:!0,__experimentalDefaultControls:{margin:!0}}},noptin:{border:!0},selectors:{border:".wp-block-image img, .wp-block-image .wp-block-image__crop-area, .wp-block-image .components-placeholder"}};function Aa(e,t){const{body:n}=document.implementation.createHTMLDocument("");n.innerHTML=e;const{firstElementChild:a}=n;if(a&&"A"===a.nodeName)return a.getAttribute(t)||void 0}const Pa={img:{attributes:["src","alt"],classes:["alignleft","aligncenter","alignright","alignnone",/^wp-image-\d+$/]}},Ra={from:[{type:"raw",isMatch:e=>"FIGURE"===e.nodeName&&!!e.querySelector("img"),schema:({phrasingContentSchema:e})=>({figure:{require:["img"],children:{...Pa,a:{attributes:["href","rel","target"],children:Pa},figcaption:{children:e}}}}),transform:e=>{const t=e.className+" "+e.querySelector("img").className,n=/(?:^|\s)align(left|center|right)(?:$|\s)/.exec(t),a=""===e.id?void 0:e.id,l=n?n[1]:void 0,r=/(?:^|\s)wp-image-(\d+)(?:$|\s)/.exec(t),o=r?Number(r[1]):void 0,i=e.querySelector("a"),s=i&&i.href?"custom":void 0,c=i&&i.href?i.href:void 0,u=i&&i.rel?i.rel:void 0,m=i&&i.className?i.className:void 0,d=(0,y.getBlockAttributes)("core/image",e.outerHTML,{align:l,id:o,linkDestination:s,href:c,rel:u,linkClass:m,anchor:a});return(0,y.createBlock)("core/image",d)}},{type:"shortcode",tag:"caption",attributes:{url:{type:"string",source:"attribute",attribute:"src",selector:"img"},alt:{type:"string",source:"attribute",attribute:"alt",selector:"img"},caption:{shortcode:function(e,{shortcode:t}){const{body:n}=document.implementation.createHTMLDocument("");n.innerHTML=t.content;let a=n.querySelector("img");for(;a&&a.parentNode&&a.parentNode!==n;)a=a.parentNode;return a&&a.parentNode.removeChild(a),n.innerHTML.trim()}},href:{shortcode:(e,{shortcode:t})=>Aa(t.content,"href")},rel:{shortcode:(e,{shortcode:t})=>Aa(t.content,"rel")},linkClass:{shortcode:(e,{shortcode:t})=>Aa(t.content,"class")},id:{type:"number",shortcode:({named:{id:e}})=>{if(e)return parseInt(e.replace("attachment_",""),10)}},align:{type:"string",shortcode:({named:{align:e="alignnone"}})=>e.replace("align","")}}}]};window?.wp?.media?.view?.settings?.defaultProps&&Object.entries(window.wp.media.view.settings.defaultProps).forEach((([e,t])=>{La.attributes[e]&&(La.attributes[e].default=t)}));const{name:Da}=La,Va={icon:wa,example:{attributes:{sizeSlug:"large",url:"https://s.w.org/images/core/5.3/MtBlanc1.jpg",
// translators: Caption accompanying an image of the Mont Blanc, which serves as an example for the Image block.
caption:(0,I.__)("Mont Blanc appears—still, snowy, and serene.")}},__experimentalLabel(e,{context:t}){if("accessibility"===t){const{caption:t,alt:n,url:a}=e;return a?n?n+(t?". "+t:""):t||"":(0,I.__)("Empty")}},getEditWrapperProps:e=>({"data-align":e.align}),transforms:Ra,edit:function({attributes:e,setAttributes:t,isSelected:n,className:a,insertBlocksAfter:l,onReplace:r,context:o,clientId:s}){const{url:c="",alt:m,caption:d,align:p,id:g,width:h,height:_,sizeSlug:b}=e,[E,f]=(0,u.useState)(),y=(0,u.useRef)();(0,u.useEffect)((()=>{y.current=m}),[m]);const w=(0,u.useRef)();(0,u.useEffect)((()=>{w.current=d}),[d]);const x=(0,u.useRef)(),{mediaUpload:C}=(0,v.useSelect)((e=>{const{getSettings:t}=e(S.store);return{mediaUpload:t().mediaUpload}}),[]),T=(0,S.useBlockEditingMode)(),{createErrorNotice:B}=(0,v.useDispatch)(Rt.store);function M(e){B(e,{type:"snackbar"}),t({src:void 0,id:void 0,url:void 0}),f(void 0)}function N(n){if(!n||!n.url)return void t({url:void 0,alt:void 0,id:void 0,caption:void 0});if((0,xa.isBlobURL)(n.url))return void f(n.url);f(void 0);let a="full";b&&Na(n,b)?a=b:Na(n,"large")&&(a="large");let l,r=((e,t)=>{const n=Object.fromEntries(Object.entries(null!=e?e:{}).filter((([e])=>["alt","id","link","caption","width","url"].includes(e)))),a=["width","url"];return e?.sizes?.[t]?a.forEach((a=>{e.sizes[t][a]&&(n[a]=e.sizes[t][a])})):e?.media_details?.sizes?.[t]&&a.forEach((a=>{e.media_details.sizes[t][a]?n[a]=e.media_details.sizes[t][a]:e.media_details.sizes[t][`source_${a}`]&&(n[a]=e.media_details.sizes[t][`source_${a}`])})),n.height=void 0,n})(n,a);if(w.current&&!r.caption){const{caption:e,...t}=r;r=t}l=n.id&&n.id===g?{url:c}:{sizeSlug:a};let o,i=e.linkDestination;switch(i){case"file":o=n.url;break;case"post":o=n.link}r.href=o,t({...r,...l,linkDestination:i})}function A(e){e!==c&&t({url:e,id:void 0,sizeSlug:"large"})}let P=((e,t)=>!e&&(0,xa.isBlobURL)(t))(g,c);(0,u.useEffect)((()=>{if(!P)return;const e=(0,xa.getBlobByURL)(c);e&&C({filesList:[e],onFileChange:([e])=>{N(e)},allowedTypes:Ta,onError:e=>{P=!1,M(e)}})}),[]),(0,u.useEffect)((()=>{P?f(c):(0,xa.revokeBlobURL)(E)}),[P,c]);const R=Ma(g,c)?c:void 0,D=c?(0,i.createElement)("img",{alt:(0,I.__)("Edit image"),title:(0,I.__)("Edit image"),className:"edit-image-preview",src:c}):void 0,V=L()(a,{"is-transient":E}),{margin:z,padding:H}=ma(e,!0),F=(0,S.useBlockProps)({ref:x,style:{borderSpacing:"0px",borderCollapse:"collapse",...z,width:"100%"},className:V,border:0,cellPadding:"0",cellSpacing:"0",role:"presentation"});return(0,i.createElement)("table",{...F},(0,i.createElement)("tbody",null,(0,i.createElement)("tr",null,(0,i.createElement)("td",{align:p,className:L()({"is-selected":n}),style:H},(0,i.createElement)(Ia,{temporaryURL:E,attributes:e,setAttributes:t,isSelected:n,insertBlocksAfter:l,onReplace:r,onSelectImage:N,onSelectURL:A,onUploadError:M,containerRef:x,context:o,clientId:s,blockEditingMode:T}),!c&&"default"===T&&(0,i.createElement)(S.BlockControls,{group:"block"},(0,i.createElement)(S.BlockAlignmentControl,{value:p,onChange:e=>t({align:e})})),(0,i.createElement)(S.MediaPlaceholder,{icon:(0,i.createElement)(S.BlockIcon,{icon:wa}),onSelect:N,onSelectURL:A,onError:M,placeholder:t=>(0,i.createElement)(k.Placeholder,{className:"block-editor-media-placeholder",withIllustration:!0,icon:wa,label:(0,I.__)("Image"),instructions:(0,I.__)("Upload an image file, pick one from your media library, or add one with a URL."),style:{width:h,height:_,...ea(e)}},t),accept:"image/*",allowedTypes:["image"],value:{id:g,src:R},mediaPreview:D,disableMediaButtons:E||c})))))},save:function({attributes:e}){const{url:t,alt:n,caption:a,align:l,href:r,rel:o,linkClass:s,width:c,height:u}=e,{margin:m,padding:d}=ma.save(e,!0),p=(0,i.createElement)("img",{src:t,alt:n,style:{width:!c&&u?"auto":c,height:u,maxWidth:"100%",...ea(e)}}),g=(0,i.createElement)(i.Fragment,null,r?(0,i.createElement)("a",{className:s,href:r,target:"_blank",rel:o||void 0,style:{display:"block",textDecoration:"none",maxWidth:"100%"}},p):p,!S.RichText.isEmpty(a)&&(0,i.createElement)(S.RichText.Content,{className:"wp-block-image__caption",tagName:"div",value:a,style:{fontSize:"12px",textAlign:l,marginTop:"12px"}})),h=S.useBlockProps.save({style:{borderSpacing:"0px",borderCollapse:"collapse",width:"100%",...m},border:0,cellPadding:"0",cellSpacing:"0",role:"presentation"});return(0,i.createElement)("table",{...h},(0,i.createElement)("tbody",null,(0,i.createElement)("tr",null,(0,i.createElement)("td",{align:l,style:d},g))))}},za=(ca({name:Da,metadata:La,settings:Va}),(0,i.createElement)(H.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(H.Path,{d:"M8 12.5h8V11H8v1.5Z M19 6.5H5a2 2 0 0 0-2 2V15a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a2 2 0 0 0-2-2ZM5 8h14a.5.5 0 0 1 .5.5V15a.5.5 0 0 1-.5.5H5a.5.5 0 0 1-.5-.5V8.5A.5.5 0 0 1 5 8Z"}))),Ha="noreferrer noopener",Fa="_blank",$a="nofollow";function Oa(e){return e.replace(/<\/?a[^>]*>/g,"")}const Ua=(0,i.createElement)(H.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(H.Path,{d:"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z"})),Ga=[...S.__experimentalLinkControl.DEFAULT_LINK_SETTINGS,{id:"nofollow",title:(0,I.__)("Mark as nofollow")}];function ja({selectedWidth:e,setAttributes:t}){return(0,i.createElement)(k.PanelBody,{title:(0,I.__)("Button width")},(0,i.createElement)(k.__experimentalToggleGroupControl,{label:(0,I.__)("Button width"),className:"noptin-toggle-group-control",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,hideLabelFromVision:!0,isAdaptiveWidth:!0,isBlock:!0,isDeselectable:!0,onChange:function(n){t({width:e===n?void 0:n})}},[25,50,75,100].map((e=>(0,i.createElement)(k.__experimentalToggleGroupControlOption,{key:e,label:`${e}%`,value:e})))))}const Wa={apiVersion:3,name:"noptin/button",title:(0,I.__)("Button","newsletter-optin-box"),category:"content",description:(0,I.__)("Prompt readers to take action with a button-style link.","newsletter-optin-box"),keywords:["link","cta"],attributes:{url:{type:"string",source:"attribute",selector:"a",attribute:"href",__experimentalRole:"content"},title:{type:"string",source:"attribute",selector:"a",attribute:"title",__experimentalRole:"content"},text:{type:"string",source:"html",selector:"a",__experimentalRole:"content"},linkTarget:{type:"string",source:"attribute",selector:"a",attribute:"target",__experimentalRole:"content"},rel:{type:"string",source:"attribute",selector:"a",attribute:"rel",__experimentalRole:"content"},placeholder:{type:"string"},style:{type:"object",default:{noptin:{border:{radius:"5px"},typography:{textTransform:"none",textDecoration:"none",textAlign:"center"}},spacing:{padding:{top:"10px",right:"25px",bottom:"10px",left:"25px"},margin:{bottom:"16px",left:"10px",right:"10px"}}}},width:{type:"string"}},noptin:{typography:!0,border:!0,color:{background:!0,text:!0}},supports:{anchor:!1,align:!0,alignWide:!1,reusable:!1,shadow:!1,spacing:{__experimentalSkipSerialization:!0,padding:["horizontal","vertical"],margin:!0,__experimentalDefaultControls:{padding:!0,margin:!0}}}},{name:Za}=Wa,Ya={icon:za,example:{attributes:{text:(0,I.__)("Call to Action")}},edit:function(e){const{attributes:t,setAttributes:n,isSelected:a,onReplace:l,mergeBlocks:r,clientId:o}=e,{align:s,linkTarget:c,placeholder:m,rel:d,text:p,url:g,width:h}=t,_=Xn(t),[b,E]=(0,u.useState)(null),f=ea(t),w=sa(t).style,x=ma(t,!0),C=(0,u.useRef)(),T=(0,u.useRef)(),B=(0,S.useBlockProps)({ref:(0,A.useMergeRefs)([E,C]),onKeyDown:function(e){Lt.isKeyboardEvent.primary(e,"k")&&D(e)},width:"100%",border:0,cellPadding:0,cellSpacing:0,role:"presentation",style:{lineHeight:"100%",width:"100%",borderCollapse:"separate",margin:"0px"}}),[M,N]=(0,u.useState)(!1),L=!!g,P=c===Fa,R=!!d?.includes($a);function D(e){e.preventDefault(),N(!0)}(0,u.useEffect)((()=>{a||N(!1)}),[a]);const V=(0,u.useMemo)((()=>({url:g,opensInNewTab:P,nofollow:R})),[g,P,R]),z=function(e){const{replaceBlocks:t,selectionChange:n}=(0,v.useDispatch)(S.store),{getBlock:a,getBlockRootClientId:l,getBlockIndex:r}=(0,v.useSelect)(S.store),o=(0,u.useRef)(e);return o.current=e,(0,A.useRefEffect)((e=>{function i(e){if(e.defaultPrevented||e.keyCode!==Lt.ENTER)return;const{content:i,clientId:s}=o.current;if(i.length)return;e.preventDefault();const c=a(l(s)),u=r(s),m=(0,y.cloneBlock)({...c,innerBlocks:c.innerBlocks.slice(0,u)}),d=(0,y.createBlock)((0,y.getDefaultBlockName)()),p=c.innerBlocks.slice(u+1),g=p.length?[(0,y.cloneBlock)({...c,innerBlocks:p})]:[];t(c.clientId,[m,d,...g],1),n(d.clientId)}return e.addEventListener("keydown",i),()=>{e.removeEventListener("keydown",i)}}),[])}({content:p,clientId:o}),H=(0,A.useMergeRefs)([z,T]);return(0,i.createElement)(i.Fragment,null,(0,i.createElement)("table",{...B},(0,i.createElement)("tbody",null,(0,i.createElement)("tr",null,(0,i.createElement)("td",{align:`${s||"left"}`},(0,i.createElement)("div",{style:x.margin},(0,i.createElement)("table",{width:h?`${h}%`:void 0},(0,i.createElement)("tbody",null,(0,i.createElement)("tr",null,(0,i.createElement)("td",{bgcolor:w.backgroundColor,role:"presentation",valign:"middle",className:"noptin-button-link__wrapper",style:{background:w.backgroundColor,textAlign:_?.textAlign,cursor:"auto",...f}},(0,i.createElement)(S.RichText,{ref:H,tagName:"span","aria-label":(0,I.__)("Button text"),placeholder:m||(0,I.__)("Add text…"),value:p,onChange:e=>n({text:Oa(e)}),withoutInteractiveFormatting:!0,className:"noptin-button-link",style:{...x.padding,..._||{},color:w.color,margin:"0px",display:"block",wordBreak:"break-word"},onSplit:e=>(0,y.createBlock)("noptin/button",{...t,text:e}),onReplace:l,onMerge:r,identifier:"text"})))))))))),(0,i.createElement)(S.BlockControls,{group:"block"},(0,i.createElement)(k.ToolbarButton,{name:"link",icon:Ua,title:(0,I.__)("Link"),shortcut:Lt.displayShortcut.primary("k"),onClick:D})),a&&(M||L)&&(0,i.createElement)(k.Popover,{placement:"bottom",onClose:()=>{N(!1),T.current?.focus()},anchor:b,focusOnMount:!!M&&"firstElement",__unstableSlotName:"__unstable-block-tools-after",shift:!0},(0,i.createElement)(S.__experimentalLinkControl,{value:V,onChange:({url:e,opensInNewTab:t,nofollow:a})=>n(function({rel:e="",url:t="",opensInNewTab:n,nofollow:a}){let l,r=e;if(n)l=Fa,r=r?.includes(Ha)?r:r+` ${Ha}`;else{const e=new RegExp(`\\b${Ha}\\s*`,"g");r=r?.replace(e,"").trim()}if(a)r=r?.includes($a)?r:r+` ${$a}`;else{const e=new RegExp(`\\b${$a}\\s*`,"g");r=r?.replace(e,"").trim()}return{url:(0,pt.prependHTTP)(t),linkTarget:l,rel:r||void 0}}({rel:d,url:e,opensInNewTab:t,nofollow:a})),forceIsEditingLink:M,settings:Ga})),(0,i.createElement)(S.InspectorControls,null,(0,i.createElement)(ja,{selectedWidth:h,setAttributes:n})),(0,i.createElement)(S.InspectorControls,{group:"advanced"},(0,i.createElement)(k.TextControl,{__nextHasNoMarginBottom:!0,label:(0,I.__)("Link rel"),value:d||"",onChange:e=>n({rel:e})})))},save:function({attributes:e}){const{align:t,linkTarget:n,rel:a,text:l,title:r,url:o,width:s}=e;if(!l)return null;const c=ea(e),u=sa(e),m=u?.style?.backgroundColor,d=u?.style?.color,p=ma.save(e,!0),g={...p.padding,...Xn(e),borderRadius:c?.borderRadius,margin:"0px",display:"block",color:d,wordBreak:"break-word"},h=S.useBlockProps.save({width:"100%",border:0,cellPadding:0,cellSpacing:0,role:"presentation",style:{lineHeight:"100%",width:"100%",borderCollapse:"separate",...p.margin}});return(0,i.createElement)("table",{...h},(0,i.createElement)("tbody",null,(0,i.createElement)("tr",null,(0,i.createElement)("td",{align:`${t||"left"}`},(0,i.createElement)("table",{width:`${s}%`},(0,i.createElement)("tbody",null,(0,i.createElement)("tr",null,(0,i.createElement)("td",{bgcolor:m,role:"presentation",valign:"middle",className:"noptin-button-link__wrapper",style:{background:m,textAlign:g.textAlign,cursor:"auto",...c}},(0,i.createElement)(S.RichText.Content,{tagName:"a",className:"noptin-button-link",href:o,title:r,style:g,value:l,target:n,rel:a})))))))))},merge:(e,{text:t=""})=>({...e,text:(e.text||"")+t})},qa=(ca({name:Za,metadata:Wa,settings:Ya}),(0,i.createElement)(H.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(H.Path,{d:"M9 11.8l6.1-4.5c.1.4.4.7.9.7h2c.6 0 1-.4 1-1V5c0-.6-.4-1-1-1h-2c-.6 0-1 .4-1 1v.4l-6.4 4.8c-.2-.1-.4-.2-.6-.2H6c-.6 0-1 .4-1 1v2c0 .6.4 1 1 1h2c.2 0 .4-.1.6-.2l6.4 4.8v.4c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-2c0-.6-.4-1-1-1h-2c-.5 0-.8.3-.9.7L9 12.2v-.4z"}))),Ka=["noptin/social-link"],Xa=[{name:"facebook",color:"#3b5998",title:"Facebook"},{name:"twitter",color:"#55acee",title:"Twitter"},{name:"youtube",color:"#eb3323",title:"YouTube"}],Qa=Xa.map((({name:e,title:t,color:n})=>["noptin/social-link",{img:`https://www.mailjet.com/images/theme/v1/icons/ico-social/${e}.png`,url:"#",label:t,style:{noptin:{border:{radius:"50%"},color:{background:n}}}}])),Ja={iconSize:{label:(0,I.__)("Icon size"),options:{"20px":(0,I.__)("S"),"32px":(0,I.__)("M"),"48px":(0,I.__)("L"),"64px":(0,I.__)("XL")}},iconSpacing:{label:(0,I.__)("Icon spacing"),options:{"0px":(0,I.__)("None"),"4px":(0,I.__)("S"),"16px":(0,I.__)("M"),"24px":(0,I.__)("L")}},iconPadding:{label:(0,I.__)("Icon padding"),options:{"0px":(0,I.__)("None"),"4px":(0,I.__)("S"),"16px":(0,I.__)("M"),"24px":(0,I.__)("L")}}};function el({attributes:e,setAttributes:t}){return(0,i.createElement)(k.PanelBody,{title:(0,I.__)("Icon settings")},Object.entries(Ja).map((([n,a])=>(0,i.createElement)(k.__experimentalToggleGroupControl,{key:n,label:a.label,value:e[n],onChange:e=>t({[n]:e}),className:"noptin-field-control",__nextHasNoMarginBottom:!0,isAdaptiveWidth:!0,isBlock:!0,isDeselectable:!0},Object.entries(a.options).map((([e,t])=>(0,i.createElement)(k.__experimentalToggleGroupControlOption,{key:`${n}__${e}`,label:t,value:e})))))))}const tl={apiVersion:3,name:"noptin/social-links",title:(0,I.__)("Social Icons","newsletter-optin-box"),category:"content",description:(0,I.__)("Display icons linking to your social media profiles or sites.","newsletter-optin-box"),keywords:["links"],attributes:{iconSize:{type:"string",default:"20px"},iconSpacing:{type:"string",default:"4px"},iconPadding:{type:"string",default:"4px"},style:{type:"object",default:{spacing:{margin:{bottom:"16px",left:"10px",right:"10px"}}}}},providesContext:{iconSize:"iconSize"},noptin:{border:!0,color:{background:!0}},supports:{align:["left","center","right"],anchor:!1,__experimentalExposeControlsToChildren:!0,spacing:{margin:!0,padding:!0,units:["px","em","rem"],__experimentalSkipSerialization:!0,__experimentalDefaultControls:{margin:!0,padding:!1}}}},{name:nl}=tl,al=(ca({name:nl,metadata:tl,settings:{example:{innerBlocks:Xa.map((({name:e,title:t,color:n})=>({name:"noptin/social-link",attributes:{img:`https://www.mailjet.com/images/theme/v1/icons/ico-social/${e}.png`,url:"#",label:t,style:{noptin:{border:{radius:"50%"},color:{background:n}}}}})))},icon:qa,edit:function({attributes:e,setAttributes:t}){const{iconSpacing:n,iconPadding:a,align:l}=e,r=ma(e,!0),o=ea(e),s=(0,S.useBlockProps)({style:r.margin}),c=(0,S.useInnerBlocksProps)({},{allowedBlocks:Ka,template:Qa,templateLock:!1,orientation:"horizontal",__experimentalAppenderTagName:"td"}),u={lineHeight:"100%",width:"100%",borderCollapse:"separate",...sa(e).style,...o};return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(S.InspectorControls,null,(0,i.createElement)(el,{attributes:e,setAttributes:t})),(0,i.createElement)("div",{...s},(0,i.createElement)("table",{role:"presentation",cellPadding:0,cellSpacing:0,border:0,width:"100%",style:u},(0,i.createElement)("tbody",null,(0,i.createElement)("tr",null,(0,i.createElement)("td",{align:`${l||"left"}`,style:r.padding,border:"0",role:"presentation",valign:"middle"},(0,i.createElement)("table",{align:`${l||"left"}`,cellPadding:a||0,cellSpacing:n||0},(0,i.createElement)("tbody",null,(0,i.createElement)("tr",{...c})))))))))},save:({attributes:e})=>{const{iconSpacing:t,iconPadding:n,align:a}=e,l=ma.save(e,!0),r=ea(e),o=S.useBlockProps.save({style:l.margin}),s={lineHeight:"100%",width:"100%",borderCollapse:"separate",...sa(e).style,...r};return(0,i.createElement)("div",{...o},(0,i.createElement)("table",{role:"presentation",cellPadding:0,cellSpacing:0,border:0,width:"100%",style:s},(0,i.createElement)("tbody",null,(0,i.createElement)("tr",null,(0,i.createElement)("td",{align:`${a||"left"}`,style:l.padding,border:"0",role:"presentation",valign:"middle"},(0,i.createElement)("table",{align:`${a||"left"}`,cellPadding:n||0,cellSpacing:t||0},(0,i.createElement)("tbody",null,(0,i.createElement)("tr",null,(0,i.createElement)(S.InnerBlocks.Content,null)))))))))}}}),({attributes:e,context:t,setAttributes:n})=>{const{url:a,img:l,label:r,rel:o}=e,{iconSize:s}=t,c=sa(e),u=c?.style?.backgroundColor,m=(0,S.useBlockProps)({style:{color:u,backgroundColor:u,boxSizing:"border-box",align:"center",...ea(e)}});return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(S.InspectorControls,null,(0,i.createElement)(k.PanelBody,{title:(0,I.__)("Settings"),initialOpen:!0},(0,i.createElement)(k.PanelRow,null,(0,i.createElement)(k.TextControl,{__nextHasNoMarginBottom:!0,label:(0,I.__)("Image URL"),help:(0,I.__)("Enter the URL of the image to use as an icon."),value:l||"",onChange:e=>n({img:e})})),(0,i.createElement)(k.PanelRow,null,(0,i.createElement)(k.TextControl,{__nextHasNoMarginBottom:!0,label:(0,I.__)("Social URL"),help:(0,I.__)("The URL to link to."),value:a||"",onChange:e=>n({url:e})})),(0,i.createElement)(k.PanelRow,null,(0,i.createElement)(k.TextControl,{__nextHasNoMarginBottom:!0,label:(0,I.__)("Social Network"),help:(0,I.__)("The name of the social network."),value:r||"",onChange:e=>n({label:e})})))),(0,i.createElement)(S.InspectorControls,{group:"advanced"},(0,i.createElement)(k.TextControl,{__nextHasNoMarginBottom:!0,label:(0,I.__)("Link rel"),value:o||"",onChange:e=>n({rel:e})})),(0,i.createElement)("td",{...m,width:s},(0,i.createElement)("img",{src:l||"https://placehold.co/30x30@2x.png",alt:r,width:s,height:s})))}),ll={apiVersion:3,name:"noptin/social-link",title:(0,I.__)("Social Icon","newsletter-optin-box"),category:"content",parent:["noptin/social-links"],description:(0,I.__)("Display an icon linking to a social media profile or site.","newsletter-optin-box"),attributes:{url:{type:"string"},img:{type:"string"},label:{type:"string"},rel:{type:"string"}},usesContext:["iconSize"],noptin:{border:!0,color:{background:!0}},supports:{reusable:!1,html:!1}},rl=[{name:"facebook",color:"#3b5998",title:"Facebook"},{name:"twitter",color:"#55acee",title:"Twitter"},{name:"google-plus",color:"#dc4e41",title:"Google Plus",icon:"google"},{name:"pinterest",color:"#bd081c",title:"Pinterest"},{name:"linkedin",color:"#0077b5",title:"linkedIn"},{name:"instagram",color:"#3f729b",title:"Instagram"},{name:"youtube",color:"#eb3323",title:"YouTube"},{name:"tumblr",color:"#344356",title:"Tumblr",icon:()=>(0,i.createElement)(H.SVG,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},(0,i.createElement)(H.Path,{d:"M17.04 21.28h-3.28c-2.84 0-4.94-1.37-4.94-5.02v-5.67H6.08V7.5c2.93-.73 4.11-3.3 4.3-5.48h3.01v4.93h3.47v3.65H13.4v4.93c0 1.47.73 2.01 1.92 2.01h1.73v3.75z"}))},{name:"github",color:"#000000",title:"GitHub",icon:()=>(0,i.createElement)(H.SVG,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},(0,i.createElement)(H.Path,{d:"M12,2C6.477,2,2,6.477,2,12c0,4.419,2.865,8.166,6.839,9.489c0.5,0.09,0.682-0.218,0.682-0.484 c0-0.236-0.009-0.866-0.014-1.699c-2.782,0.602-3.369-1.34-3.369-1.34c-0.455-1.157-1.11-1.465-1.11-1.465 c-0.909-0.62,0.069-0.608,0.069-0.608c1.004,0.071,1.532,1.03,1.532,1.03c0.891,1.529,2.341,1.089,2.91,0.833 c0.091-0.647,0.349-1.086,0.635-1.337c-2.22-0.251-4.555-1.111-4.555-4.943c0-1.091,0.39-1.984,1.03-2.682 C6.546,8.54,6.202,7.524,6.746,6.148c0,0,0.84-0.269,2.75,1.025C10.295,6.95,11.15,6.84,12,6.836 c0.85,0.004,1.705,0.114,2.504,0.336c1.909-1.294,2.748-1.025,2.748-1.025c0.546,1.376,0.202,2.394,0.1,2.646 c0.64,0.699,1.026,1.591,1.026,2.682c0,3.841-2.337,4.687-4.565,4.935c0.359,0.307,0.679,0.917,0.679,1.852 c0,1.335-0.012,2.415-0.012,2.741c0,0.269,0.18,0.579,0.688,0.481C19.138,20.161,22,16.416,22,12C22,6.477,17.523,2,12,2z"}))},{name:"xing",color:"#296366",title:"Xing"},{name:"vimeo",color:"#53B4E7",title:"Vimeo",icon:()=>(0,i.createElement)(H.SVG,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},(0,i.createElement)(H.Path,{d:"M22.396,7.164c-0.093,2.026-1.507,4.799-4.245,8.32C15.322,19.161,12.928,21,10.97,21c-1.214,0-2.24-1.119-3.079-3.359 c-0.56-2.053-1.119-4.106-1.68-6.159C5.588,9.243,4.921,8.122,4.206,8.122c-0.156,0-0.701,0.328-1.634,0.98L1.594,7.841 c1.027-0.902,2.04-1.805,3.037-2.708C6.001,3.95,7.03,3.327,7.715,3.264c1.619-0.156,2.616,0.951,2.99,3.321 c0.404,2.557,0.685,4.147,0.841,4.769c0.467,2.121,0.981,3.181,1.542,3.181c0.435,0,1.09-0.688,1.963-2.065 c0.871-1.376,1.338-2.422,1.401-3.142c0.125-1.187-0.343-1.782-1.401-1.782c-0.498,0-1.012,0.115-1.541,0.341 c1.023-3.35,2.977-4.977,5.862-4.884C21.511,3.066,22.52,4.453,22.396,7.164z"}))},{name:"medium",color:"#000000",title:"Medium",icon:()=>(0,i.createElement)(H.SVG,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},(0,i.createElement)(H.Path,{d:"M20.962,7.257l-5.457,8.867l-3.923-6.375l3.126-5.08c0.112-0.182,0.319-0.286,0.527-0.286c0.05,0,0.1,0.008,0.149,0.02 c0.039,0.01,0.078,0.023,0.114,0.041l5.43,2.715l0.006,0.003c0.004,0.002,0.007,0.006,0.011,0.008 C20.971,7.191,20.98,7.227,20.962,7.257z M9.86,8.592v5.783l5.14,2.57L9.86,8.592z M15.772,17.331l4.231,2.115 C20.554,19.721,21,19.529,21,19.016V8.835L15.772,17.331z M8.968,7.178L3.665,4.527C3.569,4.479,3.478,4.456,3.395,4.456 C3.163,4.456,3,4.636,3,4.938v11.45c0,0.306,0.224,0.669,0.498,0.806l4.671,2.335c0.12,0.06,0.234,0.088,0.337,0.088 c0.29,0,0.494-0.225,0.494-0.602V7.231C9,7.208,8.988,7.188,8.968,7.178z"}))},{name:"soundcloud",color:"#EF7F31",title:"SoundCloud",icon:()=>(0,i.createElement)(H.SVG,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},(0,i.createElement)(H.Path,{d:"M8.9,16.1L9,14L8.9,9.5c0-0.1,0-0.1-0.1-0.1c0,0-0.1-0.1-0.1-0.1c-0.1,0-0.1,0-0.1,0.1c0,0-0.1,0.1-0.1,0.1L8.3,14l0.1,2.1 c0,0.1,0,0.1,0.1,0.1c0,0,0.1,0.1,0.1,0.1C8.8,16.3,8.9,16.3,8.9,16.1z M11.4,15.9l0.1-1.8L11.4,9c0-0.1,0-0.2-0.1-0.2 c0,0-0.1,0-0.1,0s-0.1,0-0.1,0c-0.1,0-0.1,0.1-0.1,0.2l0,0.1l-0.1,5c0,0,0,0.7,0.1,2v0c0,0.1,0,0.1,0.1,0.1c0.1,0.1,0.1,0.1,0.2,0.1 c0.1,0,0.1,0,0.2-0.1c0.1,0,0.1-0.1,0.1-0.2L11.4,15.9z M2.4,12.9L2.5,14l-0.2,1.1c0,0.1,0,0.1-0.1,0.1c0,0-0.1,0-0.1-0.1L2.1,14 l0.1-1.1C2.2,12.9,2.3,12.9,2.4,12.9C2.3,12.9,2.4,12.9,2.4,12.9z M3.1,12.2L3.3,14l-0.2,1.8c0,0.1,0,0.1-0.1,0.1 c-0.1,0-0.1,0-0.1-0.1L2.8,14L3,12.2C3,12.2,3,12.2,3.1,12.2C3.1,12.2,3.1,12.2,3.1,12.2z M3.9,11.9L4.1,14l-0.2,2.1 c0,0.1,0,0.1-0.1,0.1c-0.1,0-0.1,0-0.1-0.1L3.5,14l0.2-2.1c0-0.1,0-0.1,0.1-0.1C3.9,11.8,3.9,11.8,3.9,11.9z M4.7,11.9L4.9,14 l-0.2,2.1c0,0.1-0.1,0.1-0.1,0.1c-0.1,0-0.1,0-0.1-0.1L4.3,14l0.2-2.2c0-0.1,0-0.1,0.1-0.1C4.7,11.7,4.7,11.8,4.7,11.9z M5.6,12 l0.2,2l-0.2,2.1c0,0.1-0.1,0.1-0.1,0.1c0,0-0.1,0-0.1,0c0,0,0-0.1,0-0.1L5.1,14l0.2-2c0,0,0-0.1,0-0.1s0.1,0,0.1,0 C5.5,11.9,5.5,11.9,5.6,12L5.6,12z M6.4,10.7L6.6,14l-0.2,2.1c0,0,0,0.1,0,0.1c0,0-0.1,0-0.1,0c-0.1,0-0.1-0.1-0.2-0.2L5.9,14 l0.2-3.3c0-0.1,0.1-0.2,0.2-0.2c0,0,0.1,0,0.1,0C6.4,10.7,6.4,10.7,6.4,10.7z M7.2,10l0.2,4.1l-0.2,2.1c0,0,0,0.1,0,0.1 c0,0-0.1,0-0.1,0c-0.1,0-0.2-0.1-0.2-0.2l-0.1-2.1L6.8,10c0-0.1,0.1-0.2,0.2-0.2c0,0,0.1,0,0.1,0S7.2,9.9,7.2,10z M8,9.6L8.2,14 L8,16.1c0,0.1-0.1,0.2-0.2,0.2c-0.1,0-0.2-0.1-0.2-0.2L7.5,14l0.1-4.4c0-0.1,0-0.1,0.1-0.1c0,0,0.1-0.1,0.1-0.1c0.1,0,0.1,0,0.1,0.1 C8,9.6,8,9.6,8,9.6z M11.4,16.1L11.4,16.1L11.4,16.1z M9.7,9.6L9.8,14l-0.1,2.1c0,0.1,0,0.1-0.1,0.2s-0.1,0.1-0.2,0.1 c-0.1,0-0.1,0-0.1-0.1s-0.1-0.1-0.1-0.2L9.2,14l0.1-4.4c0-0.1,0-0.1,0.1-0.2s0.1-0.1,0.2-0.1c0.1,0,0.1,0,0.2,0.1S9.7,9.5,9.7,9.6 L9.7,9.6z M10.6,9.8l0.1,4.3l-0.1,2c0,0.1,0,0.1-0.1,0.2c0,0-0.1,0.1-0.2,0.1c-0.1,0-0.1,0-0.2-0.1c0,0-0.1-0.1-0.1-0.2L10,14 l0.1-4.3c0-0.1,0-0.1,0.1-0.2c0,0,0.1-0.1,0.2-0.1c0.1,0,0.1,0,0.2,0.1S10.6,9.7,10.6,9.8z M12.4,14l-0.1,2c0,0.1,0,0.1-0.1,0.2 c-0.1,0.1-0.1,0.1-0.2,0.1c-0.1,0-0.1,0-0.2-0.1c-0.1-0.1-0.1-0.1-0.1-0.2l-0.1-1l-0.1-1l0.1-5.5v0c0-0.1,0-0.2,0.1-0.2 c0.1,0,0.1-0.1,0.2-0.1c0,0,0.1,0,0.1,0c0.1,0,0.1,0.1,0.1,0.2L12.4,14z M22.1,13.9c0,0.7-0.2,1.3-0.7,1.7c-0.5,0.5-1.1,0.7-1.7,0.7 h-6.8c-0.1,0-0.1,0-0.2-0.1c-0.1-0.1-0.1-0.1-0.1-0.2V8.2c0-0.1,0.1-0.2,0.2-0.3c0.5-0.2,1-0.3,1.6-0.3c1.1,0,2.1,0.4,2.9,1.1 c0.8,0.8,1.3,1.7,1.4,2.8c0.3-0.1,0.6-0.2,1-0.2c0.7,0,1.3,0.2,1.7,0.7C21.8,12.6,22.1,13.2,22.1,13.9L22.1,13.9z"}))},{name:"dribbble",color:"#D95988",title:"Dribbble",icon:()=>(0,i.createElement)(H.SVG,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},(0,i.createElement)(H.Path,{d:"M12,22C6.486,22,2,17.514,2,12S6.486,2,12,2c5.514,0,10,4.486,10,10S17.514,22,12,22z M20.434,13.369 c-0.292-0.092-2.644-0.794-5.32-0.365c1.117,3.07,1.572,5.57,1.659,6.09C18.689,17.798,20.053,15.745,20.434,13.369z M15.336,19.876c-0.127-0.749-0.623-3.361-1.822-6.477c-0.019,0.006-0.038,0.013-0.056,0.019c-4.818,1.679-6.547,5.02-6.701,5.334 c1.448,1.129,3.268,1.803,5.243,1.803C13.183,20.555,14.311,20.313,15.336,19.876z M5.654,17.724 c0.193-0.331,2.538-4.213,6.943-5.637c0.111-0.036,0.224-0.07,0.337-0.102c-0.214-0.485-0.448-0.971-0.692-1.45 c-4.266,1.277-8.405,1.223-8.778,1.216c-0.003,0.087-0.004,0.174-0.004,0.261C3.458,14.207,4.29,16.21,5.654,17.724z M3.639,10.264 c0.382,0.005,3.901,0.02,7.897-1.041c-1.415-2.516-2.942-4.631-3.167-4.94C5.979,5.41,4.193,7.613,3.639,10.264z M9.998,3.709 c0.236,0.316,1.787,2.429,3.187,5c3.037-1.138,4.323-2.867,4.477-3.085C16.154,4.286,14.17,3.471,12,3.471 C11.311,3.471,10.641,3.554,9.998,3.709z M18.612,6.612C18.432,6.855,17,8.69,13.842,9.979c0.199,0.407,0.389,0.821,0.567,1.237 c0.063,0.148,0.124,0.295,0.184,0.441c2.842-0.357,5.666,0.215,5.948,0.275C20.522,9.916,19.801,8.065,18.612,6.612z"}))}].map((({name:e,title:t,color:n,icon:a})=>{return{isDefault:"facebook"===e,name:e,title:t,attributes:(l=`https://www.mailjet.com/images/theme/v1/icons/ico-social/${e}.png`,r=t,o=n,{img:l,label:r,style:{noptin:{border:{radius:"50%"},color:{background:o}}}}),icon:a||e,isActive:(t,n)=>t.img&&t.img.includes(e)||t.label&&t.label.includes(e)||t.url&&t.url.includes(e)};var l,r,o})),ol=rl,{name:il}=ll,sl=(ca({name:il,metadata:ll,settings:{icon:qa,edit:al,save:({attributes:e,context:t})=>{const{url:n,img:a,label:l,rel:r}=e,{iconSize:o}=t,s=sa(e),c=s?.style?.backgroundColor,u=S.useBlockProps.save({width:o,style:{color:c,backgroundColor:c,...ea(e)}});return(0,i.createElement)("td",{...u,width:o},(0,i.createElement)("a",{href:n,target:"_blank",rel:r,style:{display:"inline-block",textDecoration:"none"}},(0,i.createElement)("img",{src:a||"https://placehold.co/30x30@2x.png",alt:l,width:o,height:o})))},variations:ol}}),(0,i.createElement)(H.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(H.Path,{d:"M4.8 11.4H2.1V9H1v6h1.1v-2.6h2.7V15h1.1V9H4.8v2.4zm1.9-1.3h1.7V15h1.1v-4.9h1.7V9H6.7v1.1zM16.2 9l-1.5 2.7L13.3 9h-.9l-.8 6h1.1l.5-4 1.5 2.8 1.5-2.8.5 4h1.1L17 9h-.8zm3.8 5V9h-1.1v6h3.6v-1H20z"}))),cl={apiVersion:3,name:"core/html",title:(0,I.__)("RAW","newsletter-optin-box"),category:"content",description:(0,I.__)("Add custom HTML code or merge tags to your email.","newsletter-optin-box"),keywords:["code","raw"],attributes:{content:{type:"string",source:"raw"}},supports:{customClassName:!1,className:!1,html:!1}},{name:ul}=cl,ml=(ca({name:ul,metadata:cl,settings:{icon:sl,example:{attributes:{content:"<marquee>"+(0,I.__)("Welcome to the wonderful world of blocks…")+"</marquee>"}},edit:function e({attributes:t,setAttributes:n}){const[a,l]=(0,u.useState)(!1),r=(0,u.useContext)(k.Disabled.Context),o=(0,A.useInstanceId)(e,"html-edit-desc"),s=(0,S.useBlockProps)({className:"block-library-html__edit","aria-describedby":a?o:void 0});return(0,i.createElement)("div",{...s},(0,i.createElement)(S.BlockControls,null,(0,i.createElement)(k.ToolbarGroup,null,(0,i.createElement)(k.ToolbarButton,{className:"components-tab-button",isPressed:!a,onClick:function(){l(!1)}},"HTML"),(0,i.createElement)(k.ToolbarButton,{className:"components-tab-button",isPressed:a,onClick:function(){l(!0)}},(0,I.__)("Preview")))),a||r?(0,i.createElement)(u.RawHTML,null,t.content):(0,i.createElement)(S.PlainText,{value:t.content,onChange:e=>n({content:e}),placeholder:(0,I.__)("Write HTML…"),"aria-label":(0,I.__)("HTML")}))},save:function({attributes:e}){return(0,i.createElement)(u.RawHTML,null,e.content)}}}),(0,i.createElement)(H.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(H.Path,{d:"M18 4h-7c-1.1 0-2 .9-2 2v3H6c-1.1 0-2 .9-2 2v7c0 1.1.9 2 2 2h7c1.1 0 2-.9 2-2v-3h3c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4.5 14c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5v-7c0-.3.2-.5.5-.5h3V13c0 1.1.9 2 2 2h2.5v3zm0-4.5H11c-.3 0-.5-.2-.5-.5v-2.5H13c.3 0 .5.2.5.5v2.5zm5-.5c0 .3-.2.5-.5.5h-3V11c0-1.1-.9-2-2-2h-2.5V6c0-.3.2-.5.5-.5h7c.3 0 .5.2.5.5v7z"}))),dl=e=>{const t={style:{},vml:null};return e.style?.background?.backgroundImage?.url?(t.style.backgroundImage=`url("${e.style.background.backgroundImage.url}")`,t.style.backgroundSize="cover",t):t},pl={apiVersion:3,name:"noptin/group",title:(0,I.__)("Section","newsletter-optin-box"),category:"design",description:(0,I.__)("Gather blocks in a layout container.","newsletter-optin-box"),keywords:["container","wrapper","row","section"],attributes:{templateLock:{type:["string","boolean"],enum:["all","insert","contentOnly",!1]},allowedBlocks:{type:"array"},align:{type:"string",default:"center",enum:["left","center","right"]},width:{type:"string",default:"600px"},style:{type:"object",default:{spacing:{margin:{top:"20px",right:"20px",bottom:"20px",left:"20px"}},noptin:{color:{background:"#ffffff"}}}}},noptin:{typography:!0,border:!0,color:!0},supports:{__experimentalOnEnter:!0,__experimentalOnMerge:!0,__experimentalSettings:!0,align:["left","center","right"],anchor:!1,html:!1,background:{__experimentalSkipSerialization:!0,backgroundImage:!0},spacing:{__experimentalSkipSerialization:!0,margin:!0,padding:!0,__experimentalDefaultControls:{margin:!0,padding:!0}}}},gl={from:[{type:"block",isMultiBlock:!0,blocks:["*"],__experimentalConvert(e){const t=e.map((e=>(0,y.createBlock)(e.name,e.attributes,e.innerBlocks)));return(0,y.createBlock)("noptin/group",{},t)}}]},hl=gl,{name:_l}=pl,bl=(ca({name:_l,metadata:pl,settings:{icon:ml,example:{attributes:{style:{color:{text:"#000000",background:"#ffffff"}}},innerBlocks:[{name:"core/paragraph",attributes:{customTextColor:"#cf2e2e",fontSize:"large",content:(0,I.__)("One.")}},{name:"core/paragraph",attributes:{customTextColor:"#ff6900",fontSize:"large",content:(0,I.__)("Two.")}},{name:"core/paragraph",attributes:{customTextColor:"#fcb900",fontSize:"large",content:(0,I.__)("Three.")}},{name:"core/paragraph",attributes:{customTextColor:"#00d084",fontSize:"large",content:(0,I.__)("Four.")}},{name:"core/paragraph",attributes:{customTextColor:"#0693e3",fontSize:"large",content:(0,I.__)("Five.")}},{name:"core/paragraph",attributes:{customTextColor:"#9b51e0",fontSize:"large",content:(0,I.__)("Six.")}}]},transforms:hl,edit:({attributes:e,setAttributes:t})=>{const{width:n,align:a}=e,l=ma(e,!0),r={width:n,maxWidth:"100%",borderCollapse:"separate",...ea(e),...sa(e).style,...dl(e).style},o=(0,S.useInnerBlocksProps)({style:Xn(e)},{templateLock:e.templateLock,allowedBlocks:e.allowedBlocks}),s=(0,k.__experimentalUseCustomUnits)({availableUnits:["%","px","em","rem","vw"]});return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(S.InspectorControls,null,(0,i.createElement)(k.PanelBody,{title:(0,I.__)("Section settings")},(0,i.createElement)(k.__experimentalUnitControl,{label:(0,I.__)("Width"),labelPosition:"edge",__unstableInputWidth:"80px",min:10,value:n||"",onChange:e=>t({width:e}),units:s}))),(0,i.createElement)("div",{...(0,S.useBlockProps)({style:l.margin})},(0,i.createElement)("table",{width:n,align:`${a||"center"}`,cellPadding:0,cellSpacing:0,role:"presentation",style:r},(0,i.createElement)("tbody",null,(0,i.createElement)("tr",null,(0,i.createElement)("td",{style:l.padding,align:`${a||"center"}`},(0,i.createElement)("table",{border:0,cellPadding:0,cellSpacing:0,width:"100%"},(0,i.createElement)("tbody",null,(0,i.createElement)("tr",null,(0,i.createElement)("td",{...o}))))))))))},save:({attributes:e})=>{const{width:t,align:n}=e,a=ma.save(e,!0),l={width:t,maxWidth:"100%",borderCollapse:"separate",...ea(e),...sa(e).style,...dl(e).style};return(0,i.createElement)("div",{...S.useBlockProps.save({style:a.margin})},(0,i.createElement)("table",{width:t,align:`${n||"center"}`,cellPadding:0,cellSpacing:0,role:"presentation",style:l},(0,i.createElement)("tbody",null,(0,i.createElement)("tr",null,(0,i.createElement)("td",{style:a.padding,align:`${n||"center"}`},(0,i.createElement)("table",{border:"0",cellPadding:"0",cellSpacing:"0",width:"100%"},(0,i.createElement)("tbody",null,(0,i.createElement)("tr",null,(0,i.createElement)("td",{style:{...Xn(e),...sa(e).style}},(0,i.createElement)(S.InnerBlocks.Content,null))))))))))}}}),(0,i.createElement)(H.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(H.Path,{d:"M19 6H6c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h13c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-4.1 1.5v10H10v-10h4.9zM5.5 17V8c0-.3.2-.5.5-.5h2.5v10H6c-.3 0-.5-.2-.5-.5zm14 0c0 .3-.2.5-.5.5h-2.6v-10H19c.3 0 .5.2.5.5v9z"}))),El=e=>{const t=parseFloat(e);return Number.isFinite(t)?parseFloat(t.toFixed(2)):void 0};function fl(e,t){const{width:n=100/t}=e.attributes;return El(n)}function vl(e,t,n=e.length){const a=function(e,t=e.length){return e.reduce(((e,n)=>e+fl(n,t)),0)}(e,n);return Object.fromEntries(Object.entries(function(e,t=e.length){return e.reduce(((e,n)=>{const a=fl(n,t);return Object.assign(e,{[n.clientId]:a})}),{})}(e,n)).map((([e,n])=>[e,El(t*n/a)])))}function yl(e,t){return e.map((e=>({...e,attributes:{...e.attributes,width:`${t[e.clientId]}%`}})))}const wl=["noptin/column"],xl=(0,v.withDispatch)(((e,t,n)=>({updateColumns(a,l){const{clientId:r}=t,{replaceInnerBlocks:o}=e(S.store),{getBlocks:i}=n.select(S.store);let s=i(r);const c=s.every((e=>{const t=e.attributes.width;return Number.isFinite(t?.endsWith?.("%")?parseFloat(t):t)})),u=l>a;if(u&&c){const e=El(100/l);s=[...yl(s,vl(s,100-e)),...Array.from({length:l-a}).map((()=>(0,y.createBlock)("noptin/column",{width:`${e}%`})))]}else u?s=[...s,...Array.from({length:l-a}).map((()=>(0,y.createBlock)("noptin/column")))]:l<a&&(s=s.slice(0,-(a-l)),c)&&(s=yl(s,vl(s,100)));o(r,s)}})))((function({attributes:e,setAttributes:t,updateColumns:n,clientId:a}){const{isStackedOnMobile:l,verticalAlignment:r,templateLock:o}=e,{count:s,canInsertColumnBlock:c,minCount:u}=(0,v.useSelect)((e=>{const{canInsertBlockType:t,canRemoveBlock:n,getBlocks:l,getBlockCount:r}=e(S.store),o=l(a).reduce(((e,t,a)=>(n(t.clientId)||e.push(a),e)),[]);return{count:r(a),canInsertColumnBlock:t("noptin/column",a),minCount:Math.max(...o)+1}}),[a]),m=(0,S.useBlockProps)({className:l?"is-stacked-on-mobile":void 0,style:{display:"table",width:"100%",...Xn(e),...ea(e),...ma(e),...sa(e).style}}),d=(0,S.useInnerBlocksProps)(m,{allowedBlocks:wl,orientation:"horizontal",renderAppender:!1,templateLock:o});return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(S.BlockControls,null,(0,i.createElement)(S.BlockVerticalAlignmentToolbar,{onChange:e=>t({verticalAlignment:e}),value:r})),(0,i.createElement)(S.InspectorControls,null,(0,i.createElement)(k.PanelBody,null,c&&(0,i.createElement)(i.Fragment,null,(0,i.createElement)(k.RangeControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,I.__)("Columns"),value:s,onChange:e=>n(s,Math.max(u,e)),min:Math.max(1,u),max:Math.max(6,s)}),s>6&&(0,i.createElement)(k.Notice,{status:"warning",isDismissible:!1},(0,I.__)("This column count exceeds the recommended amount and may cause visual breakage."))),(0,i.createElement)(k.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,I.__)("Stack on mobile"),checked:l,onChange:()=>t({isStackedOnMobile:!l})}))),(0,i.createElement)("div",{...d}))}));function kl({clientId:e,name:t,setAttributes:n}){const{blockType:a,defaultVariation:l,variations:r}=(0,v.useSelect)((e=>{const{getBlockVariations:n,getBlockType:a,getDefaultBlockVariation:l}=e(y.store);return{blockType:a(t),defaultVariation:l(t,"block"),variations:n(t,"block")}}),[t]),{replaceInnerBlocks:o}=(0,v.useDispatch)(S.store),s=(0,S.useBlockProps)();return(0,i.createElement)("div",{...s},(0,i.createElement)(S.__experimentalBlockVariationPicker,{icon:a?.icon?.src,label:a?.title,variations:r,onSelect:(t=l)=>{t.attributes&&n(t.attributes),t.innerBlocks&&o(e,(0,y.createBlocksFromInnerBlocksTemplate)(t.innerBlocks),!0)},allowSkip:!0}))}const Sl={apiVersion:3,name:"noptin/columns",title:(0,I.__)("Columns","newsletter-optin-box"),category:"design",description:(0,I.__)("Display content in multiple columns, with blocks added to each column.","newsletter-optin-box"),attributes:{verticalAlignment:{type:"string",default:"top"},isStackedOnMobile:{type:"boolean",default:!0},templateLock:{type:["string","boolean"],enum:["all","insert","contentOnly",!1]}},providesContext:{verticalAlignment:"verticalAlignment"},noptin:{typography:!0,border:!0,color:!0},supports:{anchor:!1,html:!1,__experimentalExposeControlsToChildren:!0,spacing:{__experimentalSkipSerialization:!0,margin:!0,__experimentalDefaultControls:{margin:!0}}}};function Cl(e,t=!1){return`\n    ${t?"\x3c!--[if !true]>\x3c!--\x3e":"\x3c!--[if true]>"}\n    ${e}\n    ${t?"\x3c!--<![endif]--\x3e":"<![endif]--\x3e"}\n  `}const Tl=[{name:"one-column-full",title:(0,I.__)("100"),description:(0,I.__)("One column"),icon:(0,i.createElement)(k.SVG,{width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(k.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"m39.0625 14h-30.0625v20.0938h30.0625zm-30.0625-2c-1.10457 0-2 .8954-2 2v20.0938c0 1.1045.89543 2 2 2h30.0625c1.1046 0 2-.8955 2-2v-20.0938c0-1.1046-.8954-2-2-2z"})),innerBlocks:[["noptin/column"]],scope:["block"]},{name:"two-columns-equal",title:(0,I.__)("50 / 50"),description:(0,I.__)("Two columns; equal split"),icon:(0,i.createElement)(k.SVG,{width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(k.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M39 12C40.1046 12 41 12.8954 41 14V34C41 35.1046 40.1046 36 39 36H9C7.89543 36 7 35.1046 7 34V14C7 12.8954 7.89543 12 9 12H39ZM39 34V14H25V34H39ZM23 34H9V14H23V34Z"})),isDefault:!0,innerBlocks:[["noptin/column",{width:"50%"}],["noptin/column",{width:"50%"}]],scope:["block"]},{name:"two-columns-one-third-two-thirds",title:(0,I.__)("33 / 66"),description:(0,I.__)("Two columns; one-third, two-thirds split"),icon:(0,i.createElement)(k.SVG,{width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(k.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M39 12C40.1046 12 41 12.8954 41 14V34C41 35.1046 40.1046 36 39 36H9C7.89543 36 7 35.1046 7 34V14C7 12.8954 7.89543 12 9 12H39ZM39 34V14H20V34H39ZM18 34H9V14H18V34Z"})),innerBlocks:[["noptin/column",{width:"33.33%"}],["noptin/column",{width:"66.66%"}]],scope:["block"]},{name:"two-columns-two-thirds-one-third",title:(0,I.__)("66 / 33"),description:(0,I.__)("Two columns; two-thirds, one-third split"),icon:(0,i.createElement)(k.SVG,{width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(k.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M39 12C40.1046 12 41 12.8954 41 14V34C41 35.1046 40.1046 36 39 36H9C7.89543 36 7 35.1046 7 34V14C7 12.8954 7.89543 12 9 12H39ZM39 34V14H30V34H39ZM28 34H9V14H28V34Z"})),innerBlocks:[["noptin/column",{width:"66.66%"}],["noptin/column",{width:"33.33%"}]],scope:["block"]},{name:"three-columns-equal",title:(0,I.__)("33 / 33 / 33"),description:(0,I.__)("Three columns; equal split"),icon:(0,i.createElement)(k.SVG,{width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(k.Path,{fillRule:"evenodd",d:"M41 14a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h30a2 2 0 0 0 2-2V14zM28.5 34h-9V14h9v20zm2 0V14H39v20h-8.5zm-13 0H9V14h8.5v20z"})),innerBlocks:[["noptin/column",{width:"33.33%"}],["noptin/column",{width:"33.33%"}],["noptin/column",{width:"33.33%"}]],scope:["block"]},{name:"three-columns-wider-center",title:(0,I.__)("25 / 50 / 25"),description:(0,I.__)("Three columns; wide center column"),icon:(0,i.createElement)(k.SVG,{width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(k.Path,{fillRule:"evenodd",d:"M41 14a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h30a2 2 0 0 0 2-2V14zM31 34H17V14h14v20zm2 0V14h6v20h-6zm-18 0H9V14h6v20z"})),innerBlocks:[["noptin/column",{width:"25%"}],["noptin/column",{width:"50%"}],["noptin/column",{width:"25%"}]],scope:["block"]}],Bl={from:[{type:"block",isMultiBlock:!0,blocks:["*"],__experimentalConvert:e=>{const t=+(100/e.length).toFixed(2),n=e.map((({name:e,attributes:n,innerBlocks:a})=>["noptin/column",{width:`${t}%`},[[e,{...n},a]]]));return(0,y.createBlock)("noptin/columns",{},(0,y.createBlocksFromInnerBlocksTemplate)(n))},isMatch:({length:e},t)=>(1!==t.length||"noptin/columns"!==t[0].name)&&e&&e<=6}],ungroup:(e,t)=>t.flatMap((e=>e.innerBlocks))},{name:Il}=Sl,Ml=(ca({name:Il,metadata:Sl,settings:{icon:bl,variations:Tl,edit:e=>{const{clientId:t}=e,n=(0,v.useSelect)((e=>e(S.store).getBlocks(t).length>0),[t])?xl:kl;return(0,i.createElement)(n,{...e})},save:function({attributes:e}){const{isStackedOnMobile:t}=e,n={display:"table",width:"100%",...Xn(e),...ea(e),...ma.save(e),...sa(e).style},a=S.useBlockProps.save({className:t?"is-stacked-on-mobile":void 0,style:n}),l=Cl(`<table role="presentation" width="100%" style="${Object.entries(n).reduce(((e,[t,n])=>isNil(n)||""===n?e:`${e}${t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${n};`),"")}"><tr>`),r=Cl("</tr></table>");return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(u.RawHTML,{children:`${l}\x3c!--[if !true]>\x3c!--\x3e`}),(0,i.createElement)("div",{...a},(0,i.createElement)(u.RawHTML,{children:"\x3c!--<![endif]--\x3e"}),(0,i.createElement)(S.InnerBlocks.Content,null),(0,i.createElement)(u.RawHTML,{children:"\x3c!--[if !true]>\x3c!--\x3e"})),(0,i.createElement)(u.RawHTML,{children:`\x3c!--<![endif]--\x3e${r}`}))},transforms:Bl}}),(0,i.createElement)(H.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(H.Path,{d:"M19 6H6c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h13c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zM6 17.5c-.3 0-.5-.2-.5-.5V8c0-.3.2-.5.5-.5h3v10H6zm13.5-.5c0 .3-.2.5-.5.5h-3v-10h3c.3 0 .5.2.5.5v9z"}))),Nl={apiVersion:3,name:"noptin/column",title:(0,I.__)("Column","newsletter-optin-box"),category:"design",parent:["noptin/columns"],description:(0,I.__)("A single column within a columns block.","newsletter-optin-box"),attributes:{width:{type:"string"},allowedBlocks:{type:"array"},templateLock:{type:["string","boolean"],enum:["all","insert","contentOnly",!1]}},usesContext:["verticalAlignment"],noptin:{typography:!0,border:!0,color:!0},supports:{__experimentalOnEnter:!0,anchor:!1,reusable:!1,html:!1,spacing:{__experimentalSkipSerialization:!0,padding:!0,__experimentalDefaultControls:{padding:!0}}}},{name:Ll}=Nl,Al=(ca({name:Ll,metadata:Nl,settings:{icon:Ml,edit:function({attributes:{width:e,templateLock:t,allowedBlocks:n,...a},setAttributes:l,clientId:r,context:o}){const{verticalAlignment:s}=o,c=(0,k.__experimentalUseCustomUnits)({availableUnits:["%","px","em","rem","vw"]}),{columnsIds:u,hasChildBlocks:m}=(0,v.useSelect)((e=>{const{getBlockOrder:t,getBlockRootClientId:n}=e(S.store),a=n(r);return{hasChildBlocks:t(r).length>0,columnsIds:t(a)}}),[r]),d={display:"table-cell",verticalAlign:s||"top",...Xn(a),...ea(a),...ma(a),...sa(a).style};if(e&&/\d/.test(e)){let t=Number.isFinite(e)?e+"%":e;if(!Number.isFinite(e)&&e?.endsWith("%")){const n=1e12;t=Math.round(Number.parseFloat(e)*n)/n+"%"}d.width=t}const p=(0,S.useBlockProps)({style:d}),g=u.length,h=u.indexOf(r)+1,_=(0,I.sprintf)(/* translators: 1: Block label (i.e. "Block: Column"), 2: Position of the selected block, 3: Total number of sibling blocks of the same type */
(0,I.__)("%1$s (%2$d of %3$d)"),p["aria-label"],h,g),b=(0,S.useInnerBlocksProps)({...p,"aria-label":_},{templateLock:t,allowedBlocks:n,renderAppender:m?void 0:S.InnerBlocks.ButtonBlockAppender});return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(S.InspectorControls,null,(0,i.createElement)(k.PanelBody,{title:(0,I.__)("Column settings")},(0,i.createElement)(k.__experimentalUnitControl,{label:(0,I.__)("Width"),labelPosition:"edge",__unstableInputWidth:"80px",value:e||"",onChange:e=>{e=0>parseFloat(e)?"0":e,l({width:e})},units:c}))),(0,i.createElement)("div",{...b}))},save:function({attributes:e,context:t}){const{width:n}=e,{verticalAlignment:a}=t,l={display:"table-cell",verticalAlign:a||"top",...ea(e),...ma.save(e),...Xn(e),...sa(extra).style};if(n&&/\d/.test(n)){let e=Number.isFinite(n)?n+"%":n;if(!Number.isFinite(n)&&n?.endsWith("%")){const t=1e12;e=Math.round(Number.parseFloat(n)*t)/t+"%"}l.width=e}const r=S.useBlockProps.save({style:l}),o=Cl(`<td style="${Object.entries(l).reduce(((e,[t,n])=>(0,xn.isNil)(n)||""===n?e:`${e}${t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${n};`),"")}">`),s=Cl("</td>");return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(u.RawHTML,{children:`${o}\x3c!--[if !true]>\x3c!--\x3e`}),(0,i.createElement)("div",{...r},(0,i.createElement)(u.RawHTML,{children:"\x3c!--[if !true]>\x3c!--\x3e"}),(0,i.createElement)(S.InnerBlocks.Content,null),(0,i.createElement)(u.RawHTML,{children:"\x3c!--[if !true]>\x3c!--\x3e"})),(0,i.createElement)(u.RawHTML,{children:`\x3c!--<![endif]--\x3e${s}`}))}}}),(0,i.createElement)(H.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(H.Path,{d:"M4.5 12.5v4H3V7h1.5v3.987h15V7H21v9.5h-1.5v-4h-15Z"}))),Pl={apiVersion:3,name:"noptin/separator",title:(0,I.__)("Separator","newsletter-optin-box"),category:"design",description:(0,I.__)("Create a break between ideas or sections with a horizontal separator.","newsletter-optin-box"),attributes:{align:{type:"string",default:"center",source:"attribute",selector:"hr",attribute:"align"},width:{type:"string",default:"80%"},height:{type:"string",default:"3px"},style:{type:"object",default:{noptin:{color:{background:"#95a5a6"}},spacing:{margin:{bottom:"16px"}}}}},noptin:{color:{background:!0}},supports:{anchor:!1,spacing:{__experimentalSkipSerialization:!0,margin:["top","bottom"],__experimentalDefaultControls:{margin:!0}}}},Rl={from:[{type:"enter",regExp:/^-{3,}$/,transform:()=>(0,y.createBlock)("noptin/separator")},{type:"raw",selector:"hr",schema:{hr:{}}}]},{name:Dl}=Pl,Vl=(ca({name:Dl,metadata:Pl,settings:{icon:Al,transforms:Rl,edit:function({attributes:e,setAttributes:t}){const{align:n,width:a,height:l}=e,r=sa(e),o=r?.style?.backgroundColor,s=(0,k.__experimentalUseCustomUnits)({availableUnits:["%","px","em","rem"]});return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(S.BlockControls,null,(0,i.createElement)(S.BlockAlignmentToolbar,{onChange:e=>t({align:e}),value:n})),(0,i.createElement)(S.InspectorControls,null,(0,i.createElement)(k.PanelBody,{title:(0,I.__)("Settings")},(0,i.createElement)(k.__experimentalUnitControl,{label:(0,I.__)("Width"),labelPosition:"edge",__unstableInputWidth:"80px",value:a||"",onChange:e=>{e=0>parseFloat(e)?"0":e,t({width:e})},units:s}),(0,i.createElement)(k.__experimentalUnitControl,{label:(0,I.__)("Height"),labelPosition:"edge",__unstableInputWidth:"80px",value:l||"",onChange:e=>{e=e?0>parseFloat(e)?"0":e:"1em",t({height:e})},units:s}))),(0,i.createElement)("hr",{...(0,S.useBlockProps)({style:{color:o,backgroundColor:o,borderWidth:0,height:l||"1em",width:a||"100%",maxWidth:"100%",...ma(e)},align:n})}))},save:function({attributes:e}){const{align:t,width:n,height:a}=e,l=sa(e),r=l?.style?.backgroundColor;return(0,i.createElement)("hr",{...S.useBlockProps.save({style:{color:r,backgroundColor:r,borderWidth:0,height:a||"1em",width:n||"100%",maxWidth:"100%",...ma.save(e)},align:t})})}}}),(0,i.createElement)(H.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(H.Path,{d:"M7 18h4.5v1.5h-7v-7H6V17L17 6h-4.5V4.5h7v7H18V7L7 18Z"}))),zl={apiVersion:3,name:"noptin/spacer",title:(0,I.__)("Spacer","newsletter-optin-box"),category:"design",description:(0,I.__)("Add a blank space between blocks and customize its height.","newsletter-optin-box"),attributes:{height:{type:"string",default:"100px"}},noptin:{color:{background:!0}},supports:{anchor:!1,spacing:{__experimentalSkipSerialization:!0,margin:["top","bottom"],__experimentalDefaultControls:{margin:!0}}}},{name:Hl}=zl;ca({name:Hl,metadata:zl,settings:{icon:Vl,edit:({attributes:e,isSelected:t,setAttributes:n})=>{const{height:a}=e,l=sa(e),r=l?.style?.backgroundColor,o={backgroundColor:r||(t?"#95a5a6":void 0),height:a,...ma(e)},s=(0,k.__experimentalUseCustomUnits)({availableUnits:["px","em","rem"],defaultValues:{px:100,em:10,rem:10}});return(0,i.createElement)(i.Fragment,null,(0,i.createElement)("div",{...(0,S.useBlockProps)({style:o})}," "),(0,i.createElement)(S.InspectorControls,null,(0,i.createElement)(k.PanelBody,{title:(0,I.__)("Settings")},(0,i.createElement)(k.__experimentalUnitControl,{label:(0,I.__)("Height"),labelPosition:"edge",__unstableInputWidth:"80px",value:a||"",onChange:e=>{e=e?0>parseFloat(e)?"0px":e:"0px",n({height:e})},units:s,min:0}))))},save:function({attributes:e}){const{height:t}=e,n=sa(e),a=n?.style?.backgroundColor;return(0,i.createElement)("div",{...S.useBlockProps.save({style:{color:a,backgroundColor:a,height:t||"100px",lineHeight:t||"100px",...ma.save(e)}})}," ")}}});const Fl=(0,v.withDispatch)(((e,{clientId:t,attributes:n})=>{const{replaceBlock:a}=e(S.store);return{convertToHTML(){a(t,(0,y.createBlock)("core/html",{content:n.originalUndelimitedContent}))}}}))((function({attributes:e,convertToHTML:t,clientId:n}){const{originalName:a,originalUndelimitedContent:l}=e,r=!!l,{hasHTMLBlock:o}=(0,v.useSelect)((e=>{const{canInsertBlockType:t,getBlockRootClientId:a}=e(S.store);return{hasHTMLBlock:t("core/html",a(n))}}),[n]),s=[];let c;const m=(0,i.createElement)(k.Button,{key:"convert",onClick:t,variant:"primary"},(0,I.__)("Keep as HTML"));return r&&o?(c=(0,I.sprintf)(/* translators: %s: block name */
(0,I.__)('Your site doesn’t include support for the "%s" block. You can leave this block intact, convert its content to a RAW block, or remove it entirely.'),a),s.push(m)):c=(0,I.sprintf)(/* translators: %s: block name */
(0,I.__)('Your site doesn’t include support for the "%s" block. You can leave this block intact or remove it entirely.'),a),(0,i.createElement)("div",{...(0,S.useBlockProps)({className:"has-warning"})},(0,i.createElement)(S.Warning,{actions:s},c),(0,i.createElement)(u.RawHTML,null,(0,jn.safeHTML)(l)))})),$l={apiVersion:3,name:"noptin/missing",title:(0,I.__)("Unsupported Block","newsletter-optin-box"),category:"content",description:(0,I.__)("This block is not supported in the email editor.","newsletter-optin-box"),attributes:{originalName:{type:"string"},originalUndelimitedContent:{type:"string"},originalContent:{type:"string",source:"raw"}},supports:{className:!1,customClassName:!1,inserter:!1,html:!1,reusable:!1}},{name:Ol}=$l;ca({name:Ol,metadata:$l,settings:{name:Ol,edit:Fl,save:function({attributes:e}){return(0,i.createElement)(u.RawHTML,null,e.originalContent)}}}),(0,y.setDefaultBlockName)("core/paragraph"),(0,y.setFreeformContentHandlerName)("core/html"),(0,y.setUnregisteredTypeHandlerName)("core/missing");const Ul=window.wp.plugins,Gl={
/* translators: accessibility text for the editor top bar landmark region. */
header:(0,I.__)("Editor top bar","newsletter-optin-box"),
/* translators: accessibility text for the editor content landmark region. */
body:(0,I.__)("Editor content","newsletter-optin-box"),
/* translators: accessibility text for the editor settings landmark region. */
sidebar:(0,I.__)("Editor settings","newsletter-optin-box"),
/* translators: accessibility text for the editor publish landmark region. */
actions:(0,I.__)("Editor publish","newsletter-optin-box"),
/* translators: accessibility text for the editor footer landmark region. */
footer:(0,I.__)("Editor footer","newsletter-optin-box"),
/* translators: accessibility text for the editor secondary sidebar landmark region. */
secondarySidebar:(0,I.__)("Document Overview","newsletter-optin-box")},jl=function(){const e=(0,A.useViewportMatch)("large","<"),t=(0,A.useViewportMatch)("huge","<"),{setIsInserterOpened:n,setCurrentSidebar:a}=(0,v.useDispatch)(it),{hasComplementaryArea:l,isInserterOpened:r,mode:o,previousShortcut:s,nextShortcut:c}=(0,v.useSelect)((t=>{const n=t(it).getEmailContentType(),{getAllShortcutKeyCombinations:a}=t(Nt.store);return{isInserterOpened:!e&&!!t(it).isInserterOpened()&&"visual"===n,hasComplementaryArea:!e&&!!t(it).getCurrentSidebar(),mode:n,previousShortcut:a("core/edit-email/previous-region"),nextShortcut:a("core/edit-email/next-region")}}),[e]);(0,u.useEffect)((()=>{r&&t&&a(null)}),[r,a,n,t]),(0,u.useEffect)((()=>{l&&t&&n(!1)}),[l,n,t]);const m=L()("edit-post-layout","is-mode-"+o,{"is-sidebar-opened":l,"is-inserter-opened":r});return(0,i.createElement)(D,{isDistractionFree:!1,className:m,labels:Gl,header:(0,i.createElement)(pn,null),editorNotices:(0,i.createElement)(gn,null),notices:(0,i.createElement)(hn,null),secondarySidebar:r&&(0,i.createElement)($n,null),sidebar:l&&(0,i.createElement)(Dn.Slot,null),content:(0,i.createElement)(Zt,null),footer:!e&&(0,i.createElement)(bn,null),shortcuts:{previous:s,next:c}})};function Wl(){const e=(0,A.useViewportMatch)("medium","<"),{createErrorNotice:t}=(0,v.useDispatch)(Rt.store),n=(0,v.useSelect)((e=>!!e(m.store).get(d,"fullscreenMode")),[]);return(0,i.createElement)(zt,null,(0,i.createElement)(Un,null),(0,i.createElement)(On,null),(0,i.createElement)(M,{isActive:n&&!e}),(0,i.createElement)(Pt.Register,null),(0,i.createElement)(jl,null),(0,i.createElement)(Vn,null),(0,i.createElement)(Ul.PluginArea,{onError:function(e){t((0,I.sprintf)(/* translators: %s: plugin name */
(0,I.__)('The "%s" plugin has encountered an error and cannot be rendered.'),e))}}))}const Zl=()=>{const e=(0,v.useSelect)((e=>e(it).getBlocks()),[]),{setBlocks:t}=(0,v.useDispatch)(it),n=(0,u.useCallback)((e=>{t(e,!0)}),[t]),a=(0,u.useCallback)((e=>{t(e,!1)}),[t]),l=function(e){const{preferredStyleVariations:t}=(0,v.useSelect)((e=>({preferredStyleVariations:e(m.store).get(it.name,"preferredStyleVariations")})),[]),{updatePreferredStyleVariations:n}=(0,v.useDispatch)(it);return(0,u.useMemo)((()=>({...p?.settings,...e,mediaUpload:p?.user?.canUpload?st:void 0,__experimentalFetchLinkSuggestions:(t,n)=>(0,C.__experimentalFetchLinkSuggestions)(t,n,e),__experimentalFetchRichUrlData:C.__experimentalFetchUrlData,__experimentalPreferredStyleVariations:{value:t,onChange:n}})),[e,t,n])}({});return(0,i.createElement)(k.SlotFillProvider,null,(0,i.createElement)(S.BlockEditorProvider,{value:e,onInput:a,onChange:n,settings:l},(0,i.createElement)(Wl,null)))};c()((()=>{(0,y.setGroupingBlockName)("noptin/group"),(0,v.dispatch)(m.store).setDefaults(d,{fullscreenMode:!0,focusMode:!1,keepCaretInsideBlock:!1,welcomeGuide:!0,welcomeGuideStyles:!0,welcomeGuidePage:!0,welcomeGuideTemplate:!0,showListViewByDefault:!1,isComplementaryAreaVisible:!0}),(0,v.dispatch)(it).setEmail(p.campaign||{});const e=document.getElementById("noptin-email-campaigns__editor");e&&(u.createRoot?(0,u.createRoot)(e).render((0,i.createElement)(Zl,null)):(0,u.render)((0,i.createElement)(Zl,null),e))}))},184:(e,t)=>{var n;!function(){"use strict";var a={}.hasOwnProperty;function l(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)){if(n.length){var o=l.apply(null,n);o&&e.push(o)}}else if("object"===r){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var i in n)a.call(n,i)&&n[i]&&e.push(i)}}}return e.join(" ")}e.exports?(l.default=l,e.exports=l):void 0===(n=function(){return l}.apply(t,[]))||(e.exports=n)}()}},n={};function a(e){var l=n[e];if(void 0!==l)return l.exports;var r=n[e]={exports:{}};return t[e](r,r.exports,a),r.exports}a.m=t,e=[],a.O=(t,n,l,r)=>{if(!n){var o=1/0;for(u=0;u<e.length;u++){for(var[n,l,r]=e[u],i=!0,s=0;s<n.length;s++)(!1&r||o>=r)&&Object.keys(a.O).every((e=>a.O[e](n[s])))?n.splice(s--,1):(i=!1,r<o&&(o=r));if(i){e.splice(u--,1);var c=l();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[n,l,r]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={257:0,410:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var l,r,[o,i,s]=n,c=0;if(o.some((t=>0!==e[t]))){for(l in i)a.o(i,l)&&(a.m[l]=i[l]);if(s)var u=s(a)}for(t&&t(n);c<o.length;c++)r=o[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(u)},n=globalThis.webpackChunknoptin_premium=globalThis.webpackChunknoptin_premium||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var l=a.O(void 0,[410],(()=>a(314)));l=a.O(l)})();