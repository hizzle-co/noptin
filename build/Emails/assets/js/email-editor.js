(()=>{var e,t={430:(e,t,n)=>{"use strict";var a={};n.r(a),n.d(a,{closeModal:()=>$,disableComplementaryArea:()=>A,enableComplementaryArea:()=>P,openModal:()=>F,pinItem:()=>R,setDefaultComplementaryArea:()=>L,setFeatureDefaults:()=>H,setFeatureValue:()=>z,toggleFeature:()=>V,unpinItem:()=>D});var l={};n.r(l),n.d(l,{getActiveComplementaryArea:()=>O,isComplementaryAreaLoading:()=>U,isFeatureActive:()=>j,isItemPinned:()=>G,isModalActive:()=>W});var r={};n.r(r),n.d(r,{openGeneralSidebar:()=>me,redo:()=>ue,registerSidebar:()=>be,saveEmail:()=>ke,setBlocks:()=>Ee,setCurrentSidebar:()=>_e,setEmail:()=>fe,setEmailCSS:()=>we,setEmailField:()=>ve,setEmailMeta:()=>ye,setIsInserterOpened:()=>he,setPreviewDeviceType:()=>ge,togglePinnedPluginItem:()=>de,undo:()=>ce,updatePreferredStyleVariations:()=>pe});var o={};n.r(o),n.d(o,{getBlocks:()=>Ae,getCurrentSidebar:()=>Ce,getEmail:()=>Re,getEmailAuthor:()=>Xe,getEmailCSS:()=>at,getEmailContent:()=>Ge,getEmailContentNormal:()=>Ke,getEmailContentPlainText:()=>Ze,getEmailContentRawHtml:()=>Ye,getEmailContentType:()=>je,getEmailContentVisual:()=>qe,getEmailFooterText:()=>et,getEmailHeading:()=>Qe,getEmailId:()=>De,getEmailMeta:()=>nt,getEmailName:()=>Oe,getEmailPreviewText:()=>Je,getEmailPublishDate:()=>He,getEmailStatus:()=>ze,getEmailSubject:()=>Ue,getEmailTemplate:()=>tt,getEmailType:()=>$e,getInsertionPoint:()=>Ie,getNextRedo:()=>Pe,getNextUndo:()=>Le,getParentEmailId:()=>Ve,getPreviewDeviceType:()=>Se,getSidebars:()=>Te,hasRedo:()=>Ne,hasUndo:()=>Me,isDirty:()=>rt,isInserterOpened:()=>Be,isSavingEmail:()=>lt,isScheduled:()=>Fe,isVisualEditor:()=>We});const i=window.React,s=window.wp.domReady;var c=n.n(s);const u=window.wp.element,m=window.wp.preferences,d=({isActive:e})=>((0,u.useEffect)((()=>{let e=!1;return document.body.classList.contains("sticky-menu")&&(e=!0,document.body.classList.remove("sticky-menu")),()=>{e&&document.body.classList.add("sticky-menu")}}),[]),(0,u.useEffect)((()=>(e?document.body.classList.add("is-fullscreen-mode"):document.body.classList.remove("is-fullscreen-mode"),()=>{e&&document.body.classList.remove("is-fullscreen-mode")})),[e]),null);var p=n(184),g=n.n(p);const h=window.wp.components,_=window.wp.i18n,b=window.wp.compose;function E({children:e,className:t,ariaLabel:n,as:a="div",...l}){return(0,i.createElement)(a,{className:g()("interface-navigable-region",t),"aria-label":n,role:"region",tabIndex:"-1",...l},e)}const f={hidden:{opacity:0},hover:{opacity:1,transition:{type:"tween",delay:.2,delayChildren:.2}},distractionFreeInactive:{opacity:1,transition:{delay:0}}},v=(0,u.forwardRef)((function({isDistractionFree:e,footer:t,header:n,editorNotices:a,sidebar:l,secondarySidebar:r,notices:o,content:s,contentProps:c,actions:m,labels:d,className:p,enableRegionNavigation:v=!0,shortcuts:y},w){const k=(0,h.__unstableUseNavigateRegions)(y);!function(e){(0,u.useEffect)((()=>{const t=document&&document.querySelector(`html:not(.${e})`);if(t)return t.classList.toggle(e),()=>{t.classList.toggle(e)}}),[e])}("interface-interface-skeleton__html-container");const x={
/* translators: accessibility text for the top bar landmark region. */
header:(0,_.__)("Header"),
/* translators: accessibility text for the content landmark region. */
body:(0,_.__)("Content"),
/* translators: accessibility text for the secondary sidebar landmark region. */
secondarySidebar:(0,_.__)("Block Library"),
/* translators: accessibility text for the settings landmark region. */
sidebar:(0,_.__)("Settings"),
/* translators: accessibility text for the publish landmark region. */
actions:(0,_.__)("Publish"),
/* translators: accessibility text for the footer landmark region. */
footer:(0,_.__)("Footer"),...d};return(0,i.createElement)("div",{...v?k:{},ref:(0,b.useMergeRefs)([w,v?k.ref:void 0]),className:g()(p,"interface-interface-skeleton",k.className,!!t&&"has-footer")},(0,i.createElement)("div",{className:"interface-interface-skeleton__editor"},!!n&&(0,i.createElement)(E,{as:h.__unstableMotion.div,className:"interface-interface-skeleton__header","aria-label":x.header,initial:e?"hidden":"distractionFreeInactive",whileHover:e?"hover":"distractionFreeInactive",animate:e?"hidden":"distractionFreeInactive",variants:f,transition:e?{type:"tween",delay:.8}:void 0},n),e&&(0,i.createElement)("div",{className:"interface-interface-skeleton__header"},a),(0,i.createElement)("div",{className:"interface-interface-skeleton__body"},!!r&&(0,i.createElement)(E,{className:"interface-interface-skeleton__secondary-sidebar",ariaLabel:x.secondarySidebar},r),!!o&&(0,i.createElement)("div",{className:"interface-interface-skeleton__notices"},o),(0,i.createElement)(E,{className:"interface-interface-skeleton__content",ariaLabel:x.body,...c},s),!!l&&(0,i.createElement)(E,{className:"interface-interface-skeleton__sidebar",ariaLabel:x.sidebar},l),!!m&&(0,i.createElement)(E,{className:"interface-interface-skeleton__actions",ariaLabel:x.actions},m))),!!t&&(0,i.createElement)(E,{className:"interface-interface-skeleton__footer",ariaLabel:x.footer},t))}));function y({scope:e,...t}){return(0,i.createElement)(h.Fill,{name:`PinnedItems/${e}`,...t})}y.Slot=function({scope:e,className:t,...n}){return(0,i.createElement)(h.Slot,{name:`PinnedItems/${e}`,...n},(e=>e?.length>0&&(0,i.createElement)("div",{className:g()(t,"interface-pinned-items")},e)))};const w=y,k=window.wp.primitives,x=(0,i.createElement)(k.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(k.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"}));function S({as:e=h.DropdownMenu,className:t,label:
/* translators: button label text should, if possible, be under 16 characters. */
n=(0,_.__)("Options"),popoverProps:a,toggleProps:l,children:r}){return(0,i.createElement)(e,{className:g()("interface-more-menu-dropdown",t),icon:x,label:n,popoverProps:{placement:"bottom-end",...a,className:g()("interface-more-menu-dropdown__content",a?.className)},toggleProps:{tooltipPosition:"bottom",...l}},(e=>r(e)))}const C=()=>{};function T({name:e,as:t=h.Button,onClick:n,...a}){return(0,i.createElement)(h.Fill,{name:e},(({onClick:e})=>(0,i.createElement)(t,{onClick:n||e?(...t)=>{(n||C)(...t),(e||C)(...t)}:void 0,...a})))}T.Slot=function({name:e,as:t=h.ButtonGroup,fillProps:n={},bubblesVirtually:a,...l}){return(0,i.createElement)(h.Slot,{name:e,bubblesVirtually:a,fillProps:n},(e=>{if(!u.Children.toArray(e).length)return null;const n=[];u.Children.forEach(e,(({props:{__unstableExplicitMenuItem:e,__unstableTarget:t}})=>{t&&e&&n.push(t)}));const a=u.Children.map(e,(e=>!e.props.__unstableExplicitMenuItem&&n.includes(e.props.__unstableTarget)?null:e));return(0,i.createElement)(t,{...l},a)}))};const B=T,I=window.wp.data,M=window.wp.deprecated;var N=n.n(M);const L=(e,t)=>({type:"SET_DEFAULT_COMPLEMENTARY_AREA",scope:e,area:t}),P=(e,t)=>({registry:n,dispatch:a})=>{t&&(n.select(m.store).get(e,"isComplementaryAreaVisible")||n.dispatch(m.store).set(e,"isComplementaryAreaVisible",!0),a({type:"ENABLE_COMPLEMENTARY_AREA",scope:e,area:t}))},A=e=>({registry:t})=>{t.select(m.store).get(e,"isComplementaryAreaVisible")&&t.dispatch(m.store).set(e,"isComplementaryAreaVisible",!1)},R=(e,t)=>({registry:n})=>{if(!t)return;const a=n.select(m.store).get(e,"pinnedItems");!0!==a?.[t]&&n.dispatch(m.store).set(e,"pinnedItems",{...a,[t]:!0})},D=(e,t)=>({registry:n})=>{if(!t)return;const a=n.select(m.store).get(e,"pinnedItems");n.dispatch(m.store).set(e,"pinnedItems",{...a,[t]:!1})};function V(e,t){return function({registry:n}){N()("dispatch( 'core/interface' ).toggleFeature",{since:"6.0",alternative:"dispatch( 'core/preferences' ).toggle"}),n.dispatch(m.store).toggle(e,t)}}function z(e,t,n){return function({registry:a}){N()("dispatch( 'core/interface' ).setFeatureValue",{since:"6.0",alternative:"dispatch( 'core/preferences' ).set"}),a.dispatch(m.store).set(e,t,!!n)}}function H(e,t){return function({registry:n}){N()("dispatch( 'core/interface' ).setFeatureDefaults",{since:"6.0",alternative:"dispatch( 'core/preferences' ).setDefaults"}),n.dispatch(m.store).setDefaults(e,t)}}function F(e){return{type:"OPEN_MODAL",name:e}}function $(){return{type:"CLOSE_MODAL"}}const O=(0,I.createRegistrySelector)((e=>(t,n)=>{const a=e(m.store).get(n,"isComplementaryAreaVisible");if(void 0!==a)return!1===a?null:t?.complementaryAreas?.[n]})),U=(0,I.createRegistrySelector)((e=>(t,n)=>{const a=e(m.store).get(n,"isComplementaryAreaVisible"),l=t?.complementaryAreas?.[n];return a&&void 0===l})),G=(0,I.createRegistrySelector)((e=>(t,n,a)=>{var l;const r=e(m.store).get(n,"pinnedItems");return null===(l=r?.[a])||void 0===l||l})),j=(0,I.createRegistrySelector)((e=>(t,n,a)=>(N()("select( 'core/interface' ).isFeatureActive( scope, featureName )",{since:"6.0",alternative:"select( 'core/preferences' ).get( scope, featureName )"}),!!e(m.store).get(n,a))));function W(e,t){return e.activeModal===t}const Z=(0,I.combineReducers)({complementaryAreas:function(e={},t){switch(t.type){case"SET_DEFAULT_COMPLEMENTARY_AREA":{const{scope:n,area:a}=t;return e[n]?e:{...e,[n]:a}}case"ENABLE_COMPLEMENTARY_AREA":{const{scope:n,area:a}=t;return{...e,[n]:a}}}return e},activeModal:function(e=null,t){switch(t.type){case"OPEN_MODAL":return t.name;case"CLOSE_MODAL":return null}return e}}),Y=(0,I.createReduxStore)("core/interface",{reducer:Z,actions:a,selectors:l});(0,I.register)(Y);const q="noptin/edit-email",K=window.noptinEmailEditorSettings||{},X=K.types||{},J=Object.keys(X).map((e=>({value:e,label:X[e].label}))),Q=`${q}/block-inspector`,ee=`${q}/email-settings`,te=window.wp.blocks,ne=window.wp.hooks,ae=window.wp.mediaUtils;(0,ne.addFilter)("editor.MediaUpload","noptin/edit-email/components/media-upload",(()=>ae.MediaUpload));const le=window.wp.blockEditor,re=(window.wp.formatLibrary,window.wp.coreData),oe=(0,I.combineReducers)({id(e=0,t){switch(t.type){case"SET_EMAIL_ID":return t.value;case"SET_EMAIL":return t.email?.id||0}return e},parent_id(e=0,t){switch(t.type){case"SET_EMAIL_PARENT_ID":return t.value;case"SET_EMAIL":return t.email?.parent_id||0}return e},created(e="",t){switch(t.type){case"SET_EMAIL_PUBLISH_DATE":return t.value;case"SET_EMAIL":return t.email?.created||""}return e},status(e="draft",t){switch(t.type){case"SET_EMAIL_STATUS":return t.value;case"SET_EMAIL":return t.email?.status||"draft"}return e},type(e="newsletter",t){switch(t.type){case"SET_EMAIL_TYPE":return t.value;case"SET_EMAIL":return t.email?.type||"newsletter"}return e},name(e="",t){switch(t.type){case"SET_EMAIL_TITLE":return t.value;case"SET_EMAIL":return t.email?.name||""}return e},subject(e="",t){switch(t.type){case"SET_EMAIL_SUBJECT":return t.value;case"SET_EMAIL":return t.email?.subject||""}return e},content:(0,I.combineReducers)({type(e="visual",t){switch(t.type){case"SET_EMAIL_CONTENT_TYPE":return t.value;case"SET_EMAIL":return t.email?.content?.type||"visual"}return e},plain_text(e="",t){switch(t.type){case"SET_EMAIL_CONTENT_PLAIN_TEXT":return t.value;case"SET_EMAIL":return t.email?.content?.plain_text||""}return e},normal(e="",t){switch(t.type){case"SET_EMAIL_CONTENT_NORMAL":return t.value;case"SET_EMAIL":return t.email?.content?.normal||""}return e},raw_html(e="",t){switch(t.type){case"SET_EMAIL_CONTENT_RAW_HTML":return t.value;case"SET_EMAIL":return t.email?.content?.raw_html||""}return e},visual(e="",t){switch(t.type){case"SET_EMAIL_CONTENT_VISUAL":return t.value;case"SET_EMAIL":return t.email?.content?.visual||"";case"SET_BLOCKS":case"UNDO":case"REDO":return(0,te.serialize)(t.blocks)}return e}}),author(e=0,t){switch(t.type){case"SET_EMAIL_AUTHOR":return t.value;case"SET_EMAIL":return t.email?.author||0}return e},preview_text(e="",t){switch(t.type){case"SET_EMAIL_PREVIEW_TEXT":return t.value;case"SET_EMAIL":return t.email?.preview_text||""}return e},heading(e="",t){switch(t.type){case"SET_EMAIL_HEADING":return t.value;case"SET_EMAIL":return t.email?.heading||""}return e},footer_text(e="",t){switch(t.type){case"SET_EMAIL_FOOTER_TEXT":return t.value;case"SET_EMAIL":return t.email?.footer_text||""}return e},template(e="",t){switch(t.type){case"SET_EMAIL_TEMPLATE":return t.value;case"SET_EMAIL":return t.email?.template||""}return e},meta(e=new Map,t){switch(t.type){case"SET_EMAIL_META":const n={...e};return n[t.key]=t.value,n;case"SET_EMAIL":return t.email?.meta||{}}return e},css(e=new Map,t){switch(t.type){case"SET_EMAIL_CSS":const n={...e};return n[t.key]=t.value,n;case"SET_EMAIL":return t.email?.css||{}}return e}}),ie=(0,I.combineReducers)({deviceType:function(e="Desktop",t){return"SET_PREVIEW_DEVICE_TYPE"===t.type?t.deviceType:e},blockInserterPanel:function(e=!1,t){return"SET_IS_INSERTER_OPENED"===t.type?t.value:e},sidebar:function(e={all:{},current:void 0},t){switch(t.type){case"SET_CURRENT_SIDEBAR":return{...e,current:t.value};case"REGISTER_SIDEBAR":return{...e,all:{...e.all,[t.name]:t.sidebar}}}return e},email:oe,blocks:function(e={blocks:[],undo:[],redo:[]},t){switch(t.type){case"SET_BLOCKS":case"SET_EMAIL_CONTENT_VISUAL":const n={...e};return t.persistent&&(n.undo=[e.blocks,...e.undo.slice(-50)],n.redo=[]),n.blocks="SET_BLOCKS"===t.type?t.blocks:(0,te.parse)(t.value||""),n;case"UNDO":if(0===e.undo.length)return e;const a={...e};return{blocks:[...t.blocks],undo:a.undo.slice(1),redo:[a.blocks,...a.redo]};case"REDO":if(0===e.redo.length)return e;const l={...e};return{blocks:[...t.blocks],undo:[l.blocks,...l.undo],redo:l.redo.slice(1)};case"SET_EMAIL":const r=(0,te.parse)(t.email?.content?.visual||"");return{blocks:Array.isArray(r)?r:[],undo:[],redo:[]}}return e},isSavingEmail:function(e=!1,t){return"SET_IS_SAVING"===t.type?t.value:e},isDirty:function(e=!1,t){return"SET_EMAIL"!==t.type&&(!!t.type.startsWith("SET_EMAIL_")||!!["SET_BLOCKS","UNDO","REDO"].includes(t.type)||e)}}),se="noptin/edit-email",ce=()=>({select:e,dispatch:t})=>{const n=e.getNextUndo();!1!==n&&t({type:"UNDO",blocks:n})},ue=()=>({select:e,dispatch:t})=>{const n=e.getNextRedo();!1!==n&&t({type:"REDO",blocks:n})},me=e=>({registry:t})=>{t.dispatch(Y).enableComplementaryArea(se,e)},de=e=>({registry:t})=>{const n=t.select(Y).isItemPinned(se,e);t.dispatch(Y)[n?"unpinItem":"pinItem"](se,e)},pe=(e,t)=>({registry:n})=>{var a;if(!e)return;const l=null!==(a=n.select(m.store).get(se,"preferredStyleVariations"))&&void 0!==a?a:{};if(t)n.dispatch(m.store).set(se,"preferredStyleVariations",{...l,[e]:t});else{const t={...l};delete t[e],n.dispatch(m.store).set(se,"preferredStyleVariations",t)}};function ge(e){return{type:"SET_PREVIEW_DEVICE_TYPE",deviceType:e}}function he(e){return{type:"SET_IS_INSERTER_OPENED",value:e}}function _e(e){return{type:"SET_CURRENT_SIDEBAR",value:e}}function be(e,t){return{type:"REGISTER_SIDEBAR",name:e,sidebar:t}}function Ee(e,t){return e.length&&"core/paragraph"===e[e.length-1].name&&!e[e.length-1].attributes.content&&(t=!1),{type:"SET_BLOCKS",blocks:e,persistent:t}}function fe(e){return{type:"SET_EMAIL",email:e}}function ve(e,t){return{type:"SET_EMAIL_"+e.toUpperCase(),value:t}}function ye(e,t){return{type:"SET_EMAIL_META",key:e,value:t}}function we(e,t){return{type:"SET_EMAIL_CSS",key:e,value:t}}const ke=e=>({dispatch:t})=>{e&&t(ve("status",e)),t({type:"SAVE_EMAIL",status:e})},xe={rootClientId:void 0,insertionIndex:void 0,filterValue:void 0};function Se(e){return e.deviceType}function Ce(e){return e.sidebar?.current}function Te(e){return e.sidebar?.all||{}}function Be(e){return!!e.blockInserterPanel}function Ie(e){return"boolean"==typeof e.blockInserterPanel?xe:e.blockInserterPanel}function Me(e){return e.blocks.undo.length>0}function Ne(e){return e.blocks.redo.length>0}function Le(e){return 0!==e.blocks.undo.length&&e.blocks.undo[0]}function Pe(e){return 0!==e.blocks.redo.length&&e.blocks.redo[0]}function Ae(e){return e.blocks.blocks}function Re(e){return e.email}function De(e){return e.email.id}function Ve(e){return e.email.parent_id}function ze(e){return e.email.status}function He(e){return e.email.created}function Fe(e){const t=e.email.created;return t&&new Date(t)>new Date}function $e(e){return e.email.type}function Oe(e){return e.email.name}function Ue(e){return e.email.subject}function Ge(e){return e.email.content}function je(e){return e.email.content.type}function We(e){return"visual"===e.email.content.type}function Ze(e){return e.email.content.plain_text}function Ye(e){return e.email.content.raw_html}function qe(e){return e.email.content.visual}function Ke(e){return e.email.content.normal}function Xe(e){return e.email.author}function Je(e){return e.email.preview_text}function Qe(e){return e.email.heading}function et(e){return e.email.footer_text}function tt(e){return e.email.template}function nt(e){return e.email.meta||{}}function at(e){return e.email.css}function lt(e){return e.isSavingEmail}function rt(e){return e.isDirty}const ot=(0,I.createReduxStore)(se,{reducer:ie,actions:r,selectors:o});function it({onError:e=(e=>e),...t}){(0,ae.uploadMedia)({onError:({message:t})=>e(t),wpAllowedMimeTypes:K?.wpAllowedMimeTypes,...t})}(0,I.register)(ot);const st=(e,t,n)=>[e?.style?.noptin?.[n]||{},t&&(0,u.useCallback)((a=>{t({style:{...e.style||{},noptin:{...e.style?.noptin||{},[n]:{...e.style?.noptin?.[n]||{},...a}}}})}),[e,t,n]),t&&(0,u.useCallback)((()=>{t({style:{...e.style||{},noptin:{...e.style?.noptin||{},[n]:{}}}})}),[e,t,n])],ct=[],ut=(e=!0)=>{const{saveEmail:t}=(0,I.useDispatch)(ot),[n,a]=(0,u.useState)(!1),l=(0,I.useSelect)((a=>{const l=a(ot),r=l.isSavingEmail(),o=l.getEmailStatus(),i=0===l.getEmailId(),s=l.isDirty(),c=!i&&!s&&["future","publish"].includes(o);return{isDrafting:r&&"draft"===o,isPublishing:r&&["future","publish"].includes(o),isSaved:n||!i&&!s,isPublished:c,isNew:i,isDirty:s,status:o,isSaving:r,isScheduled:l.isScheduled(),isNewsletter:"newsletter"===l.getEmailType(),handleSave:()=>t(e?"publish":"draft"),disabled:r||e&&c||!e&&!i&&!s,forceSavedMessage:n}}),[e,n,t]),r=l.isSaving&&(e?"publish"===l.status:"draft"===l.status),o=(0,b.usePrevious)(r);return(0,u.useEffect)((()=>{let e;return o&&!r&&(a(!0),e=setTimeout((()=>{a(!1)}),1e3)),()=>clearTimeout(e)}),[r]),l},mt=window.wp.styleEngine,dt=[{elementType:"button"},{elementType:"link",pseudo:[":hover"]},{elementType:"heading",elements:["h1","h2","h3","h4","h5","h6"]}];function pt(e,t){const n=e.split(","),a=t.split(","),l=[];return n.forEach((e=>{a.forEach((t=>{l.push(`${e.trim()} ${t.trim()}`)}))})),l.join(", ")}(0,b.createHigherOrderComponent)((e=>t=>{const{setEmailCSS:n}=(0,I.useDispatch)(ot),a=(0,I.useSelect)((e=>e(ot).getEmailCSS()),[])[t.clientId]||"",l=`block-${t.clientId}`;(0,u.useEffect)((()=>{t.attributes.anchor!==l&&t.setAttributes({anchor:l})}),[t.clientId]);const r=`.editor-styles-wrapper #${l}`,o=t.attributes.style?.elements,s=(0,u.useMemo)((()=>{if(!o)return"";const e=[];return dt.forEach((({elementType:t,pseudo:n,elements:a})=>{const l=o?.[t];if(l){const a=pt(r,te.__EXPERIMENTAL_ELEMENTS[t]);console.log(l),e.push((0,mt.compileCSS)(l,{selector:a})),n&&n.forEach((n=>{l[n]&&e.push((0,mt.compileCSS)(l[n],{selector:pt(r,`${te.__EXPERIMENTAL_ELEMENTS[t]}${n}`)}))}))}a&&a.forEach((t=>{o[t]&&e.push((0,mt.compileCSS)(o[t],{selector:pt(r,te.__EXPERIMENTAL_ELEMENTS[t])}))}))})),e.join("")}),[r,o,t.name]);return s!==a&&n(t.clientId,s),(0,i.createElement)(e,{...t})}),"withNoptinStyles"),(0,ne.addFilter)("blocks.getSaveContent.extraProps","core/style/addSaveProps",(function(e,t,n){return"core/html"!==t.name&&(e.id=""===n.anchor?null:n.anchor),e})),(0,te.setCategories)([{slug:"content",title:(0,_.__)("Content","dnd-email"),icon:"admin-generic"},{slug:"design",title:(0,_.__)("Design","dnd-email"),icon:"welcome-widgets-menus"}]);const gt=(0,i.createElement)(k.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(k.Path,{d:"m9.99609 14v-.2251l.00391.0001v6.225h1.5v-14.5h2.5v14.5h1.5v-14.5h3v-1.5h-8.50391c-2.76142 0-5 2.23858-5 5 0 2.7614 2.23858 5 5 5z"})),ht=(e,t)=>!0===e||(Array.isArray(e)?e.includes(t):"object"==typeof e&&!0===e[t]),_t=["Arial, Helvetica, sans-serif","Verdana, Geneva, sans-serif","Times New Roman, Times, serif","Georgia, serif","Courier New, Courier, monospace","Tahoma, Geneva, sans-serif","Calibri, Arial, sans-serif","Trebuchet MS, sans-serif","Lucida Grande, sans-serif","Palatino, serif"],bt=({value:e,onChange:t})=>{const n=_t.map((n=>({title:(0,i.createElement)("span",{style:{fontFamily:n}},(0,i.createElement)(h.__experimentalTruncate,{limit:25,ellipsizeMode:"tail"},n)),onClick:()=>t(n),isActive:e===n,label:n})));return(0,i.createElement)(h.__experimentalInputControlSuffixWrapper,null,(0,i.createElement)(h.DropdownMenu,{icon:"admin-customizer",label:(0,_.__)("Font family","newsletter-optin-box"),controls:n,noIcons:!0}))},Et=({value:e,onChange:t})=>(0,i.createElement)(h.__experimentalInputControl,{label:(0,_.__)("Font family","newsletter-optin-box"),placeholder:"Arial, Helvetica, sans-serif",value:e,onChange:t,suffix:(0,i.createElement)(bt,{value:e,onChange:t})});function ft({className:e="editor-post-publish-button editor-post-publish-button__button"}){const{isPublishing:t,status:n,isScheduled:a,isNewsletter:l,handleSave:r,isPublished:o,disabled:s}=ut(!0);let c=(0,_.__)("Save");return t?c=a?(0,_.__)("Scheduling…"):l?(0,_.__)("Sending…"):(0,_.__)("Saving…"):o?c="future"===n?(0,_.__)("Scheduled"):"sending"===n?(0,_.__)("Sending"):l?(0,_.__)("Sent"):(0,_.__)("Saved"):a?c="future"!==n?(0,_.__)("Schedule"):(0,_.__)("Save"):l&&"publish"!==n&&(c=(0,_.__)("Send")),(0,i.createElement)(h.Button,{className:e,onClick:s?void 0:r,variant:"primary",isBusy:t,text:c,disabled:s})}const vt=(0,u.forwardRef)((function({icon:e,size:t=24,...n},a){return(0,u.cloneElement)(e,{width:t,height:t,...n,ref:a})})),yt=(0,i.createElement)(k.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(k.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})),wt=(0,i.createElement)(k.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(k.Path,{d:"M17.3 10.1c0-2.5-2.1-4.4-4.8-4.4-2.2 0-4.1 1.4-4.6 3.3h-.2C5.7 9 4 10.7 4 12.8c0 2.1 1.7 3.8 3.7 3.8h9c1.8 0 3.2-1.5 3.2-3.3.1-1.6-1.1-2.9-2.6-3.2zm-.5 5.1h-9c-1.2 0-2.2-1.1-2.2-2.3s1-2.4 2.2-2.4h1.3l.3-1.1c.4-1.3 1.7-2.2 3.2-2.2 1.8 0 3.3 1.3 3.3 2.9v1.3l1.3.2c.8.1 1.4.9 1.4 1.8-.1 1-.9 1.8-1.8 1.8z"}));function kt({className:e,...t}){const{isDrafting:n,handleSave:a,isSaved:l,isPublished:r,disabled:o}=ut(!1);let s;s=n?(0,_.__)("Saving"):r?(0,_.__)("Revert to draft"):l?(0,_.__)("Saved"):(0,_.__)("Save draft");const c=g()(e,{"is-saving":n,"is-saved":l,[(0,h.__unstableGetAnimateClassName)({type:"loading"})]:n,"editor-post-save-draft":!e&&!l,"editor-post-saved-state":!e&&l});return(0,i.createElement)(h.Button,{className:c,onClick:o?void 0:a,variant:"tertiary",size:"compact",label:s,disabled:o,...t},(n||l)&&(0,i.createElement)(vt,{icon:l?yt:wt}),s)}function xt({breakpoint:e,operator:t=">=",children:n}){return(0,b.useViewportMatch)(e,t)?n:null}function St({mobileOnly:e=!0}){const t=(0,i.createElement)("div",null,(0,i.createElement)(h.Flex,{direction:"column",gap:4},(0,i.createElement)(h.FlexItem,null,(0,i.createElement)(ft,{className:"noptin-block-button"})),(0,i.createElement)(h.FlexItem,null,(0,i.createElement)(kt,{className:"noptin-block-button",variant:"secondary"}))));return e?(0,i.createElement)(xt,{breakpoint:"small",operator:"<"},t):t}const Ct=function({type:e,label:t,help:n,...a}){const{setEmailField:l}=(0,I.useDispatch)(ot),{content:r,subject:o}=(0,I.useSelect)((t=>({content:"plain_text"===e?t(ot).getEmailContentPlainText():t(ot).getEmailContentRawHtml(),subject:t(ot).getEmailSubject()})),[]),s=(0,u.useCallback)((t=>{l(`content_${e}`,t)}),[l]),c=(0,u.useCallback)((e=>{l("subject",e)}),[l]);return(0,i.createElement)(h.Fill,{name:`${se}-content__${e}`},(0,i.createElement)(h.Flex,{align:"top",justify:"center"},(0,i.createElement)(h.FlexBlock,{style:{maxWidth:620,margin:32}},(0,i.createElement)(h.TextControl,{className:"noptin-field-control",label:(0,_.__)("Email Subject","newsletter-optin-box"),value:o||"",onChange:c,help:(0,_.__)("Required. The subject of your email. You can use email tags to provide dynamic values.","newsletter-optin-box")}),(0,i.createElement)(h.BaseControl,{label:t,className:`notin-edit-email-content__${e} noptin-field-control block-library-html__edit`,help:n,__nextHasNoMarginBottom:!0},(0,i.createElement)(le.PlainText,{autoComplete:"off",dir:"auto",value:r,onChange:s,rows:15,className:"editor-post-text-editor",...a})),(0,i.createElement)(St,null))))},Tt=window.wp.keyboardShortcuts,Bt=window.wp.keycodes;function It(){const{redo:e,undo:t}=(0,I.useDispatch)(ot),{replaceBlocks:n}=(0,I.useDispatch)(le.store),{getBlockName:a,getSelectedBlockClientId:l,getBlockAttributes:r}=(0,I.useSelect)(le.store),o=(e,t)=>{e.preventDefault();const o=0===t?"core/paragraph":"noptin/heading",i=l();if(null===i)return;const s=a(i);if("core/paragraph"!==s&&"noptin/heading"!==s)return;const c=r(i);n(i,(0,te.createBlock)(o,{level:t,...c}))};return(0,Tt.useShortcut)("core/edit-email/undo",(e=>{t(),e.preventDefault()})),(0,Tt.useShortcut)("core/edit-email/redo",(t=>{e(),t.preventDefault()})),(0,Tt.useShortcut)("core/edit-email/transform-heading-to-paragraph",(e=>o(e,0))),[1,2,3,4,5,6].forEach((e=>{(0,Tt.useShortcut)(`core/edit-email/transform-paragraph-to-heading-${e}`,(t=>o(t,e)))})),null}It.Register=function(){const{registerShortcut:e}=(0,I.useDispatch)(Tt.store);return(0,u.useEffect)((()=>{e({name:"core/edit-email/undo",category:"global",description:(0,_.__)("Undo your last changes."),keyCombination:{modifier:"primary",character:"z"}}),e({name:"core/edit-email/redo",category:"global",description:(0,_.__)("Redo your last undo."),keyCombination:{modifier:"primaryShift",character:"z"},aliases:(0,Bt.isAppleOS)()?[]:[{modifier:"primary",character:"y"}]}),e({name:"core/edit-email/save",category:"global",description:(0,_.__)("Save your changes."),keyCombination:{modifier:"primary",character:"s"}}),e({name:"core/edit-email/keyboard-shortcuts",category:"main",description:(0,_.__)("Display these keyboard shortcuts."),keyCombination:{modifier:"access",character:"h"}}),e({name:"core/edit-email/next-region",category:"global",description:(0,_.__)("Navigate to the next part of the editor."),keyCombination:{modifier:"ctrl",character:"`"},aliases:[{modifier:"access",character:"n"}]}),e({name:"core/edit-email/previous-region",category:"global",description:(0,_.__)("Navigate to the previous part of the editor."),keyCombination:{modifier:"ctrlShift",character:"`"},aliases:[{modifier:"access",character:"p"},{modifier:"ctrlShift",character:"~"}]}),e({name:"core/edit-email/transform-heading-to-paragraph",category:"block-library",description:(0,_.__)("Transform heading to paragraph."),keyCombination:{modifier:"access",character:"0"}}),[1,2,3,4,5,6].forEach((t=>{e({name:`core/edit-email/transform-paragraph-to-heading-${t}`,category:"block-library",description:(0,_.__)("Transform paragraph to heading."),keyCombination:{modifier:"access",character:`${t}`}})}))}),[e]),null};const Mt=It,Nt=window.wp.notices;function Lt({text:e,children:t}){const{createInfoNotice:n}=(0,I.useDispatch)(Nt.store),a=(0,b.useCopyToClipboard)(e,(()=>{n((0,_.__)("Error copied to clipboard."),{type:"snackbar"})}));return(0,i.createElement)(h.Button,{variant:"secondary",ref:a},t)}function Pt({message:e,error:t}){const n=[(0,i.createElement)(Lt,{key:"copy-error",text:t.stack},(0,_.__)("Copy Error"))];return(0,i.createElement)(le.Warning,{className:"edit-post-error-boundary",actions:n},e)}class At extends u.Component{constructor(){super(...arguments),this.state={error:null}}componentDidCatch(e){(0,ne.doAction)("editor.ErrorBoundary.errorLogged",e)}static getDerivedStateFromError(e){return{error:e}}render(){return this.state.error?(0,i.createElement)(Pt,{message:this.props.error||(0,_.__)("The editor has encountered an unexpected error."),error:this.state.error}):this.props.children}}const Rt=`${q}-content__visual`,Dt=({children:e})=>{const t=function(){const{meta:e,mode:t,css:n}=(0,I.useSelect)((e=>{const t=e(ot);return{meta:t.getEmailMeta(),mode:t.getEmailContentType(),css:t.getEmailCSS()}}),[]);return(0,u.useMemo)((()=>`\n\t\t\t\t.block-editor-iframe__body.editor-styles-wrapper {\n\t\t\t\t\tbackground-color: ${e.background_color||"#f1f1f1"};\n\t\t\t\t\tfont-family: ${e.font_family||"Arial, Helvetica, sans-serif"};\n\t\t\t\t\tfont-size: ${e.font_size||"14px"};\n\t\t\t\t\tfont-style: ${e.font_style||"normal"};\n\t\t\t\t\tfont-weight: ${e.font_weight||"normal"};\n\t\t\t\t\tline-height: ${e.line_height||"1.5"};\n\t\t\t\t\tbox-sizing: border-box;\n\t\t\t\t}\n\t\t\t\t.content {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tmax-width: 100%;\n\t\t\t\t\tcolor: ${e.color||"#111111"};\n\t\t\t\t\tpadding: 0;\n\t\t\t\t\toverflow: auto;\n\t\t\t\t\tbox-sizing: border-box;\n\t\t\t\t}\n\t\t\t\t.content * {\n\t\t\t\t\tbox-sizing: border-box;\n\t\t\t\t}\n\t\t\t\t.content a {\n\t\t\t\t\tcolor: ${e.link_color||"#1a82e2"};\n\t\t\t\t}\n\t\t\t\t.noptin-button-link {\n\t\t\t\t\tcolor: ${e.button_color||"#fff"};\n\t\t\t\t}\n\t\t\t\t.block-editor-default-block-appender__content {\n\t\t\t\t\tmargin-left: 10px;\n\t\t\t\t\tmargin-right: 10px;\n\t\t\t\t}\n\t\t\t\t.noptin-button-link__wrapper {\n\t\t\t\t\tbackground-color: ${e.button_background||"#1a82e2"};\n\t\t\t\t\tcolor: ${e.button_color||"#fff"};\n\t\t\t\t}\n\t\t\t\t${Object.values(n).join("\n")}\n\t\t\t\t${e.custom_css||""}\n\n\t\t\t\t@media only screen and (max-width: 360px) {\n\t\t\t\t\t.wp-block-noptin-columns.is-stacked-on-mobile {\n\t\t\t\t\t\tdisplay: block !important;\n\t\t\t\t\t}\n\n\t\t\t\t\t.wp-block-noptin-columns.is-stacked-on-mobile .wp-block-noptin-column {\n\t\t\t\t\t\tdisplay: block !important;\n\t\t\t\t\t\tvertical-align: top !important;\n\t\t\t\t\t\twidth: 100% !important;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t.block-editor-url-popover__settings > .components-h-stack .components-toggle-control:first-child {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\t\t\t`),[e,t,n])}();return(0,i.createElement)(i.Fragment,null,K.styles&&Object.keys(K.styles).map((e=>(0,i.createElement)("link",{key:e,rel:"stylesheet",id:`${e}-css`,href:K.styles[e]}))),(0,i.createElement)("style",{dangerouslySetInnerHTML:{__html:t}}),(0,i.createElement)("div",{className:"content"},e))},Vt=function(){const e=(0,I.useSelect)((e=>e(ot).getPreviewDeviceType()),[]),t=(0,le.__experimentalUseResizeCanvas)(e),n=(0,le.__unstableUseTypingObserver)(),a={marginLeft:10,marginRight:10};return(0,b.useViewportMatch)("medium","<")&&(a.marginTop=48),(0,i.createElement)(h.Fill,{name:Rt},(0,i.createElement)(Mt,null),(0,i.createElement)(le.BlockTools,{style:t,className:`edit-post-visual-editor__editor-canvas is-${e.toLowerCase()}-preview`},(0,i.createElement)(le.BlockCanvas,{height:"100%"},(0,i.createElement)(Dt,null,(0,i.createElement)("div",{className:"editor-editor-canvas__post-title-wrapper",contentEditable:!1,ref:n,style:a},(0,i.createElement)(Un,null)),(0,i.createElement)(At,null,(0,i.createElement)(le.BlockList,{className:"edit-post-editor-canvas__block-list"}))))))},zt=`${q}-content__normal`,{wp:Ht}=window;function Ft({content:e,setContent:t}){const n=(0,b.useInstanceId)(Ft,"wp-noptin-classic-editor"),a=(0,u.useRef)(null);(0,u.useEffect)((()=>{if(!a.current)return;const t=window.tinymce?.get(n),l=t?.getContent();t&&l!==e&&(console.log({currentContent:l,content:e}),t.setContent(e||""))}),[e]),(0,u.useEffect)((()=>{if(a.current)return Ht.oldEditor.initialize(n,{tinymce:!!window.tinymce&&{content_css:!1,theme_advanced_buttons:"bold,italic,underline,|,bullist,numlist,blockquote,|,link,unlink,|,spellchecker,fullscreen,|,formatselect,styleselect",drag_drop_upload:!0,toolbar1:"formatselect,bold,italic,bullist,numlist,blockquote,alignleft,aligncenter,alignright,link,spellchecker,wp_adv,dfw",toolbar2:"strikethrough,hr,forecolor,pastetext,removeformat,charmap,outdent,indent,undo,redo,wp_help",min_height:400,wpautop:!1,setup:function(n){e&&n.on("loadContent",(()=>n.setContent(e))),n.on("blur",(()=>(t(n.getContent()),!1)));const a=(0,b.debounce)((()=>{const e=n.getContent();e!==n._lastChange&&(n._lastChange=e,t(e))}),250);n.on("Paste Change input Undo Redo",a),n.on("remove",a.cancel),n.on("keydown",(e=>{Bt.isKeyboardEvent.primary(e,"z")&&e.stopPropagation();const{altKey:t}=e;t&&e.keyCode===Bt.F10&&e.stopPropagation()}))}},mediaButtons:!0,quicktags:!0}),()=>{Ht.oldEditor.remove(n)}}),[a.current]);const{baseControlProps:l,controlProps:r}=(0,h.useBaseControlProps)({className:"noptin-field-control",label:(0,_.__)("Email Content","newsletter-optin-box"),id:n,help:(0,_.__)("The content of your email. You can use email tags to provide dynamic values.","newsletter-optin-box"),__nextHasNoMarginBottom:!0});return(0,i.createElement)(h.BaseControl,{...l},(0,i.createElement)("textarea",{...r,className:"wp-editor-area",value:e||"",onChange:e=>t(e.target.value),name:n,rows:10,style:{width:"100%"},ref:a}))}function $t(){const{setEmailField:e}=(0,I.useDispatch)(ot),{subject:t,heading:n,content:a,footer_text:l}=(0,I.useSelect)((e=>({heading:e(ot).getEmailHeading(),content:e(ot).getEmailContentNormal(),footer_text:e(ot).getEmailFooterText(),subject:e(ot).getEmailSubject()})),[]),r=(0,u.useCallback)((t=>{console.log({content:t}),e("content_normal",t)}),[e]),o=(0,u.useCallback)((t=>{e("footer_text",t)}),[e]),s=(0,u.useCallback)((t=>{e("heading",t)}),[e]),c=(0,u.useCallback)((t=>{e("subject",t)}),[e]);return(0,i.createElement)(h.Fill,{name:zt},(0,i.createElement)(h.Flex,{align:"top",justify:"center"},(0,i.createElement)(h.FlexBlock,{style:{maxWidth:620,margin:32}},(0,i.createElement)(h.TextControl,{className:"noptin-field-control",label:(0,_.__)("Email Subject","newsletter-optin-box"),value:t||"",onChange:c,help:(0,_.__)("Required. The subject of your email. You can use email tags to provide dynamic values.","newsletter-optin-box")}),(0,i.createElement)(h.TextControl,{className:"noptin-field-control",label:(0,_.__)("Email Heading","newsletter-optin-box"),value:n||"",onChange:s,help:(0,_.__)("This text will be displayed at the top of the email. You can use email tags to provide dynamic values.","newsletter-optin-box")}),(0,i.createElement)(At,null,(0,i.createElement)(Ft,{content:a,setContent:r})),(0,i.createElement)(h.TextareaControl,{className:"noptin-field-control",label:(0,_.__)("Footer Text","newsletter-optin-box"),value:l||"",onChange:o,help:(0,_.__)("This text will be displayed at the bottom of the email. You can use email tags to provide dynamic values.","newsletter-optin-box"),__nextHasNoMarginBottom:!0}),(0,i.createElement)(St,null))))}function Ot({mode:e}){return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(Vt,null),(0,i.createElement)($t,null),(0,i.createElement)(Ct,{type:"plain_text",label:(0,_.__)("Email Content","newsletter-optin-box"),placeholder:(0,_.__)("Type your email content here","newsletter-optin-box"),help:(0,_.__)("You can use email tags to provide dynamic values.","newsletter-optin-box")}),(0,i.createElement)(Ct,{type:"raw_html",label:(0,_.__)("Email Content","newsletter-optin-box"),placeholder:(0,_.__)("Paste the raw HTML of your email here","newsletter-optin-box"),help:(0,_.__)("You can use email tags to provide dynamic values.","newsletter-optin-box")}),(0,i.createElement)(h.Slot,{name:`${q}-content__${e}`}))}function Ut(){const{mode:e}=(0,I.useSelect)((e=>({mode:e(ot).getEmailContentType()})),[]),{saveEmail:t}=(0,I.useDispatch)(ot);return(0,Tt.useShortcut)("core/edit-email/save",(e=>{e.preventDefault(),t()})),(0,i.createElement)(At,null,(0,i.createElement)(Ot,{mode:e}))}const Gt=(0,i.createElement)(k.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(k.Path,{d:"M20 11.2H6.8l3.7-3.7-1-1L3.9 12l5.6 5.5 1-1-3.7-3.7H20z"})),jt=(0,i.createElement)(k.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(k.Path,{d:"M15.6 6.5l-1.1 1 2.9 3.3H8c-.9 0-1.7.3-2.3.9-1.4 1.5-1.4 4.2-1.4 5.6v.2h1.5v-.3c0-1.1 0-3.5 1-4.5.3-.3.7-.5 1.3-.5h9.2L14.5 15l1.1 1.1 4.6-4.6-4.6-5z"})),Wt=(0,i.createElement)(k.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(k.Path,{d:"M18.3 11.7c-.6-.6-1.4-.9-2.3-.9H6.7l2.9-3.3-1.1-1-4.5 5L8.5 16l1-1-2.7-2.7H16c.5 0 .9.2 1.3.5 1 1 1 3.4 1 4.5v.3h1.5v-.2c0-1.5 0-4.3-1.5-5.7z"})),Zt=(0,u.forwardRef)((function(e,t){const n=(0,Bt.isAppleOS)()?Bt.displayShortcut.primaryShift("z"):Bt.displayShortcut.primary("y"),a=(0,I.useSelect)((e=>e(ot).hasRedo()),[]),{redo:l}=(0,I.useDispatch)(ot);return(0,i.createElement)(h.Button,{...e,ref:t,icon:(0,_.isRTL)()?Wt
/* translators: button label text should, if possible, be under 16 characters. */:jt,label:(0,_.__)("Redo"),shortcut:n,"aria-disabled":!a,onClick:a?l:void 0,className:"editor-history__redo",showTooltip:!0})})),Yt=(0,u.forwardRef)((function(e,t){const n=(0,I.useSelect)((e=>e(ot).hasUndo()),[]),{undo:a}=(0,I.useDispatch)(ot);return(0,i.createElement)(h.Button,{...e,ref:t,icon:(0,_.isRTL)()?jt
/* translators: button label text should, if possible, be under 16 characters. */:Wt,label:(0,_.__)("Undo"),shortcut:Bt.displayShortcut.primary("z"),"aria-disabled":!n,onClick:n?a:void 0,className:"editor-history__undo",showTooltip:!0})})),qt=(0,i.createElement)(k.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(k.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"})),Kt=e=>{e.preventDefault()},Xt=(0,u.forwardRef)((function(e,t){const n=(0,Bt.isAppleOS)()?Bt.displayShortcut.primaryShift("`"):Bt.displayShortcut.primary("`"),a=(0,I.useSelect)((e=>e(ot).isInserterOpened()),[]),{setIsInserterOpened:l}=(0,I.useDispatch)(ot);return(0,i.createElement)(h.Button,{...e,ref:t,className:"edit-post-header-toolbar__inserter-toggle",variant:"primary",isPressed:a,"aria-expanded":a,onMouseDown:Kt,onClick:()=>l(!a),icon:qt
/* translators: button label text should, if possible, be under 16 characters. */,label:(0,_.__)("Toggle block inserter"),shortcut:n,showTooltip:!0})})),Jt=function({contentType:e}){const t=(0,_.sprintf)(/* translators: %s: content type label. */
(0,_.__)("%s Email"),X[e]?.label||"");return(0,i.createElement)(le.NavigableToolbar,{className:"edit-post-header-toolbar","aria-label":(0,_.__)("Email tools"),shouldUseKeyboardFocusShortcut:!0,variant:"unstyled"},(0,i.createElement)("div",{className:"edit-post-header-toolbar__left"},"visual"===e&&(0,i.createElement)(i.Fragment,null,(0,i.createElement)(xt,{breakpoint:"large"},(0,i.createElement)(h.ToolbarItem,{as:Xt})),(0,i.createElement)(h.ToolbarItem,{as:Yt}),(0,i.createElement)(h.ToolbarItem,{as:Zt})),"visual"!==e&&(0,i.createElement)(h.__experimentalText,{className:"edit-post-header-toolbar__title",as:"span",size:14,weight:500,numberOfLines:1,truncate:!0,upperCase:!0},t)))},Qt=function(){const{mode:e}=(0,I.useSelect)((e=>({mode:e(ot).getEmailContentType()})),[]),{setEmailField:t}=(0,I.useDispatch)(ot),n=(0,u.useCallback)((e=>{t("content_type",e)}),[t]);return(0,i.createElement)(h.MenuGroup,{label:(0,_.__)("Email Type")},(0,i.createElement)(h.MenuItemsChoice,{choices:J,value:e,onSelect:n}))},{Fill:en,Slot:tn}=(0,h.createSlotFill)("ToolsMoreMenuGroup");en.Slot=({fillProps:e})=>(0,i.createElement)(tn,{fillProps:e},(e=>e.length>0&&(0,i.createElement)(h.MenuGroup,{label:(0,_.__)("Tools")},e)));const nn=en,an=function(){return(0,i.createElement)(h.MenuGroup,{label:(0,_._x)("View","noun")},(0,i.createElement)(m.PreferenceToggleMenuItem,{scope:ot.name,name:"fullscreenMode",label:(0,_.__)("Fullscreen mode"),info:(0,_.__)("Show and hide admin UI"),messageActivated:(0,_.__)("Fullscreen mode activated"),messageDeactivated:(0,_.__)("Fullscreen mode deactivated")}))},ln=()=>(0,i.createElement)(S,{toggleProps:{showTooltip:!0}},(({onClose:e})=>(0,i.createElement)(i.Fragment,null,(0,i.createElement)(xt,{breakpoint:"large",operator:"<"},(0,i.createElement)(w.Slot,{scope:se})),(0,i.createElement)(xt,{breakpoint:"medium"},(0,i.createElement)(an,null)),(0,i.createElement)(Qt,null),(0,i.createElement)(B.Slot,{name:`${se}/plugin-more-menu`,label:(0,_.__)("Plugins"),as:h.MenuGroup,fillProps:{onClick:e}}),(0,i.createElement)(nn.Slot,{fillProps:{onClose:e}}))));function rn(){const e=(0,I.useSelect)((e=>e(ot).getPreviewDeviceType()),[]),{setPreviewDeviceType:t}=(0,I.useDispatch)(ot);return(0,i.createElement)(le.__experimentalPreviewOptions,{isEnabled:!0,className:"edit-post-post-preview-dropdown",deviceType:e,setDeviceType:t})}const on={hidden:{y:"-50px"},distractionFreeInactive:{y:0},hover:{y:0,transition:{type:"tween",delay:.2}}};function sn(){return(0,I.useSelect)((e=>!!e(m.store).get(q,"fullscreenMode")),[])?(0,i.createElement)(h.Button,{className:"edit-post-fullscreen-mode-close",icon:Gt,href:K.back,label:(0,_.__)("Back"),showTooltip:!0}):null}const cn=function(){const e=(0,I.useSelect)((e=>e(ot).getEmailContentType()),[]),t="visual"===e;return(0,i.createElement)("div",{className:"edit-post-header"},(0,i.createElement)(sn,null),(0,i.createElement)(h.__unstableMotion.div,{variants:on,transition:{type:"tween",delay:.8},className:"edit-post-header__toolbar"},(0,i.createElement)(Jt,{contentType:e})),(0,i.createElement)(h.__unstableMotion.div,{variants:on,transition:{type:"tween",delay:.8},className:"edit-post-header__settings"},(0,i.createElement)(kt,null),(0,i.createElement)(ft,null),(0,i.createElement)(xt,{breakpoint:"large"},t&&(0,i.createElement)(rn,null),(0,i.createElement)(w.Slot,{scope:q})),(0,i.createElement)(ln,null)))};function un(){const e=(0,I.useSelect)((e=>e(Nt.store).getNotices()),[]),{removeNotice:t}=(0,I.useDispatch)(Nt.store),n=e.filter((({isDismissible:e,type:t})=>e&&"default"===t)),a=e.filter((({isDismissible:e,type:t})=>!e&&"default"===t));return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(h.NoticeList,{notices:a,className:"components-editor-notices__pinned"}),(0,i.createElement)(h.NoticeList,{notices:n,className:"components-editor-notices__dismissible",onRemove:t}))}function mn(){const e=(0,I.useSelect)((e=>e(Nt.store).getNotices()),[]),{removeNotice:t}=(0,I.useDispatch)(Nt.store),n=e.filter((({type:e})=>"snackbar"===e));return(0,i.createElement)(h.SnackbarList,{notices:n,className:"components-editor-notices__snackbar",onRemove:t})}function dn(){const e=((e=ct)=>(0,I.useSelect)((e=>e(ot).getEmailContentType()),e))();return(0,i.createElement)("div",{className:"edit-post-layout__footer"},"visual"===e&&(0,i.createElement)(le.BlockBreadcrumb,{rootLabelText:(0,_.__)("Email")}),"visual"!==e&&(0,i.createElement)("ul",{className:"block-editor-block-breadcrumb"},(0,i.createElement)("li",{className:"block-editor-block-breadcrumb__current"},X[e]?.description)))}const pn=(0,i.createElement)(k.SVG,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(k.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM8.5 18.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h2.5v13zm10-.5c0 .3-.2.5-.5.5h-8v-13h8c.3 0 .5.2.5.5v12z"})),gn=(0,i.createElement)(k.SVG,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(k.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4 14.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h8v13zm4.5-.5c0 .3-.2.5-.5.5h-2.5v-13H18c.3 0 .5.2.5.5v12z"})),hn=K.templates||{},bn=Object.keys(hn).map((e=>({value:e,label:hn[e]}))),En=()=>{const{setEmailField:e}=(0,I.useDispatch)(ot),{content_type:t,type:n,name:a,preview_text:l,template:r}=(0,I.useSelect)((e=>{const t=e(ot);return{content_type:t.getEmailContentType(),type:t.getEmailType(),name:t.getEmailName(),preview_text:t.getEmailPreviewText(),template:t.getEmailTemplate()}}),[]);return(0,i.createElement)(h.PanelBody,{title:(0,_.__)("Email Settings","newsletter-optin-box"),initialOpen:!1},(0,i.createElement)("div",{className:"noptin-panel__row"},(0,i.createElement)(h.SelectControl,{value:t||"visual",onChange:t=>e("content_type",t),label:(0,_.__)("Email Type","newsletter-optin-box"),options:J,help:X[t]?.description||(0,_.__)("Choose the type of email you want to create.","newsletter-optin-box")})),"normal"===t&&(0,i.createElement)("div",{className:"noptin-panel__row"},(0,i.createElement)(h.SelectControl,{value:r||"paste",onChange:t=>e("template",t),label:(0,_.__)("Template","newsletter-optin-box"),options:bn,help:(0,_.__)("Choose the template you want to use.","newsletter-optin-box")})),"newsletter"!==n&&(0,i.createElement)("div",{className:"noptin-panel__row"},(0,i.createElement)(h.TextControl,{value:a||"",onChange:t=>e("name",t),label:(0,_.__)("Campaign Name","newsletter-optin-box"),help:(0,_.__)("For your reference only.","newsletter-optin-box"),placeholder:(0,_.__)("Example: Black Friday Sale","newsletter-optin-box")})),("visual"===t||"normal"===t)&&(0,i.createElement)("div",{className:"noptin-panel__row"},(0,i.createElement)(h.TextControl,{value:l||"",onChange:t=>e("preview_text",t),label:(0,_.__)("Preview Text","newsletter-optin-box"),help:(0,_.__)("This is the text that appears in the inbox when the email is received.","newsletter-optin-box"),placeholder:(0,_.__)("Example: Save up to 50%","newsletter-optin-box")})),(0,i.createElement)(h.Slot,{name:`${q}/editor-settings__main`}))},fn=window.lodash,vn=()=>{const{setEmailMeta:e}=(0,I.useDispatch)(ot),{content_type:t,template:n,meta:a,settings:l}=(0,I.useSelect)((e=>{const t=e(ot);return{meta:t.getEmailMeta(),content_type:t.getEmailContentType(),template:t.getEmailTemplate(),settings:e(le.store).getSettings()}}),[]),r="visual"===t||"normal"===t&&["paste","merriweather","plain"].includes(n),o="visual"===t||"normal"===t&&["plain"].includes(n),s=t=>n=>{e(t,n)};return(0,i.createElement)(i.Fragment,null,r&&(0,i.createElement)(le.PanelColorSettings,{__experimentalIsRenderedInSidebar:!0,enableAlpha:!1,showTitle:!0,disableCustomColors:!1,colors:l.__experimentalFeatures?.color?.palette?.theme||[],title:(0,_.__)("Colors"),colorSettings:(0,fn.compact)([{value:a.color||"#111111",onChange:s("color"),label:(0,_.__)("Text")},{value:a.link_color||"#1a82e2",onChange:s("link_color"),label:(0,_.__)("Link")},{value:a.background_color||"#f1f1f1",onChange:s("background_color"),label:(0,_.__)("Background")},o?null:{value:a.content_background||"#ffffff",onChange:s("content_background"),label:(0,_.__)("Content Background")},"normal"!==t?null:{value:a.footer_text_color||"#95a5a6",onChange:s("footer_text_color"),label:(0,_.__)("Footer text color")}])}))},yn=[{a11yLabel:"Pixels (px)",label:"px",step:1,value:"px"},{a11yLabel:"Rem (rem)",label:"rem",step:.5,value:"rem"},{a11yLabel:"Em (em)",label:"em",step:.5,value:"em"}],wn=()=>{const{setEmailMeta:e}=(0,I.useDispatch)(ot),{content_type:t,template:n,meta:a}=(0,I.useSelect)((e=>{const t=e(ot);return{meta:t.getEmailMeta(),content_type:t.getEmailContentType(),template:t.getEmailTemplate()}}),[]),l="visual"===t||"normal"===t,r="visual"===t||"normal"===t&&!["paste","merriweather","plain"].includes(n),o=t=>n=>{e(t,n)};return(0,i.createElement)(i.Fragment,null,l&&(0,i.createElement)(h.PanelBody,{title:(0,_.__)("Design","newsletter-optin-box"),initialOpen:!1},r||(0,i.createElement)("div",{className:"noptin-panel__row"},(0,i.createElement)(h.__experimentalUnitControl,{label:(0,_.__)("Width","newsletter-optin-box"),value:a.width||"600px",onChange:o("width"),min:100,max:1e3,units:yn,help:(0,_.__)("The width of your email's content area.","newsletter-optin-box")})),(0,i.createElement)("div",{className:"noptin-panel__row"},(0,i.createElement)(h.TextareaControl,{__nextHasNoMarginBottom:!0,value:a.custom_css||"",onChange:o("custom_css"),label:(0,_.__)("Custom CSS","newsletter-optin-box"),help:(0,_.__)("Add custom CSS to your email. You can also use this field to import custom fonts.","newsletter-optin-box")})),(0,i.createElement)(h.Slot,{name:`${q}/editor-settings__design`})))},kn=()=>{const{setEmailMeta:e}=(0,I.useDispatch)(ot),{content_type:t,template:n,meta:a}=(0,I.useSelect)((e=>{const t=e(ot);return{meta:t.getEmailMeta(),content_type:t.getEmailContentType(),template:t.getEmailTemplate()}}),[]),l="visual"===t||"normal"===t&&["paste","merriweather","plain"].includes(n),r=t=>n=>{e(t,n)},o=(0,u.useCallback)((({fontStyle:t,fontWeight:n})=>{e("font_style",t),e("font_weight",n)}),[e]),s={fontStyle:a.font_style||void 0,fontWeight:a.font_weight||void 0};return(0,i.createElement)(i.Fragment,null,l&&(0,i.createElement)(h.PanelBody,{title:(0,_.__)("Typography","newsletter-optin-box"),initialOpen:!1},(0,i.createElement)("div",{className:"noptin-panel__row"},(0,i.createElement)(Et,{value:a.font_family||"",onChange:r("font_family")})),(0,i.createElement)("div",{className:"noptin-panel__row"},(0,i.createElement)(le.FontSizePicker,{__nextHasNoMarginBottom:!0,value:a.font_size||14,fallbackFontSize:14,onChange:r("font_size"),label:(0,_.__)("Font size","newsletter-optin-box"),disableCustomFontSizes:!1})),(0,i.createElement)("div",{className:"noptin-panel__row"},(0,i.createElement)(le.__experimentalFontAppearanceControl,{__nextHasNoMarginBottom:!0,value:s,onChange:o})),(0,i.createElement)("div",{className:"noptin-panel__row"},(0,i.createElement)(le.LineHeightControl,{__nextHasNoMarginBottom:!0,value:a.line_height||"1.7",onChange:r("line_height"),label:(0,_.__)("Line height","newsletter-optin-box"),__unstableInputWidth:"100%"})),(0,i.createElement)(h.Slot,{name:`${q}/editor-settings__typography`})))};function xn(){return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(En,null),(0,i.createElement)(kn,null),(0,i.createElement)(wn,null),(0,i.createElement)(vn,null))}const Sn=(0,i.createElement)(k.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(k.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"}));function Cn({as:e=h.Button,name:t,...n}){const a=e,l=(0,I.useSelect)((e=>e(ot).getCurrentSidebar()===t),[t]),{setCurrentSidebar:r}=(0,I.useDispatch)(ot);return(0,i.createElement)(a,{isPressed:l,"aria-controls":t.replace("/",":"),onClick:()=>{r(l?null:t)},...n})}const Tn=({children:e,className:t,toggleButtonProps:n})=>{const a=(0,i.createElement)(Cn,{icon:Sn,...n});return(0,i.createElement)(i.Fragment,null,(0,i.createElement)("div",{className:"components-panel__header interface-complementary-area-header__small"},a),(0,i.createElement)("div",{className:g()("components-panel__header","interface-complementary-area-header",t),tabIndex:-1},e,a))},Bn=`${se}/sidebar-area`;function In({children:e,className:t,id:n}){return(0,i.createElement)(h.Fill,{name:Bn},(0,i.createElement)("div",{id:n,className:t},e))}function Mn({children:e,className:t,closeLabel:n=(0,_.__)("Close plugin"),name:a,header:l,headerClassName:r,icon:o,panelClassName:s,title:c,isActiveByDefault:m=!1}){const d=(0,I.useSelect)((e=>e(ot).getCurrentSidebar()),[a]),{setCurrentSidebar:p}=(0,I.useDispatch)(ot),E=d===a,f=(0,b.useViewportMatch)("medium","<");return(0,u.useEffect)((()=>{m&&void 0===d&&!f&&p(a)}),[d,m,a,f]),(0,i.createElement)(i.Fragment,null,(0,i.createElement)(w,{scope:se},(0,i.createElement)(Cn,{name:a,"aria-expanded":E,label:c,icon:o,showTooltip:!0,size:"compact"})),E&&(0,i.createElement)(In,{className:g()("interface-complementary-area",t),id:a.replace("/",":")},(0,i.createElement)(Tn,{className:r,toggleButtonProps:{label:n,name:a}},l),(0,i.createElement)(h.Panel,{className:s},e)))}Mn.Slot=e=>(0,i.createElement)(h.Slot,{name:Bn,...e});const Nn=Mn;function Ln(){const[e,t]=(0,u.useState)(ee),n=(0,u.useCallback)((()=>{t(Q)}),[t]),a=(0,u.useCallback)((()=>{t(ee)}),[t]),{hasSelectedBlock:l,mode:r}=(0,I.useSelect)((e=>({hasSelectedBlock:!!e(le.store).getSelectedBlock(),mode:e(ot).getEmailContentType()})),[]);return(0,u.useEffect)((()=>{"visual"===r||e!==Q?(l&&e===ee&&t(Q),l||e!==Q||t(ee)):t(ee)}),[l,t,r]),(0,i.createElement)(Nn,{className:"edit-post-sidebar",header:(0,i.createElement)("ul",null,(0,i.createElement)("li",null,(0,i.createElement)(h.Button,{onClick:a,className:g()("edit-post-sidebar__panel-tab",{"is-active":e===ee}),"aria-label":e===ee?(0,_.__)("Settings (selected)"):(0,_.__)("Settings"),"data-label":(0,_.__)("Settings")},(0,_.__)("Settings"))),"visual"===r&&(0,i.createElement)("li",null,(0,i.createElement)(h.Button,{onClick:n,className:g()("edit-post-sidebar__panel-tab",{"is-active":e===Q}),"aria-label":e===Q?(0,_.__)("Block (selected)"):(0,_.__)("Block"),"data-label":(0,_.__)("Block")},(0,_.__)("Settings")))),headerClassName:"edit-post-sidebar__panel-tabs"
/* translators: button label text should, if possible, be under 16 characters. */,title:e===ee?(0,_.__)("Settings"):(0,_.__)("Block"),closeLabel:(0,_.__)("Close Settings"),name:ee,icon:(0,_.isRTL)()?pn:gn,isActiveByDefault:!0},e===ee&&(0,i.createElement)(xn,null),e===Q&&(0,i.createElement)(le.BlockInspector,{showNoBlockSelectedMessage:!0}))}function Pn(){const e=(0,I.useSelect)((e=>e(ot).getInsertionPoint()),[]);return(0,i.createElement)("div",{className:"edit-post-editor__inserter-panel"},(0,i.createElement)("div",{className:"edit-post-editor__inserter-panel-content"},(0,i.createElement)(le.__experimentalLibrary,{showInserterHelpPanel:!1,shouldFocusBlock:!0,rootClientId:e.rootClientId,__experimentalInsertionIndex:e.insertionIndex,__experimentalFilterValue:e.filterValue})))}function An(){const e=(0,b.useFocusOnMount)("firstElement"),[t,n]=(0,u.useState)(null),a=(0,u.useRef)(),l=(0,b.useMergeRefs)([e,a,n]);return(0,i.createElement)("div",{className:"edit-post-editor__document-overview-panel"},(0,i.createElement)("div",{className:"edit-post-editor__list-view-container",ref:l},(0,i.createElement)("div",{className:"edit-post-editor__list-view-panel-content"},(0,i.createElement)(le.__experimentalListView,{dropZoneElement:t}))))}const Rn=[{name:"blocks",title:(0,_.__)("Blocks","newsletter-optin-box")},{name:"overview",title:(0,_.__)("Overview","newsletter-optin-box")}];function Dn(){return(0,i.createElement)(xt,{breakpoint:"medium"},(0,i.createElement)(h.TabPanel,{className:"block-editor-inserter__tabs edit-post-editor__inserter-panel",tabs:Rn},(e=>(0,i.createElement)("div",{style:{width:350,overflow:"auto"}},(0,i.createElement)(h.__experimentalScrollable,null,"blocks"===e.name&&(0,i.createElement)(Pn,null),"overview"===e.name&&(0,i.createElement)(An,null))))))}const Vn=window.wp.url;function zn(){const[e,t]=(0,u.useState)(0),n=(0,I.useSelect)((e=>e(ot).getEmailId()),[]),a=(0,b.usePrevious)(n);(0,u.useEffect)((()=>{n===a&&n===e||!n||l(n)}),[n,a,e]);const l=e=>{window.history.replaceState({id:e},"Email "+e,function(e){return(0,Vn.addQueryArgs)("admin.php",{"noptin-campaign-id":e,page:"noptin-email-campaigns"})}(e)),t(e)};return null}function Hn(){}const Fn=window.wp.richText,$n=window.wp.dom,On=/[\r\n]+/g,Un=(0,u.forwardRef)((function(e,t){const[n,a]=(0,u.useState)(!1),{ref:l}=function(e){const t=(0,u.useRef)(),n=(0,I.useSelect)((e=>e(ot).getEmailId()<1),[]);return(0,u.useImperativeHandle)(e,(()=>({focus:()=>{t?.current?.focus()}}))),(0,u.useEffect)((()=>{if(!t.current)return;const{defaultView:e}=t.current.ownerDocument,{name:a,parent:l}=e,r="editor-canvas"===a?l.document:e.document,{activeElement:o,body:i}=r;!n||o&&i!==o||t.current.focus()}),[n]),{ref:t}}(t),{subject:r,setSubject:o}=function(){const{setEmailField:e}=(0,I.useDispatch)(ot),t=(0,I.useSelect)((e=>e(ot).getEmailSubject()),[]),n=(0,u.useCallback)((t=>{e("subject",t)}),[e]);return{subject:t,setSubject:n}}(),[s,c]=(0,u.useState)({}),{clearSelectedBlock:m,insertBlocks:d,insertDefaultBlock:p}=(0,I.useDispatch)(le.store);function h(e){d(e,0)}function E(){a(!1),c({})}const{ref:f}=(0,Fn.__unstableUseRichText)({value:r,onChange:function(e){o(e.replace(On," "))},placeholder:(0,_.__)("Enter email subject"),selectionStart:s.start,selectionEnd:s.end,onSelectionChange(e,t){c((n=>{const{start:a,end:l}=n;return a===e&&l===t?n:{start:e,end:t}}))},__unstableDisableFormats:!1}),v=g()("wp-block wp-block-post-title block-editor-block-list__block editor-post-title editor-post-title__input rich-text",{"is-selected":n});return(0,i.createElement)("h1",{ref:(0,b.useMergeRefs)([f,l]),contentEditable:!0,className:v,"aria-label":(0,_.__)("Enter email subject"),role:"textbox","aria-multiline":"true",onFocus:function(){a(!0),m()},onBlur:E,onKeyDown:function(e){e.keyCode===Bt.ENTER&&(e.preventDefault(),p(void 0,void 0,0))},onKeyPress:E,onPaste:function(e){const t=e.clipboardData;let n="",a="";try{n=t.getData("text/plain"),a=t.getData("text/html")}catch(e){try{a=t.getData("Text")}catch(e){return}}window.console.log("Received HTML:\n\n",a),window.console.log("Received plain text:\n\n",n);const l=(0,te.pasteHandler)({HTML:a,plainText:n});if(e.preventDefault(),l.length)if("string"!=typeof l){const[e]=l;if(r||"core/heading"!==e.name&&"core/paragraph"!==e.name)h(l);else{const t=(0,$n.__unstableStripHTML)(e.attributes.content);o(t),h(l.slice(1))}}else{const e={...(0,Fn.create)({html:r}),...s},t=(0,$n.__unstableStripHTML)(l),n=(0,Fn.insert)(e,(0,Fn.create)({html:t}));o((0,Fn.toHTMLString)({value:n})),c({start:n.start,end:n.end})}}})})),Gn={fontFamily:!1,fontSize:!0,fontAppearance:!1,lineHeight:!1,letterSpacing:!1,textTransform:!1,textDecoration:!1},jn=[{name:(0,_.__)("Small"),slug:"small",size:13},{name:(0,_.__)("Normal"),slug:"normal",size:16},{name:(0,_.__)("Medium"),slug:"medium",size:20},{name:(0,_.__)("Large"),slug:"large",size:36},{name:(0,_.__)("Huge"),slug:"huge",size:42}];function Wn({attributes:e={style:{noptin:{typography:{}}}},setAttributes:t,settings:n,panelId:a,defaultControls:l=Gn}){const[r,o,s]=st(e,t,"typography"),c=ht(n,"fontFamily"),u=r.fontFamily,m=e=>o({fontFamily:e}),d=ht(n,"fontSize"),p=r.fontSize,g=e=>o({fontSize:e}),b=ht(n,"fontStyle"),E=ht(n,"fontWeight"),f=b||E,v=r.fontStyle,y=r.fontWeight,w=({fontStyle:e,fontWeight:t})=>o({fontStyle:e,fontWeight:t}),k=ht(n,"lineHeight"),x=r.lineHeight,S=e=>o({lineHeight:e}),C=ht(n,"letterSpacing"),T=r.letterSpacing,B=e=>o({letterSpacing:e}),I=ht(n,"textTransform"),M=r.textTransform,N=e=>o({textTransform:e}),L=ht(n,"textDecoration"),P=r.textDecoration,A=e=>o({textDecoration:e});return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(h.__experimentalToolsPanel,{label:(0,_.__)("Typography"),resetAll:s,panelId:a,className:"typography-block-support-panel"},c&&(0,i.createElement)(h.__experimentalToolsPanelItem,{label:(0,_.__)("Font family"),hasValue:()=>!!u,onDeselect:()=>m(void 0),isShownByDefault:l.fontFamily,panelId:a},(0,i.createElement)(Et,{value:u||"",onChange:m})),d&&(0,i.createElement)(h.__experimentalToolsPanelItem,{label:(0,_.__)("Font size"),hasValue:()=>!!p,onDeselect:()=>g(void 0),isShownByDefault:l.fontSize,panelId:a},(0,i.createElement)(h.FontSizePicker,{value:p,onChange:g,fontSizes:jn,disableCustomFontSizes:!1,withReset:!1,units:["px","em","rem"],withSlider:!0,size:"__unstable-large",__nextHasNoMarginBottom:!0})),f&&(0,i.createElement)(h.__experimentalToolsPanelItem,{className:"single-column",label:(0,_.__)("Appearance"),hasValue:()=>!!v||!!y,onDeselect:()=>{w({fontStyle:void 0,fontWeight:void 0})},isShownByDefault:l.fontAppearance,panelId:a},(0,i.createElement)(le.__experimentalFontAppearanceControl,{value:{fontStyle:v,fontWeight:y},onChange:w,hasFontStyles:b,hasFontWeights:E,size:"__unstable-large",__nextHasNoMarginBottom:!0})),k&&(0,i.createElement)(h.__experimentalToolsPanelItem,{className:"single-column",label:(0,_.__)("Line height"),hasValue:()=>!!x,onDeselect:()=>S(void 0),isShownByDefault:l.lineHeight,panelId:a},(0,i.createElement)(le.LineHeightControl,{__nextHasNoMarginBottom:!0,__unstableInputWidth:"auto",value:x,onChange:S,size:"__unstable-large"})),C&&(0,i.createElement)(h.__experimentalToolsPanelItem,{className:"single-column",label:(0,_.__)("Letter spacing"),hasValue:()=>!!T,onDeselect:()=>B(void 0),isShownByDefault:l.letterSpacing,panelId:a},(0,i.createElement)(le.__experimentalLetterSpacingControl,{value:T,onChange:B,size:"__unstable-large",__unstableInputWidth:"auto"})),L&&(0,i.createElement)(h.__experimentalToolsPanelItem,{className:"single-column",label:(0,_.__)("Text decoration"),hasValue:()=>!!P,onDeselect:()=>A(void 0),isShownByDefault:l.textDecoration,panelId:a},(0,i.createElement)(le.__experimentalTextDecorationControl,{value:P,onChange:A,size:"__unstable-large",__unstableInputWidth:"auto"})),I&&(0,i.createElement)(h.__experimentalToolsPanelItem,{label:(0,_.__)("Letter case"),hasValue:()=>!!M,onDeselect:()=>N(void 0),isShownByDefault:l.textTransform,panelId:a},(0,i.createElement)(le.__experimentalTextTransformControl,{value:M,onChange:N,showNone:!0,isBlock:!0,size:"__unstable-large",__nextHasNoMarginBottom:!0}))))}const Zn=e=>{const[t]=st(e,null,"typography");return t},Yn=()=>{const e=(0,I.useSelect)((e=>e(le.store).getSettings()),[]);return e.__experimentalFeatures?.color?.palette?.theme||[]};function qn({attributes:e={style:{noptin:{border:{}}}},setAttributes:t=(e=>e),settings:n,panelId:a}){const[l,r,o]=st(e,t,"border"),s=Yn();return(0,i.createElement)(h.__experimentalToolsPanel,{label:(0,_.__)("Border"),resetAll:o,panelId:a,className:"border-block-support-panel"},ht(n,"border")&&(0,i.createElement)(h.__experimentalToolsPanelItem,{hasValue:()=>(0,h.__experimentalIsDefinedBorder)(l?.border),label:(0,_.__)("Border"),onDeselect:()=>r({border:void 0}),isShownByDefault:!0,panelId:a},(0,i.createElement)(h.__experimentalBorderBoxControl,{colors:s,onChange:e=>r({border:e}),popoverOffset:40,popoverPlacement:"left-start",value:l?.border,__experimentalIsRenderedInSidebar:!0,size:"__unstable-large"})),ht(n,"radius")&&(0,i.createElement)(h.__experimentalToolsPanelItem,{hasValue:()=>{const e=l?.radius;return"object"==typeof e?Object.entries(e).some(Boolean):!!e},label:(0,_.__)("Radius"),onDeselect:()=>r({radius:void 0}),isShownByDefault:!0,panelId:a},(0,i.createElement)(le.__experimentalBorderRadiusControl,{values:l?.radius,onChange:e=>r({radius:e})})))}const Kn=e=>{const[t]=st(e,null,"border");if(!t)return{};const n=(e,t)=>{if(!e)return{};const n={};return["style","width","color"].forEach((a=>{const l=e[a],r=`${t}${a.charAt(0).toUpperCase()+a.slice(1)}`;l&&(n[r]=l)})),n[`${t}Width`]&&n[`${t}Color`]&&!n[`${t}Style`]&&(n[`${t}Style`]="solid"),n},a=e?.style?.noptin?.border;return{...(0,h.__experimentalIsDefinedBorder)(a?.border)?(e=>{if(!(0,h.__experimentalHasSplitBorders)(e))return n(e,"border");let t={};return["top","right","bottom","left"].forEach((a=>{const l=e[a],r=`border${a.charAt(0).toUpperCase()+a.slice(1)}`;t={...t,...n(l,r)}})),t})(a?.border):{},...(l=t.radius,l&&"object"==typeof l?{borderRadius:["topLeft","topRight","bottomRight","bottomLeft"].reduce(((e,t)=>{const n=l[t];return n&&(e=`${e} ${n}`),e}),"")}:{borderRadius:l})};var l},Xn={placement:"left-start",offset:36,shift:!0},Jn=({indicators:e,label:t})=>(0,i.createElement)(h.__experimentalHStack,{justify:"flex-start"},(0,i.createElement)(h.__experimentalZStack,{isLayered:!1,offset:-8},e.map(((e,t)=>(0,i.createElement)(h.Flex,{key:t,expanded:!1},(0,i.createElement)(h.ColorIndicator,{colorValue:e}))))),(0,i.createElement)(h.FlexItem,{className:"block-editor-panel-color-gradient-settings__color-name",title:t},t));function Qn({isGradient:e,inheritedValue:t,userValue:n,setValue:a,colorGradientControlSettings:l}){return(0,i.createElement)(le.__experimentalColorGradientControl,{...l,showTitle:!1,enableAlpha:!0,__experimentalIsRenderedInSidebar:!0,colorValue:e?void 0:t,gradientValue:e?t:void 0,onColorChange:e?void 0:a,onGradientChange:e?a:void 0,clearable:t===n,headingLevel:3})}function ea({label:e,hasValue:t,resetValue:n,isShownByDefault:a,indicators:l,tabs:r,colorGradientControlSettings:o,panelId:s}){const c=r.map((({key:e,label:t})=>({name:e,title:t})));return(0,i.createElement)(h.__experimentalToolsPanelItem,{className:"block-editor-tools-panel-color-gradient-settings__item",hasValue:t,label:e,onDeselect:n,isShownByDefault:a,panelId:s},(0,i.createElement)(h.Dropdown,{popoverProps:Xn,className:"block-editor-tools-panel-color-gradient-settings__dropdown",renderToggle:({onToggle:t,isOpen:n})=>{const a={onClick:t,className:g()("block-editor-panel-color-gradient-settings__dropdown",{"is-open":n}),"aria-expanded":n,"aria-label":(0,_.sprintf)(/* translators: %s is the type of color property, e.g., "background" */
(0,_.__)("Color %s styles"),e)};return(0,i.createElement)(h.Button,{...a},(0,i.createElement)(Jn,{indicators:l,label:e}))},renderContent:()=>(0,i.createElement)(h.__experimentalDropdownContentWrapper,{paddingSize:"none"},(0,i.createElement)("div",{className:"block-editor-panel-color-gradient-settings__dropdown-content"},1===r.length&&(0,i.createElement)(Qn,{...r[0],colorGradientControlSettings:o}),r.length>1&&(0,i.createElement)(h.TabPanel,{tabs:c},(e=>{const t=r.find((t=>t.key===e.name));return t?(0,i.createElement)(Qn,{...t,colorGradientControlSettings:o}):null}))))}))}const ta={text:!0,background:!0,link:!0,heading:!0,button:!0},na={text:{label:(0,_.__)("Text"),prepare:(e,t)=>{t?.text&&(e.style.color=t.text)}},background:{label:(0,_.__)("Background"),prepare:(e,t)=>{t?.background&&(e.style.backgroundColor=t.background)}},link:{label:(0,_.__)("Link"),prepare:(e,t,n)=>{t?.link&&(e.css=`${e.css} #${n} a { color: ${t.link} }`)}},heading:{label:(0,_.__)("Heading"),tabs:[{key:"heading",label:(0,_.__)("Text")},{key:"headingBackground",label:(0,_.__)("Background")}],prepare:(e,t,n)=>{t?.heading&&(e.css=`${e.css} #${n} h1,\n#${n} h2,\n#${n} h3,\n#${n} h4,\n#${n} h5,\n#${n} h6 { color: ${t.heading} }`),t?.headingBackground&&(e.css=`${e.css} #${n} h1,\n#${n} h2,\n#${n} h3,\n#${n} h4,\n#${n} h5,\n#${n} h6 { background-color: ${t.headingBackground} }`)}},button:{label:(0,_.__)("Button"),tabs:[{key:"button",label:(0,_.__)("Text")},{key:"buttonBackground",label:(0,_.__)("Background")}],prepare:(e,t,n)=>{t?.button&&(e.css=`${e.css} #${n} .noptin-button-link,\n#${n} .noptin-button-link__wrapper { color: ${t.button} }`),t?.buttonBackground&&(e.css=`${e.css} #${n} .noptin-button-link,\n#${n} .noptin-button-link__wrapper { background-color: ${t.buttonBackground} }`)}}};function aa({settings:e,panelId:t,defaultControls:n=ta,children:a=null,attributes:l,setAttributes:r}){const[o,s,c]=st(l,r,"color"),u=Yn(),m=(0,fn.compact)(Object.keys(na).map((t=>{if(!ht(e,t))return!1;const a=na[t].tabs||[{key:t,label:na[t].label}];return{key:t,label:na[t].label,hasValue:()=>!!o[t],resetValue:()=>s({[t]:void 0}),isShownByDefault:n[t],indicators:[o?.[t]],tabs:a.map((({key:e,label:t})=>({key:e,label:t,setValue:t=>s({[e]:t}),userValue:o?.[e]})))}})));return(0,i.createElement)(i.Fragment,null,m.map((e=>(0,i.createElement)(ea,{...e,colorGradientControlSettings:{colors:u,disableCustomColors:!1},panelId:t}))),a)}const la=e=>{const[t]=st(e,null,"color"),n={style:{},css:""};return t?(Object.values(na).forEach((a=>{a.prepare(n,t,e.anchor)}),n),n):{style:{},css:""}};function ra(e){if(!e)return;if("core/html"===e.name)return(0,te.registerBlockType)({name:e.name,...e.metadata},e.settings);e.metadata.attributes=e.metadata.attributes||{},e.metadata.attributes.anchor={type:"string",source:"attribute",attribute:"id",selector:"*"},e.metadata?.noptin&&!e.metadata.attributes?.style&&(e.metadata.attributes=e.metadata.attributes||{},e.metadata.attributes.style={type:"object",default:{}});const{metadata:t,settings:n,name:a}=(({metadata:e,settings:t,...n})=>{if(e?.noptin?.typography){const n=t.edit;t.edit=t=>{const a=ht(e.noptin.typography,"textAlign"),[l,r]=st(t.attributes,t.setAttributes,"typography");return(0,i.createElement)(i.Fragment,null,a&&(0,i.createElement)(le.BlockControls,{group:"block"},(0,i.createElement)(le.AlignmentControl,{value:l.textAlign,onChange:e=>r({textAlign:e})})),(0,i.createElement)(le.InspectorControls,{group:"styles"},(0,i.createElement)(Wn,{panelId:t.clientId,attributes:t.attributes,setAttributes:t.setAttributes,settings:e.noptin.typography})),n(t))}}return{metadata:e,settings:t,...n}})((({metadata:e,settings:t,...n})=>{if(e?.noptin?.border){const n=t.edit;t.edit=t=>(0,i.createElement)(i.Fragment,null,(0,i.createElement)(le.InspectorControls,{group:"styles"},(0,i.createElement)(qn,{panelId:t.clientId,attributes:t.attributes,setAttributes:t.setAttributes,settings:e.noptin.border})),n(t))}return{metadata:e,settings:t,...n}})((({metadata:e,settings:t,...n})=>{if(e?.noptin?.color){const n=t.edit;t.edit=(e=>(0,b.createHigherOrderComponent)((t=>n=>{const{setEmailCSS:a}=(0,I.useDispatch)(ot),l=(0,I.useSelect)((e=>e(ot).getEmailCSS()),[])[n.clientId]||"",r=`block-${n.clientId}`;(0,i.useEffect)((()=>{n.attributes.anchor!==r&&n.setAttributes({anchor:r})}),[n.clientId]);const o=(0,i.useMemo)((()=>la(n.attributes).css),[n.attributes]);return o!==l&&a(n.clientId,o),(0,i.createElement)(i.Fragment,null,(0,i.createElement)(le.InspectorControls,{group:"color"},(0,i.createElement)(aa,{panelId:n.clientId,attributes:n.attributes,setAttributes:n.setAttributes,settings:e})),(0,i.createElement)(t,{...n}))}),"withNoptinColors"))(e.noptin.color)(n)}return{metadata:e,settings:t,...n}})(e)));return(0,te.registerBlockType)({name:a,...t},n)}const oa=e=>{const t={margin:{},padding:{}};return Object.entries(e).forEach((([e,n])=>{e.startsWith("margin")?t.margin[e]=n:e.startsWith("padding")&&(t.padding[e]=n)})),t},ia=(e,t=!1)=>{const n=(0,le.__experimentalGetSpacingClassesAndStyles)(e),a=n?.style||{};return t?oa(a):a};function sa(e){const{batch:t}=(0,I.useRegistry)(),{moveBlocksToPosition:n,replaceInnerBlocks:a,duplicateBlocks:l,insertBlock:r}=(0,I.useDispatch)(le.store),{getBlockRootClientId:o,getBlockIndex:i,getBlockOrder:s,getBlockName:c,getBlock:m,getNextBlockClientId:d,canInsertBlockType:p}=(0,I.useSelect)(le.store),g=(0,u.useRef)(e);return g.current=e,(0,b.useRefEffect)((e=>{function u(e){if(e.defaultPrevented)return;if(e.keyCode!==Bt.ENTER)return;const{content:u,clientId:h}=g.current;if(u.length)return;const _=o(h);if(!(0,te.hasBlockSupport)(c(_),"__experimentalOnEnter",!1))return;const b=s(_),E=b.indexOf(h);if(E===b.length-1){let t=_;for(;!p(c(h),o(t));)t=o(t);return void("string"==typeof t&&(e.preventDefault(),n([h],_,o(t),i(t)+1)))}const f=(0,te.getDefaultBlockName)();if(!p(f,o(_)))return;e.preventDefault();const v=m(_);t((()=>{l([_]);const e=i(_);a(_,v.innerBlocks.slice(0,E)),a(d(_),v.innerBlocks.slice(E+1)),r((0,te.createBlock)(f),e+1,o(_),!0)}))}return e.addEventListener("keydown",u),()=>{e.removeEventListener("keydown",u)}}),[])}ia.save=(e,t=!1)=>{const n=(0,le.__experimentalGetSpacingClassesAndStyles)(e),a=n?.style||{};return t?oa(a):a};const ca={apiVersion:3,name:"core/paragraph",title:(0,_.__)("Paragraph","newsletter-optin-box"),category:"content",description:(0,_.__)("Start with the basic building block of all narrative.","newsletter-optin-box"),keywords:["text"],attributes:{content:{type:"string",source:"html",selector:"p",default:"",__experimentalRole:"content"},placeholder:{type:"string"},style:{type:"object",default:{spacing:{margin:{bottom:"16px",left:"10px",right:"10px"}}}}},noptin:{typography:!0,border:!0,color:{background:!0,text:!0,link:!0}},supports:{anchor:!1,className:!0,spacing:{__experimentalSkipSerialization:!0,margin:!0,padding:!0,__experimentalDefaultControls:{margin:!0,padding:!1}},__experimentalSelector:"p",__unstablePasteTextInline:!0}},ua={from:[{type:"raw",priority:20,selector:"p",schema:({phrasingContentSchema:e,isPaste:t})=>({p:{children:e,attributes:t?[]:["style","id"]}}),transform(e){const t=(0,te.getBlockAttributes)("core/paragraph",e.outerHTML),{textAlign:n}=e.style||{};return"left"!==n&&"center"!==n&&"right"!==n||(t.align=n),(0,te.createBlock)("core/paragraph",t)}}]},{name:ma}=ca,da={icon:gt,example:{attributes:{content:(0,_.__)("In a village of La Mancha, the name of which I have no desire to call to mind, there lived not long since one of those gentlemen that keep a lance in the lance-rack, an old buckler, a lean hack, and a greyhound for coursing.")}},__experimentalLabel(e,{context:t}){const n=e?.metadata?.name;if("list-view"===t&&n)return n;if("accessibility"===t){if(n)return n;const{content:t}=e;return t&&0!==t.length?t:(0,_.__)("Empty")}},transforms:ua,merge:(e,t)=>({content:(e.content||"")+(t.content||"")}),edit:function({attributes:e,mergeBlocks:t,onReplace:n,onRemove:a,setAttributes:l,clientId:r}){const{content:o,placeholder:s}=e,c=(0,le.useBlockProps)({ref:sa({clientId:r,content:o}),style:{...Zn(e),...Kn(e),...ia(e),...la(e).style}});return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(le.RichText,{identifier:"content",tagName:"p",...c,value:o,onChange:e=>l({content:e}),onSplit:(t,n)=>{let a;(n||t)&&(a={...e,content:t});const l=(0,te.createBlock)("core/paragraph",a);return n&&(l.clientId=r),l},onMerge:t,onReplace:n,onRemove:a,"aria-label":o?(0,_.__)("Block: Paragraph"):(0,_.__)("Empty block; start writing or type forward slash to choose a block"),"data-empty":!o,placeholder:s||(0,_.__)("Start writing or type / to choose a block"),"data-custom-placeholder":!!s||void 0,__unstableAllowPrefixTransformations:!0}))},save:function({attributes:e}){const{content:t}=e,n=le.useBlockProps.save({style:{...Zn(e),...Kn(e),...ia.save(e),...la(e).style}});return(0,i.createElement)("p",{...n},(0,i.createElement)(le.RichText.Content,{value:t}))}},pa=(ra({name:ma,metadata:ca,settings:da}),(0,i.createElement)(k.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(k.Path,{d:"M6 5V18.5911L12 13.8473L18 18.5911V5H6Z"}))),ga={apiVersion:3,name:"core/heading",title:(0,_.__)("Heading","newsletter-optin-box"),category:"content",description:(0,_.__)("Introduce new sections and organize content to help readers understand the structure of your content.","newsletter-optin-box"),keywords:["title","subtitle"],attributes:{content:{type:"string",source:"html",selector:"h1,h2,h3,h4,h5,h6",default:"",__experimentalRole:"content"},level:{type:"number",default:2},placeholder:{type:"string"},style:{type:"object",default:{spacing:{margin:{bottom:"16px",left:"10px",right:"10px"}}}}},noptin:{typography:!0,border:!0,color:{background:!0,text:!0,link:!0}},supports:{anchor:!1,className:!0,spacing:{__experimentalSkipSerialization:!0,margin:!0,padding:!0,__experimentalDefaultControls:{margin:!0,padding:!1}},__unstablePasteTextInline:!0,__experimentalSlashInserter:!0}},ha={from:[{type:"block",isMultiBlock:!0,blocks:["core/paragraph"],transform:e=>e.map((({content:e,className:t,align:n})=>(0,te.createBlock)("core/heading",{content:e,className:t,textAlign:n})))},{type:"raw",selector:"h1,h2,h3,h4,h5,h6",schema:({phrasingContentSchema:e,isPaste:t})=>{const n={children:e,attributes:t?[]:["style","id"]};return{h1:n,h2:n,h3:n,h4:n,h5:n,h6:n}},transform(e){const t=(0,te.getBlockAttributes)("core/heading",e.outerHTML),{textAlign:n}=e.style||{};var a;return t.level=(a=e.nodeName,Number(a.substr(1))),"left"!==n&&"center"!==n&&"right"!==n||(t.align=n),(0,te.createBlock)("core/heading",t)}},...[1,2,3,4,5,6].map((e=>({type:"prefix",prefix:Array(e+1).join("#"),transform:t=>(0,te.createBlock)("core/heading",{level:e,content:t})}))),...[1,2,3,4,5,6].map((e=>({type:"enter",regExp:new RegExp(`^/(h|H)${e}$`),transform:()=>(0,te.createBlock)("core/heading",{level:e})})))],to:[{type:"block",isMultiBlock:!0,blocks:["core/paragraph"],transform:e=>e.map((({content:e,textAlign:t})=>(0,te.createBlock)("core/paragraph",{content:e,align:t})))}]},{name:_a}=ga,ba={icon:pa,example:{attributes:{content:(0,_.__)("Code is Poetry"),level:2}},__experimentalLabel(e,{context:t}){const{content:n,level:a}=e,l=e?.metadata?.name;return"list-view"===t&&(l||n)?e?.metadata?.name||n:"accessibility"===t?n&&0!==n.length?(0,_.sprintf)(/* translators: accessibility text. 1: heading level. 2: heading content. */
(0,_.__)("Level %1$s. %2$s"),a,n):(0,_.sprintf)(/* translators: accessibility text. %s: heading level. */
(0,_.__)("Level %s. Empty."),a):void 0},transforms:ha,merge:(e,t)=>({content:(e.content||"")+(t.content||"")}),edit:function({attributes:e,setAttributes:t,mergeBlocks:n,onReplace:a,clientId:l}){const{placeholder:r,content:o,level:s}=e,c=(0,le.useBlockProps)({style:{...Zn(e),...Kn(e),...ia(e),...la(e).style}});return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(le.BlockControls,{group:"block"},(0,i.createElement)(le.HeadingLevelDropdown,{value:s,onChange:e=>t({level:e})})),(0,i.createElement)(le.RichText,{identifier:"content",tagName:"h"+s,value:o,onChange:e=>{t({content:e})},onMerge:n,onSplit:(t,n)=>{let a;var r;return a=n||t?(0,te.createBlock)("core/heading",{...e,content:t}):(0,te.createBlock)(null!==(r=(0,te.getDefaultBlockName)())&&void 0!==r?r:"core/heading"),n&&(a.clientId=l),a},onReplace:a,onRemove:()=>a([]),placeholder:r||(0,_.__)("Enter heading..."),...c}))},save:function({attributes:e}){const{content:t,level:n}=e,a="h"+n,l=le.useBlockProps.save({style:{...Zn(e),...Kn(e),...ia.save(e),...la(e).style}});return(0,i.createElement)(a,{...l},(0,i.createElement)(le.RichText.Content,{value:t}))}},Ea=(ra({name:_a,metadata:ga,settings:ba}),(0,i.createElement)(k.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(k.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v8.4l-3-2.9c-.3-.3-.8-.3-1 0L11.9 14 9 12c-.3-.2-.6-.2-.8 0l-3.6 2.6V5c-.1-.3.1-.5.4-.5zm14 15H5c-.3 0-.5-.2-.5-.5v-2.4l4.1-3 3 1.9c.3.2.7.2.9-.1L16 12l3.5 3.4V19c0 .3-.2.5-.5.5z"}))),fa=window.wp.blob,va=(0,i.createElement)(k.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(k.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M6 5.5h12a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5H6a.5.5 0 0 1-.5-.5V6a.5.5 0 0 1 .5-.5ZM4 6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6Zm4 10h2v-1.5H8V16Zm5 0h-2v-1.5h2V16Zm1 0h2v-1.5h-2V16Z"})),ya=(0,i.createElement)(k.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(k.Path,{d:"M16.5 7.8v7H18v-7c0-1-.8-1.8-1.8-1.8h-7v1.5h7c.2 0 .3.1.3.3zm-8.7 8.7c-.1 0-.2-.1-.2-.2V2H6v4H2v1.5h4v8.8c0 1 .8 1.8 1.8 1.8h8.8v4H18v-4h4v-1.5H7.8z"})),wa=(0,i.createElement)(k.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(k.Path,{d:"M18.5 15v3.5H13V6.7l4.5 4.1 1-1.1-6.2-5.8-5.8 5.8 1 1.1 4-4v11.7h-6V15H4v5h16v-5z"})),ka=["image"],xa=({href:e,children:t})=>e?(0,i.createElement)("a",{href:e,onClick:e=>e.preventDefault(),"aria-disabled":!0,style:{pointerEvents:"none",cursor:"default",display:"block",textDecoration:"none",maxWidth:"100%"}},t):t;function Sa({temporaryURL:e,attributes:t,setAttributes:n,isSelected:a,insertBlocksAfter:l,onSelectImage:r,onSelectURL:o,onUploadError:s,containerRef:c,clientId:m,blockEditingMode:d}){const{url:p="",alt:g,caption:E,align:f,id:v,href:y,rel:w,linkClass:k,linkDestination:x,width:S,height:C,scale:T,sizeSlug:B}=t,M=S?parseInt(S,10):void 0,N=C?parseInt(C,10):void 0,L=(0,u.useRef)(),P=(0,b.usePrevious)(E),[A,R]=(0,u.useState)(!!E),{image:D,multiImageSelection:V}=(0,I.useSelect)((e=>{const{getMedia:t}=e(re.store),{getMultiSelectedBlockClientIds:n,getBlockName:l}=e(le.store),r=n();return{image:v&&a?t(v,{context:"view"}):null,multiImageSelection:r.length&&r.every((e=>"core/image"===l(e)))}}),[v,a]),{imageEditing:z,imageSizes:H,mediaUpload:F}=(0,I.useSelect)((e=>{const{getSettings:t}=e(le.store),n=t();return{imageEditing:n.imageEditing,imageSizes:n.imageSizes,mediaUpload:n.mediaUpload}}),[m]),{createErrorNotice:$,createSuccessNotice:O}=(0,I.useDispatch)(Nt.store),[{loadedNaturalWidth:U,loadedNaturalHeight:G},j]=(0,u.useState)({loadedNaturalWidth:void 0,loadedNaturalHeight:void 0}),[W,Z]=(0,u.useState)(!1),[Y,q]=(0,u.useState)(),K=function(e,t){const[n,a]=(0,u.useState)();function l(){a(e.current?.clientWidth)}return(0,u.useEffect)(l,t),(0,u.useEffect)((()=>{const{defaultView:t}=e.current.ownerDocument;return t.addEventListener("resize",l),()=>{t.removeEventListener("resize",l)}}),[]),n}(c,[f]),X="default"===d,J=H.filter((({slug:e})=>D?.media_details?.sizes?.[e]?.source_url)).map((({name:e,slug:t})=>({value:t,label:e}))),Q=!!F;(0,u.useEffect)((()=>{Ca(v,p)&&a&&Q?Y||window.fetch(p.includes("?")?p:p+"?").then((e=>e.blob())).then((e=>q(e))).catch((()=>{})):q(void 0)}),[v,p,a,Y,Q]),(0,u.useEffect)((()=>{E&&!P&&R(!0)}),[E,P]);const ee=(0,u.useCallback)((e=>{e&&!E&&e.focus()}),[E]),{naturalWidth:ne,naturalHeight:ae}=(0,u.useMemo)((()=>({naturalWidth:L.current?.naturalWidth||U||void 0,naturalHeight:L.current?.naturalHeight||G||void 0})),[U,G,L.current?.complete]);(0,u.useEffect)((()=>{a||(Z(!1),E||R(!1))}),[a,E]);const oe=v&&ne&&ae&&z,ie=!V&&oe&&!W,se=()=>{n({width:void 0,height:void 0,scale:void 0})},ce=(0,h.__experimentalUseCustomUnits)({availableUnits:["px"]}),ue=(0,i.createElement)(i.Fragment,null,(0,i.createElement)(h.__experimentalToolsPanelItem,{label:(0,_.__)("Width"),isShownByDefault:!0,hasValue:()=>!!S,onDeselect:()=>n({width:void 0}),panelId:m,style:{gridColumn:"span 1"}},(0,i.createElement)(le.__experimentalUnitControl,{label:(0,_.__)("Width"),placeholder:(0,_.__)("Auto"),labelPosition:"top",min:0,value:S||"",onChange:e=>n({width:e}),size:"__unstable-large"})),(0,i.createElement)(h.__experimentalToolsPanelItem,{label:(0,_.__)("Height"),isShownByDefault:!0,hasValue:()=>!!C,onDeselect:()=>n({height:void 0}),panelId:m,style:{gridColumn:"span 1"}},(0,i.createElement)(le.__experimentalUnitControl,{label:(0,_.__)("Height"),placeholder:(0,_.__)("Auto"),labelPosition:"top",units:ce,min:0,value:C||"",onChange:e=>n({height:e}),size:"__unstable-large"}))),me=(0,i.createElement)(i.Fragment,null,(0,i.createElement)(le.BlockControls,{group:"block"},X&&(0,i.createElement)(le.BlockAlignmentControl,{value:f,onChange:e=>n({align:e})}),X&&(0,i.createElement)(h.ToolbarButton,{onClick:()=>{R(!A),A&&E&&n({caption:void 0})},icon:va,isPressed:A,label:A?(0,_.__)("Remove caption"):(0,_.__)("Add caption")}),!V&&!W&&(0,i.createElement)(le.__experimentalImageURLInputUI,{url:y||"",onChangeUrl:n,linkDestination:x,mediaUrl:D&&D.source_url||p,mediaLink:D&&D.link,linkClass:k,rel:w}),ie&&(0,i.createElement)(h.ToolbarButton,{onClick:()=>Z(!0),icon:ya,label:(0,_.__)("Crop")})),!V&&!W&&(0,i.createElement)(le.BlockControls,{group:"other"},(0,i.createElement)(le.MediaReplaceFlow,{mediaId:v,mediaURL:p,allowedTypes:ka,accept:"image/*",onSelect:r,onSelectURL:o,onError:s})),!V&&Y&&(0,i.createElement)(le.BlockControls,null,(0,i.createElement)(h.ToolbarGroup,null,(0,i.createElement)(h.ToolbarButton,{onClick:function(){F({filesList:[Y],onFileChange([e]){r(e),(0,fa.isBlobURL)(e.url)||(q(void 0),O((0,_.__)("Image uploaded."),{type:"snackbar"}))},allowedTypes:ka,onError(e){$(e,{type:"snackbar"})}})},icon:wa,label:(0,_.__)("Upload external image")}))),(0,i.createElement)(le.InspectorControls,null,(0,i.createElement)(h.__experimentalToolsPanel,{label:(0,_.__)("Settings"),panelId:m,resetAll:se},!V&&(0,i.createElement)(h.__experimentalToolsPanelItem,{label:(0,_.__)("Alternative text"),isShownByDefault:!0,hasValue:()=>""!==g,panelId:m,onDeselect:()=>n({alt:void 0})},(0,i.createElement)(h.TextareaControl,{label:(0,_.__)("Alternative text"),value:g,onChange:e=>n({alt:e}),help:(0,i.createElement)(i.Fragment,null,(0,i.createElement)(h.ExternalLink,{href:"https://www.w3.org/WAI/tutorials/images/decision-tree"},(0,_.__)("Describe the purpose of the image.")),(0,i.createElement)("br",null),(0,_.__)("Leave empty if decorative.")),__nextHasNoMarginBottom:!0})),X&&(0,i.createElement)(i.Fragment,null,J.length>0?(0,i.createElement)(h.__experimentalToolsPanelItem,{label:(0,_.__)("Image size"),isShownByDefault:!0,hasValue:()=>"large"!==B,panelId:m,onDeselect:()=>n({sizeSlug:"large"})},(0,i.createElement)(h.SelectControl,{label:(0,_.__)("Image size"),value:B,options:J,onChange:function(e){const t=D?.media_details?.sizes?.[e]?.source_url;if(!t)return null;n({url:t,sizeSlug:e,height:void 0,width:D?.media_details?.sizes?.[e]?.width||void 0})},className:"noptin-field-control"})):null,ue)))),de=(0,Vn.getFilename)(p);let pe;pe=g||(de?(0,_.sprintf)(/* translators: %s: file name */
(0,_.__)("This image has an empty alt attribute; its file name is %s"),de):(0,_.__)("This image has an empty alt attribute"));const ge=L.current?.width||K,he=oe&&W,_e=(0,i.createElement)(xa,{href:y},he?(0,i.createElement)(le.__experimentalImageEditor,{id:v,url:p,width:M,height:N,clientWidth:ge,naturalHeight:ae,naturalWidth:ne,onSaveImage:e=>n(e),onFinishEditing:()=>{Z(!1)}}):(0,i.createElement)(i.Fragment,null,(0,i.createElement)("img",{src:e||p,alt:pe,onLoad:e=>{j({loadedNaturalWidth:e.target?.naturalWidth,loadedNaturalHeight:e.target?.naturalHeight})},ref:L,style:{width:!S&&C?"auto":S,height:C,objectFit:T,maxWidth:"100%",...Kn(t)}}),e&&(0,i.createElement)(h.Spinner,null)));return p||e?(0,i.createElement)(i.Fragment,null,!e&&me,_e,A&&(!le.RichText.isEmpty(E)||a)&&(0,i.createElement)(le.RichText,{identifier:"caption",ref:ee,className:"wp-block-image__caption",tagName:"div","aria-label":(0,_.__)("Image caption text"),placeholder:(0,_.__)("Add caption"),value:E,onChange:e=>n({caption:e}),inlineToolbar:!0,__unstableOnSplitAtEnd:()=>l((0,te.createBlock)((0,te.getDefaultBlockName)())),style:{fontSize:"12px",textAlign:f,marginTop:"12px"}})):(0,i.createElement)(le.InspectorControls,null,(0,i.createElement)(h.__experimentalToolsPanel,{label:(0,_.__)("Settings"),panelId:m,resetAll:se},X&&ue))}const Ca=(e,t)=>t&&!e&&!(0,fa.isBlobURL)(t);function Ta(e,t){var n,a;return"url"in(null!==(n=e?.sizes?.[t])&&void 0!==n?n:{})||"source_url"in(null!==(a=e?.media_details?.sizes?.[t])&&void 0!==a?a:{})}const Ba={apiVersion:3,name:"core/image",title:(0,_.__)("Image","newsletter-optin-box"),category:"content",description:(0,_.__)("Insert an image to make a visual statement.","newsletter-optin-box"),keywords:["img","picture","media","photo"],attributes:{align:{type:"string"},url:{type:"string",source:"attribute",selector:"img",attribute:"src",__experimentalRole:"content"},alt:{type:"string",source:"attribute",selector:"img",attribute:"alt",default:"",__experimentalRole:"content"},caption:{type:"string",source:"html",selector:".wp-block-image__caption",__experimentalRole:"content"},href:{type:"string",source:"attribute",selector:"a",attribute:"href",__experimentalRole:"content"},rel:{type:"string",source:"attribute",selector:"a",attribute:"rel"},linkClass:{type:"string",source:"attribute",selector:"a",attribute:"class"},id:{type:"number",__experimentalRole:"content"},width:{type:"string"},height:{type:"string"},scale:{type:"string"},sizeSlug:{type:"string",default:"large"},linkDestination:{type:"string"},link:{type:"string"},style:{type:"object",default:{spacing:{margin:{bottom:"16px"}}}}},supports:{anchor:!1,spacing:{__experimentalSkipSerialization:!0,margin:!0,padding:!0,__experimentalDefaultControls:{margin:!0}}},noptin:{border:!0},selectors:{border:".wp-block-image img, .wp-block-image .wp-block-image__crop-area, .wp-block-image .components-placeholder"}};function Ia(e,t){const{body:n}=document.implementation.createHTMLDocument("");n.innerHTML=e;const{firstElementChild:a}=n;if(a&&"A"===a.nodeName)return a.getAttribute(t)||void 0}const Ma={img:{attributes:["src","alt"],classes:["alignleft","aligncenter","alignright","alignnone",/^wp-image-\d+$/]}},Na={from:[{type:"raw",isMatch:e=>"FIGURE"===e.nodeName&&!!e.querySelector("img"),schema:({phrasingContentSchema:e})=>({figure:{require:["img"],children:{...Ma,a:{attributes:["href","rel","target"],children:Ma},figcaption:{children:e}}}}),transform:e=>{const t=e.className+" "+e.querySelector("img").className,n=/(?:^|\s)align(left|center|right)(?:$|\s)/.exec(t),a=""===e.id?void 0:e.id,l=n?n[1]:void 0,r=/(?:^|\s)wp-image-(\d+)(?:$|\s)/.exec(t),o=r?Number(r[1]):void 0,i=e.querySelector("a"),s=i&&i.href?"custom":void 0,c=i&&i.href?i.href:void 0,u=i&&i.rel?i.rel:void 0,m=i&&i.className?i.className:void 0,d=(0,te.getBlockAttributes)("core/image",e.outerHTML,{align:l,id:o,linkDestination:s,href:c,rel:u,linkClass:m,anchor:a});return(0,te.createBlock)("core/image",d)}},{type:"shortcode",tag:"caption",attributes:{url:{type:"string",source:"attribute",attribute:"src",selector:"img"},alt:{type:"string",source:"attribute",attribute:"alt",selector:"img"},caption:{shortcode:function(e,{shortcode:t}){const{body:n}=document.implementation.createHTMLDocument("");n.innerHTML=t.content;let a=n.querySelector("img");for(;a&&a.parentNode&&a.parentNode!==n;)a=a.parentNode;return a&&a.parentNode.removeChild(a),n.innerHTML.trim()}},href:{shortcode:(e,{shortcode:t})=>Ia(t.content,"href")},rel:{shortcode:(e,{shortcode:t})=>Ia(t.content,"rel")},linkClass:{shortcode:(e,{shortcode:t})=>Ia(t.content,"class")},id:{type:"number",shortcode:({named:{id:e}})=>{if(e)return parseInt(e.replace("attachment_",""),10)}},align:{type:"string",shortcode:({named:{align:e="alignnone"}})=>e.replace("align","")}}}]};window?.wp?.media?.view?.settings?.defaultProps&&Object.entries(window.wp.media.view.settings.defaultProps).forEach((([e,t])=>{Ba.attributes[e]&&(Ba.attributes[e].default=t)}));const{name:La}=Ba,Pa={icon:Ea,example:{attributes:{sizeSlug:"large",url:"https://s.w.org/images/core/5.3/MtBlanc1.jpg",
// translators: Caption accompanying an image of the Mont Blanc, which serves as an example for the Image block.
caption:(0,_.__)("Mont Blanc appears—still, snowy, and serene.")}},__experimentalLabel(e,{context:t}){if("accessibility"===t){const{caption:t,alt:n,url:a}=e;return a?n?n+(t?". "+t:""):t||"":(0,_.__)("Empty")}},getEditWrapperProps:e=>({"data-align":e.align}),transforms:Na,edit:function({attributes:e,setAttributes:t,isSelected:n,className:a,insertBlocksAfter:l,onReplace:r,context:o,clientId:s}){const{url:c="",alt:m,caption:d,align:p,id:b,width:E,height:f,sizeSlug:v}=e,[y,w]=(0,u.useState)(),k=(0,u.useRef)();(0,u.useEffect)((()=>{k.current=m}),[m]);const x=(0,u.useRef)();(0,u.useEffect)((()=>{x.current=d}),[d]);const S=(0,u.useRef)(),{mediaUpload:C}=(0,I.useSelect)((e=>{const{getSettings:t}=e(le.store);return{mediaUpload:t().mediaUpload}}),[]),T=(0,le.useBlockEditingMode)(),{createErrorNotice:B}=(0,I.useDispatch)(Nt.store);function M(e){B(e,{type:"snackbar"}),t({src:void 0,id:void 0,url:void 0}),w(void 0)}function N(n){if(!n||!n.url)return void t({url:void 0,alt:void 0,id:void 0,caption:void 0});if((0,fa.isBlobURL)(n.url))return void w(n.url);w(void 0);let a="full";v&&Ta(n,v)?a=v:Ta(n,"large")&&(a="large");let l,r=((e,t)=>{const n=Object.fromEntries(Object.entries(null!=e?e:{}).filter((([e])=>["alt","id","link","caption","width","url"].includes(e)))),a=["width","url"];return e?.sizes?.[t]?a.forEach((a=>{e.sizes[t][a]&&(n[a]=e.sizes[t][a])})):e?.media_details?.sizes?.[t]&&a.forEach((a=>{e.media_details.sizes[t][a]?n[a]=e.media_details.sizes[t][a]:e.media_details.sizes[t][`source_${a}`]&&(n[a]=e.media_details.sizes[t][`source_${a}`])})),n.height=void 0,n})(n,a);if(x.current&&!r.caption){const{caption:e,...t}=r;r=t}l=n.id&&n.id===b?{url:c}:{sizeSlug:a};let o,i=e.linkDestination;switch(i){case"file":o=n.url;break;case"post":o=n.link}r.href=o,t({...r,...l,linkDestination:i})}function L(e){e!==c&&t({url:e,id:void 0,sizeSlug:"large"})}let P=((e,t)=>!e&&(0,fa.isBlobURL)(t))(b,c);(0,u.useEffect)((()=>{if(!P)return;const e=(0,fa.getBlobByURL)(c);e&&C({filesList:[e],onFileChange:([e])=>{N(e)},allowedTypes:ka,onError:e=>{P=!1,M(e)}})}),[]),(0,u.useEffect)((()=>{P?w(c):(0,fa.revokeBlobURL)(y)}),[P,c]);const A=Ca(b,c)?c:void 0,R=c?(0,i.createElement)("img",{alt:(0,_.__)("Edit image"),title:(0,_.__)("Edit image"),className:"edit-image-preview",src:c}):void 0,D=g()(a,{"is-transient":y}),{margin:V,padding:z}=ia(e,!0),H=(0,le.useBlockProps)({ref:S,style:{borderSpacing:"0px",borderCollapse:"collapse",...V,width:"100%"},className:D,border:0,cellPadding:"0",cellSpacing:"0",role:"presentation"});return(0,i.createElement)("table",{...H},(0,i.createElement)("tbody",null,(0,i.createElement)("tr",null,(0,i.createElement)("td",{align:p,className:g()({"is-selected":n}),style:z},(0,i.createElement)(Sa,{temporaryURL:y,attributes:e,setAttributes:t,isSelected:n,insertBlocksAfter:l,onReplace:r,onSelectImage:N,onSelectURL:L,onUploadError:M,containerRef:S,context:o,clientId:s,blockEditingMode:T}),!c&&"default"===T&&(0,i.createElement)(le.BlockControls,{group:"block"},(0,i.createElement)(le.BlockAlignmentControl,{value:p,onChange:e=>t({align:e})})),(0,i.createElement)(le.MediaPlaceholder,{icon:(0,i.createElement)(le.BlockIcon,{icon:Ea}),onSelect:N,onSelectURL:L,onError:M,placeholder:t=>(0,i.createElement)(h.Placeholder,{className:"block-editor-media-placeholder",withIllustration:!0,icon:Ea,label:(0,_.__)("Image"),instructions:(0,_.__)("Upload an image file, pick one from your media library, or add one with a URL."),style:{width:E,height:f,...Kn(e)}},t),accept:"image/*",allowedTypes:["image"],value:{id:b,src:A},mediaPreview:R,disableMediaButtons:y||c})))))},save:function({attributes:e}){const{url:t,alt:n,caption:a,align:l,href:r,rel:o,linkClass:s,width:c,height:u}=e,{margin:m,padding:d}=ia.save(e,!0),p=(0,i.createElement)("img",{src:t,alt:n,style:{width:!c&&u?"auto":c,height:u,maxWidth:"100%",...Kn(e)}}),g=(0,i.createElement)(i.Fragment,null,r?(0,i.createElement)("a",{className:s,href:r,target:"_blank",rel:o||void 0,style:{display:"block",textDecoration:"none",maxWidth:"100%"}},p):p,!le.RichText.isEmpty(a)&&(0,i.createElement)(le.RichText.Content,{className:"wp-block-image__caption",tagName:"div",value:a,style:{fontSize:"12px",textAlign:l,marginTop:"12px"}})),h=le.useBlockProps.save({style:{borderSpacing:"0px",borderCollapse:"collapse",width:"100%",...m},border:0,cellPadding:"0",cellSpacing:"0",role:"presentation"});return(0,i.createElement)("table",{...h},(0,i.createElement)("tbody",null,(0,i.createElement)("tr",null,(0,i.createElement)("td",{align:l,style:d},g))))}},Aa=(ra({name:La,metadata:Ba,settings:Pa}),(0,i.createElement)(k.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(k.Path,{d:"M8 12.5h8V11H8v1.5Z M19 6.5H5a2 2 0 0 0-2 2V15a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a2 2 0 0 0-2-2ZM5 8h14a.5.5 0 0 1 .5.5V15a.5.5 0 0 1-.5.5H5a.5.5 0 0 1-.5-.5V8.5A.5.5 0 0 1 5 8Z"}))),Ra="noreferrer noopener",Da="_blank",Va="nofollow";function za(e){return e.replace(/<\/?a[^>]*>/g,"")}const Ha=(0,i.createElement)(k.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(k.Path,{d:"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z"})),Fa=[...le.__experimentalLinkControl.DEFAULT_LINK_SETTINGS,{id:"nofollow",title:(0,_.__)("Mark as nofollow")}];function $a({selectedWidth:e,setAttributes:t}){return(0,i.createElement)(h.PanelBody,{title:(0,_.__)("Button width")},(0,i.createElement)(h.__experimentalToggleGroupControl,{label:(0,_.__)("Button width"),className:"noptin-toggle-group-control",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,hideLabelFromVision:!0,isAdaptiveWidth:!0,isBlock:!0,isDeselectable:!0,onChange:function(n){t({width:e===n?void 0:n})}},[25,50,75,100].map((e=>(0,i.createElement)(h.__experimentalToggleGroupControlOption,{key:e,label:`${e}%`,value:e})))))}const Oa={apiVersion:3,name:"noptin/button",title:(0,_.__)("Button","newsletter-optin-box"),category:"content",description:(0,_.__)("Prompt readers to take action with a button-style link.","newsletter-optin-box"),keywords:["link","cta"],attributes:{url:{type:"string",source:"attribute",selector:"a",attribute:"href",__experimentalRole:"content"},title:{type:"string",source:"attribute",selector:"a",attribute:"title",__experimentalRole:"content"},text:{type:"string",source:"html",selector:"a",__experimentalRole:"content"},linkTarget:{type:"string",source:"attribute",selector:"a",attribute:"target",__experimentalRole:"content"},rel:{type:"string",source:"attribute",selector:"a",attribute:"rel",__experimentalRole:"content"},placeholder:{type:"string"},style:{type:"object",default:{noptin:{border:{radius:"5px"},typography:{textTransform:"none",textDecoration:"none",textAlign:"center"}},spacing:{padding:{top:"10px",right:"25px",bottom:"10px",left:"25px"},margin:{bottom:"16px",left:"10px",right:"10px"}}}},width:{type:"string"}},noptin:{typography:!0,border:!0,color:{background:!0,text:!0}},supports:{anchor:!1,align:!0,alignWide:!1,reusable:!1,shadow:!1,spacing:{__experimentalSkipSerialization:!0,padding:["horizontal","vertical"],margin:!0,__experimentalDefaultControls:{padding:!0,margin:!0}}}},{name:Ua}=Oa,Ga={icon:Aa,example:{attributes:{text:(0,_.__)("Call to Action")}},edit:function(e){const{attributes:t,setAttributes:n,isSelected:a,onReplace:l,mergeBlocks:r,clientId:o}=e,{align:s,linkTarget:c,placeholder:m,rel:d,text:p,url:g,width:E}=t,f=Zn(t),[v,y]=(0,u.useState)(null),w=Kn(t),k=la(t).style,x=ia(t,!0),S=(0,u.useRef)(),C=(0,u.useRef)(),T=(0,le.useBlockProps)({ref:(0,b.useMergeRefs)([y,S]),onKeyDown:function(e){Bt.isKeyboardEvent.primary(e,"k")&&A(e)},width:"100%",border:0,cellPadding:0,cellSpacing:0,role:"presentation",style:{lineHeight:"100%",width:"100%",borderCollapse:"separate",margin:"0px"}}),[B,M]=(0,u.useState)(!1),N=!!g,L=c===Da,P=!!d?.includes(Va);function A(e){e.preventDefault(),M(!0)}(0,u.useEffect)((()=>{a||M(!1)}),[a]);const R=(0,u.useMemo)((()=>({url:g,opensInNewTab:L,nofollow:P})),[g,L,P]),D=function(e){const{replaceBlocks:t,selectionChange:n}=(0,I.useDispatch)(le.store),{getBlock:a,getBlockRootClientId:l,getBlockIndex:r}=(0,I.useSelect)(le.store),o=(0,u.useRef)(e);return o.current=e,(0,b.useRefEffect)((e=>{function i(e){if(e.defaultPrevented||e.keyCode!==Bt.ENTER)return;const{content:i,clientId:s}=o.current;if(i.length)return;e.preventDefault();const c=a(l(s)),u=r(s),m=(0,te.cloneBlock)({...c,innerBlocks:c.innerBlocks.slice(0,u)}),d=(0,te.createBlock)((0,te.getDefaultBlockName)()),p=c.innerBlocks.slice(u+1),g=p.length?[(0,te.cloneBlock)({...c,innerBlocks:p})]:[];t(c.clientId,[m,d,...g],1),n(d.clientId)}return e.addEventListener("keydown",i),()=>{e.removeEventListener("keydown",i)}}),[])}({content:p,clientId:o}),V=(0,b.useMergeRefs)([D,C]);return(0,i.createElement)(i.Fragment,null,(0,i.createElement)("table",{...T},(0,i.createElement)("tbody",null,(0,i.createElement)("tr",null,(0,i.createElement)("td",{align:`${s||"left"}`},(0,i.createElement)("div",{style:x.margin},(0,i.createElement)("table",{width:E?`${E}%`:void 0},(0,i.createElement)("tbody",null,(0,i.createElement)("tr",null,(0,i.createElement)("td",{bgcolor:k.backgroundColor,role:"presentation",valign:"middle",className:"noptin-button-link__wrapper",style:{background:k.backgroundColor,textAlign:f?.textAlign,cursor:"auto",...w}},(0,i.createElement)(le.RichText,{ref:V,tagName:"span","aria-label":(0,_.__)("Button text"),placeholder:m||(0,_.__)("Add text…"),value:p,onChange:e=>n({text:za(e)}),withoutInteractiveFormatting:!0,className:"noptin-button-link",style:{...x.padding,...f||{},color:k.color,margin:"0px",display:"block",wordBreak:"break-word"},onSplit:e=>(0,te.createBlock)("noptin/button",{...t,text:e}),onReplace:l,onMerge:r,identifier:"text"})))))))))),(0,i.createElement)(le.BlockControls,{group:"block"},(0,i.createElement)(h.ToolbarButton,{name:"link",icon:Ha,title:(0,_.__)("Link"),shortcut:Bt.displayShortcut.primary("k"),onClick:A})),a&&(B||N)&&(0,i.createElement)(h.Popover,{placement:"bottom",onClose:()=>{M(!1),C.current?.focus()},anchor:v,focusOnMount:!!B&&"firstElement",__unstableSlotName:"__unstable-block-tools-after",shift:!0},(0,i.createElement)(le.__experimentalLinkControl,{value:R,onChange:({url:e,opensInNewTab:t,nofollow:a})=>n(function({rel:e="",url:t="",opensInNewTab:n,nofollow:a}){let l,r=e;if(n)l=Da,r=r?.includes(Ra)?r:r+` ${Ra}`;else{const e=new RegExp(`\\b${Ra}\\s*`,"g");r=r?.replace(e,"").trim()}if(a)r=r?.includes(Va)?r:r+` ${Va}`;else{const e=new RegExp(`\\b${Va}\\s*`,"g");r=r?.replace(e,"").trim()}return{url:(0,Vn.prependHTTP)(t),linkTarget:l,rel:r||void 0}}({rel:d,url:e,opensInNewTab:t,nofollow:a})),forceIsEditingLink:B,settings:Fa})),(0,i.createElement)(le.InspectorControls,null,(0,i.createElement)($a,{selectedWidth:E,setAttributes:n})),(0,i.createElement)(le.InspectorControls,{group:"advanced"},(0,i.createElement)(h.TextControl,{__nextHasNoMarginBottom:!0,label:(0,_.__)("Link rel"),value:d||"",onChange:e=>n({rel:e})})))},save:function({attributes:e}){const{align:t,linkTarget:n,rel:a,text:l,title:r,url:o,width:s}=e;if(!l)return null;const c=Kn(e),u=la(e),m=u?.style?.backgroundColor,d=u?.style?.color,p=ia.save(e,!0),g={...p.padding,...Zn(e),borderRadius:c?.borderRadius,margin:"0px",display:"block",color:d,wordBreak:"break-word"},h=le.useBlockProps.save({width:"100%",border:0,cellPadding:0,cellSpacing:0,role:"presentation",style:{lineHeight:"100%",width:"100%",borderCollapse:"separate",...p.margin}});return(0,i.createElement)("table",{...h},(0,i.createElement)("tbody",null,(0,i.createElement)("tr",null,(0,i.createElement)("td",{align:`${t||"left"}`},(0,i.createElement)("table",{width:`${s}%`},(0,i.createElement)("tbody",null,(0,i.createElement)("tr",null,(0,i.createElement)("td",{bgcolor:m,role:"presentation",valign:"middle",className:"noptin-button-link__wrapper",style:{background:m,textAlign:g.textAlign,cursor:"auto",...c}},(0,i.createElement)(le.RichText.Content,{tagName:"a",className:"noptin-button-link",href:o,title:r,style:g,value:l,target:n,rel:a})))))))))},merge:(e,{text:t=""})=>({...e,text:(e.text||"")+t})},ja=(ra({name:Ua,metadata:Oa,settings:Ga}),(0,i.createElement)(k.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(k.Path,{d:"M9 11.8l6.1-4.5c.1.4.4.7.9.7h2c.6 0 1-.4 1-1V5c0-.6-.4-1-1-1h-2c-.6 0-1 .4-1 1v.4l-6.4 4.8c-.2-.1-.4-.2-.6-.2H6c-.6 0-1 .4-1 1v2c0 .6.4 1 1 1h2c.2 0 .4-.1.6-.2l6.4 4.8v.4c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-2c0-.6-.4-1-1-1h-2c-.5 0-.8.3-.9.7L9 12.2v-.4z"}))),Wa=["noptin/social-link"],Za=[{name:"facebook",color:"#3b5998",title:"Facebook"},{name:"twitter",color:"#55acee",title:"Twitter"},{name:"youtube",color:"#eb3323",title:"YouTube"}],Ya=Za.map((({name:e,title:t,color:n})=>["noptin/social-link",{img:`https://www.mailjet.com/images/theme/v1/icons/ico-social/${e}.png`,url:"#",label:t,style:{noptin:{border:{radius:"50%"},color:{background:n}}}}])),qa={iconSize:{label:(0,_.__)("Icon size"),options:{"20px":(0,_.__)("S"),"32px":(0,_.__)("M"),"48px":(0,_.__)("L"),"64px":(0,_.__)("XL")}},iconSpacing:{label:(0,_.__)("Icon spacing"),options:{"0px":(0,_.__)("None"),"4px":(0,_.__)("S"),"16px":(0,_.__)("M"),"24px":(0,_.__)("L")}},iconPadding:{label:(0,_.__)("Icon padding"),options:{"0px":(0,_.__)("None"),"4px":(0,_.__)("S"),"16px":(0,_.__)("M"),"24px":(0,_.__)("L")}}};function Ka({attributes:e,setAttributes:t}){return(0,i.createElement)(h.PanelBody,{title:(0,_.__)("Icon settings")},Object.entries(qa).map((([n,a])=>(0,i.createElement)(h.__experimentalToggleGroupControl,{key:n,label:a.label,value:e[n],onChange:e=>t({[n]:e}),className:"noptin-field-control",__nextHasNoMarginBottom:!0,isAdaptiveWidth:!0,isBlock:!0,isDeselectable:!0},Object.entries(a.options).map((([e,t])=>(0,i.createElement)(h.__experimentalToggleGroupControlOption,{key:`${n}__${e}`,label:t,value:e})))))))}const Xa={apiVersion:3,name:"noptin/social-links",title:(0,_.__)("Social Icons","newsletter-optin-box"),category:"content",description:(0,_.__)("Display icons linking to your social media profiles or sites.","newsletter-optin-box"),keywords:["links"],attributes:{iconSize:{type:"string",default:"20px"},iconSpacing:{type:"string",default:"4px"},iconPadding:{type:"string",default:"4px"},style:{type:"object",default:{spacing:{margin:{bottom:"16px",left:"10px",right:"10px"}}}}},providesContext:{iconSize:"iconSize"},noptin:{border:!0,color:{background:!0}},supports:{align:["left","center","right"],anchor:!1,__experimentalExposeControlsToChildren:!0,spacing:{margin:!0,padding:!0,units:["px","em","rem"],__experimentalSkipSerialization:!0,__experimentalDefaultControls:{margin:!0,padding:!1}}}},{name:Ja}=Xa,Qa=(ra({name:Ja,metadata:Xa,settings:{example:{innerBlocks:Za.map((({name:e,title:t,color:n})=>({name:"noptin/social-link",attributes:{img:`https://www.mailjet.com/images/theme/v1/icons/ico-social/${e}.png`,url:"#",label:t,style:{noptin:{border:{radius:"50%"},color:{background:n}}}}})))},icon:ja,edit:function({attributes:e,setAttributes:t}){const{iconSpacing:n,iconPadding:a,align:l}=e,r=ia(e,!0),o=Kn(e),s=(0,le.useBlockProps)({style:r.margin}),c=(0,le.useInnerBlocksProps)({},{allowedBlocks:Wa,template:Ya,templateLock:!1,orientation:"horizontal",__experimentalAppenderTagName:"td"}),u={lineHeight:"100%",width:"100%",borderCollapse:"separate",...la(e).style,...o};return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(le.InspectorControls,null,(0,i.createElement)(Ka,{attributes:e,setAttributes:t})),(0,i.createElement)("div",{...s},(0,i.createElement)("table",{role:"presentation",cellPadding:0,cellSpacing:0,border:0,width:"100%",style:u},(0,i.createElement)("tbody",null,(0,i.createElement)("tr",null,(0,i.createElement)("td",{align:`${l||"left"}`,style:r.padding,border:"0",role:"presentation",valign:"middle"},(0,i.createElement)("table",{align:`${l||"left"}`,cellPadding:a||0,cellSpacing:n||0},(0,i.createElement)("tbody",null,(0,i.createElement)("tr",{...c})))))))))},save:({attributes:e})=>{const{iconSpacing:t,iconPadding:n,align:a}=e,l=ia.save(e,!0),r=Kn(e),o=le.useBlockProps.save({style:l.margin}),s={lineHeight:"100%",width:"100%",borderCollapse:"separate",...la(e).style,...r};return(0,i.createElement)("div",{...o},(0,i.createElement)("table",{role:"presentation",cellPadding:0,cellSpacing:0,border:0,width:"100%",style:s},(0,i.createElement)("tbody",null,(0,i.createElement)("tr",null,(0,i.createElement)("td",{align:`${a||"left"}`,style:l.padding,border:"0",role:"presentation",valign:"middle"},(0,i.createElement)("table",{align:`${a||"left"}`,cellPadding:n||0,cellSpacing:t||0},(0,i.createElement)("tbody",null,(0,i.createElement)("tr",null,(0,i.createElement)(le.InnerBlocks.Content,null)))))))))}}}),({attributes:e,context:t,setAttributes:n})=>{const{url:a,img:l,label:r,rel:o}=e,{iconSize:s}=t,c=la(e),u=c?.style?.backgroundColor,m=(0,le.useBlockProps)({style:{color:u,backgroundColor:u,boxSizing:"border-box",align:"center",...Kn(e)}});return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(le.InspectorControls,null,(0,i.createElement)(h.PanelBody,{title:(0,_.__)("Settings"),initialOpen:!0},(0,i.createElement)(h.PanelRow,null,(0,i.createElement)(h.TextControl,{__nextHasNoMarginBottom:!0,label:(0,_.__)("Image URL"),help:(0,_.__)("Enter the URL of the image to use as an icon."),value:l||"",onChange:e=>n({img:e})})),(0,i.createElement)(h.PanelRow,null,(0,i.createElement)(h.TextControl,{__nextHasNoMarginBottom:!0,label:(0,_.__)("Social URL"),help:(0,_.__)("The URL to link to."),value:a||"",onChange:e=>n({url:e})})),(0,i.createElement)(h.PanelRow,null,(0,i.createElement)(h.TextControl,{__nextHasNoMarginBottom:!0,label:(0,_.__)("Social Network"),help:(0,_.__)("The name of the social network."),value:r||"",onChange:e=>n({label:e})})))),(0,i.createElement)(le.InspectorControls,{group:"advanced"},(0,i.createElement)(h.TextControl,{__nextHasNoMarginBottom:!0,label:(0,_.__)("Link rel"),value:o||"",onChange:e=>n({rel:e})})),(0,i.createElement)("td",{...m,width:s},(0,i.createElement)("img",{src:l||"https://placehold.co/30x30@2x.png",alt:r,width:s,height:s})))}),el={apiVersion:3,name:"noptin/social-link",title:(0,_.__)("Social Icon","newsletter-optin-box"),category:"content",parent:["noptin/social-links"],description:(0,_.__)("Display an icon linking to a social media profile or site.","newsletter-optin-box"),attributes:{url:{type:"string"},img:{type:"string"},label:{type:"string"},rel:{type:"string"}},usesContext:["iconSize"],noptin:{border:!0,color:{background:!0}},supports:{reusable:!1,html:!1}},tl=[{name:"facebook",color:"#3b5998",title:"Facebook"},{name:"twitter",color:"#55acee",title:"Twitter"},{name:"google-plus",color:"#dc4e41",title:"Google Plus",icon:"google"},{name:"pinterest",color:"#bd081c",title:"Pinterest"},{name:"linkedin",color:"#0077b5",title:"linkedIn"},{name:"instagram",color:"#3f729b",title:"Instagram"},{name:"youtube",color:"#eb3323",title:"YouTube"},{name:"tumblr",color:"#344356",title:"Tumblr",icon:()=>(0,i.createElement)(k.SVG,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},(0,i.createElement)(k.Path,{d:"M17.04 21.28h-3.28c-2.84 0-4.94-1.37-4.94-5.02v-5.67H6.08V7.5c2.93-.73 4.11-3.3 4.3-5.48h3.01v4.93h3.47v3.65H13.4v4.93c0 1.47.73 2.01 1.92 2.01h1.73v3.75z"}))},{name:"github",color:"#000000",title:"GitHub",icon:()=>(0,i.createElement)(k.SVG,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},(0,i.createElement)(k.Path,{d:"M12,2C6.477,2,2,6.477,2,12c0,4.419,2.865,8.166,6.839,9.489c0.5,0.09,0.682-0.218,0.682-0.484 c0-0.236-0.009-0.866-0.014-1.699c-2.782,0.602-3.369-1.34-3.369-1.34c-0.455-1.157-1.11-1.465-1.11-1.465 c-0.909-0.62,0.069-0.608,0.069-0.608c1.004,0.071,1.532,1.03,1.532,1.03c0.891,1.529,2.341,1.089,2.91,0.833 c0.091-0.647,0.349-1.086,0.635-1.337c-2.22-0.251-4.555-1.111-4.555-4.943c0-1.091,0.39-1.984,1.03-2.682 C6.546,8.54,6.202,7.524,6.746,6.148c0,0,0.84-0.269,2.75,1.025C10.295,6.95,11.15,6.84,12,6.836 c0.85,0.004,1.705,0.114,2.504,0.336c1.909-1.294,2.748-1.025,2.748-1.025c0.546,1.376,0.202,2.394,0.1,2.646 c0.64,0.699,1.026,1.591,1.026,2.682c0,3.841-2.337,4.687-4.565,4.935c0.359,0.307,0.679,0.917,0.679,1.852 c0,1.335-0.012,2.415-0.012,2.741c0,0.269,0.18,0.579,0.688,0.481C19.138,20.161,22,16.416,22,12C22,6.477,17.523,2,12,2z"}))},{name:"xing",color:"#296366",title:"Xing"},{name:"vimeo",color:"#53B4E7",title:"Vimeo",icon:()=>(0,i.createElement)(k.SVG,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},(0,i.createElement)(k.Path,{d:"M22.396,7.164c-0.093,2.026-1.507,4.799-4.245,8.32C15.322,19.161,12.928,21,10.97,21c-1.214,0-2.24-1.119-3.079-3.359 c-0.56-2.053-1.119-4.106-1.68-6.159C5.588,9.243,4.921,8.122,4.206,8.122c-0.156,0-0.701,0.328-1.634,0.98L1.594,7.841 c1.027-0.902,2.04-1.805,3.037-2.708C6.001,3.95,7.03,3.327,7.715,3.264c1.619-0.156,2.616,0.951,2.99,3.321 c0.404,2.557,0.685,4.147,0.841,4.769c0.467,2.121,0.981,3.181,1.542,3.181c0.435,0,1.09-0.688,1.963-2.065 c0.871-1.376,1.338-2.422,1.401-3.142c0.125-1.187-0.343-1.782-1.401-1.782c-0.498,0-1.012,0.115-1.541,0.341 c1.023-3.35,2.977-4.977,5.862-4.884C21.511,3.066,22.52,4.453,22.396,7.164z"}))},{name:"medium",color:"#000000",title:"Medium",icon:()=>(0,i.createElement)(k.SVG,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},(0,i.createElement)(k.Path,{d:"M20.962,7.257l-5.457,8.867l-3.923-6.375l3.126-5.08c0.112-0.182,0.319-0.286,0.527-0.286c0.05,0,0.1,0.008,0.149,0.02 c0.039,0.01,0.078,0.023,0.114,0.041l5.43,2.715l0.006,0.003c0.004,0.002,0.007,0.006,0.011,0.008 C20.971,7.191,20.98,7.227,20.962,7.257z M9.86,8.592v5.783l5.14,2.57L9.86,8.592z M15.772,17.331l4.231,2.115 C20.554,19.721,21,19.529,21,19.016V8.835L15.772,17.331z M8.968,7.178L3.665,4.527C3.569,4.479,3.478,4.456,3.395,4.456 C3.163,4.456,3,4.636,3,4.938v11.45c0,0.306,0.224,0.669,0.498,0.806l4.671,2.335c0.12,0.06,0.234,0.088,0.337,0.088 c0.29,0,0.494-0.225,0.494-0.602V7.231C9,7.208,8.988,7.188,8.968,7.178z"}))},{name:"soundcloud",color:"#EF7F31",title:"SoundCloud",icon:()=>(0,i.createElement)(k.SVG,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},(0,i.createElement)(k.Path,{d:"M8.9,16.1L9,14L8.9,9.5c0-0.1,0-0.1-0.1-0.1c0,0-0.1-0.1-0.1-0.1c-0.1,0-0.1,0-0.1,0.1c0,0-0.1,0.1-0.1,0.1L8.3,14l0.1,2.1 c0,0.1,0,0.1,0.1,0.1c0,0,0.1,0.1,0.1,0.1C8.8,16.3,8.9,16.3,8.9,16.1z M11.4,15.9l0.1-1.8L11.4,9c0-0.1,0-0.2-0.1-0.2 c0,0-0.1,0-0.1,0s-0.1,0-0.1,0c-0.1,0-0.1,0.1-0.1,0.2l0,0.1l-0.1,5c0,0,0,0.7,0.1,2v0c0,0.1,0,0.1,0.1,0.1c0.1,0.1,0.1,0.1,0.2,0.1 c0.1,0,0.1,0,0.2-0.1c0.1,0,0.1-0.1,0.1-0.2L11.4,15.9z M2.4,12.9L2.5,14l-0.2,1.1c0,0.1,0,0.1-0.1,0.1c0,0-0.1,0-0.1-0.1L2.1,14 l0.1-1.1C2.2,12.9,2.3,12.9,2.4,12.9C2.3,12.9,2.4,12.9,2.4,12.9z M3.1,12.2L3.3,14l-0.2,1.8c0,0.1,0,0.1-0.1,0.1 c-0.1,0-0.1,0-0.1-0.1L2.8,14L3,12.2C3,12.2,3,12.2,3.1,12.2C3.1,12.2,3.1,12.2,3.1,12.2z M3.9,11.9L4.1,14l-0.2,2.1 c0,0.1,0,0.1-0.1,0.1c-0.1,0-0.1,0-0.1-0.1L3.5,14l0.2-2.1c0-0.1,0-0.1,0.1-0.1C3.9,11.8,3.9,11.8,3.9,11.9z M4.7,11.9L4.9,14 l-0.2,2.1c0,0.1-0.1,0.1-0.1,0.1c-0.1,0-0.1,0-0.1-0.1L4.3,14l0.2-2.2c0-0.1,0-0.1,0.1-0.1C4.7,11.7,4.7,11.8,4.7,11.9z M5.6,12 l0.2,2l-0.2,2.1c0,0.1-0.1,0.1-0.1,0.1c0,0-0.1,0-0.1,0c0,0,0-0.1,0-0.1L5.1,14l0.2-2c0,0,0-0.1,0-0.1s0.1,0,0.1,0 C5.5,11.9,5.5,11.9,5.6,12L5.6,12z M6.4,10.7L6.6,14l-0.2,2.1c0,0,0,0.1,0,0.1c0,0-0.1,0-0.1,0c-0.1,0-0.1-0.1-0.2-0.2L5.9,14 l0.2-3.3c0-0.1,0.1-0.2,0.2-0.2c0,0,0.1,0,0.1,0C6.4,10.7,6.4,10.7,6.4,10.7z M7.2,10l0.2,4.1l-0.2,2.1c0,0,0,0.1,0,0.1 c0,0-0.1,0-0.1,0c-0.1,0-0.2-0.1-0.2-0.2l-0.1-2.1L6.8,10c0-0.1,0.1-0.2,0.2-0.2c0,0,0.1,0,0.1,0S7.2,9.9,7.2,10z M8,9.6L8.2,14 L8,16.1c0,0.1-0.1,0.2-0.2,0.2c-0.1,0-0.2-0.1-0.2-0.2L7.5,14l0.1-4.4c0-0.1,0-0.1,0.1-0.1c0,0,0.1-0.1,0.1-0.1c0.1,0,0.1,0,0.1,0.1 C8,9.6,8,9.6,8,9.6z M11.4,16.1L11.4,16.1L11.4,16.1z M9.7,9.6L9.8,14l-0.1,2.1c0,0.1,0,0.1-0.1,0.2s-0.1,0.1-0.2,0.1 c-0.1,0-0.1,0-0.1-0.1s-0.1-0.1-0.1-0.2L9.2,14l0.1-4.4c0-0.1,0-0.1,0.1-0.2s0.1-0.1,0.2-0.1c0.1,0,0.1,0,0.2,0.1S9.7,9.5,9.7,9.6 L9.7,9.6z M10.6,9.8l0.1,4.3l-0.1,2c0,0.1,0,0.1-0.1,0.2c0,0-0.1,0.1-0.2,0.1c-0.1,0-0.1,0-0.2-0.1c0,0-0.1-0.1-0.1-0.2L10,14 l0.1-4.3c0-0.1,0-0.1,0.1-0.2c0,0,0.1-0.1,0.2-0.1c0.1,0,0.1,0,0.2,0.1S10.6,9.7,10.6,9.8z M12.4,14l-0.1,2c0,0.1,0,0.1-0.1,0.2 c-0.1,0.1-0.1,0.1-0.2,0.1c-0.1,0-0.1,0-0.2-0.1c-0.1-0.1-0.1-0.1-0.1-0.2l-0.1-1l-0.1-1l0.1-5.5v0c0-0.1,0-0.2,0.1-0.2 c0.1,0,0.1-0.1,0.2-0.1c0,0,0.1,0,0.1,0c0.1,0,0.1,0.1,0.1,0.2L12.4,14z M22.1,13.9c0,0.7-0.2,1.3-0.7,1.7c-0.5,0.5-1.1,0.7-1.7,0.7 h-6.8c-0.1,0-0.1,0-0.2-0.1c-0.1-0.1-0.1-0.1-0.1-0.2V8.2c0-0.1,0.1-0.2,0.2-0.3c0.5-0.2,1-0.3,1.6-0.3c1.1,0,2.1,0.4,2.9,1.1 c0.8,0.8,1.3,1.7,1.4,2.8c0.3-0.1,0.6-0.2,1-0.2c0.7,0,1.3,0.2,1.7,0.7C21.8,12.6,22.1,13.2,22.1,13.9L22.1,13.9z"}))},{name:"dribbble",color:"#D95988",title:"Dribbble",icon:()=>(0,i.createElement)(k.SVG,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},(0,i.createElement)(k.Path,{d:"M12,22C6.486,22,2,17.514,2,12S6.486,2,12,2c5.514,0,10,4.486,10,10S17.514,22,12,22z M20.434,13.369 c-0.292-0.092-2.644-0.794-5.32-0.365c1.117,3.07,1.572,5.57,1.659,6.09C18.689,17.798,20.053,15.745,20.434,13.369z M15.336,19.876c-0.127-0.749-0.623-3.361-1.822-6.477c-0.019,0.006-0.038,0.013-0.056,0.019c-4.818,1.679-6.547,5.02-6.701,5.334 c1.448,1.129,3.268,1.803,5.243,1.803C13.183,20.555,14.311,20.313,15.336,19.876z M5.654,17.724 c0.193-0.331,2.538-4.213,6.943-5.637c0.111-0.036,0.224-0.07,0.337-0.102c-0.214-0.485-0.448-0.971-0.692-1.45 c-4.266,1.277-8.405,1.223-8.778,1.216c-0.003,0.087-0.004,0.174-0.004,0.261C3.458,14.207,4.29,16.21,5.654,17.724z M3.639,10.264 c0.382,0.005,3.901,0.02,7.897-1.041c-1.415-2.516-2.942-4.631-3.167-4.94C5.979,5.41,4.193,7.613,3.639,10.264z M9.998,3.709 c0.236,0.316,1.787,2.429,3.187,5c3.037-1.138,4.323-2.867,4.477-3.085C16.154,4.286,14.17,3.471,12,3.471 C11.311,3.471,10.641,3.554,9.998,3.709z M18.612,6.612C18.432,6.855,17,8.69,13.842,9.979c0.199,0.407,0.389,0.821,0.567,1.237 c0.063,0.148,0.124,0.295,0.184,0.441c2.842-0.357,5.666,0.215,5.948,0.275C20.522,9.916,19.801,8.065,18.612,6.612z"}))}].map((({name:e,title:t,color:n,icon:a})=>{return{isDefault:"facebook"===e,name:e,title:t,attributes:(l=`https://www.mailjet.com/images/theme/v1/icons/ico-social/${e}.png`,r=t,o=n,{img:l,label:r,style:{noptin:{border:{radius:"50%"},color:{background:o}}}}),icon:a||e,isActive:(t,n)=>t.img&&t.img.includes(e)||t.label&&t.label.includes(e)||t.url&&t.url.includes(e)};var l,r,o})),nl=tl,{name:al}=el,ll=(ra({name:al,metadata:el,settings:{icon:ja,edit:Qa,save:({attributes:e,context:t})=>{const{url:n,img:a,label:l,rel:r}=e,{iconSize:o}=t,s=la(e),c=s?.style?.backgroundColor,u=le.useBlockProps.save({width:o,style:{color:c,backgroundColor:c,...Kn(e)}});return(0,i.createElement)("td",{...u,width:o},(0,i.createElement)("a",{href:n,target:"_blank",rel:r,style:{display:"inline-block",textDecoration:"none"}},(0,i.createElement)("img",{src:a||"https://placehold.co/30x30@2x.png",alt:l,width:o,height:o})))},variations:nl}}),(0,i.createElement)(k.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(k.Path,{d:"M4.8 11.4H2.1V9H1v6h1.1v-2.6h2.7V15h1.1V9H4.8v2.4zm1.9-1.3h1.7V15h1.1v-4.9h1.7V9H6.7v1.1zM16.2 9l-1.5 2.7L13.3 9h-.9l-.8 6h1.1l.5-4 1.5 2.8 1.5-2.8.5 4h1.1L17 9h-.8zm3.8 5V9h-1.1v6h3.6v-1H20z"}))),rl={apiVersion:3,name:"core/html",title:(0,_.__)("RAW","newsletter-optin-box"),category:"content",description:(0,_.__)("Add custom HTML code or merge tags to your email.","newsletter-optin-box"),keywords:["code","raw"],attributes:{content:{type:"string",source:"raw"}},supports:{customClassName:!1,className:!1,html:!1}},{name:ol}=rl,il=(ra({name:ol,metadata:rl,settings:{icon:ll,example:{attributes:{content:"<marquee>"+(0,_.__)("Welcome to the wonderful world of blocks…")+"</marquee>"}},edit:function e({attributes:t,setAttributes:n}){const[a,l]=(0,u.useState)(!1),r=(0,u.useContext)(h.Disabled.Context),o=(0,b.useInstanceId)(e,"html-edit-desc"),s=(0,le.useBlockProps)({className:"block-library-html__edit","aria-describedby":a?o:void 0});return(0,i.createElement)("div",{...s},(0,i.createElement)(le.BlockControls,null,(0,i.createElement)(h.ToolbarGroup,null,(0,i.createElement)(h.ToolbarButton,{className:"components-tab-button",isPressed:!a,onClick:function(){l(!1)}},"HTML"),(0,i.createElement)(h.ToolbarButton,{className:"components-tab-button",isPressed:a,onClick:function(){l(!0)}},(0,_.__)("Preview")))),a||r?(0,i.createElement)(u.RawHTML,null,t.content):(0,i.createElement)(le.PlainText,{value:t.content,onChange:e=>n({content:e}),placeholder:(0,_.__)("Write HTML…"),"aria-label":(0,_.__)("HTML")}))},save:function({attributes:e}){return(0,i.createElement)(u.RawHTML,null,e.content)}}}),(0,i.createElement)(k.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(k.Path,{d:"M18 4h-7c-1.1 0-2 .9-2 2v3H6c-1.1 0-2 .9-2 2v7c0 1.1.9 2 2 2h7c1.1 0 2-.9 2-2v-3h3c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4.5 14c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5v-7c0-.3.2-.5.5-.5h3V13c0 1.1.9 2 2 2h2.5v3zm0-4.5H11c-.3 0-.5-.2-.5-.5v-2.5H13c.3 0 .5.2.5.5v2.5zm5-.5c0 .3-.2.5-.5.5h-3V11c0-1.1-.9-2-2-2h-2.5V6c0-.3.2-.5.5-.5h7c.3 0 .5.2.5.5v7z"}))),sl=e=>{const t={style:{},vml:null};return e.style?.background?.backgroundImage?.url?(t.style.backgroundImage=`url("${e.style.background.backgroundImage.url}")`,t.style.backgroundSize="cover",t):t},cl={apiVersion:3,name:"noptin/group",title:(0,_.__)("Section","newsletter-optin-box"),category:"design",description:(0,_.__)("Gather blocks in a layout container.","newsletter-optin-box"),keywords:["container","wrapper","row","section"],attributes:{templateLock:{type:["string","boolean"],enum:["all","insert","contentOnly",!1]},allowedBlocks:{type:"array"},align:{type:"string",default:"center",enum:["left","center","right"]},width:{type:"string",default:"600px"},style:{type:"object",default:{spacing:{margin:{top:"20px",right:"20px",bottom:"20px",left:"20px"}},noptin:{color:{background:"#ffffff"}}}}},noptin:{typography:!0,border:!0,color:!0},supports:{__experimentalOnEnter:!0,__experimentalOnMerge:!0,__experimentalSettings:!0,align:["left","center","right"],anchor:!1,html:!1,background:{__experimentalSkipSerialization:!0,backgroundImage:!0},spacing:{__experimentalSkipSerialization:!0,margin:!0,padding:!0,__experimentalDefaultControls:{margin:!0,padding:!0}}}},ul={from:[{type:"block",isMultiBlock:!0,blocks:["*"],__experimentalConvert(e){const t=e.map((e=>(0,te.createBlock)(e.name,e.attributes,e.innerBlocks)));return(0,te.createBlock)("noptin/group",{},t)}}]},ml=ul,{name:dl}=cl,pl=(ra({name:dl,metadata:cl,settings:{icon:il,example:{attributes:{style:{color:{text:"#000000",background:"#ffffff"}}},innerBlocks:[{name:"core/paragraph",attributes:{customTextColor:"#cf2e2e",fontSize:"large",content:(0,_.__)("One.")}},{name:"core/paragraph",attributes:{customTextColor:"#ff6900",fontSize:"large",content:(0,_.__)("Two.")}},{name:"core/paragraph",attributes:{customTextColor:"#fcb900",fontSize:"large",content:(0,_.__)("Three.")}},{name:"core/paragraph",attributes:{customTextColor:"#00d084",fontSize:"large",content:(0,_.__)("Four.")}},{name:"core/paragraph",attributes:{customTextColor:"#0693e3",fontSize:"large",content:(0,_.__)("Five.")}},{name:"core/paragraph",attributes:{customTextColor:"#9b51e0",fontSize:"large",content:(0,_.__)("Six.")}}]},transforms:ml,edit:({attributes:e,setAttributes:t})=>{const{width:n,align:a}=e,l=ia(e,!0),r={width:n,maxWidth:"100%",borderCollapse:"separate",...Kn(e),...la(e).style,...sl(e).style},o=(0,le.useInnerBlocksProps)({style:Zn(e)},{templateLock:e.templateLock,allowedBlocks:e.allowedBlocks}),s=(0,h.__experimentalUseCustomUnits)({availableUnits:["%","px","em","rem","vw"]});return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(le.InspectorControls,null,(0,i.createElement)(h.PanelBody,{title:(0,_.__)("Section settings")},(0,i.createElement)(h.__experimentalUnitControl,{label:(0,_.__)("Width"),labelPosition:"edge",__unstableInputWidth:"80px",min:10,value:n||"",onChange:e=>t({width:e}),units:s}))),(0,i.createElement)("div",{...(0,le.useBlockProps)({style:l.margin})},(0,i.createElement)("table",{width:n,align:`${a||"center"}`,cellPadding:0,cellSpacing:0,role:"presentation",style:r},(0,i.createElement)("tbody",null,(0,i.createElement)("tr",null,(0,i.createElement)("td",{style:l.padding,align:`${a||"center"}`},(0,i.createElement)("table",{border:0,cellPadding:0,cellSpacing:0,width:"100%"},(0,i.createElement)("tbody",null,(0,i.createElement)("tr",null,(0,i.createElement)("td",{...o}))))))))))},save:({attributes:e})=>{const{width:t,align:n}=e,a=ia.save(e,!0),l={width:t,maxWidth:"100%",borderCollapse:"separate",...Kn(e),...la(e).style,...sl(e).style};return(0,i.createElement)("div",{...le.useBlockProps.save({style:a.margin})},(0,i.createElement)("table",{width:t,align:`${n||"center"}`,cellPadding:0,cellSpacing:0,role:"presentation",style:l},(0,i.createElement)("tbody",null,(0,i.createElement)("tr",null,(0,i.createElement)("td",{style:a.padding,align:`${n||"center"}`},(0,i.createElement)("table",{border:"0",cellPadding:"0",cellSpacing:"0",width:"100%"},(0,i.createElement)("tbody",null,(0,i.createElement)("tr",null,(0,i.createElement)("td",{style:{...Zn(e),...la(e).style}},(0,i.createElement)(le.InnerBlocks.Content,null))))))))))}}}),(0,i.createElement)(k.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(k.Path,{d:"M19 6H6c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h13c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-4.1 1.5v10H10v-10h4.9zM5.5 17V8c0-.3.2-.5.5-.5h2.5v10H6c-.3 0-.5-.2-.5-.5zm14 0c0 .3-.2.5-.5.5h-2.6v-10H19c.3 0 .5.2.5.5v9z"}))),gl=e=>{const t=parseFloat(e);return Number.isFinite(t)?parseFloat(t.toFixed(2)):void 0};function hl(e,t){const{width:n=100/t}=e.attributes;return gl(n)}function _l(e,t,n=e.length){const a=function(e,t=e.length){return e.reduce(((e,n)=>e+hl(n,t)),0)}(e,n);return Object.fromEntries(Object.entries(function(e,t=e.length){return e.reduce(((e,n)=>{const a=hl(n,t);return Object.assign(e,{[n.clientId]:a})}),{})}(e,n)).map((([e,n])=>[e,gl(t*n/a)])))}function bl(e,t){return e.map((e=>({...e,attributes:{...e.attributes,width:`${t[e.clientId]}%`}})))}const El=["noptin/column"],fl=(0,I.withDispatch)(((e,t,n)=>({updateColumns(a,l){const{clientId:r}=t,{replaceInnerBlocks:o}=e(le.store),{getBlocks:i}=n.select(le.store);let s=i(r);const c=s.every((e=>{const t=e.attributes.width;return Number.isFinite(t?.endsWith?.("%")?parseFloat(t):t)})),u=l>a;if(u&&c){const e=gl(100/l);s=[...bl(s,_l(s,100-e)),...Array.from({length:l-a}).map((()=>(0,te.createBlock)("noptin/column",{width:`${e}%`})))]}else u?s=[...s,...Array.from({length:l-a}).map((()=>(0,te.createBlock)("noptin/column")))]:l<a&&(s=s.slice(0,-(a-l)),c)&&(s=bl(s,_l(s,100)));o(r,s)}})))((function({attributes:e,setAttributes:t,updateColumns:n,clientId:a}){const{isStackedOnMobile:l,verticalAlignment:r,templateLock:o}=e,{count:s,canInsertColumnBlock:c,minCount:u}=(0,I.useSelect)((e=>{const{canInsertBlockType:t,canRemoveBlock:n,getBlocks:l,getBlockCount:r}=e(le.store),o=l(a).reduce(((e,t,a)=>(n(t.clientId)||e.push(a),e)),[]);return{count:r(a),canInsertColumnBlock:t("noptin/column",a),minCount:Math.max(...o)+1}}),[a]),m=(0,le.useBlockProps)({className:l?"is-stacked-on-mobile":void 0,style:{display:"table",width:"100%",...Zn(e),...Kn(e),...ia(e),...la(e).style}}),d=(0,le.useInnerBlocksProps)(m,{allowedBlocks:El,orientation:"horizontal",renderAppender:!1,templateLock:o});return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(le.BlockControls,null,(0,i.createElement)(le.BlockVerticalAlignmentToolbar,{onChange:e=>t({verticalAlignment:e}),value:r})),(0,i.createElement)(le.InspectorControls,null,(0,i.createElement)(h.PanelBody,null,c&&(0,i.createElement)(i.Fragment,null,(0,i.createElement)(h.RangeControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,_.__)("Columns"),value:s,onChange:e=>n(s,Math.max(u,e)),min:Math.max(1,u),max:Math.max(6,s)}),s>6&&(0,i.createElement)(h.Notice,{status:"warning",isDismissible:!1},(0,_.__)("This column count exceeds the recommended amount and may cause visual breakage."))),(0,i.createElement)(h.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,_.__)("Stack on mobile"),checked:l,onChange:()=>t({isStackedOnMobile:!l})}))),(0,i.createElement)("div",{...d}))}));function vl({clientId:e,name:t,setAttributes:n}){const{blockType:a,defaultVariation:l,variations:r}=(0,I.useSelect)((e=>{const{getBlockVariations:n,getBlockType:a,getDefaultBlockVariation:l}=e(te.store);return{blockType:a(t),defaultVariation:l(t,"block"),variations:n(t,"block")}}),[t]),{replaceInnerBlocks:o}=(0,I.useDispatch)(le.store),s=(0,le.useBlockProps)();return(0,i.createElement)("div",{...s},(0,i.createElement)(le.__experimentalBlockVariationPicker,{icon:a?.icon?.src,label:a?.title,variations:r,onSelect:(t=l)=>{t.attributes&&n(t.attributes),t.innerBlocks&&o(e,(0,te.createBlocksFromInnerBlocksTemplate)(t.innerBlocks),!0)},allowSkip:!0}))}const yl={apiVersion:3,name:"noptin/columns",title:(0,_.__)("Columns","newsletter-optin-box"),category:"design",description:(0,_.__)("Display content in multiple columns, with blocks added to each column.","newsletter-optin-box"),attributes:{verticalAlignment:{type:"string",default:"top"},isStackedOnMobile:{type:"boolean",default:!0},templateLock:{type:["string","boolean"],enum:["all","insert","contentOnly",!1]}},providesContext:{verticalAlignment:"verticalAlignment"},noptin:{typography:!0,border:!0,color:!0},supports:{anchor:!1,html:!1,__experimentalExposeControlsToChildren:!0,spacing:{__experimentalSkipSerialization:!0,margin:!0,__experimentalDefaultControls:{margin:!0}}}};function wl(e,t=!1){return`\n    ${t?"\x3c!--[if !true]>\x3c!--\x3e":"\x3c!--[if true]>"}\n    ${e}\n    ${t?"\x3c!--<![endif]--\x3e":"<![endif]--\x3e"}\n  `}const kl=[{name:"one-column-full",title:(0,_.__)("100"),description:(0,_.__)("One column"),icon:(0,i.createElement)(h.SVG,{width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(h.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"m39.0625 14h-30.0625v20.0938h30.0625zm-30.0625-2c-1.10457 0-2 .8954-2 2v20.0938c0 1.1045.89543 2 2 2h30.0625c1.1046 0 2-.8955 2-2v-20.0938c0-1.1046-.8954-2-2-2z"})),innerBlocks:[["noptin/column"]],scope:["block"]},{name:"two-columns-equal",title:(0,_.__)("50 / 50"),description:(0,_.__)("Two columns; equal split"),icon:(0,i.createElement)(h.SVG,{width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(h.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M39 12C40.1046 12 41 12.8954 41 14V34C41 35.1046 40.1046 36 39 36H9C7.89543 36 7 35.1046 7 34V14C7 12.8954 7.89543 12 9 12H39ZM39 34V14H25V34H39ZM23 34H9V14H23V34Z"})),isDefault:!0,innerBlocks:[["noptin/column",{width:"50%"}],["noptin/column",{width:"50%"}]],scope:["block"]},{name:"two-columns-one-third-two-thirds",title:(0,_.__)("33 / 66"),description:(0,_.__)("Two columns; one-third, two-thirds split"),icon:(0,i.createElement)(h.SVG,{width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(h.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M39 12C40.1046 12 41 12.8954 41 14V34C41 35.1046 40.1046 36 39 36H9C7.89543 36 7 35.1046 7 34V14C7 12.8954 7.89543 12 9 12H39ZM39 34V14H20V34H39ZM18 34H9V14H18V34Z"})),innerBlocks:[["noptin/column",{width:"33.33%"}],["noptin/column",{width:"66.66%"}]],scope:["block"]},{name:"two-columns-two-thirds-one-third",title:(0,_.__)("66 / 33"),description:(0,_.__)("Two columns; two-thirds, one-third split"),icon:(0,i.createElement)(h.SVG,{width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(h.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M39 12C40.1046 12 41 12.8954 41 14V34C41 35.1046 40.1046 36 39 36H9C7.89543 36 7 35.1046 7 34V14C7 12.8954 7.89543 12 9 12H39ZM39 34V14H30V34H39ZM28 34H9V14H28V34Z"})),innerBlocks:[["noptin/column",{width:"66.66%"}],["noptin/column",{width:"33.33%"}]],scope:["block"]},{name:"three-columns-equal",title:(0,_.__)("33 / 33 / 33"),description:(0,_.__)("Three columns; equal split"),icon:(0,i.createElement)(h.SVG,{width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(h.Path,{fillRule:"evenodd",d:"M41 14a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h30a2 2 0 0 0 2-2V14zM28.5 34h-9V14h9v20zm2 0V14H39v20h-8.5zm-13 0H9V14h8.5v20z"})),innerBlocks:[["noptin/column",{width:"33.33%"}],["noptin/column",{width:"33.33%"}],["noptin/column",{width:"33.33%"}]],scope:["block"]},{name:"three-columns-wider-center",title:(0,_.__)("25 / 50 / 25"),description:(0,_.__)("Three columns; wide center column"),icon:(0,i.createElement)(h.SVG,{width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(h.Path,{fillRule:"evenodd",d:"M41 14a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h30a2 2 0 0 0 2-2V14zM31 34H17V14h14v20zm2 0V14h6v20h-6zm-18 0H9V14h6v20z"})),innerBlocks:[["noptin/column",{width:"25%"}],["noptin/column",{width:"50%"}],["noptin/column",{width:"25%"}]],scope:["block"]}],xl={from:[{type:"block",isMultiBlock:!0,blocks:["*"],__experimentalConvert:e=>{const t=+(100/e.length).toFixed(2),n=e.map((({name:e,attributes:n,innerBlocks:a})=>["noptin/column",{width:`${t}%`},[[e,{...n},a]]]));return(0,te.createBlock)("noptin/columns",{},(0,te.createBlocksFromInnerBlocksTemplate)(n))},isMatch:({length:e},t)=>(1!==t.length||"noptin/columns"!==t[0].name)&&e&&e<=6}],ungroup:(e,t)=>t.flatMap((e=>e.innerBlocks))},{name:Sl}=yl,Cl=(ra({name:Sl,metadata:yl,settings:{icon:pl,variations:kl,edit:e=>{const{clientId:t}=e,n=(0,I.useSelect)((e=>e(le.store).getBlocks(t).length>0),[t])?fl:vl;return(0,i.createElement)(n,{...e})},save:function({attributes:e}){const{isStackedOnMobile:t}=e,n={display:"table",width:"100%",...Zn(e),...Kn(e),...ia.save(e),...la(e).style},a=le.useBlockProps.save({className:t?"is-stacked-on-mobile":void 0,style:n}),l=wl(`<table role="presentation" width="100%" style="${Object.entries(n).reduce(((e,[t,n])=>isNil(n)||""===n?e:`${e}${t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${n};`),"")}"><tr>`),r=wl("</tr></table>");return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(u.RawHTML,{children:`${l}\x3c!--[if !true]>\x3c!--\x3e`}),(0,i.createElement)("div",{...a},(0,i.createElement)(u.RawHTML,{children:"\x3c!--<![endif]--\x3e"}),(0,i.createElement)(le.InnerBlocks.Content,null),(0,i.createElement)(u.RawHTML,{children:"\x3c!--[if !true]>\x3c!--\x3e"})),(0,i.createElement)(u.RawHTML,{children:`\x3c!--<![endif]--\x3e${r}`}))},transforms:xl}}),(0,i.createElement)(k.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(k.Path,{d:"M19 6H6c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h13c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zM6 17.5c-.3 0-.5-.2-.5-.5V8c0-.3.2-.5.5-.5h3v10H6zm13.5-.5c0 .3-.2.5-.5.5h-3v-10h3c.3 0 .5.2.5.5v9z"}))),Tl={apiVersion:3,name:"noptin/column",title:(0,_.__)("Column","newsletter-optin-box"),category:"design",parent:["noptin/columns"],description:(0,_.__)("A single column within a columns block.","newsletter-optin-box"),attributes:{width:{type:"string"},allowedBlocks:{type:"array"},templateLock:{type:["string","boolean"],enum:["all","insert","contentOnly",!1]}},usesContext:["verticalAlignment"],noptin:{typography:!0,border:!0,color:!0},supports:{__experimentalOnEnter:!0,anchor:!1,reusable:!1,html:!1,spacing:{__experimentalSkipSerialization:!0,padding:!0,__experimentalDefaultControls:{padding:!0}}}},{name:Bl}=Tl,Il=(ra({name:Bl,metadata:Tl,settings:{icon:Cl,edit:function({attributes:{width:e,templateLock:t,allowedBlocks:n,...a},setAttributes:l,clientId:r,context:o}){const{verticalAlignment:s}=o,c=(0,h.__experimentalUseCustomUnits)({availableUnits:["%","px","em","rem","vw"]}),{columnsIds:u,hasChildBlocks:m}=(0,I.useSelect)((e=>{const{getBlockOrder:t,getBlockRootClientId:n}=e(le.store),a=n(r);return{hasChildBlocks:t(r).length>0,columnsIds:t(a)}}),[r]),d={display:"table-cell",verticalAlign:s||"top",...Zn(a),...Kn(a),...ia(a),...la(a).style};if(e&&/\d/.test(e)){let t=Number.isFinite(e)?e+"%":e;if(!Number.isFinite(e)&&e?.endsWith("%")){const n=1e12;t=Math.round(Number.parseFloat(e)*n)/n+"%"}d.width=t}const p=(0,le.useBlockProps)({style:d}),g=u.length,b=u.indexOf(r)+1,E=(0,_.sprintf)(/* translators: 1: Block label (i.e. "Block: Column"), 2: Position of the selected block, 3: Total number of sibling blocks of the same type */
(0,_.__)("%1$s (%2$d of %3$d)"),p["aria-label"],b,g),f=(0,le.useInnerBlocksProps)({...p,"aria-label":E},{templateLock:t,allowedBlocks:n,renderAppender:m?void 0:le.InnerBlocks.ButtonBlockAppender});return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(le.InspectorControls,null,(0,i.createElement)(h.PanelBody,{title:(0,_.__)("Column settings")},(0,i.createElement)(h.__experimentalUnitControl,{label:(0,_.__)("Width"),labelPosition:"edge",__unstableInputWidth:"80px",value:e||"",onChange:e=>{e=0>parseFloat(e)?"0":e,l({width:e})},units:c}))),(0,i.createElement)("div",{...f}))},save:function({attributes:e,context:t}){const{width:n}=e,{verticalAlignment:a}=t,l={display:"table-cell",verticalAlign:a||"top",...Kn(e),...ia.save(e),...Zn(e),...la(extra).style};if(n&&/\d/.test(n)){let e=Number.isFinite(n)?n+"%":n;if(!Number.isFinite(n)&&n?.endsWith("%")){const t=1e12;e=Math.round(Number.parseFloat(n)*t)/t+"%"}l.width=e}const r=le.useBlockProps.save({style:l}),o=wl(`<td style="${Object.entries(l).reduce(((e,[t,n])=>(0,fn.isNil)(n)||""===n?e:`${e}${t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${n};`),"")}">`),s=wl("</td>");return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(u.RawHTML,{children:`${o}\x3c!--[if !true]>\x3c!--\x3e`}),(0,i.createElement)("div",{...r},(0,i.createElement)(u.RawHTML,{children:"\x3c!--[if !true]>\x3c!--\x3e"}),(0,i.createElement)(le.InnerBlocks.Content,null),(0,i.createElement)(u.RawHTML,{children:"\x3c!--[if !true]>\x3c!--\x3e"})),(0,i.createElement)(u.RawHTML,{children:`\x3c!--<![endif]--\x3e${s}`}))}}}),(0,i.createElement)(k.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(k.Path,{d:"M4.5 12.5v4H3V7h1.5v3.987h15V7H21v9.5h-1.5v-4h-15Z"}))),Ml={apiVersion:3,name:"noptin/separator",title:(0,_.__)("Separator","newsletter-optin-box"),category:"design",description:(0,_.__)("Create a break between ideas or sections with a horizontal separator.","newsletter-optin-box"),attributes:{align:{type:"string",default:"center",source:"attribute",selector:"hr",attribute:"align"},width:{type:"string",default:"80%"},height:{type:"string",default:"3px"},style:{type:"object",default:{noptin:{color:{background:"#95a5a6"}},spacing:{margin:{bottom:"16px"}}}}},noptin:{color:{background:!0}},supports:{anchor:!1,spacing:{__experimentalSkipSerialization:!0,margin:["top","bottom"],__experimentalDefaultControls:{margin:!0}}}},Nl={from:[{type:"enter",regExp:/^-{3,}$/,transform:()=>(0,te.createBlock)("noptin/separator")},{type:"raw",selector:"hr",schema:{hr:{}}}]},{name:Ll}=Ml,Pl=(ra({name:Ll,metadata:Ml,settings:{icon:Il,transforms:Nl,edit:function({attributes:e,setAttributes:t}){const{align:n,width:a,height:l}=e,r=la(e),o=r?.style?.backgroundColor,s=(0,h.__experimentalUseCustomUnits)({availableUnits:["%","px","em","rem"]});return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(le.BlockControls,null,(0,i.createElement)(le.BlockAlignmentToolbar,{onChange:e=>t({align:e}),value:n})),(0,i.createElement)(le.InspectorControls,null,(0,i.createElement)(h.PanelBody,{title:(0,_.__)("Settings")},(0,i.createElement)(h.__experimentalUnitControl,{label:(0,_.__)("Width"),labelPosition:"edge",__unstableInputWidth:"80px",value:a||"",onChange:e=>{e=0>parseFloat(e)?"0":e,t({width:e})},units:s}),(0,i.createElement)(h.__experimentalUnitControl,{label:(0,_.__)("Height"),labelPosition:"edge",__unstableInputWidth:"80px",value:l||"",onChange:e=>{e=e?0>parseFloat(e)?"0":e:"1em",t({height:e})},units:s}))),(0,i.createElement)("hr",{...(0,le.useBlockProps)({style:{color:o,backgroundColor:o,borderWidth:0,height:l||"1em",width:a||"100%",maxWidth:"100%",...ia(e)},align:n})}))},save:function({attributes:e}){const{align:t,width:n,height:a}=e,l=la(e),r=l?.style?.backgroundColor;return(0,i.createElement)("hr",{...le.useBlockProps.save({style:{color:r,backgroundColor:r,borderWidth:0,height:a||"1em",width:n||"100%",maxWidth:"100%",...ia.save(e)},align:t})})}}}),(0,i.createElement)(k.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(k.Path,{d:"M7 18h4.5v1.5h-7v-7H6V17L17 6h-4.5V4.5h7v7H18V7L7 18Z"}))),Al={apiVersion:3,name:"noptin/spacer",title:(0,_.__)("Spacer","newsletter-optin-box"),category:"design",description:(0,_.__)("Add a blank space between blocks and customize its height.","newsletter-optin-box"),attributes:{height:{type:"string",default:"100px"}},noptin:{color:{background:!0}},supports:{anchor:!1,spacing:{__experimentalSkipSerialization:!0,margin:["top","bottom"],__experimentalDefaultControls:{margin:!0}}}},{name:Rl}=Al;ra({name:Rl,metadata:Al,settings:{icon:Pl,edit:({attributes:e,isSelected:t,setAttributes:n})=>{const{height:a}=e,l=la(e),r=l?.style?.backgroundColor,o={backgroundColor:r||(t?"#95a5a6":void 0),height:a,...ia(e)},s=(0,h.__experimentalUseCustomUnits)({availableUnits:["px","em","rem"],defaultValues:{px:100,em:10,rem:10}});return(0,i.createElement)(i.Fragment,null,(0,i.createElement)("div",{...(0,le.useBlockProps)({style:o})}," "),(0,i.createElement)(le.InspectorControls,null,(0,i.createElement)(h.PanelBody,{title:(0,_.__)("Settings")},(0,i.createElement)(h.__experimentalUnitControl,{label:(0,_.__)("Height"),labelPosition:"edge",__unstableInputWidth:"80px",value:a||"",onChange:e=>{e=e?0>parseFloat(e)?"0px":e:"0px",n({height:e})},units:s,min:0}))))},save:function({attributes:e}){const{height:t}=e,n=la(e),a=n?.style?.backgroundColor;return(0,i.createElement)("div",{...le.useBlockProps.save({style:{color:a,backgroundColor:a,height:t||"100px",lineHeight:t||"100px",...ia.save(e)}})}," ")}}});const Dl=(0,I.withDispatch)(((e,{clientId:t,attributes:n})=>{const{replaceBlock:a}=e(le.store);return{convertToHTML(){a(t,(0,te.createBlock)("core/html",{content:n.originalUndelimitedContent}))}}}))((function({attributes:e,convertToHTML:t,clientId:n}){const{originalName:a,originalUndelimitedContent:l}=e,r=!!l,{hasHTMLBlock:o}=(0,I.useSelect)((e=>{const{canInsertBlockType:t,getBlockRootClientId:a}=e(le.store);return{hasHTMLBlock:t("core/html",a(n))}}),[n]),s=[];let c;const m=(0,i.createElement)(h.Button,{key:"convert",onClick:t,variant:"primary"},(0,_.__)("Keep as HTML"));return r&&o?(c=(0,_.sprintf)(/* translators: %s: block name */
(0,_.__)('Your site doesn’t include support for the "%s" block. You can leave this block intact, convert its content to a RAW block, or remove it entirely.'),a),s.push(m)):c=(0,_.sprintf)(/* translators: %s: block name */
(0,_.__)('Your site doesn’t include support for the "%s" block. You can leave this block intact or remove it entirely.'),a),(0,i.createElement)("div",{...(0,le.useBlockProps)({className:"has-warning"})},(0,i.createElement)(le.Warning,{actions:s},c),(0,i.createElement)(u.RawHTML,null,(0,$n.safeHTML)(l)))})),Vl={apiVersion:3,name:"noptin/missing",title:(0,_.__)("Unsupported Block","newsletter-optin-box"),category:"content",description:(0,_.__)("This block is not supported in the email editor.","newsletter-optin-box"),attributes:{originalName:{type:"string"},originalUndelimitedContent:{type:"string"},originalContent:{type:"string",source:"raw"}},supports:{className:!1,customClassName:!1,inserter:!1,html:!1,reusable:!1}},{name:zl}=Vl;ra({name:zl,metadata:Vl,settings:{name:zl,edit:Dl,save:function({attributes:e}){return(0,i.createElement)(u.RawHTML,null,e.originalContent)}}}),(0,te.setDefaultBlockName)("core/paragraph"),(0,te.setFreeformContentHandlerName)("core/html"),(0,te.setUnregisteredTypeHandlerName)("core/missing");const Hl=window.wp.plugins,Fl={
/* translators: accessibility text for the editor top bar landmark region. */
header:(0,_.__)("Editor top bar","newsletter-optin-box"),
/* translators: accessibility text for the editor content landmark region. */
body:(0,_.__)("Editor content","newsletter-optin-box"),
/* translators: accessibility text for the editor settings landmark region. */
sidebar:(0,_.__)("Editor settings","newsletter-optin-box"),
/* translators: accessibility text for the editor publish landmark region. */
actions:(0,_.__)("Editor publish","newsletter-optin-box"),
/* translators: accessibility text for the editor footer landmark region. */
footer:(0,_.__)("Editor footer","newsletter-optin-box"),
/* translators: accessibility text for the editor secondary sidebar landmark region. */
secondarySidebar:(0,_.__)("Document Overview","newsletter-optin-box")},$l=function(){const e=(0,b.useViewportMatch)("large","<"),t=(0,b.useViewportMatch)("huge","<"),{setIsInserterOpened:n,setCurrentSidebar:a}=(0,I.useDispatch)(ot),{hasComplementaryArea:l,isInserterOpened:r,mode:o,previousShortcut:s,nextShortcut:c}=(0,I.useSelect)((t=>{const n=t(ot).getEmailContentType(),{getAllShortcutKeyCombinations:a}=t(Tt.store);return{isInserterOpened:!e&&!!t(ot).isInserterOpened()&&"visual"===n,hasComplementaryArea:!e&&!!t(ot).getCurrentSidebar(),mode:n,previousShortcut:a("core/edit-email/previous-region"),nextShortcut:a("core/edit-email/next-region")}}),[e]);(0,u.useEffect)((()=>{r&&t&&a(null)}),[r,a,n,t]),(0,u.useEffect)((()=>{l&&t&&n(!1)}),[l,n,t]);const m=g()("edit-post-layout","is-mode-"+o,{"is-sidebar-opened":l,"is-inserter-opened":r});return(0,i.createElement)(v,{isDistractionFree:!1,className:m,labels:Fl,header:(0,i.createElement)(cn,null),editorNotices:(0,i.createElement)(un,null),notices:(0,i.createElement)(mn,null),secondarySidebar:r&&(0,i.createElement)(Dn,null),sidebar:l&&(0,i.createElement)(Nn.Slot,null),content:(0,i.createElement)(Ut,null),footer:!e&&(0,i.createElement)(dn,null),shortcuts:{previous:s,next:c}})};function Ol(){const e=(0,b.useViewportMatch)("medium","<"),{createErrorNotice:t}=(0,I.useDispatch)(Nt.store),n=(0,I.useSelect)((e=>!!e(m.store).get(se,"fullscreenMode")),[]);return(0,i.createElement)(At,null,(0,i.createElement)(Hn,null),(0,i.createElement)(zn,null),(0,i.createElement)(d,{isActive:n&&!e}),(0,i.createElement)(Mt.Register,null),(0,i.createElement)($l,null),(0,i.createElement)(Ln,null),(0,i.createElement)(Hl.PluginArea,{onError:function(e){t((0,_.sprintf)(/* translators: %s: plugin name */
(0,_.__)('The "%s" plugin has encountered an error and cannot be rendered.'),e))}}))}const Ul=()=>{const e=(0,I.useSelect)((e=>e(ot).getBlocks()),[]),{setBlocks:t}=(0,I.useDispatch)(ot),n=(0,u.useCallback)((e=>{t(e,!0)}),[t]),a=(0,u.useCallback)((e=>{t(e,!1)}),[t]),l=function(e){const{preferredStyleVariations:t}=(0,I.useSelect)((e=>({preferredStyleVariations:e(m.store).get(ot.name,"preferredStyleVariations")})),[]),{updatePreferredStyleVariations:n}=(0,I.useDispatch)(ot);return(0,u.useMemo)((()=>({...K?.settings,...e,mediaUpload:K?.user?.canUpload?it:void 0,__experimentalFetchLinkSuggestions:(t,n)=>(0,re.__experimentalFetchLinkSuggestions)(t,n,e),__experimentalFetchRichUrlData:re.__experimentalFetchUrlData,__experimentalPreferredStyleVariations:{value:t,onChange:n}})),[e,t,n])}({});return(0,i.createElement)(h.SlotFillProvider,null,(0,i.createElement)(le.BlockEditorProvider,{value:e,onInput:a,onChange:n,settings:l},(0,i.createElement)(Ol,null)))};c()((()=>{(0,te.setGroupingBlockName)("noptin/group"),(0,I.dispatch)(m.store).setDefaults(q,{fullscreenMode:!0,focusMode:!1,keepCaretInsideBlock:!1,welcomeGuide:!0,welcomeGuideStyles:!0,welcomeGuidePage:!0,welcomeGuideTemplate:!0,showListViewByDefault:!1,isComplementaryAreaVisible:!0}),(0,I.dispatch)(Y).setDefaultComplementaryArea(q,ee);const e=document.getElementById("noptin-email-campaigns__new");e&&(u.createRoot?(0,u.createRoot)(e).render((0,i.createElement)(Ul,null)):(0,u.render)((0,i.createElement)(Ul,null),e))}))},184:(e,t)=>{var n;!function(){"use strict";var a={}.hasOwnProperty;function l(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)){if(n.length){var o=l.apply(null,n);o&&e.push(o)}}else if("object"===r){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var i in n)a.call(n,i)&&n[i]&&e.push(i)}}}return e.join(" ")}e.exports?(l.default=l,e.exports=l):void 0===(n=function(){return l}.apply(t,[]))||(e.exports=n)}()}},n={};function a(e){var l=n[e];if(void 0!==l)return l.exports;var r=n[e]={exports:{}};return t[e](r,r.exports,a),r.exports}a.m=t,e=[],a.O=(t,n,l,r)=>{if(!n){var o=1/0;for(u=0;u<e.length;u++){for(var[n,l,r]=e[u],i=!0,s=0;s<n.length;s++)(!1&r||o>=r)&&Object.keys(a.O).every((e=>a.O[e](n[s])))?n.splice(s--,1):(i=!1,r<o&&(o=r));if(i){e.splice(u--,1);var c=l();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[n,l,r]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={257:0,410:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var l,r,[o,i,s]=n,c=0;if(o.some((t=>0!==e[t]))){for(l in i)a.o(i,l)&&(a.m[l]=i[l]);if(s)var u=s(a)}for(t&&t(n);c<o.length;c++)r=o[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(u)},n=globalThis.webpackChunknoptin_premium=globalThis.webpackChunknoptin_premium||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var l=a.O(void 0,[410],(()=>a(430)));l=a.O(l)})();