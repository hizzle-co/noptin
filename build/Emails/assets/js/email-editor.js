(()=>{var e,t={251:(e,t,n)=>{"use strict";var l={};n.r(l),n.d(l,{closeModal:()=>W,disableComplementaryArea:()=>A,enableComplementaryArea:()=>z,openModal:()=>G,pinItem:()=>D,setDefaultComplementaryArea:()=>H,setFeatureDefaults:()=>U,setFeatureValue:()=>O,toggleFeature:()=>$,unpinItem:()=>F});var a={};n.r(a),n.d(a,{getActiveComplementaryArea:()=>j,isComplementaryAreaLoading:()=>Z,isFeatureActive:()=>q,isItemPinned:()=>Y,isModalActive:()=>K});var r={};n.r(r),n.d(r,{BLOCK_INSPECTOR_IDENTIFIER:()=>ae,CONTENT_TYPES:()=>ne,CONTENT_TYPE_OPTIONS:()=>le,EMAIL_SETTINGS_IDENTIFIER:()=>re,JS_MISC_SETTINGS:()=>te,JS_SETTINGS:()=>ee,STORE_NAME:()=>X,TRACKED_EMAIL_OPTIONS:()=>oe});var o={};n.r(o),n.d(o,{openGeneralSidebar:()=>ie,registerSidebar:()=>pe,setCurrentSidebar:()=>de,setIsInserterOpened:()=>ue,setPreviewDeviceType:()=>me,togglePinnedPluginItem:()=>se,updatePreferredStyleVariations:()=>ce});var i={};n.r(i),n.d(i,{getCurrentSidebar:()=>_e,getInsertionPoint:()=>Ee,getPreviewDeviceType:()=>he,getSidebars:()=>be,isInserterOpened:()=>fe});var s={};n.r(s),n.d(s,{useBlockCss:()=>ze,useBlockEditorSettings:()=>Te,useCampaignSubType:()=>Re,useCampaignType:()=>Ve,useCampaignTypeInfo:()=>Le,useContentType:()=>He,useCustomCss:()=>De,useDebouncedInput:()=>We,useEmailField:()=>Me,useMetaField:()=>Ae,usePost:()=>Ne,usePostId:()=>Pe,usePostType:()=>Ie,usePremiumFeature:()=>Ge,useSetStyleValue:()=>Fe});var c={};n.r(c),n.d(c,{constants:()=>r,hooks:()=>s,initializeEditor:()=>Wa,store:()=>ve});const m=window.wp.hooks,u=window.wp.mediaUtils;(0,m.addFilter)("editor.MediaUpload","noptin/edit-email/components/media-upload",(()=>u.MediaUpload)),(0,m.addFilter)("blocks.getSaveContent.extraProps","noptin/style/addSaveProps",(function(e,t,n){return"core/html"!==t.name&&(e.id=""===n.anchor?null:n.anchor),e}));const d=window.wp.data,p=(0,d.combineReducers)({deviceType:function(e="Desktop",t){return"SET_PREVIEW_DEVICE_TYPE"===t.type?t.deviceType:e},blockInserterPanel:function(e=!1,t){return"SET_IS_INSERTER_OPENED"===t.type?t.value:e},sidebar:function(e={all:{},current:void 0},t){switch(t.type){case"SET_CURRENT_SIDEBAR":return{...e,current:t.value};case"REGISTER_SIDEBAR":return{...e,all:{...e.all,[t.name]:t.sidebar}}}return e}}),g=window.wp.i18n,h=window.wp.element,_=({isActive:e})=>((0,h.useEffect)((()=>{let e=!1;return document.body.classList.contains("sticky-menu")&&(e=!0,document.body.classList.remove("sticky-menu")),()=>{e&&document.body.classList.add("sticky-menu")}}),[]),(0,h.useEffect)((()=>(e?document.body.classList.add("is-fullscreen-mode"):document.body.classList.remove("is-fullscreen-mode"),()=>{e&&document.body.classList.remove("is-fullscreen-mode")})),[e]),null),b=window.React;var f=n(184),E=n.n(f);const v=window.wp.components,w=window.wp.compose;function y({children:e,className:t,ariaLabel:n,as:l="div",...a}){return(0,b.createElement)(l,{className:E()("interface-navigable-region",t),"aria-label":n,role:"region",tabIndex:"-1",...a},e)}const x={hidden:{opacity:0},hover:{opacity:1,transition:{type:"tween",delay:.2,delayChildren:.2}},distractionFreeInactive:{opacity:1,transition:{delay:0}}},k=(0,h.forwardRef)((function({isDistractionFree:e,footer:t,header:n,editorNotices:l,sidebar:a,secondarySidebar:r,notices:o,content:i,contentProps:s,actions:c,labels:m,className:u,enableRegionNavigation:d=!0,shortcuts:p},_){const f=(0,v.__unstableUseNavigateRegions)(p);!function(e){(0,h.useEffect)((()=>{const t=document&&document.querySelector(`html:not(.${e})`);if(t)return t.classList.toggle(e),()=>{t.classList.toggle(e)}}),[e])}("interface-interface-skeleton__html-container");const k={
/* translators: accessibility text for the top bar landmark region. */
header:(0,g.__)("Header"),
/* translators: accessibility text for the content landmark region. */
body:(0,g.__)("Content"),
/* translators: accessibility text for the secondary sidebar landmark region. */
secondarySidebar:(0,g.__)("Block Library"),
/* translators: accessibility text for the settings landmark region. */
sidebar:(0,g.__)("Settings"),
/* translators: accessibility text for the publish landmark region. */
actions:(0,g.__)("Publish"),
/* translators: accessibility text for the footer landmark region. */
footer:(0,g.__)("Footer"),...m};return(0,b.createElement)("div",{...d?f:{},ref:(0,w.useMergeRefs)([_,d?f.ref:void 0]),className:E()(u,"interface-interface-skeleton",f.className,!!t&&"has-footer")},(0,b.createElement)("div",{className:"interface-interface-skeleton__editor"},!!n&&(0,b.createElement)(y,{as:v.__unstableMotion.div,className:"interface-interface-skeleton__header","aria-label":k.header,initial:e?"hidden":"distractionFreeInactive",whileHover:e?"hover":"distractionFreeInactive",animate:e?"hidden":"distractionFreeInactive",variants:x,transition:e?{type:"tween",delay:.8}:void 0},n),e&&(0,b.createElement)("div",{className:"interface-interface-skeleton__header"},l),(0,b.createElement)("div",{className:"interface-interface-skeleton__body"},!!r&&(0,b.createElement)(y,{className:"interface-interface-skeleton__secondary-sidebar",ariaLabel:k.secondarySidebar},r),!!o&&(0,b.createElement)("div",{className:"interface-interface-skeleton__notices"},o),(0,b.createElement)(y,{className:"interface-interface-skeleton__content",ariaLabel:k.body,...s},i),!!a&&(0,b.createElement)(y,{className:"interface-interface-skeleton__sidebar",ariaLabel:k.sidebar},a),!!c&&(0,b.createElement)(y,{className:"interface-interface-skeleton__actions",ariaLabel:k.actions},c))),!!t&&(0,b.createElement)(y,{className:"interface-interface-skeleton__footer",ariaLabel:k.footer},t))}));function C({scope:e,...t}){return(0,b.createElement)(v.Fill,{name:`PinnedItems/${e}`,...t})}C.Slot=function({scope:e,className:t,...n}){return(0,b.createElement)(v.Slot,{name:`PinnedItems/${e}`,...n},(e=>e?.length>0&&(0,b.createElement)("div",{className:E()(t,"interface-pinned-items")},e)))};const S=C,B=window.wp.primitives,T=(0,b.createElement)(B.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,b.createElement)(B.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"}));function I({as:e=v.DropdownMenu,className:t,label:
/* translators: button label text should, if possible, be under 16 characters. */
n=(0,g.__)("Options"),popoverProps:l,toggleProps:a,children:r}){return(0,b.createElement)(e,{className:E()("interface-more-menu-dropdown",t),icon:T,label:n,popoverProps:{placement:"bottom-end",...l,className:E()("interface-more-menu-dropdown__content",l?.className)},toggleProps:{tooltipPosition:"bottom",...a}},(e=>r(e)))}const P=()=>{};function N({name:e,as:t=v.Button,onClick:n,...l}){return(0,b.createElement)(v.Fill,{name:e},(({onClick:e})=>(0,b.createElement)(t,{onClick:n||e?(...t)=>{(n||P)(...t),(e||P)(...t)}:void 0,...l})))}N.Slot=function({name:e,as:t=v.ButtonGroup,fillProps:n={},bubblesVirtually:l,...a}){return(0,b.createElement)(v.Slot,{name:e,bubblesVirtually:l,fillProps:n},(e=>{if(!h.Children.toArray(e).length)return null;const n=[];h.Children.forEach(e,(({props:{__unstableExplicitMenuItem:e,__unstableTarget:t}})=>{t&&e&&n.push(t)}));const l=h.Children.map(e,(e=>!e.props.__unstableExplicitMenuItem&&n.includes(e.props.__unstableTarget)?null:e));return(0,b.createElement)(t,{...a},l)}))};const M=N,L=window.wp.deprecated;var V=n.n(L);const R=window.wp.preferences,H=(e,t)=>({type:"SET_DEFAULT_COMPLEMENTARY_AREA",scope:e,area:t}),z=(e,t)=>({registry:n,dispatch:l})=>{t&&(n.select(R.store).get(e,"isComplementaryAreaVisible")||n.dispatch(R.store).set(e,"isComplementaryAreaVisible",!0),l({type:"ENABLE_COMPLEMENTARY_AREA",scope:e,area:t}))},A=e=>({registry:t})=>{t.select(R.store).get(e,"isComplementaryAreaVisible")&&t.dispatch(R.store).set(e,"isComplementaryAreaVisible",!1)},D=(e,t)=>({registry:n})=>{if(!t)return;const l=n.select(R.store).get(e,"pinnedItems");!0!==l?.[t]&&n.dispatch(R.store).set(e,"pinnedItems",{...l,[t]:!0})},F=(e,t)=>({registry:n})=>{if(!t)return;const l=n.select(R.store).get(e,"pinnedItems");n.dispatch(R.store).set(e,"pinnedItems",{...l,[t]:!1})};function $(e,t){return function({registry:n}){V()("dispatch( 'core/interface' ).toggleFeature",{since:"6.0",alternative:"dispatch( 'core/preferences' ).toggle"}),n.dispatch(R.store).toggle(e,t)}}function O(e,t,n){return function({registry:l}){V()("dispatch( 'core/interface' ).setFeatureValue",{since:"6.0",alternative:"dispatch( 'core/preferences' ).set"}),l.dispatch(R.store).set(e,t,!!n)}}function U(e,t){return function({registry:n}){V()("dispatch( 'core/interface' ).setFeatureDefaults",{since:"6.0",alternative:"dispatch( 'core/preferences' ).setDefaults"}),n.dispatch(R.store).setDefaults(e,t)}}function G(e){return{type:"OPEN_MODAL",name:e}}function W(){return{type:"CLOSE_MODAL"}}const j=(0,d.createRegistrySelector)((e=>(t,n)=>{const l=e(R.store).get(n,"isComplementaryAreaVisible");if(void 0!==l)return!1===l?null:t?.complementaryAreas?.[n]})),Z=(0,d.createRegistrySelector)((e=>(t,n)=>{const l=e(R.store).get(n,"isComplementaryAreaVisible"),a=t?.complementaryAreas?.[n];return l&&void 0===a})),Y=(0,d.createRegistrySelector)((e=>(t,n,l)=>{var a;const r=e(R.store).get(n,"pinnedItems");return null===(a=r?.[l])||void 0===a||a})),q=(0,d.createRegistrySelector)((e=>(t,n,l)=>(V()("select( 'core/interface' ).isFeatureActive( scope, featureName )",{since:"6.0",alternative:"select( 'core/preferences' ).get( scope, featureName )"}),!!e(R.store).get(n,l))));function K(e,t){return e.activeModal===t}const Q=(0,d.combineReducers)({complementaryAreas:function(e={},t){switch(t.type){case"SET_DEFAULT_COMPLEMENTARY_AREA":{const{scope:n,area:l}=t;return e[n]?e:{...e,[n]:l}}case"ENABLE_COMPLEMENTARY_AREA":{const{scope:n,area:l}=t;return{...e,[n]:l}}}return e},activeModal:function(e=null,t){switch(t.type){case"OPEN_MODAL":return t.name;case"CLOSE_MODAL":return null}return e}}),J=(0,d.createReduxStore)("core/interface",{reducer:Q,actions:l,selectors:a});(0,d.register)(J);const X="noptin/edit-email",ee=window.noptinEmailEditorSettings||{},te=window.noptinEmailSettingsMisc||{},ne=ee.types||{},le=Object.keys(ne).map((e=>({value:e,label:ne[e].label}))),ae=`${X}/block-inspector`,re=`${X}/email-settings`,oe=["email_sender","recipients","email_type","template","content_normal","content_plain_text","content_raw_html","content_visual","when_to_run","sends_after","sends_after_unit","preview_text","footer_text","heading","css"],ie=e=>({registry:t})=>{t.dispatch(J).enableComplementaryArea(X,e)},se=e=>({registry:t})=>{const n=t.select(J).isItemPinned(X,e);t.dispatch(J)[n?"unpinItem":"pinItem"](X,e)},ce=(e,t)=>({registry:n})=>{var l;if(!e)return;const a=null!==(l=n.select(R.store).get(X,"preferredStyleVariations"))&&void 0!==l?l:{};if(t)n.dispatch(R.store).set(X,"preferredStyleVariations",{...a,[e]:t});else{const t={...a};delete t[e],n.dispatch(R.store).set(X,"preferredStyleVariations",t)}};function me(e){return{type:"SET_PREVIEW_DEVICE_TYPE",deviceType:e}}function ue(e){return{type:"SET_IS_INSERTER_OPENED",value:e}}function de(e){return{type:"SET_CURRENT_SIDEBAR",value:e}}function pe(e,t){return{type:"REGISTER_SIDEBAR",name:e,sidebar:t}}const ge={rootClientId:void 0,insertionIndex:void 0,filterValue:void 0};function he(e){return e.deviceType}function _e(e){return e.sidebar?.current}function be(e){return e.sidebar?.all||{}}function fe(e){return!!e.blockInserterPanel}function Ee(e){return"boolean"==typeof e.blockInserterPanel?ge:e.blockInserterPanel}const ve=(0,d.createReduxStore)(X,{reducer:p,actions:o,selectors:i});(0,d.register)(ve);const we=window.wp.blocks,ye=window.wp.editor,xe=(0,b.createElement)(B.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,b.createElement)(B.Path,{d:"m9.99609 14v-.2251l.00391.0001v6.225h1.5v-14.5h2.5v14.5h1.5v-14.5h3v-1.5h-8.50391c-2.76142 0-5 2.23858-5 5 0 2.7614 2.23858 5 5 5z"})),ke=window.wp.blockEditor,Ce=(e,t)=>!0===e||(Array.isArray(e)?e.includes(t):"object"==typeof e&&!0===e[t]),Se=window.wp.coreData;function Be({onError:e=(e=>e),...t}){(0,u.uploadMedia)({onError:({message:t})=>e(t),wpAllowedMimeTypes:ee?.wpAllowedMimeTypes,...t})}const Te=function(e){const{preferredStyleVariations:t}=(0,d.useSelect)((e=>({preferredStyleVariations:e(R.store).get(X,"preferredStyleVariations")})),[]),{updatePreferredStyleVariations:n}=(0,d.useDispatch)(ve);return(0,h.useMemo)((()=>({...ee?.settings,...e,allowRightClickOverrides:!0,mediaUpload:ee?.user?.canUpload?Be:void 0,__experimentalFetchLinkSuggestions:(t,n)=>(0,Se.__experimentalFetchLinkSuggestions)(t,n,e),__experimentalFetchRichUrlData:Se.__experimentalFetchUrlData,__experimentalPreferredStyleVariations:{value:t,onChange:n}})),[e,t,n])},Ie=()=>(0,d.useSelect)((e=>e(ye.store).getCurrentPostType()),[]),Pe=()=>(0,d.useSelect)((e=>e(ye.store).getCurrentPostId()),[]),Ne=()=>(0,d.useSelect)((e=>{const{getEditedEntityRecord:t}=e(Se.store),{getCurrentPostType:n,getCurrentPostId:l}=e(ye.store);return t("postType",n(),l())}),[]),Me=e=>(0,Se.useEntityProp)("postType",Ie(),e),Le=()=>{const[e]=Me("noptin_campaign_type");return e||{}},Ve=()=>{const[e,t]=Me("meta"),n=e||{};return[n.campaign_type,(0,h.useCallback)((e=>{t({...n,campaign_type:e})}),[e,t])]},Re=()=>{const e=Ve(),[t,n]=Me("meta"),l=t||{},a=e?`${e}_type`:"sub_type";return[l[a],(0,h.useCallback)((e=>{n({...l,[a]:e})}),[t,n])]},He=()=>{const[e,t]=Me("meta"),[n,...l]=Ae("email_type",e,t);return[n||"normal",...l]},ze=()=>{const[e,t]=Me("meta"),[n,l]=Ae("block_css",e,t),a=n||{},r=(0,h.useCallback)(((e,t)=>{const n={...a,[e]:t};Object.keys(n).forEach((e=>{n[e]||delete n[e]})),l(n)}),[n,l]);return[a,r]},Ae=(e,t,n)=>{const l=t||{},a=l.campaign_data||{};return[a[e],(0,h.useCallback)((t=>{n({...l,campaign_data:{...a,[e]:t}})}),[t,n])]},De=function(){const[e,t]=Me("meta"),[n]=Ae("background_color",e,t),[l]=Ae("font_family",e,t),[a]=Ae("font_size",e,t),[r]=Ae("font_style",e,t),[o]=Ae("font_weight",e,t),[i]=Ae("line_height",e,t),[s]=Ae("color",e,t),[c]=Ae("link_color",e,t),[m]=Ae("button_color",e,t),[u]=Ae("button_background",e,t),[d]=Ae("custom_css",e,t),[p]=Ae("block_css",e,t);return(0,h.useMemo)((()=>`\n\t\t\t\t.block-editor-iframe__body.editor-styles-wrapper {\n\t\t\t\t\tbackground-color: ${n||"#f1f1f1"};\n\t\t\t\t\tfont-family: ${l||"Arial, Helvetica, sans-serif"};\n\t\t\t\t\tfont-size: ${a||"14px"};\n\t\t\t\t\tfont-style: ${r||"normal"};\n\t\t\t\t\tfont-weight: ${o||"normal"};\n\t\t\t\t\tline-height: ${i||"1.5"};\n\t\t\t\t\tbox-sizing: border-box;\n\t\t\t\t}\n\t\t\t\t.content {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tmax-width: 100%;\n\t\t\t\t\tcolor: ${s||"#111111"};\n\t\t\t\t\tpadding: 0;\n\t\t\t\t\toverflow: auto;\n\t\t\t\t\tbox-sizing: border-box;\n\t\t\t\t}\n\t\t\t\t.content * {\n\t\t\t\t\tbox-sizing: border-box;\n\t\t\t\t}\n\t\t\t\t.content a {\n\t\t\t\t\tcolor: ${c||"#1a82e2"};\n\t\t\t\t}\n\t\t\t\t.noptin-button-link {\n\t\t\t\t\tcolor: ${m||"#fff"};\n\t\t\t\t}\n\t\t\t\t.block-editor-default-block-appender__content {\n\t\t\t\t\tmargin-left: 10px;\n\t\t\t\t\tmargin-right: 10px;\n\t\t\t\t}\n\t\t\t\t.noptin-button-link__wrapper {\n\t\t\t\t\tbackground-color: ${u||"#1a82e2"};\n\t\t\t\t\tcolor: ${m||"#fff"};\n\t\t\t\t}\n\t\t\t\t${p?Object.values(p).join("\n"):""}\n\t\t\t\t${d||""}\n\n\t\t\t\t@media only screen and (max-width: 360px) {\n\t\t\t\t\t.wp-block-noptin-columns.is-stacked-on-mobile {\n\t\t\t\t\t\tdisplay: block !important;\n\t\t\t\t\t}\n\n\t\t\t\t\t.wp-block-noptin-columns.is-stacked-on-mobile .wp-block-noptin-column {\n\t\t\t\t\t\tdisplay: block !important;\n\t\t\t\t\t\tvertical-align: top !important;\n\t\t\t\t\t\twidth: 100% !important;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t.block-editor-url-popover__settings > .components-h-stack .components-toggle-control:first-child {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\t\t\t`),[s,c,m,u,n,l,a,r,o,i,d,p])},Fe=(e,t,n)=>[e?.style?.noptin?.[n]||{},t&&(0,h.useCallback)((l=>{t({style:{...e.style||{},noptin:{...e.style?.noptin||{},[n]:{...e.style?.noptin?.[n]||{},...l}}}})}),[e,t,n]),t&&(0,h.useCallback)((()=>{t({style:{...e.style||{},noptin:{...e.style?.noptin||{},[n]:{}}}})}),[e,t,n])],$e=(0,b.createElement)(B.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,b.createElement)(B.Path,{d:"M17 10h-1.2V7c0-2.1-1.7-3.8-3.8-3.8-2.1 0-3.8 1.7-3.8 3.8v3H7c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1h10c.6 0 1-.4 1-1v-8c0-.6-.4-1-1-1zm-2.8 0H9.8V7c0-1.2 1-2.2 2.2-2.2s2.2 1 2.2 2.2v3z"})),Oe=window.wp.url,Ue=te.license||{},Ge=e=>{if(Ue.is_usable&&Ue.key)return[!0,null];const t=Ue.install_desc||(0,g.__)("Activate your license key to unlock","newsletter-optin-box"),n=Ue.install_text||(0,g.__)("View Pricing","newsletter-optin-box");let l=Ue.install_url||Ue.upgrade_url||"https://noptin.com/pricing/";return Ue.key||(l=(0,Oe.addQueryArgs)(l,{utm_source:e,utm_campaign:(te.data?.type||"noptin")+"-emails"})),[!1,(0,b.createElement)(v.Placeholder,{icon:$e,label:(0,g.__)("Premium Feature","newsletter-optin-box"),className:"noptin-premium-feature"},(0,b.createElement)(v.__experimentalVStack,{spacing:4},(0,b.createElement)("div",null,t),(0,b.createElement)(v.__experimentalHStack,{wrap:!0},!Ue.key&&(0,b.createElement)(v.Button,{href:Ue.activate_url,variant:"tertiary",target:"_blank",text:(0,g.__)("Activate license","newsletter-optin-box"),size:"small"}),(0,b.createElement)(v.Button,{href:l,variant:"primary",target:"_blank",text:n,size:"small"}))))]};function We(e,t,n=500){const[l,a]=(0,h.useState)(e),r=(0,h.useRef)(t);return(0,h.useEffect)((()=>{r.current=t}),[t]),(0,h.useEffect)((()=>{const t=setTimeout((()=>{l!==e&&r.current(l)}),n);return()=>clearTimeout(t)}),[l,n,e]),{value:l,onChange:a}}const je=["Arial, Helvetica, sans-serif","Verdana, Geneva, sans-serif","Times New Roman, Times, serif","Georgia, serif","Courier New, Courier, monospace","Tahoma, Geneva, sans-serif","Calibri, Arial, sans-serif","Trebuchet MS, sans-serif","Lucida Grande, sans-serif","Palatino, serif"],Ze=({value:e,onChange:t})=>{const n=je.map((n=>({title:(0,b.createElement)("span",{style:{fontFamily:n}},(0,b.createElement)(v.__experimentalTruncate,{limit:25,ellipsizeMode:"tail"},n)),onClick:()=>t(n),isActive:e===n,label:n})));return(0,b.createElement)(v.__experimentalInputControlSuffixWrapper,null,(0,b.createElement)(v.DropdownMenu,{icon:"admin-customizer",label:(0,g.__)("Font family","newsletter-optin-box"),controls:n,noIcons:!0}))},Ye=({value:e,onChange:t})=>(0,b.createElement)(v.__experimentalInputControl,{label:(0,g.__)("Font family","newsletter-optin-box"),placeholder:"Arial, Helvetica, sans-serif",value:e,onChange:t,suffix:(0,b.createElement)(Ze,{value:e,onChange:t})});function qe({breakpoint:e,operator:t=">=",children:n}){return(0,w.useViewportMatch)(e,t)?n:null}function Ke({mobileOnly:e=!0}){return e?(0,b.createElement)(qe,{breakpoint:"small",operator:"<"},(0,b.createElement)(ye.PostPublishButton,null)):(0,b.createElement)(ye.PostPublishButton,null)}const Qe=function({type:e,label:t,help:n,...l}){const[a,r]=Me("meta"),[o,i]=Ae(`content_${e}`,a,r),[s,c]=Ae("subject",a,r);return(0,b.createElement)(v.Fill,{name:`${X}-content__${e}`},(0,b.createElement)(v.Flex,{align:"top",justify:"center"},(0,b.createElement)(v.FlexBlock,{style:{maxWidth:620,margin:32}},(0,b.createElement)(v.TextControl,{className:"noptin-field-control",label:(0,g.__)("Email Subject","newsletter-optin-box"),value:s||"",onChange:c,help:(0,g.__)("Required. The subject of your email. You can use email tags to provide dynamic values.","newsletter-optin-box")}),(0,b.createElement)(v.BaseControl,{label:t,className:`notin-edit-email-content__${e} noptin-field-control block-library-html__edit`,help:n,__nextHasNoMarginBottom:!0},(0,b.createElement)(ke.PlainText,{autoComplete:"off",dir:"auto",value:o,onChange:i,rows:15,className:"editor-post-text-editor",...l})),(0,b.createElement)(Ke,null))))},Je=window.wp.keyboardShortcuts,Xe=window.wp.keycodes;function et(){const{redo:e,undo:t}=(0,d.useDispatch)(ve),{replaceBlocks:n}=(0,d.useDispatch)(ke.store),{getBlockName:l,getSelectedBlockClientId:a,getBlockAttributes:r}=(0,d.useSelect)(ke.store),o=(e,t)=>{e.preventDefault();const o=0===t?"core/paragraph":"noptin/heading",i=a();if(null===i)return;const s=l(i);if("core/paragraph"!==s&&"noptin/heading"!==s)return;const c=r(i);n(i,(0,we.createBlock)(o,{level:t,...c}))};return(0,Je.useShortcut)("core/edit-email/undo",(e=>{t(),e.preventDefault()})),(0,Je.useShortcut)("core/edit-email/redo",(t=>{e(),t.preventDefault()})),(0,Je.useShortcut)("core/edit-email/transform-heading-to-paragraph",(e=>o(e,0))),[1,2,3,4,5,6].forEach((e=>{(0,Je.useShortcut)(`core/edit-email/transform-paragraph-to-heading-${e}`,(t=>o(t,e)))})),null}et.Register=function(){const{registerShortcut:e}=(0,d.useDispatch)(Je.store);return(0,h.useEffect)((()=>{e({name:"core/edit-email/undo",category:"global",description:(0,g.__)("Undo your last changes."),keyCombination:{modifier:"primary",character:"z"}}),e({name:"core/edit-email/redo",category:"global",description:(0,g.__)("Redo your last undo."),keyCombination:{modifier:"primaryShift",character:"z"},aliases:(0,Xe.isAppleOS)()?[]:[{modifier:"primary",character:"y"}]}),e({name:"core/edit-email/save",category:"global",description:(0,g.__)("Save your changes."),keyCombination:{modifier:"primary",character:"s"}}),e({name:"core/edit-email/keyboard-shortcuts",category:"main",description:(0,g.__)("Display these keyboard shortcuts."),keyCombination:{modifier:"access",character:"h"}}),e({name:"core/edit-email/next-region",category:"global",description:(0,g.__)("Navigate to the next part of the editor."),keyCombination:{modifier:"ctrl",character:"`"},aliases:[{modifier:"access",character:"n"}]}),e({name:"core/edit-email/previous-region",category:"global",description:(0,g.__)("Navigate to the previous part of the editor."),keyCombination:{modifier:"ctrlShift",character:"`"},aliases:[{modifier:"access",character:"p"},{modifier:"ctrlShift",character:"~"}]}),e({name:"core/edit-email/transform-heading-to-paragraph",category:"block-library",description:(0,g.__)("Transform heading to paragraph."),keyCombination:{modifier:"access",character:"0"}}),[1,2,3,4,5,6].forEach((t=>{e({name:`core/edit-email/transform-paragraph-to-heading-${t}`,category:"block-library",description:(0,g.__)("Transform paragraph to heading."),keyCombination:{modifier:"access",character:`${t}`}})}))}),[e]),null};const tt=et,nt=window.wp.notices;function lt({text:e,children:t}){const{createInfoNotice:n}=(0,d.useDispatch)(nt.store),l=(0,w.useCopyToClipboard)(e,(()=>{n((0,g.__)("Error copied to clipboard."),{type:"snackbar"})}));return(0,b.createElement)(v.Button,{variant:"secondary",ref:l},t)}function at({message:e,error:t}){const n=[(0,b.createElement)(lt,{key:"copy-error",text:t.stack},(0,g.__)("Copy Error"))];return(0,b.createElement)(ke.Warning,{className:"edit-post-error-boundary",actions:n},e)}class rt extends h.Component{constructor(){super(...arguments),this.state={error:null}}componentDidCatch(e){(0,m.doAction)("editor.ErrorBoundary.errorLogged",e)}static getDerivedStateFromError(e){return{error:e}}render(){return this.state.error?(0,b.createElement)(at,{message:this.props.error||(0,g.__)("The editor has encountered an unexpected error."),error:this.state.error}):this.props.children}}const ot=`${X}-content__visual`,it=({children:e})=>{const t=De();return(0,b.createElement)(b.Fragment,null,ee.styles&&Object.keys(ee.styles).map((e=>(0,b.createElement)("link",{key:e,rel:"stylesheet",id:`${e}-css`,href:ee.styles[e]}))),(0,b.createElement)("style",{dangerouslySetInnerHTML:{__html:t}}),(0,b.createElement)("div",{className:"content"},e))},st=function(){const e=(0,d.useSelect)((e=>e(ve).getPreviewDeviceType()),[]),t=(0,ke.__experimentalUseResizeCanvas)(e),n=(0,ke.__unstableUseTypingObserver)(),l={marginLeft:10,marginRight:10};return(0,w.useViewportMatch)("medium","<")&&(l.marginTop=48),(0,b.createElement)(v.Fill,{name:ot},(0,b.createElement)(tt,null),(0,b.createElement)(ke.BlockTools,{style:t,className:`edit-post-visual-editor__editor-canvas is-${e.toLowerCase()}-preview`},(0,b.createElement)(ke.BlockCanvas,{height:"100%"},(0,b.createElement)(it,null,(0,b.createElement)("div",{className:"editor-editor-canvas__post-title-wrapper",contentEditable:!1,ref:n,style:l},(0,b.createElement)(Vn,null)),(0,b.createElement)(rt,null,(0,b.createElement)(ke.BlockList,{className:"edit-post-editor-canvas__block-list"}))))))},ct=`${X}-content__normal`,{wp:mt}=window;function ut({content:e,setContent:t}){const n=(0,w.useInstanceId)(ut,"wp-noptin-classic-editor"),l=(0,h.useRef)(null);(0,h.useEffect)((()=>{if(!l.current)return;const t=window.tinymce?.get(n),a=t?.getContent();t&&a!==e&&(console.log({currentContent:a,content:e}),t.setContent(e||""))}),[e]),(0,h.useEffect)((()=>{if(l.current)return mt.oldEditor.initialize(n,{tinymce:!!window.tinymce&&{content_css:!1,theme_advanced_buttons:"bold,italic,underline,|,bullist,numlist,blockquote,|,link,unlink,|,spellchecker,fullscreen,|,formatselect,styleselect",drag_drop_upload:!0,toolbar1:"formatselect,bold,italic,bullist,numlist,blockquote,alignleft,aligncenter,alignright,link,spellchecker,wp_adv,dfw",toolbar2:"strikethrough,hr,forecolor,pastetext,removeformat,charmap,outdent,indent,undo,redo,wp_help",min_height:400,wpautop:!1,setup:function(n){e&&n.on("loadContent",(()=>n.setContent(e))),n.on("blur",(()=>(t(n.getContent()),!1)));const l=(0,w.debounce)((()=>{const e=n.getContent();e!==n._lastChange&&(n._lastChange=e,t(e))}),250);n.on("Paste Change input Undo Redo",l),n.on("remove",l.cancel),n.on("keydown",(e=>{Xe.isKeyboardEvent.primary(e,"z")&&e.stopPropagation();const{altKey:t}=e;t&&e.keyCode===Xe.F10&&e.stopPropagation()}))}},mediaButtons:!0,quicktags:!0}),()=>{mt.oldEditor.remove(n)}}),[l.current]);const{baseControlProps:a,controlProps:r}=(0,v.useBaseControlProps)({className:"noptin-field-control",label:(0,g.__)("Email Content","newsletter-optin-box"),id:n,help:(0,g.__)("The content of your email. You can use email tags to provide dynamic values.","newsletter-optin-box"),__nextHasNoMarginBottom:!0});return(0,b.createElement)(v.BaseControl,{...a},(0,b.createElement)("textarea",{...r,className:"wp-editor-area",value:e||"",onChange:e=>t(e.target.value),name:n,rows:10,style:{width:"100%"},ref:l}))}function dt(){const[e,t]=Me("meta"),[n,l]=Ae("content_normal",e,t),[a,r]=Ae("footer_text",e,t),[o,i]=Ae("heading",e,t),[s,c]=Ae("subject",e,t);return(0,b.createElement)(v.Fill,{name:ct},(0,b.createElement)(v.Flex,{align:"top",justify:"center"},(0,b.createElement)(v.FlexBlock,{style:{maxWidth:620,margin:32}},(0,b.createElement)(v.TextControl,{className:"noptin-field-control",label:(0,g.__)("Email Subject","newsletter-optin-box"),value:s||"",onChange:c,help:(0,g.__)("Required. The subject of your email. You can use email tags to provide dynamic values.","newsletter-optin-box")}),(0,b.createElement)(v.TextControl,{className:"noptin-field-control",label:(0,g.__)("Email Heading","newsletter-optin-box"),value:o||"",onChange:i,help:(0,g.__)("This text will be displayed at the top of the email. You can use email tags to provide dynamic values.","newsletter-optin-box")}),(0,b.createElement)(rt,null,(0,b.createElement)(ut,{content:n,setContent:l})),(0,b.createElement)(v.TextareaControl,{className:"noptin-field-control",label:(0,g.__)("Footer Text","newsletter-optin-box"),value:a||"",onChange:r,help:(0,g.__)("This text will be displayed at the bottom of the email. You can use email tags to provide dynamic values.","newsletter-optin-box"),__nextHasNoMarginBottom:!0}),(0,b.createElement)(Ke,null))))}function pt({mode:e}){return(0,b.createElement)(b.Fragment,null,(0,b.createElement)(st,null),(0,b.createElement)(dt,null),(0,b.createElement)(Qe,{type:"plain_text",label:(0,g.__)("Email Content","newsletter-optin-box"),placeholder:(0,g.__)("Type your email content here","newsletter-optin-box"),help:(0,g.__)("You can use email tags to provide dynamic values.","newsletter-optin-box")}),(0,b.createElement)(Qe,{type:"raw_html",label:(0,g.__)("Email Content","newsletter-optin-box"),placeholder:(0,g.__)("Paste the raw HTML of your email here","newsletter-optin-box"),help:(0,g.__)("You can use email tags to provide dynamic values.","newsletter-optin-box")}),(0,b.createElement)(v.Slot,{name:`${X}-content__${e}`}))}function gt(){const[e]=He();return(0,b.createElement)(rt,null,(0,b.createElement)(pt,{mode:e}))}const ht=(0,b.createElement)(B.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,b.createElement)(B.Path,{d:"M20 11.2H6.8l3.7-3.7-1-1L3.9 12l5.6 5.5 1-1-3.7-3.7H20z"})),_t=(0,b.createElement)(B.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,b.createElement)(B.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"})),bt=e=>{e.preventDefault()},ft=(0,h.forwardRef)((function(e,t){const n=(0,Xe.isAppleOS)()?Xe.displayShortcut.primaryShift("`"):Xe.displayShortcut.primary("`"),l=(0,d.useSelect)((e=>e(ve).isInserterOpened()),[]),{setIsInserterOpened:a}=(0,d.useDispatch)(ve);return(0,b.createElement)(v.Button,{...e,ref:t,className:"edit-post-header-toolbar__inserter-toggle",variant:"primary",isPressed:l,"aria-expanded":l,onMouseDown:bt,onClick:()=>a(!l),icon:_t
/* translators: button label text should, if possible, be under 16 characters. */,label:(0,g.__)("Toggle block inserter"),shortcut:n,showTooltip:!0})})),Et=function({contentType:e}){const t=(0,g.sprintf)(/* translators: %s: content type label. */
(0,g.__)("%s Email"),ne[e]?.label||"");return(0,b.createElement)(ke.NavigableToolbar,{className:"edit-post-header-toolbar","aria-label":(0,g.__)("Email tools"),shouldUseKeyboardFocusShortcut:!0,variant:"unstyled"},(0,b.createElement)("div",{className:"edit-post-header-toolbar__left"},"visual"===e&&(0,b.createElement)(qe,{breakpoint:"large"},(0,b.createElement)(v.ToolbarItem,{as:ft})),(0,b.createElement)(v.ToolbarItem,{as:ye.EditorHistoryUndo,size:"compact"}),(0,b.createElement)(v.ToolbarItem,{as:ye.EditorHistoryRedo,size:"compact"}),"visual"!==e&&(0,b.createElement)(v.__experimentalText,{className:"edit-post-header-toolbar__title",as:"span",size:14,weight:500,numberOfLines:1,truncate:!0,upperCase:!0},t)))},vt=function(){const[e,t]=He();return(0,b.createElement)(v.MenuGroup,{label:(0,g.__)("Content Type")},(0,b.createElement)(v.MenuItemsChoice,{choices:le,value:e,onSelect:t}))},{Fill:wt,Slot:yt}=(0,v.createSlotFill)("ToolsMoreMenuGroup");wt.Slot=({fillProps:e})=>(0,b.createElement)(yt,{fillProps:e},(e=>e.length>0&&(0,b.createElement)(v.MenuGroup,{label:(0,g.__)("Tools")},e)));const xt=wt,kt=function(){return(0,b.createElement)(v.MenuGroup,{label:(0,g._x)("View","noun")},(0,b.createElement)(R.PreferenceToggleMenuItem,{scope:ve.name,name:"fullscreenMode",label:(0,g.__)("Fullscreen mode"),info:(0,g.__)("Show and hide admin UI"),messageActivated:(0,g.__)("Fullscreen mode activated"),messageDeactivated:(0,g.__)("Fullscreen mode deactivated")}))},Ct=()=>(0,b.createElement)(I,{toggleProps:{showTooltip:!0}},(({onClose:e})=>(0,b.createElement)(b.Fragment,null,(0,b.createElement)(qe,{breakpoint:"large",operator:"<"},(0,b.createElement)(S.Slot,{scope:X})),(0,b.createElement)(qe,{breakpoint:"medium"},(0,b.createElement)(kt,null)),(0,b.createElement)(vt,null),(0,b.createElement)(M.Slot,{name:`${X}/plugin-more-menu`,label:(0,g.__)("Plugins"),as:v.MenuGroup,fillProps:{onClick:e}}),(0,b.createElement)(xt.Slot,{fillProps:{onClose:e}})))),St=(0,b.createElement)(B.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,b.createElement)(B.Path,{d:"M15 4H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H9c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h6c.3 0 .5.2.5.5v12zm-4.5-.5h2V16h-2v1.5z"})),Bt=(0,b.createElement)(B.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,b.createElement)(B.Path,{d:"M17 4H7c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H7c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h10c.3 0 .5.2.5.5v12zm-7.5-.5h4V16h-4v1.5z"})),Tt=(0,b.createElement)(B.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,b.createElement)(B.Path,{d:"M20.5 16h-.7V8c0-1.1-.9-2-2-2H6.2c-1.1 0-2 .9-2 2v8h-.7c-.8 0-1.5.7-1.5 1.5h20c0-.8-.7-1.5-1.5-1.5zM5.7 8c0-.3.2-.5.5-.5h11.6c.3 0 .5.2.5.5v7.6H5.7V8z"})),It=(0,b.createElement)(B.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,b.createElement)(B.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})),Pt=(0,b.createElement)(B.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,b.createElement)(B.Path,{d:"M19.5 4.5h-7V6h4.44l-5.97 5.97 1.06 1.06L18 7.06v4.44h1.5v-7Zm-13 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-3H17v3a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h3V5.5h-3Z"}));function Nt({isVisual:e}){const t=(0,d.useSelect)((e=>e(ve).getPreviewDeviceType()),[]),{setPreviewDeviceType:n}=(0,d.useDispatch)(ve),l={"aria-label":(0,g.__)("View options")},a={mobile:St,tablet:Bt,desktop:Tt};return(0,b.createElement)(v.DropdownMenu,{className:"editor-preview-dropdown",popoverProps:{placement:"bottom-end"},toggleProps:{className:"editor-preview-dropdown__toggle",size:"compact",showTooltip:!0},menuProps:l,icon:a[t.toLowerCase()],label:(0,g.__)("View")},(({onClose:l})=>(0,b.createElement)(b.Fragment,null,e&&(0,b.createElement)(v.MenuGroup,null,(0,b.createElement)(v.MenuItem,{onClick:()=>n("Desktop"),icon:"Desktop"===t&&It},(0,g.__)("Desktop")),(0,b.createElement)(v.MenuItem,{onClick:()=>n("Tablet"),icon:"Tablet"===t&&It},(0,g.__)("Tablet")),(0,b.createElement)(v.MenuItem,{onClick:()=>n("Mobile"),icon:"Mobile"===t&&It},(0,g.__)("Mobile"))),(0,b.createElement)(v.MenuGroup,null,(0,b.createElement)(ye.PostPreviewButton,{className:"editor-preview-dropdown__button-external",role:"menuitem",textContent:(0,b.createElement)(b.Fragment,null,(0,g.__)("Preview in new tab"),(0,b.createElement)(v.Icon,{icon:Pt})),onPreview:l})))))}const Mt={hidden:{y:"-50px"},distractionFreeInactive:{y:0},hover:{y:0,transition:{type:"tween",delay:.2}}};function Lt(){return(0,d.useSelect)((e=>!!e(R.store).get(X,"fullscreenMode")),[])?(0,b.createElement)(v.Button,{className:"edit-post-fullscreen-mode-close",icon:ht,href:ee.back,label:(0,g.__)("Back"),showTooltip:!0}):null}const Vt=function(){const[e]=He(),t="visual"===e;return(0,b.createElement)("div",{className:"edit-post-header"},(0,b.createElement)(Lt,null),(0,b.createElement)(v.__unstableMotion.div,{variants:Mt,transition:{type:"tween",delay:.8},className:"edit-post-header__toolbar"},(0,b.createElement)(Et,{contentType:e})),(0,b.createElement)(v.__unstableMotion.div,{variants:Mt,transition:{type:"tween",delay:.8},className:"edit-post-header__settings"},(0,b.createElement)(qe,{breakpoint:"medium",operator:"<"},(0,b.createElement)(ye.PostPreviewButton,{className:"edit-post-header__post-preview-button"})),(0,b.createElement)(ye.PostSavedState,null),(0,b.createElement)(ye.PostPublishButton,null),(0,b.createElement)(qe,{breakpoint:"large"},(0,b.createElement)(Nt,{isVisual:t}),(0,b.createElement)(S.Slot,{scope:X})),(0,b.createElement)(Ct,null)))};function Rt(){const[e]=He();return(0,b.createElement)("div",{className:"edit-post-layout__footer"},"visual"===e&&(0,b.createElement)(ke.BlockBreadcrumb,{rootLabelText:(0,g.__)("Email")}),"visual"!==e&&(0,b.createElement)("ul",{className:"block-editor-block-breadcrumb"},(0,b.createElement)("li",{className:"block-editor-block-breadcrumb__current"},ne[e]?.description)))}const Ht=(0,b.createElement)(B.SVG,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,b.createElement)(B.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM8.5 18.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h2.5v13zm10-.5c0 .3-.2.5-.5.5h-8v-13h8c.3 0 .5.2.5.5v12z"})),zt=(0,b.createElement)(B.SVG,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,b.createElement)(B.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4 14.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h8v13zm4.5-.5c0 .3-.2.5-.5.5h-2.5v-13H18c.3 0 .5.2.5.5v12z"})),At=ee.templates||{},Dt=Object.keys(At).map((e=>({value:e,label:At[e]}))),Ft=()=>{const[e,t]=Me("meta"),[n,l]=Me("title"),[a,r]=Ae("email_type",e,t),[o,i]=Ae("preview_text",e,t),[s,c]=Ae("template",e,t);return(0,b.createElement)(v.PanelBody,{title:(0,g.__)("Email Settings","newsletter-optin-box"),initialOpen:!1},(0,b.createElement)("div",{className:"noptin-panel__row"},(0,b.createElement)(v.SelectControl,{value:a||"visual",onChange:r,label:(0,g.__)("Email Type","newsletter-optin-box"),options:le,help:ne[a]?.description||(0,g.__)("Choose the type of email you want to create.","newsletter-optin-box")})),"normal"===a&&(0,b.createElement)("div",{className:"noptin-panel__row"},(0,b.createElement)(v.SelectControl,{value:s||"paste",onChange:c,label:(0,g.__)("Template","newsletter-optin-box"),options:Dt,help:(0,g.__)("Choose the template you want to use.","newsletter-optin-box")})),(0,b.createElement)("div",{className:"noptin-panel__row"},(0,b.createElement)(v.TextControl,{value:n||"",onChange:l,label:(0,g.__)("Campaign Name","newsletter-optin-box"),help:(0,g.__)("For your reference only.","newsletter-optin-box"),placeholder:(0,g.__)("Example: Black Friday Sale","newsletter-optin-box")})),("visual"===a||"normal"===a)&&(0,b.createElement)("div",{className:"noptin-panel__row"},(0,b.createElement)(v.TextControl,{value:o||"",onChange:i,label:(0,g.__)("Preview Text","newsletter-optin-box"),help:(0,g.__)("This is the text that appears in the inbox when the email is received.","newsletter-optin-box"),placeholder:(0,g.__)("Example: Save up to 50%","newsletter-optin-box")})),(0,b.createElement)(v.Slot,{name:`${X}/editor-settings__main`}))},$t=window.lodash,Ot=()=>{const{settings:e}=(0,d.useSelect)((e=>({settings:e(ke.store).getSettings()})),[]),[t,n]=Me("meta"),[l]=Ae("email_type",t,n),[a]=Ae("template",t,n),[r,o]=Ae("color",t,n),[i,s]=Ae("link_color",t,n),[c,m]=Ae("footer_text_color",t,n),[u,p]=Ae("content_background",t,n),[h,_]=Ae("background_color",t,n),f="visual"===l||"normal"===l&&["paste","merriweather","plain"].includes(a),E="visual"===l||"normal"===l&&["plain"].includes(a);return(0,b.createElement)(b.Fragment,null,f&&(0,b.createElement)(ke.PanelColorSettings,{__experimentalIsRenderedInSidebar:!0,enableAlpha:!1,showTitle:!0,disableCustomColors:!1,colors:e.__experimentalFeatures?.color?.palette?.theme||[],title:(0,g.__)("Colors"),colorSettings:(0,$t.compact)([{value:r||"#111111",onChange:o,label:(0,g.__)("Text")},{value:i||"#1a82e2",onChange:s,label:(0,g.__)("Link")},{value:h||"#f1f1f1",onChange:_,label:(0,g.__)("Background")},E?null:{value:u||"#ffffff",onChange:p,label:(0,g.__)("Content Background")},"normal"!==l?null:{value:c||"#95a5a6",onChange:m,label:(0,g.__)("Footer text color")}])}))},Ut=[{a11yLabel:"Pixels (px)",label:"px",step:1,value:"px"},{a11yLabel:"Rem (rem)",label:"rem",step:.5,value:"rem"},{a11yLabel:"Em (em)",label:"em",step:.5,value:"em"}],Gt=()=>{const[e,t]=Me("meta"),[n]=Ae("email_type",e,t),[l]=Ae("template",e,t),[a,r]=Ae("width",e,t),[o,i]=Ae("custom_css",e,t),s="visual"===n||"normal"===n,c="visual"===n||"normal"===n&&!["paste","merriweather","plain"].includes(l);return(0,b.createElement)(b.Fragment,null,s&&(0,b.createElement)(v.PanelBody,{title:(0,g.__)("Design","newsletter-optin-box"),initialOpen:!1},c||(0,b.createElement)("div",{className:"noptin-panel__row"},(0,b.createElement)(v.__experimentalUnitControl,{label:(0,g.__)("Width","newsletter-optin-box"),value:a||"600px",onChange:r,min:100,max:1e3,units:Ut,help:(0,g.__)("The width of your email's content area.","newsletter-optin-box")})),(0,b.createElement)("div",{className:"noptin-panel__row"},(0,b.createElement)(v.TextareaControl,{__nextHasNoMarginBottom:!0,value:o||"",onChange:i,label:(0,g.__)("Custom CSS","newsletter-optin-box"),help:(0,g.__)("Add custom CSS to your email. You can also use this field to import custom fonts.","newsletter-optin-box")})),(0,b.createElement)(v.Slot,{name:`${X}/editor-settings__design`})))},Wt=()=>{const[e,t]=Me("meta"),[n]=Ae("email_type",e,t),[l]=Ae("template",e,t),[a,r]=Ae("font_family",e,t),[o,i]=Ae("font_size",e,t),[s,c]=Ae("font_style",e,t),[m,u]=Ae("font_weight",e,t),[d,p]=Ae("line_height",e,t),_="visual"===n||"normal"===n&&["paste","merriweather","plain"].includes(l),f=(0,h.useCallback)((({fontStyle:e,fontWeight:t})=>{c(e),u(t)}),[u,c]),E={fontStyle:s,fontWeight:m};return(0,b.createElement)(b.Fragment,null,_&&(0,b.createElement)(v.PanelBody,{title:(0,g.__)("Typography","newsletter-optin-box"),initialOpen:!1},(0,b.createElement)("div",{className:"noptin-panel__row"},(0,b.createElement)(Ye,{value:a||"",onChange:r})),(0,b.createElement)("div",{className:"noptin-panel__row"},(0,b.createElement)(ke.FontSizePicker,{__nextHasNoMarginBottom:!0,value:o||14,fallbackFontSize:14,onChange:i,label:(0,g.__)("Font size","newsletter-optin-box"),disableCustomFontSizes:!1})),(0,b.createElement)("div",{className:"noptin-panel__row"},(0,b.createElement)(ke.__experimentalFontAppearanceControl,{__nextHasNoMarginBottom:!0,value:E,onChange:f})),(0,b.createElement)("div",{className:"noptin-panel__row"},(0,b.createElement)(ke.LineHeightControl,{__nextHasNoMarginBottom:!0,value:d||"1.7",onChange:p,label:(0,g.__)("Line height","newsletter-optin-box"),__unstableInputWidth:"100%"})),(0,b.createElement)(v.Slot,{name:`${X}/editor-settings__typography`})))},jt=()=>{const[e,t]=Ge("attachments"),[n,l]=Me("meta"),[a,r]=Ae("attachments",n,l),o=a||[],i=(0,h.useCallback)((()=>{r([...o,""])}),[o,r]),s=(0,h.useCallback)((e=>{r(o.filter(((t,n)=>n!==e)))}),[o,r]),c=(0,h.useCallback)(((e,t)=>{r(o.map(((n,l)=>l===e?t:n)))}),[o,r]);return(0,b.createElement)(v.PanelBody,{title:(0,g.__)("Email Attachments","newsletter-optin-box"),initialOpen:!1},(0,b.createElement)(v.__experimentalVStack,null,!e&&(0,b.createElement)(b.Fragment,null,(0,b.createElement)("p",{className:"description"},(0,g.__)("The add-ons pack allows you to attach images, videos, PDFs or other file types to this email.","newsletter-optin-box")),t),e&&(0,b.createElement)(b.Fragment,null,o.map(((e,t)=>(0,b.createElement)(v.__experimentalInputControl,{label:(0,g.__)("Enter file path or URL","newsletter-optin-box"),value:e,onChange:e=>c(t,e),isPressEnterToChange:!0,hideLabelFromVision:!0,placeholder:(0,g.__)("Enter file path or URL","newsletter-optin-box"),key:t,prefix:(0,b.createElement)(b.Fragment,null,(0,b.createElement)(u.MediaUpload,{onSelect:e=>{if(!e?.length)return;const n=e.map((e=>e.url));r([...o.slice(0,t),...n,...o.slice(t+1)])},multiple:!0,render:({open:e})=>(0,b.createElement)(v.Button,{variant:"tertiary",onClick:e,icon:"upload",label:(0,g.__)("Upload","newsletter-optin-box"),showTooltip:!0})})),suffix:(0,b.createElement)(b.Fragment,null,(0,b.createElement)(v.Button,{isDestructive:!0,variant:"tertiary",onClick:()=>s(t),icon:"trash",label:(0,g.__)("Remove","newsletter-optin-box"),showTooltip:!0}))}))),(0,b.createElement)(v.Button,{variant:"primary",onClick:i,style:{justifyContent:"center"}},(0,g.__)("Add Attachment","newsletter-optin-box"),(0,b.createElement)(v.Icon,{icon:"plus"})),(0,b.createElement)("p",{className:"description"},(0,g.__)("You can only attach files that are hosted on your server.","newsletter-optin-box")))))};function Zt(){return(0,b.createElement)(ye.PostTrashCheck,null,(0,b.createElement)(ye.PostTrash,null))}const Yt=(0,h.forwardRef)((({className:e,label:t,children:n},l)=>{const a={};return t||(a.width="100%"),(0,b.createElement)(v.__experimentalHStack,{className:E()("editor-post-panel__row",e),ref:l},t&&(0,b.createElement)("div",{className:"editor-post-panel__row-label"},t),(0,b.createElement)("div",{className:"editor-post-panel__row-control",style:a},n))})),qt=function(){return(0,b.createElement)(ye.PostPendingStatusCheck,null,(0,b.createElement)(Yt,null,(0,b.createElement)(ye.PostPendingStatus,null)))},{Fill:Kt,Slot:Qt}=(0,v.createSlotFill)("PluginPostStatusInfo"),Jt=({children:e,className:t})=>(0,b.createElement)(Kt,null,(0,b.createElement)(v.PanelRow,{className:t},e));Jt.Slot=Qt;const Xt=Jt;function en(){const[e,t]=(0,h.useState)(null),n=(0,h.useMemo)((()=>({anchor:e,"aria-label":(0,g.__)("Change publish date"),placement:"bottom-end"})),[e]);return(0,b.createElement)(ye.PostScheduleCheck,null,(0,b.createElement)(Yt,{label:(0,g.__)("Publish"),ref:t},(0,b.createElement)(v.Dropdown,{popoverProps:n,focusOnMount:!0,className:"editor-post-schedule__panel-dropdown",contentClassName:"editor-post-schedule__dialog",renderToggle:({onToggle:e,isOpen:t})=>(0,b.createElement)(v.Button,{className:"editor-post-schedule__dialog-toggle",variant:"tertiary",onClick:e,label:(0,b.createElement)(ye.PostScheduleLabel,{full:!0}),showTooltip:!0,"aria-expanded":t},(0,b.createElement)(ye.PostScheduleLabel,null)),renderContent:({onClose:e})=>(0,b.createElement)(ye.PostSchedule,{onClose:e})})))}const tn=window.wp.apiFetch;var nn=n.n(tn);const ln=()=>{const e=(0,d.useSelect)((e=>e(Se.store).getCurrentUser()),[]),t=Pe(),n=Ne(),[l,a]=(0,h.useState)(e?.email||""),[r,o]=(0,h.useState)(!1),[i,s]=(0,h.useState)(null),[c,m]=(0,h.useState)(null),{autosave:u}=(0,d.useDispatch)(ye.store);return(0,h.useEffect)((()=>{r&&(u(),nn()({path:`/wp/v2/noptin-campaign/${t}/send-test`,method:"POST",data:{email:l,...n}}).then((e=>{m(e.message)})).catch((e=>{s(e.message)})).finally((()=>{o(!1),setTimeout((()=>{s(null),m(null)}),5e3)})))}),[r]),(0,b.createElement)(v.__experimentalVStack,{className:"noptin-test-email-form"},(0,b.createElement)(v.TextControl,{label:(0,g.__)("Email address"),type:"email",placeholder:(0,g.__)("Enter email address"),help:(0,g.__)("Enter the email address where you want to send the test email."),value:l,onChange:a}),(0,b.createElement)(v.Button,{variant:"primary",onClick:()=>o(!0),disabled:r||!l||!(0,Oe.isEmail)(l),isPressed:r,isBusy:r},!r&&(0,g.__)("Send test email"),r&&(0,g.__)("Sending..."),!r&&(0,b.createElement)(v.Icon,{icon:"arrow-right-alt"}),r&&(0,b.createElement)(v.Spinner,null)))};function an(){const[e,t]=(0,h.useState)(null),n=(0,h.useMemo)((()=>({anchor:e,"aria-label":(0,g.__)("Send a test email"),placement:"bottom-end"})),[e]);return(0,b.createElement)(Yt,{label:(0,g.__)("Test"),ref:t},(0,b.createElement)(v.Dropdown,{popoverProps:n,focusOnMount:!0,className:"editor-post-test__panel-dropdown",contentClassName:"editor-post-test__dialog",renderToggle:({onToggle:e,isOpen:t})=>(0,b.createElement)(v.Button,{className:"editor-post-schedule__dialog-toggle",variant:"tertiary",onClick:e,label:(0,g.__)("Send a test email"),showTooltip:!0,"aria-expanded":t},(0,g.__)("Send a test email")),renderContent:({onClose:e})=>(0,b.createElement)(ln,null)}))}function rn(){return(0,b.createElement)(v.PanelBody,{className:"edit-post-post-status",title:(0,g.__)("Summary"),initialOpen:!1},(0,b.createElement)(Xt.Slot,null,(e=>(0,b.createElement)(v.__experimentalVStack,null,(0,b.createElement)(en,null),(0,b.createElement)(an,null),e,(0,b.createElement)(qt,null),(0,b.createElement)(v.__experimentalHStack,{style:{marginTop:"16px"},spacing:4,wrap:!0},(0,b.createElement)(ye.PostSwitchToDraftButton,null),(0,b.createElement)(Zt,null))))))}const on=[{label:(0,g.__)("Select unit","newsletter-optin-box"),value:""},{label:(0,g.__)("Minutes","newsletter-optin-box"),value:"minutes"},{label:(0,g.__)("Hours","newsletter-optin-box"),value:"hours"},{label:(0,g.__)("Days","newsletter-optin-box"),value:"days"},{label:(0,g.__)("Weeks","newsletter-optin-box"),value:"weeks"},{label:(0,g.__)("Months","newsletter-optin-box"),value:"months"},{label:(0,g.__)("Years","newsletter-optin-box"),value:"years"}],sn=[{label:(0,g.__)("Select unit","newsletter-optin-box"),value:""},{label:(0,g.__)("Minute","newsletter-optin-box"),value:"minutes"},{label:(0,g.__)("Hour","newsletter-optin-box"),value:"hours"},{label:(0,g.__)("Day","newsletter-optin-box"),value:"days"},{label:(0,g.__)("Week","newsletter-optin-box"),value:"weeks"},{label:(0,g.__)("Month","newsletter-optin-box"),value:"months"},{label:(0,g.__)("Year","newsletter-optin-box"),value:"years"}],cn=()=>{const e=Le(),[t,n]=Ge("timing"),[l,a]=Me("meta"),[r,o]=Ae("when_to_run",l,a),[i,s]=Ae("sends_after",l,a),[c,m]=Ae("sends_after_unit",l,a),u="delayed"===r,d=(0,h.useCallback)((()=>{o(u?"immediately":"delayed")}),[u,o]);return e?.supports_timing?(0,b.createElement)(v.PanelBody,{title:(0,g.__)("Timing","newsletter-optin-box"),initialOpen:!1},(0,b.createElement)(v.__experimentalVStack,null,!t&&(0,b.createElement)(b.Fragment,null,(0,b.createElement)("p",{className:"description"},(0,g.__)("The add-ons pack allows you to delay (schedule) this email for a given number of minutes, hours, or days.","newsletter-optin-box")),n),t&&(0,b.createElement)(b.Fragment,null,(0,b.createElement)(v.ToggleControl,{label:(0,g.__)("Delay sending this email","newsletter-optin-box"),checked:u,onChange:d,__nextHasNoMarginBottom:!0}),u&&(0,b.createElement)(b.Fragment,null,(0,b.createElement)(v.__experimentalHStack,null,(0,b.createElement)(v.__experimentalInputControl,{type:"number",label:(0,g.__)("Send after","newsletter-optin-box"),placeholder:"1",value:i||"",onChange:s,min:1}),(0,b.createElement)(v.SelectControl,{label:(0,g.__)("Unit","newsletter-optin-box"),value:c||"",onChange:e=>m(e),options:1===parseInt(i)?sn:on})),(0,b.createElement)("p",{className:"description"},(0,g.__)("This email will be sent after the specified time has elapsed.","newsletter-optin-box")))))):null},mn=Object.entries(te.senders).map((([e,t])=>({label:t.label,value:e}))),un=({recipient:e,recipientIds:t,setRecipientIds:n})=>{const l=(0,h.useCallback)((()=>{n(t.filter((t=>t!==e.id)))}),[e,t,n]);return e?(0,b.createElement)(v.__experimentalHStack,{wrap:!0},(0,b.createElement)("img",{src:e.avatar,width:32,alt:e.name}),(0,b.createElement)("p",null,e.name?e.email:`${e.name} <${e.email}>`),e.url&&(0,b.createElement)(v.Button,{href:e.url,target:"_blank"},(0,b.createElement)(v.Icon,{icon:"external"})),(0,b.createElement)(v.Button,{isDestructive:!0,onClick:l},(0,b.createElement)(v.Icon,{icon:"no-alt"}))):null},dn=({recipientData:e,recipientIds:t,setRecipientIds:n})=>(0,b.createElement)(b.Fragment,null,t.map((l=>(0,b.createElement)(un,{key:l,recipient:e.find((e=>e.id===l)),recipientIds:t,setRecipientIds:n})))),pn=({recipients:e,setRecipients:t,placeholder:n})=>{const l=(0,b.createElement)(b.Fragment,null,(0,g.__)("Enter recipients (comma-separated) for this email.","newsletter-optin-box"),(0,b.createElement)("br",null),(0,g.__)("Add <b>--notracking</b> after an email to disable open and click tracking for that recipient.","newsletter-optin-box"));return(0,b.createElement)(v.__experimentalInputControl,{label:(0,g.__)("Recipient(s)","newsletter-optin-box"),value:e||"",onChange:t,placeholder:n,help:l})},gn=({sender:e,setSender:t,meta:n,setMeta:l})=>(0,b.createElement)(b.Fragment,null,(0,b.createElement)(v.SelectControl,{label:(0,g.__)("Send To","newsletter-optin-box"),value:e,options:mn,onChange:t})),hn=()=>{const e=Le(),[t,n]=Me("meta"),[l,a]=Ae("manual_recipients_ids",t,n),[r,o]=Ae("recipients",t,n),[i,s]=Ae("email_sender",t,n),c=Array.isArray(l)&&l.length>0;return(0,b.createElement)(v.PanelBody,{title:(0,g.__)("Recipients","newsletter-optin-box"),initialOpen:!1},(0,b.createElement)(v.__experimentalVStack,null,c?(0,b.createElement)(dn,{recipientData:e.manual_recipients,recipientIds:l,setRecipientIds:a}):(0,b.createElement)(b.Fragment,null,e.is_mass_mail?(0,b.createElement)(gn,{sender:i,setSender:s,meta:t,setMeta:n}):(0,b.createElement)(pn,{recipients:r,setRecipients:o,placeholder:e.placeholder_recipient}))))};function bn(){return(0,b.createElement)(b.Fragment,null,(0,b.createElement)(rn,null),(0,b.createElement)(Ft,null),(0,b.createElement)(hn,null),(0,b.createElement)(cn,null),(0,b.createElement)(jt,null),(0,b.createElement)(Wt,null),(0,b.createElement)(Gt,null),(0,b.createElement)(Ot,null))}const fn=(0,b.createElement)(B.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,b.createElement)(B.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"}));function En({as:e=v.Button,name:t,...n}){const l=e,a=(0,d.useSelect)((e=>e(ve).getCurrentSidebar()===t),[t]),{setCurrentSidebar:r}=(0,d.useDispatch)(ve);return(0,b.createElement)(l,{isPressed:a,"aria-controls":t.replace("/",":"),onClick:()=>{r(a?null:t)},...n})}const vn=({children:e,className:t,toggleButtonProps:n})=>{const l=(0,b.createElement)(En,{icon:fn,...n});return(0,b.createElement)(b.Fragment,null,(0,b.createElement)("div",{className:"components-panel__header interface-complementary-area-header__small"},l),(0,b.createElement)("div",{className:E()("components-panel__header","interface-complementary-area-header",t),tabIndex:-1},e,l))},wn=`${X}/sidebar-area`;function yn({children:e,className:t,id:n}){return(0,b.createElement)(v.Fill,{name:wn},(0,b.createElement)("div",{id:n,className:t},e))}function xn({children:e,className:t,closeLabel:n=(0,g.__)("Close plugin"),name:l,header:a,headerClassName:r,icon:o,panelClassName:i,title:s,isActiveByDefault:c=!1}){const m=(0,d.useSelect)((e=>e(ve).getCurrentSidebar()),[l]),{setCurrentSidebar:u}=(0,d.useDispatch)(ve),p=m===l,_=(0,w.useViewportMatch)("medium","<");return(0,h.useEffect)((()=>{c&&void 0===m&&!_&&u(l)}),[m,c,l,_]),(0,b.createElement)(b.Fragment,null,(0,b.createElement)(S,{scope:X},(0,b.createElement)(En,{name:l,"aria-expanded":p,label:s,icon:o,showTooltip:!0,size:"compact"})),p&&(0,b.createElement)(yn,{className:E()("interface-complementary-area",t),id:l.replace("/",":")},(0,b.createElement)(vn,{className:r,toggleButtonProps:{label:n,name:l}},a),(0,b.createElement)(v.Panel,{className:i},e)))}xn.Slot=e=>(0,b.createElement)(v.Slot,{name:wn,...e});const kn=xn;function Cn(){const[e,t]=(0,h.useState)(re),[n]=He(),l=(0,h.useCallback)((()=>{t(ae)}),[t]),a=(0,h.useCallback)((()=>{t(re)}),[t]),{hasSelectedBlock:r}=(0,d.useSelect)((e=>({hasSelectedBlock:!!e(ke.store).getSelectedBlock()})),[]);return(0,h.useEffect)((()=>{"visual"===n||e!==ae?(r&&e===re&&t(ae),r||e!==ae||t(re)):t(re)}),[r,t,n]),(0,b.createElement)(kn,{className:"edit-post-sidebar",header:(0,b.createElement)("ul",null,(0,b.createElement)("li",null,(0,b.createElement)(v.Button,{onClick:a,className:E()("edit-post-sidebar__panel-tab",{"is-active":e===re}),"aria-label":e===re?(0,g.__)("Settings (selected)"):(0,g.__)("Settings"),"data-label":(0,g.__)("Settings")},(0,g.__)("Settings"))),"visual"===n&&(0,b.createElement)("li",null,(0,b.createElement)(v.Button,{onClick:l,className:E()("edit-post-sidebar__panel-tab",{"is-active":e===ae}),"aria-label":e===ae?(0,g.__)("Block (selected)"):(0,g.__)("Block"),"data-label":(0,g.__)("Block")},(0,g.__)("Settings")))),headerClassName:"edit-post-sidebar__panel-tabs"
/* translators: button label text should, if possible, be under 16 characters. */,title:e===re?(0,g.__)("Settings"):(0,g.__)("Block"),closeLabel:(0,g.__)("Close Settings"),name:re,icon:(0,g.isRTL)()?Ht:zt,isActiveByDefault:!0},e===re&&(0,b.createElement)(bn,null),e===ae&&(0,b.createElement)(ke.BlockInspector,{showNoBlockSelectedMessage:!0}))}function Sn(){const e=(0,d.useSelect)((e=>e(ve).getInsertionPoint()),[]);return(0,b.createElement)("div",{className:"edit-post-editor__inserter-panel"},(0,b.createElement)("div",{className:"edit-post-editor__inserter-panel-content"},(0,b.createElement)(ke.__experimentalLibrary,{showInserterHelpPanel:!1,shouldFocusBlock:!0,rootClientId:e.rootClientId,__experimentalInsertionIndex:e.insertionIndex,__experimentalFilterValue:e.filterValue})))}function Bn(){const e=(0,w.useFocusOnMount)("firstElement"),[t,n]=(0,h.useState)(null),l=(0,h.useRef)(),a=(0,w.useMergeRefs)([e,l,n]);return(0,b.createElement)("div",{className:"edit-post-editor__document-overview-panel"},(0,b.createElement)("div",{className:"edit-post-editor__list-view-container",ref:a},(0,b.createElement)("div",{className:"edit-post-editor__list-view-panel-content"},(0,b.createElement)(ke.__experimentalListView,{dropZoneElement:t}))))}const Tn=[{name:"blocks",title:(0,g.__)("Blocks","newsletter-optin-box")},{name:"overview",title:(0,g.__)("Overview","newsletter-optin-box")}];function In(){return(0,b.createElement)(qe,{breakpoint:"medium"},(0,b.createElement)(v.TabPanel,{className:"block-editor-inserter__tabs edit-post-editor__inserter-panel",tabs:Tn},(e=>(0,b.createElement)("div",{style:{width:350,overflow:"auto"}},(0,b.createElement)(v.__experimentalScrollable,null,"blocks"===e.name&&(0,b.createElement)(Sn,null),"overview"===e.name&&(0,b.createElement)(Bn,null))))))}function Pn(){const[e,t]=(0,h.useState)(0),n=Pe(),l=(0,w.usePrevious)(n);(0,h.useEffect)((()=>{n===l&&n===e||!n||a(n)}),[n,l,e]);const a=e=>{window.history.replaceState({noptin_campaign:e},"Email "+e,function(e){return(0,Oe.addQueryArgs)("admin.php",{noptin_campaign:e,page:"noptin-email-campaigns"})}(e)),t(e)};return null}const Nn=window.wp.richText,Mn=window.wp.dom,Ln=/[\r\n]+/g,Vn=(0,h.forwardRef)((function(e,t){const[n,l]=(0,h.useState)(!1),{ref:a}=function(e){const t=(0,h.useRef)(),n=(0,d.useSelect)((e=>e(ye.store).isCleanNewPost()),[]);return(0,h.useImperativeHandle)(e,(()=>({focus:()=>{t?.current?.focus()}}))),(0,h.useEffect)((()=>{if(!t.current)return;const{defaultView:e}=t.current.ownerDocument,{name:l,parent:a}=e,r="editor-canvas"===l?a.document:e.document,{activeElement:o,body:i}=r;!n||o&&i!==o||t.current.focus()}),[n]),{ref:t}}(t),[r,o]=Me("meta"),[i,s]=Ae("subject",r,o),[c,m]=(0,h.useState)({}),{clearSelectedBlock:u,insertBlocks:p,insertDefaultBlock:_}=(0,d.useDispatch)(ke.store);function f(e){p(e,0)}function v(){l(!1),m({})}const{ref:y}=(0,Nn.__unstableUseRichText)({value:i,onChange:function(e){s(e.replace(Ln," "))},placeholder:(0,g.__)("Enter email subject"),selectionStart:c.start,selectionEnd:c.end,onSelectionChange(e,t){m((n=>{const{start:l,end:a}=n;return l===e&&a===t?n:{start:e,end:t}}))},__unstableDisableFormats:!1}),x=E()("wp-block wp-block-post-title block-editor-block-list__block editor-post-title editor-post-title__input rich-text",{"is-selected":n});return(0,b.createElement)("h1",{ref:(0,w.useMergeRefs)([y,a]),contentEditable:!0,className:x,"aria-label":(0,g.__)("Enter email subject"),role:"textbox","aria-multiline":"true",onFocus:function(){l(!0),u()},onBlur:v,onKeyDown:function(e){e.keyCode===Xe.ENTER&&(e.preventDefault(),_(void 0,void 0,0))},onKeyPress:v,onPaste:function(e){const t=e.clipboardData;let n="",l="";try{n=t.getData("text/plain"),l=t.getData("text/html")}catch(e){try{l=t.getData("Text")}catch(e){return}}window.console.log("Received HTML:\n\n",l),window.console.log("Received plain text:\n\n",n);const a=(0,we.pasteHandler)({HTML:l,plainText:n});if(e.preventDefault(),a.length)if("string"!=typeof a){const[e]=a;if(i||"core/heading"!==e.name&&"core/paragraph"!==e.name)f(a);else{const t=(0,Mn.__unstableStripHTML)(e.attributes.content);s(t),f(a.slice(1))}}else{const e={...(0,Nn.create)({html:i}),...c},t=(0,Mn.__unstableStripHTML)(a),n=(0,Nn.insert)(e,(0,Nn.create)({html:t}));s((0,Nn.toHTMLString)({value:n})),m({start:n.start,end:n.end})}}})})),Rn={fontFamily:!1,fontSize:!0,fontAppearance:!1,lineHeight:!1,letterSpacing:!1,textTransform:!1,textDecoration:!1},Hn=[{name:(0,g.__)("Small"),slug:"small",size:13},{name:(0,g.__)("Normal"),slug:"normal",size:16},{name:(0,g.__)("Medium"),slug:"medium",size:20},{name:(0,g.__)("Large"),slug:"large",size:36},{name:(0,g.__)("Huge"),slug:"huge",size:42}];function zn({attributes:e={style:{noptin:{typography:{}}}},setAttributes:t,settings:n,panelId:l,defaultControls:a=Rn}){const[r,o,i]=Fe(e,t,"typography"),s=Ce(n,"fontFamily"),c=r.fontFamily,m=e=>o({fontFamily:e}),u=Ce(n,"fontSize"),d=r.fontSize,p=e=>o({fontSize:e}),h=Ce(n,"fontStyle"),_=Ce(n,"fontWeight"),f=h||_,E=r.fontStyle,w=r.fontWeight,y=({fontStyle:e,fontWeight:t})=>o({fontStyle:e,fontWeight:t}),x=Ce(n,"lineHeight"),k=r.lineHeight,C=e=>o({lineHeight:e}),S=Ce(n,"letterSpacing"),B=r.letterSpacing,T=e=>o({letterSpacing:e}),I=Ce(n,"textTransform"),P=r.textTransform,N=e=>o({textTransform:e}),M=Ce(n,"textDecoration"),L=r.textDecoration,V=e=>o({textDecoration:e});return(0,b.createElement)(b.Fragment,null,(0,b.createElement)(v.__experimentalToolsPanel,{label:(0,g.__)("Typography"),resetAll:i,panelId:l,className:"typography-block-support-panel"},s&&(0,b.createElement)(v.__experimentalToolsPanelItem,{label:(0,g.__)("Font family"),hasValue:()=>!!c,onDeselect:()=>m(void 0),isShownByDefault:a.fontFamily,panelId:l},(0,b.createElement)(Ye,{value:c||"",onChange:m})),u&&(0,b.createElement)(v.__experimentalToolsPanelItem,{label:(0,g.__)("Font size"),hasValue:()=>!!d,onDeselect:()=>p(void 0),isShownByDefault:a.fontSize,panelId:l},(0,b.createElement)(v.FontSizePicker,{value:d,onChange:p,fontSizes:Hn,disableCustomFontSizes:!1,withReset:!1,units:["px","em","rem"],withSlider:!0,size:"__unstable-large",__nextHasNoMarginBottom:!0})),f&&(0,b.createElement)(v.__experimentalToolsPanelItem,{className:"single-column",label:(0,g.__)("Appearance"),hasValue:()=>!!E||!!w,onDeselect:()=>{y({fontStyle:void 0,fontWeight:void 0})},isShownByDefault:a.fontAppearance,panelId:l},(0,b.createElement)(ke.__experimentalFontAppearanceControl,{value:{fontStyle:E,fontWeight:w},onChange:y,hasFontStyles:h,hasFontWeights:_,size:"__unstable-large",__nextHasNoMarginBottom:!0})),x&&(0,b.createElement)(v.__experimentalToolsPanelItem,{className:"single-column",label:(0,g.__)("Line height"),hasValue:()=>!!k,onDeselect:()=>C(void 0),isShownByDefault:a.lineHeight,panelId:l},(0,b.createElement)(ke.LineHeightControl,{__nextHasNoMarginBottom:!0,__unstableInputWidth:"auto",value:k,onChange:C,size:"__unstable-large"})),S&&(0,b.createElement)(v.__experimentalToolsPanelItem,{className:"single-column",label:(0,g.__)("Letter spacing"),hasValue:()=>!!B,onDeselect:()=>T(void 0),isShownByDefault:a.letterSpacing,panelId:l},(0,b.createElement)(ke.__experimentalLetterSpacingControl,{value:B,onChange:T,size:"__unstable-large",__unstableInputWidth:"auto"})),M&&(0,b.createElement)(v.__experimentalToolsPanelItem,{className:"single-column",label:(0,g.__)("Text decoration"),hasValue:()=>!!L,onDeselect:()=>V(void 0),isShownByDefault:a.textDecoration,panelId:l},(0,b.createElement)(ke.__experimentalTextDecorationControl,{value:L,onChange:V,size:"__unstable-large",__unstableInputWidth:"auto"})),I&&(0,b.createElement)(v.__experimentalToolsPanelItem,{label:(0,g.__)("Letter case"),hasValue:()=>!!P,onDeselect:()=>N(void 0),isShownByDefault:a.textTransform,panelId:l},(0,b.createElement)(ke.__experimentalTextTransformControl,{value:P,onChange:N,showNone:!0,isBlock:!0,size:"__unstable-large",__nextHasNoMarginBottom:!0}))))}const An=e=>{const[t]=Fe(e,null,"typography");return t},Dn=()=>{const e=(0,d.useSelect)((e=>e(ke.store).getSettings()),[]);return e.__experimentalFeatures?.color?.palette?.theme||[]};function Fn({attributes:e={style:{noptin:{border:{}}}},setAttributes:t=(e=>e),settings:n,panelId:l}){const[a,r,o]=Fe(e,t,"border"),i=Dn();return(0,b.createElement)(v.__experimentalToolsPanel,{label:(0,g.__)("Border"),resetAll:o,panelId:l,className:"border-block-support-panel"},Ce(n,"border")&&(0,b.createElement)(v.__experimentalToolsPanelItem,{hasValue:()=>(0,v.__experimentalIsDefinedBorder)(a?.border),label:(0,g.__)("Border"),onDeselect:()=>r({border:void 0}),isShownByDefault:!0,panelId:l},(0,b.createElement)(v.__experimentalBorderBoxControl,{colors:i,onChange:e=>r({border:e}),popoverOffset:40,popoverPlacement:"left-start",value:a?.border,__experimentalIsRenderedInSidebar:!0,size:"__unstable-large"})),Ce(n,"radius")&&(0,b.createElement)(v.__experimentalToolsPanelItem,{hasValue:()=>{const e=a?.radius;return"object"==typeof e?Object.entries(e).some(Boolean):!!e},label:(0,g.__)("Radius"),onDeselect:()=>r({radius:void 0}),isShownByDefault:!0,panelId:l},(0,b.createElement)(ke.__experimentalBorderRadiusControl,{values:a?.radius,onChange:e=>r({radius:e})})))}const $n=e=>{const[t]=Fe(e,null,"border");if(!t)return{};const n=(e,t)=>{if(!e)return{};const n={};return["style","width","color"].forEach((l=>{const a=e[l],r=`${t}${l.charAt(0).toUpperCase()+l.slice(1)}`;a&&(n[r]=a)})),n[`${t}Width`]&&n[`${t}Color`]&&!n[`${t}Style`]&&(n[`${t}Style`]="solid"),n},l=e?.style?.noptin?.border;return{...(0,v.__experimentalIsDefinedBorder)(l?.border)?(e=>{if(!(0,v.__experimentalHasSplitBorders)(e))return n(e,"border");let t={};return["top","right","bottom","left"].forEach((l=>{const a=e[l],r=`border${l.charAt(0).toUpperCase()+l.slice(1)}`;t={...t,...n(a,r)}})),t})(l?.border):{},...(a=t.radius,a&&"object"==typeof a?{borderRadius:["topLeft","topRight","bottomRight","bottomLeft"].reduce(((e,t)=>{const n=a[t];return n&&(e=`${e} ${n}`),e}),"")}:{borderRadius:a})};var a},On={placement:"left-start",offset:36,shift:!0},Un=({indicators:e,label:t})=>(0,b.createElement)(v.__experimentalHStack,{justify:"flex-start"},(0,b.createElement)(v.__experimentalZStack,{isLayered:!1,offset:-8},e.map(((e,t)=>(0,b.createElement)(v.Flex,{key:t,expanded:!1},(0,b.createElement)(v.ColorIndicator,{colorValue:e}))))),(0,b.createElement)(v.FlexItem,{className:"block-editor-panel-color-gradient-settings__color-name",title:t},t));function Gn({isGradient:e,inheritedValue:t,userValue:n,setValue:l,colorGradientControlSettings:a}){return(0,b.createElement)(ke.__experimentalColorGradientControl,{...a,showTitle:!1,enableAlpha:!0,__experimentalIsRenderedInSidebar:!0,colorValue:e?void 0:t,gradientValue:e?t:void 0,onColorChange:e?void 0:l,onGradientChange:e?l:void 0,clearable:t===n,headingLevel:3})}function Wn({label:e,hasValue:t,resetValue:n,isShownByDefault:l,indicators:a,tabs:r,colorGradientControlSettings:o,panelId:i}){const s=r.map((({key:e,label:t})=>({name:e,title:t})));return(0,b.createElement)(v.__experimentalToolsPanelItem,{className:"block-editor-tools-panel-color-gradient-settings__item",hasValue:t,label:e,onDeselect:n,isShownByDefault:l,panelId:i},(0,b.createElement)(v.Dropdown,{popoverProps:On,className:"block-editor-tools-panel-color-gradient-settings__dropdown",renderToggle:({onToggle:t,isOpen:n})=>{const l={onClick:t,className:E()("block-editor-panel-color-gradient-settings__dropdown",{"is-open":n}),"aria-expanded":n,"aria-label":(0,g.sprintf)(/* translators: %s is the type of color property, e.g., "background" */
(0,g.__)("Color %s styles"),e)};return(0,b.createElement)(v.Button,{...l},(0,b.createElement)(Un,{indicators:a,label:e}))},renderContent:()=>(0,b.createElement)(v.__experimentalDropdownContentWrapper,{paddingSize:"none"},(0,b.createElement)("div",{className:"block-editor-panel-color-gradient-settings__dropdown-content"},1===r.length&&(0,b.createElement)(Gn,{...r[0],colorGradientControlSettings:o}),r.length>1&&(0,b.createElement)(v.TabPanel,{tabs:s},(e=>{const t=r.find((t=>t.key===e.name));return t?(0,b.createElement)(Gn,{...t,colorGradientControlSettings:o}):null}))))}))}const jn={text:!0,background:!0,link:!0,heading:!0,button:!0},Zn={text:{label:(0,g.__)("Text"),prepare:(e,t)=>{t?.text&&(e.style.color=t.text)}},background:{label:(0,g.__)("Background"),prepare:(e,t)=>{t?.background&&(e.style.backgroundColor=t.background)}},link:{label:(0,g.__)("Link"),prepare:(e,t,n)=>{t?.link&&(e.css=`${e.css} #${n} a { color: ${t.link} }`)}},heading:{label:(0,g.__)("Heading"),tabs:[{key:"heading",label:(0,g.__)("Text")},{key:"headingBackground",label:(0,g.__)("Background")}],prepare:(e,t,n)=>{t?.heading&&(e.css=`${e.css} #${n} h1,\n#${n} h2,\n#${n} h3,\n#${n} h4,\n#${n} h5,\n#${n} h6 { color: ${t.heading} }`),t?.headingBackground&&(e.css=`${e.css} #${n} h1,\n#${n} h2,\n#${n} h3,\n#${n} h4,\n#${n} h5,\n#${n} h6 { background-color: ${t.headingBackground} }`)}},button:{label:(0,g.__)("Button"),tabs:[{key:"button",label:(0,g.__)("Text")},{key:"buttonBackground",label:(0,g.__)("Background")}],prepare:(e,t,n)=>{t?.button&&(e.css=`${e.css} #${n} .noptin-button-link,\n#${n} .noptin-button-link__wrapper { color: ${t.button} }`),t?.buttonBackground&&(e.css=`${e.css} #${n} .noptin-button-link,\n#${n} .noptin-button-link__wrapper { background-color: ${t.buttonBackground} }`)}}};function Yn({settings:e,panelId:t,defaultControls:n=jn,children:l=null,attributes:a,setAttributes:r}){const[o,i,s]=Fe(a,r,"color"),c=Dn(),m=(0,$t.compact)(Object.keys(Zn).map((t=>{if(!Ce(e,t))return!1;const l=Zn[t].tabs||[{key:t,label:Zn[t].label}];return{key:t,label:Zn[t].label,hasValue:()=>!!o[t],resetValue:()=>i({[t]:void 0}),isShownByDefault:n[t],indicators:[o?.[t]],tabs:l.map((({key:e,label:t})=>({key:e,label:t,setValue:t=>i({[e]:t}),userValue:o?.[e]})))}})));return(0,b.createElement)(b.Fragment,null,m.map((e=>(0,b.createElement)(Wn,{...e,colorGradientControlSettings:{colors:c,disableCustomColors:!1},panelId:t}))),l)}const qn=e=>{const[t]=Fe(e,null,"color"),n={style:{},css:""};return t?(Object.values(Zn).forEach((l=>{l.prepare(n,t,e.anchor)}),n),n):{style:{},css:""}};function Kn(e){if(!e)return;if("core/html"===e.name)return(0,we.registerBlockType)({name:e.name,...e.metadata},e.settings);e.metadata.attributes=e.metadata.attributes||{},e.metadata.attributes.anchor={type:"string",source:"attribute",attribute:"id",selector:"*"},e.metadata?.noptin&&!e.metadata.attributes?.style&&(e.metadata.attributes=e.metadata.attributes||{},e.metadata.attributes.style={type:"object",default:{}});const{metadata:t,settings:n,name:l}=(({metadata:e,settings:t,...n})=>{if(e?.noptin?.typography){const n=t.edit;t.edit=t=>{const l=Ce(e.noptin.typography,"textAlign"),[a,r]=Fe(t.attributes,t.setAttributes,"typography");return(0,b.createElement)(b.Fragment,null,l&&(0,b.createElement)(ke.BlockControls,{group:"block"},(0,b.createElement)(ke.AlignmentControl,{value:a.textAlign,onChange:e=>r({textAlign:e})})),(0,b.createElement)(ke.InspectorControls,{group:"styles"},(0,b.createElement)(zn,{panelId:t.clientId,attributes:t.attributes,setAttributes:t.setAttributes,settings:e.noptin.typography})),n(t))}}return{metadata:e,settings:t,...n}})((({metadata:e,settings:t,...n})=>{if(e?.noptin?.border){const n=t.edit;t.edit=t=>(0,b.createElement)(b.Fragment,null,(0,b.createElement)(ke.InspectorControls,{group:"styles"},(0,b.createElement)(Fn,{panelId:t.clientId,attributes:t.attributes,setAttributes:t.setAttributes,settings:e.noptin.border})),n(t))}return{metadata:e,settings:t,...n}})((({metadata:e,settings:t,...n})=>{if(e?.noptin?.color){const n=t.edit;t.edit=(e=>(0,w.createHigherOrderComponent)((t=>n=>{const[l,a]=ze(),r=l[n.clientId]||"",o=`block-${n.clientId}`;(0,b.useEffect)((()=>{n.attributes.anchor!==o&&n.setAttributes({anchor:o})}),[n.clientId]);const i=(0,b.useMemo)((()=>qn(n.attributes).css),[n.attributes]);return i!==r&&a(n.clientId,i),(0,b.createElement)(b.Fragment,null,(0,b.createElement)(ke.InspectorControls,{group:"color"},(0,b.createElement)(Yn,{panelId:n.clientId,attributes:n.attributes,setAttributes:n.setAttributes,settings:e})),(0,b.createElement)(t,{...n}))}),"withNoptinColors"))(e.noptin.color)(n)}return{metadata:e,settings:t,...n}})(e)));return(0,we.registerBlockType)({name:l,...t},n)}const Qn=e=>{const t={margin:{},padding:{}};return Object.entries(e).forEach((([e,n])=>{e.startsWith("margin")?t.margin[e]=n:e.startsWith("padding")&&(t.padding[e]=n)})),t},Jn=(e,t=!1)=>{const n=(0,ke.__experimentalGetSpacingClassesAndStyles)(e),l=n?.style||{};return t?Qn(l):l};function Xn(e){const{batch:t}=(0,d.useRegistry)(),{moveBlocksToPosition:n,replaceInnerBlocks:l,duplicateBlocks:a,insertBlock:r}=(0,d.useDispatch)(ke.store),{getBlockRootClientId:o,getBlockIndex:i,getBlockOrder:s,getBlockName:c,getBlock:m,getNextBlockClientId:u,canInsertBlockType:p}=(0,d.useSelect)(ke.store),g=(0,h.useRef)(e);return g.current=e,(0,w.useRefEffect)((e=>{function d(e){if(e.defaultPrevented)return;if(e.keyCode!==Xe.ENTER)return;const{content:d,clientId:h}=g.current;if(d.length)return;const _=o(h);if(!(0,we.hasBlockSupport)(c(_),"__experimentalOnEnter",!1))return;const b=s(_),f=b.indexOf(h);if(f===b.length-1){let t=_;for(;!p(c(h),o(t));)t=o(t);return void("string"==typeof t&&(e.preventDefault(),n([h],_,o(t),i(t)+1)))}const E=(0,we.getDefaultBlockName)();if(!p(E,o(_)))return;e.preventDefault();const v=m(_);t((()=>{a([_]);const e=i(_);l(_,v.innerBlocks.slice(0,f)),l(u(_),v.innerBlocks.slice(f+1)),r((0,we.createBlock)(E),e+1,o(_),!0)}))}return e.addEventListener("keydown",d),()=>{e.removeEventListener("keydown",d)}}),[])}Jn.save=(e,t=!1)=>{const n=(0,ke.__experimentalGetSpacingClassesAndStyles)(e),l=n?.style||{};return t?Qn(l):l};const el={apiVersion:3,name:"core/paragraph",title:(0,g.__)("Paragraph","newsletter-optin-box"),category:"content",description:(0,g.__)("Start with the basic building block of all narrative.","newsletter-optin-box"),keywords:["text"],attributes:{content:{type:"string",source:"html",selector:"p",default:"",__experimentalRole:"content"},placeholder:{type:"string"},style:{type:"object",default:{spacing:{margin:{bottom:"16px",left:"10px",right:"10px"}}}}},noptin:{typography:!0,border:!0,color:{background:!0,text:!0,link:!0}},supports:{anchor:!1,className:!0,spacing:{__experimentalSkipSerialization:!0,margin:!0,padding:!0,__experimentalDefaultControls:{margin:!0,padding:!1}},__experimentalSelector:"p",__unstablePasteTextInline:!0}},tl={from:[{type:"raw",priority:20,selector:"p",schema:({phrasingContentSchema:e,isPaste:t})=>({p:{children:e,attributes:t?[]:["style","id"]}}),transform(e){const t=(0,we.getBlockAttributes)("core/paragraph",e.outerHTML),{textAlign:n}=e.style||{};return"left"!==n&&"center"!==n&&"right"!==n||(t.align=n),(0,we.createBlock)("core/paragraph",t)}}]},{name:nl}=el,ll={icon:xe,example:{attributes:{content:(0,g.__)("In a village of La Mancha, the name of which I have no desire to call to mind, there lived not long since one of those gentlemen that keep a lance in the lance-rack, an old buckler, a lean hack, and a greyhound for coursing.")}},__experimentalLabel(e,{context:t}){const n=e?.metadata?.name;if("list-view"===t&&n)return n;if("accessibility"===t){if(n)return n;const{content:t}=e;return t&&0!==t.length?t:(0,g.__)("Empty")}},transforms:tl,merge:(e,t)=>({content:(e.content||"")+(t.content||"")}),edit:function({attributes:e,mergeBlocks:t,onReplace:n,onRemove:l,setAttributes:a,clientId:r}){const{content:o,placeholder:i}=e,s=(0,ke.useBlockProps)({ref:Xn({clientId:r,content:o}),style:{...An(e),...$n(e),...Jn(e),...qn(e).style}});return(0,b.createElement)(b.Fragment,null,(0,b.createElement)(ke.RichText,{identifier:"content",tagName:"p",...s,value:o,onChange:e=>a({content:e}),onSplit:(t,n)=>{let l;(n||t)&&(l={...e,content:t});const a=(0,we.createBlock)("core/paragraph",l);return n&&(a.clientId=r),a},onMerge:t,onReplace:n,onRemove:l,"aria-label":o?(0,g.__)("Block: Paragraph"):(0,g.__)("Empty block; start writing or type forward slash to choose a block"),"data-empty":!o,placeholder:i||(0,g.__)("Start writing or type / to choose a block"),"data-custom-placeholder":!!i||void 0,__unstableAllowPrefixTransformations:!0}))},save:function({attributes:e}){const{content:t}=e,n=ke.useBlockProps.save({style:{...An(e),...$n(e),...Jn.save(e),...qn(e).style}});return(0,b.createElement)("p",{...n},(0,b.createElement)(ke.RichText.Content,{value:t}))}},al=(0,b.createElement)(B.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,b.createElement)(B.Path,{d:"M6 5V18.5911L12 13.8473L18 18.5911V5H6Z"})),rl={apiVersion:3,name:"core/heading",title:(0,g.__)("Heading","newsletter-optin-box"),category:"content",description:(0,g.__)("Introduce new sections and organize content to help readers understand the structure of your content.","newsletter-optin-box"),keywords:["title","subtitle"],attributes:{content:{type:"string",source:"html",selector:"h1,h2,h3,h4,h5,h6",default:"",__experimentalRole:"content"},level:{type:"number",default:2},placeholder:{type:"string"},style:{type:"object",default:{spacing:{margin:{bottom:"16px",left:"10px",right:"10px"}}}}},noptin:{typography:!0,border:!0,color:{background:!0,text:!0,link:!0}},supports:{anchor:!1,className:!0,spacing:{__experimentalSkipSerialization:!0,margin:!0,padding:!0,__experimentalDefaultControls:{margin:!0,padding:!1}},__unstablePasteTextInline:!0,__experimentalSlashInserter:!0}},ol={from:[{type:"block",isMultiBlock:!0,blocks:["core/paragraph"],transform:e=>e.map((({content:e,className:t,align:n})=>(0,we.createBlock)("core/heading",{content:e,className:t,textAlign:n})))},{type:"raw",selector:"h1,h2,h3,h4,h5,h6",schema:({phrasingContentSchema:e,isPaste:t})=>{const n={children:e,attributes:t?[]:["style","id"]};return{h1:n,h2:n,h3:n,h4:n,h5:n,h6:n}},transform(e){const t=(0,we.getBlockAttributes)("core/heading",e.outerHTML),{textAlign:n}=e.style||{};var l;return t.level=(l=e.nodeName,Number(l.substr(1))),"left"!==n&&"center"!==n&&"right"!==n||(t.align=n),(0,we.createBlock)("core/heading",t)}},...[1,2,3,4,5,6].map((e=>({type:"prefix",prefix:Array(e+1).join("#"),transform:t=>(0,we.createBlock)("core/heading",{level:e,content:t})}))),...[1,2,3,4,5,6].map((e=>({type:"enter",regExp:new RegExp(`^/(h|H)${e}$`),transform:()=>(0,we.createBlock)("core/heading",{level:e})})))],to:[{type:"block",isMultiBlock:!0,blocks:["core/paragraph"],transform:e=>e.map((({content:e,textAlign:t})=>(0,we.createBlock)("core/paragraph",{content:e,align:t})))}]},{name:il}=rl,sl={icon:al,example:{attributes:{content:(0,g.__)("Code is Poetry"),level:2}},__experimentalLabel(e,{context:t}){const{content:n,level:l}=e,a=e?.metadata?.name;return"list-view"===t&&(a||n)?e?.metadata?.name||n:"accessibility"===t?n&&0!==n.length?(0,g.sprintf)(/* translators: accessibility text. 1: heading level. 2: heading content. */
(0,g.__)("Level %1$s. %2$s"),l,n):(0,g.sprintf)(/* translators: accessibility text. %s: heading level. */
(0,g.__)("Level %s. Empty."),l):void 0},transforms:ol,merge:(e,t)=>({content:(e.content||"")+(t.content||"")}),edit:function({attributes:e,setAttributes:t,mergeBlocks:n,onReplace:l,clientId:a}){const{placeholder:r,content:o,level:i}=e,s=(0,ke.useBlockProps)({style:{...An(e),...$n(e),...Jn(e),...qn(e).style}});return(0,b.createElement)(b.Fragment,null,(0,b.createElement)(ke.BlockControls,{group:"block"},(0,b.createElement)(ke.HeadingLevelDropdown,{value:i,onChange:e=>t({level:e})})),(0,b.createElement)(ke.RichText,{identifier:"content",tagName:"h"+i,value:o,onChange:e=>{t({content:e})},onMerge:n,onSplit:(t,n)=>{let l;var r;return l=n||t?(0,we.createBlock)("core/heading",{...e,content:t}):(0,we.createBlock)(null!==(r=(0,we.getDefaultBlockName)())&&void 0!==r?r:"core/heading"),n&&(l.clientId=a),l},onReplace:l,onRemove:()=>l([]),placeholder:r||(0,g.__)("Enter heading..."),...s}))},save:function({attributes:e}){const{content:t,level:n}=e,l="h"+n,a=ke.useBlockProps.save({style:{...An(e),...$n(e),...Jn.save(e),...qn(e).style}});return(0,b.createElement)(l,{...a},(0,b.createElement)(ke.RichText.Content,{value:t}))}},cl=(0,b.createElement)(B.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,b.createElement)(B.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v8.4l-3-2.9c-.3-.3-.8-.3-1 0L11.9 14 9 12c-.3-.2-.6-.2-.8 0l-3.6 2.6V5c-.1-.3.1-.5.4-.5zm14 15H5c-.3 0-.5-.2-.5-.5v-2.4l4.1-3 3 1.9c.3.2.7.2.9-.1L16 12l3.5 3.4V19c0 .3-.2.5-.5.5z"})),ml=window.wp.blob,ul=(0,b.createElement)(B.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,b.createElement)(B.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M6 5.5h12a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5H6a.5.5 0 0 1-.5-.5V6a.5.5 0 0 1 .5-.5ZM4 6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6Zm4 10h2v-1.5H8V16Zm5 0h-2v-1.5h2V16Zm1 0h2v-1.5h-2V16Z"})),dl=(0,b.createElement)(B.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,b.createElement)(B.Path,{d:"M16.5 7.8v7H18v-7c0-1-.8-1.8-1.8-1.8h-7v1.5h7c.2 0 .3.1.3.3zm-8.7 8.7c-.1 0-.2-.1-.2-.2V2H6v4H2v1.5h4v8.8c0 1 .8 1.8 1.8 1.8h8.8v4H18v-4h4v-1.5H7.8z"})),pl=(0,b.createElement)(B.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,b.createElement)(B.Path,{d:"M18.5 15v3.5H13V6.7l4.5 4.1 1-1.1-6.2-5.8-5.8 5.8 1 1.1 4-4v11.7h-6V15H4v5h16v-5z"})),gl=["image"],hl=({href:e,children:t})=>e?(0,b.createElement)("a",{href:e,onClick:e=>e.preventDefault(),"aria-disabled":!0,style:{pointerEvents:"none",cursor:"default",display:"block",textDecoration:"none",maxWidth:"100%"}},t):t;function _l({temporaryURL:e,attributes:t,setAttributes:n,isSelected:l,insertBlocksAfter:a,onSelectImage:r,onSelectURL:o,onUploadError:i,containerRef:s,clientId:c,blockEditingMode:m}){const{url:u="",alt:p,caption:_,align:f,id:E,href:y,rel:x,linkClass:k,linkDestination:C,width:S,height:B,scale:T,sizeSlug:I}=t,P=S?parseInt(S,10):void 0,N=B?parseInt(B,10):void 0,M=(0,h.useRef)(),L=(0,w.usePrevious)(_),[V,R]=(0,h.useState)(!!_),{image:H,multiImageSelection:z}=(0,d.useSelect)((e=>{const{getMedia:t}=e(Se.store),{getMultiSelectedBlockClientIds:n,getBlockName:a}=e(ke.store),r=n();return{image:E&&l?t(E,{context:"view"}):null,multiImageSelection:r.length&&r.every((e=>"core/image"===a(e)))}}),[E,l]),{imageEditing:A,imageSizes:D,mediaUpload:F}=(0,d.useSelect)((e=>{const{getSettings:t}=e(ke.store),n=t();return{imageEditing:n.imageEditing,imageSizes:n.imageSizes,mediaUpload:n.mediaUpload}}),[c]),{createErrorNotice:$,createSuccessNotice:O}=(0,d.useDispatch)(nt.store),[{loadedNaturalWidth:U,loadedNaturalHeight:G},W]=(0,h.useState)({loadedNaturalWidth:void 0,loadedNaturalHeight:void 0}),[j,Z]=(0,h.useState)(!1),[Y,q]=(0,h.useState)(),K=function(e,t){const[n,l]=(0,h.useState)();function a(){l(e.current?.clientWidth)}return(0,h.useEffect)(a,t),(0,h.useEffect)((()=>{const{defaultView:t}=e.current.ownerDocument;return t.addEventListener("resize",a),()=>{t.removeEventListener("resize",a)}}),[]),n}(s,[f]),Q="default"===m,J=D.filter((({slug:e})=>H?.media_details?.sizes?.[e]?.source_url)).map((({name:e,slug:t})=>({value:t,label:e}))),X=!!F;(0,h.useEffect)((()=>{bl(E,u)&&l&&X?Y||window.fetch(u.includes("?")?u:u+"?").then((e=>e.blob())).then((e=>q(e))).catch((()=>{})):q(void 0)}),[E,u,l,Y,X]),(0,h.useEffect)((()=>{_&&!L&&R(!0)}),[_,L]);const ee=(0,h.useCallback)((e=>{e&&!_&&e.focus()}),[_]),{naturalWidth:te,naturalHeight:ne}=(0,h.useMemo)((()=>({naturalWidth:M.current?.naturalWidth||U||void 0,naturalHeight:M.current?.naturalHeight||G||void 0})),[U,G,M.current?.complete]);(0,h.useEffect)((()=>{l||(Z(!1),_||R(!1))}),[l,_]);const le=E&&te&&ne&&A,ae=!z&&le&&!j,re=()=>{n({width:void 0,height:void 0,scale:void 0})},oe=(0,v.__experimentalUseCustomUnits)({availableUnits:["px"]}),ie=(0,b.createElement)(b.Fragment,null,(0,b.createElement)(v.__experimentalToolsPanelItem,{label:(0,g.__)("Width"),isShownByDefault:!0,hasValue:()=>!!S,onDeselect:()=>n({width:void 0}),panelId:c,style:{gridColumn:"span 1"}},(0,b.createElement)(ke.__experimentalUnitControl,{label:(0,g.__)("Width"),placeholder:(0,g.__)("Auto"),labelPosition:"top",min:0,value:S||"",onChange:e=>n({width:e}),size:"__unstable-large"})),(0,b.createElement)(v.__experimentalToolsPanelItem,{label:(0,g.__)("Height"),isShownByDefault:!0,hasValue:()=>!!B,onDeselect:()=>n({height:void 0}),panelId:c,style:{gridColumn:"span 1"}},(0,b.createElement)(ke.__experimentalUnitControl,{label:(0,g.__)("Height"),placeholder:(0,g.__)("Auto"),labelPosition:"top",units:oe,min:0,value:B||"",onChange:e=>n({height:e}),size:"__unstable-large"}))),se=(0,b.createElement)(b.Fragment,null,(0,b.createElement)(ke.BlockControls,{group:"block"},Q&&(0,b.createElement)(ke.BlockAlignmentControl,{value:f,onChange:e=>n({align:e})}),Q&&(0,b.createElement)(v.ToolbarButton,{onClick:()=>{R(!V),V&&_&&n({caption:void 0})},icon:ul,isPressed:V,label:V?(0,g.__)("Remove caption"):(0,g.__)("Add caption")}),!z&&!j&&(0,b.createElement)(ke.__experimentalImageURLInputUI,{url:y||"",onChangeUrl:n,linkDestination:C,mediaUrl:H&&H.source_url||u,mediaLink:H&&H.link,linkClass:k,rel:x}),ae&&(0,b.createElement)(v.ToolbarButton,{onClick:()=>Z(!0),icon:dl,label:(0,g.__)("Crop")})),!z&&!j&&(0,b.createElement)(ke.BlockControls,{group:"other"},(0,b.createElement)(ke.MediaReplaceFlow,{mediaId:E,mediaURL:u,allowedTypes:gl,accept:"image/*",onSelect:r,onSelectURL:o,onError:i})),!z&&Y&&(0,b.createElement)(ke.BlockControls,null,(0,b.createElement)(v.ToolbarGroup,null,(0,b.createElement)(v.ToolbarButton,{onClick:function(){F({filesList:[Y],onFileChange([e]){r(e),(0,ml.isBlobURL)(e.url)||(q(void 0),O((0,g.__)("Image uploaded."),{type:"snackbar"}))},allowedTypes:gl,onError(e){$(e,{type:"snackbar"})}})},icon:pl,label:(0,g.__)("Upload external image")}))),(0,b.createElement)(ke.InspectorControls,null,(0,b.createElement)(v.__experimentalToolsPanel,{label:(0,g.__)("Settings"),panelId:c,resetAll:re},!z&&(0,b.createElement)(v.__experimentalToolsPanelItem,{label:(0,g.__)("Alternative text"),isShownByDefault:!0,hasValue:()=>""!==p,panelId:c,onDeselect:()=>n({alt:void 0})},(0,b.createElement)(v.TextareaControl,{label:(0,g.__)("Alternative text"),value:p,onChange:e=>n({alt:e}),help:(0,b.createElement)(b.Fragment,null,(0,b.createElement)(v.ExternalLink,{href:"https://www.w3.org/WAI/tutorials/images/decision-tree"},(0,g.__)("Describe the purpose of the image.")),(0,b.createElement)("br",null),(0,g.__)("Leave empty if decorative.")),__nextHasNoMarginBottom:!0})),Q&&(0,b.createElement)(b.Fragment,null,J.length>0?(0,b.createElement)(v.__experimentalToolsPanelItem,{label:(0,g.__)("Image size"),isShownByDefault:!0,hasValue:()=>"large"!==I,panelId:c,onDeselect:()=>n({sizeSlug:"large"})},(0,b.createElement)(v.SelectControl,{label:(0,g.__)("Image size"),value:I,options:J,onChange:function(e){const t=H?.media_details?.sizes?.[e]?.source_url;if(!t)return null;n({url:t,sizeSlug:e,height:void 0,width:H?.media_details?.sizes?.[e]?.width||void 0})},className:"noptin-field-control"})):null,ie)))),ce=(0,Oe.getFilename)(u);let me;me=p||(ce?(0,g.sprintf)(/* translators: %s: file name */
(0,g.__)("This image has an empty alt attribute; its file name is %s"),ce):(0,g.__)("This image has an empty alt attribute"));const ue=M.current?.width||K,de=le&&j,pe=(0,b.createElement)(hl,{href:y},de?(0,b.createElement)(ke.__experimentalImageEditor,{id:E,url:u,width:P,height:N,clientWidth:ue,naturalHeight:ne,naturalWidth:te,onSaveImage:e=>n(e),onFinishEditing:()=>{Z(!1)}}):(0,b.createElement)(b.Fragment,null,(0,b.createElement)("img",{src:e||u,alt:me,onLoad:e=>{W({loadedNaturalWidth:e.target?.naturalWidth,loadedNaturalHeight:e.target?.naturalHeight})},ref:M,style:{width:!S&&B?"auto":S,height:B,objectFit:T,maxWidth:"100%",...$n(t)}}),e&&(0,b.createElement)(v.Spinner,null)));return u||e?(0,b.createElement)(b.Fragment,null,!e&&se,pe,V&&(!ke.RichText.isEmpty(_)||l)&&(0,b.createElement)(ke.RichText,{identifier:"caption",ref:ee,className:"wp-block-image__caption",tagName:"div","aria-label":(0,g.__)("Image caption text"),placeholder:(0,g.__)("Add caption"),value:_,onChange:e=>n({caption:e}),inlineToolbar:!0,__unstableOnSplitAtEnd:()=>a((0,we.createBlock)((0,we.getDefaultBlockName)())),style:{fontSize:"12px",textAlign:f,marginTop:"12px"}})):(0,b.createElement)(ke.InspectorControls,null,(0,b.createElement)(v.__experimentalToolsPanel,{label:(0,g.__)("Settings"),panelId:c,resetAll:re},Q&&ie))}const bl=(e,t)=>t&&!e&&!(0,ml.isBlobURL)(t);function fl(e,t){var n,l;return"url"in(null!==(n=e?.sizes?.[t])&&void 0!==n?n:{})||"source_url"in(null!==(l=e?.media_details?.sizes?.[t])&&void 0!==l?l:{})}const El={apiVersion:3,name:"core/image",title:(0,g.__)("Image","newsletter-optin-box"),category:"content",description:(0,g.__)("Insert an image to make a visual statement.","newsletter-optin-box"),keywords:["img","picture","media","photo"],attributes:{align:{type:"string"},url:{type:"string",source:"attribute",selector:"img",attribute:"src",__experimentalRole:"content"},alt:{type:"string",source:"attribute",selector:"img",attribute:"alt",default:"",__experimentalRole:"content"},caption:{type:"string",source:"html",selector:".wp-block-image__caption",__experimentalRole:"content"},href:{type:"string",source:"attribute",selector:"a",attribute:"href",__experimentalRole:"content"},rel:{type:"string",source:"attribute",selector:"a",attribute:"rel"},linkClass:{type:"string",source:"attribute",selector:"a",attribute:"class"},id:{type:"number",__experimentalRole:"content"},width:{type:"string"},height:{type:"string"},scale:{type:"string"},sizeSlug:{type:"string",default:"large"},linkDestination:{type:"string"},link:{type:"string"},style:{type:"object",default:{spacing:{margin:{bottom:"16px"}}}}},supports:{anchor:!1,spacing:{__experimentalSkipSerialization:!0,margin:!0,padding:!0,__experimentalDefaultControls:{margin:!0}}},noptin:{border:!0},selectors:{border:".wp-block-image img, .wp-block-image .wp-block-image__crop-area, .wp-block-image .components-placeholder"}};function vl(e,t){const{body:n}=document.implementation.createHTMLDocument("");n.innerHTML=e;const{firstElementChild:l}=n;if(l&&"A"===l.nodeName)return l.getAttribute(t)||void 0}const wl={img:{attributes:["src","alt"],classes:["alignleft","aligncenter","alignright","alignnone",/^wp-image-\d+$/]}},yl={from:[{type:"raw",isMatch:e=>"FIGURE"===e.nodeName&&!!e.querySelector("img"),schema:({phrasingContentSchema:e})=>({figure:{require:["img"],children:{...wl,a:{attributes:["href","rel","target"],children:wl},figcaption:{children:e}}}}),transform:e=>{const t=e.className+" "+e.querySelector("img").className,n=/(?:^|\s)align(left|center|right)(?:$|\s)/.exec(t),l=""===e.id?void 0:e.id,a=n?n[1]:void 0,r=/(?:^|\s)wp-image-(\d+)(?:$|\s)/.exec(t),o=r?Number(r[1]):void 0,i=e.querySelector("a"),s=i&&i.href?"custom":void 0,c=i&&i.href?i.href:void 0,m=i&&i.rel?i.rel:void 0,u=i&&i.className?i.className:void 0,d=(0,we.getBlockAttributes)("core/image",e.outerHTML,{align:a,id:o,linkDestination:s,href:c,rel:m,linkClass:u,anchor:l});return(0,we.createBlock)("core/image",d)}},{type:"shortcode",tag:"caption",attributes:{url:{type:"string",source:"attribute",attribute:"src",selector:"img"},alt:{type:"string",source:"attribute",attribute:"alt",selector:"img"},caption:{shortcode:function(e,{shortcode:t}){const{body:n}=document.implementation.createHTMLDocument("");n.innerHTML=t.content;let l=n.querySelector("img");for(;l&&l.parentNode&&l.parentNode!==n;)l=l.parentNode;return l&&l.parentNode.removeChild(l),n.innerHTML.trim()}},href:{shortcode:(e,{shortcode:t})=>vl(t.content,"href")},rel:{shortcode:(e,{shortcode:t})=>vl(t.content,"rel")},linkClass:{shortcode:(e,{shortcode:t})=>vl(t.content,"class")},id:{type:"number",shortcode:({named:{id:e}})=>{if(e)return parseInt(e.replace("attachment_",""),10)}},align:{type:"string",shortcode:({named:{align:e="alignnone"}})=>e.replace("align","")}}}]};window?.wp?.media?.view?.settings?.defaultProps&&Object.entries(window.wp.media.view.settings.defaultProps).forEach((([e,t])=>{El.attributes[e]&&(El.attributes[e].default=t)}));const{name:xl}=El,kl={icon:cl,example:{attributes:{sizeSlug:"large",url:"https://s.w.org/images/core/5.3/MtBlanc1.jpg",
// translators: Caption accompanying an image of the Mont Blanc, which serves as an example for the Image block.
caption:(0,g.__)("Mont Blanc appearsstill, snowy, and serene.")}},__experimentalLabel(e,{context:t}){if("accessibility"===t){const{caption:t,alt:n,url:l}=e;return l?n?n+(t?". "+t:""):t||"":(0,g.__)("Empty")}},getEditWrapperProps:e=>({"data-align":e.align}),transforms:yl,edit:function({attributes:e,setAttributes:t,isSelected:n,className:l,insertBlocksAfter:a,onReplace:r,context:o,clientId:i}){const{url:s="",alt:c,caption:m,align:u,id:p,width:_,height:f,sizeSlug:w}=e,[y,x]=(0,h.useState)(),k=(0,h.useRef)();(0,h.useEffect)((()=>{k.current=c}),[c]);const C=(0,h.useRef)();(0,h.useEffect)((()=>{C.current=m}),[m]);const S=(0,h.useRef)(),{mediaUpload:B}=(0,d.useSelect)((e=>{const{getSettings:t}=e(ke.store);return{mediaUpload:t().mediaUpload}}),[]),T=(0,ke.useBlockEditingMode)(),{createErrorNotice:I}=(0,d.useDispatch)(nt.store);function P(e){I(e,{type:"snackbar"}),t({src:void 0,id:void 0,url:void 0}),x(void 0)}function N(n){if(!n||!n.url)return void t({url:void 0,alt:void 0,id:void 0,caption:void 0});if((0,ml.isBlobURL)(n.url))return void x(n.url);x(void 0);let l="full";w&&fl(n,w)?l=w:fl(n,"large")&&(l="large");let a,r=((e,t)=>{const n=Object.fromEntries(Object.entries(null!=e?e:{}).filter((([e])=>["alt","id","link","caption","width","url"].includes(e)))),l=["width","url"];return e?.sizes?.[t]?l.forEach((l=>{e.sizes[t][l]&&(n[l]=e.sizes[t][l])})):e?.media_details?.sizes?.[t]&&l.forEach((l=>{e.media_details.sizes[t][l]?n[l]=e.media_details.sizes[t][l]:e.media_details.sizes[t][`source_${l}`]&&(n[l]=e.media_details.sizes[t][`source_${l}`])})),n.height=void 0,n})(n,l);if(C.current&&!r.caption){const{caption:e,...t}=r;r=t}a=n.id&&n.id===p?{url:s}:{sizeSlug:l};let o,i=e.linkDestination;switch(i){case"file":o=n.url;break;case"post":o=n.link}r.href=o,t({...r,...a,linkDestination:i})}function M(e){e!==s&&t({url:e,id:void 0,sizeSlug:"large"})}let L=((e,t)=>!e&&(0,ml.isBlobURL)(t))(p,s);(0,h.useEffect)((()=>{if(!L)return;const e=(0,ml.getBlobByURL)(s);e&&B({filesList:[e],onFileChange:([e])=>{N(e)},allowedTypes:gl,onError:e=>{L=!1,P(e)}})}),[]),(0,h.useEffect)((()=>{L?x(s):(0,ml.revokeBlobURL)(y)}),[L,s]);const V=bl(p,s)?s:void 0,R=s?(0,b.createElement)("img",{alt:(0,g.__)("Edit image"),title:(0,g.__)("Edit image"),className:"edit-image-preview",src:s}):void 0,H=E()(l,{"is-transient":y}),{margin:z,padding:A}=Jn(e,!0),D=(0,ke.useBlockProps)({ref:S,style:{borderSpacing:"0px",borderCollapse:"collapse",...z,width:"100%"},className:H,border:0,cellPadding:"0",cellSpacing:"0",role:"presentation"});return(0,b.createElement)("table",{...D},(0,b.createElement)("tbody",null,(0,b.createElement)("tr",null,(0,b.createElement)("td",{align:u,className:E()({"is-selected":n}),style:A},(0,b.createElement)(_l,{temporaryURL:y,attributes:e,setAttributes:t,isSelected:n,insertBlocksAfter:a,onReplace:r,onSelectImage:N,onSelectURL:M,onUploadError:P,containerRef:S,context:o,clientId:i,blockEditingMode:T}),!s&&"default"===T&&(0,b.createElement)(ke.BlockControls,{group:"block"},(0,b.createElement)(ke.BlockAlignmentControl,{value:u,onChange:e=>t({align:e})})),(0,b.createElement)(ke.MediaPlaceholder,{icon:(0,b.createElement)(ke.BlockIcon,{icon:cl}),onSelect:N,onSelectURL:M,onError:P,placeholder:t=>(0,b.createElement)(v.Placeholder,{className:"block-editor-media-placeholder",withIllustration:!0,icon:cl,label:(0,g.__)("Image"),instructions:(0,g.__)("Upload an image file, pick one from your media library, or add one with a URL."),style:{width:_,height:f,...$n(e)}},t),accept:"image/*",allowedTypes:["image"],value:{id:p,src:V},mediaPreview:R,disableMediaButtons:y||s})))))},save:function({attributes:e}){const{url:t,alt:n,caption:l,align:a,href:r,rel:o,linkClass:i,width:s,height:c}=e,{margin:m,padding:u}=Jn.save(e,!0),d=(0,b.createElement)("img",{src:t,alt:n,style:{width:!s&&c?"auto":s,height:c,maxWidth:"100%",...$n(e)}}),p=(0,b.createElement)(b.Fragment,null,r?(0,b.createElement)("a",{className:i,href:r,target:"_blank",rel:o||void 0,style:{display:"block",textDecoration:"none",maxWidth:"100%"}},d):d,!ke.RichText.isEmpty(l)&&(0,b.createElement)(ke.RichText.Content,{className:"wp-block-image__caption",tagName:"div",value:l,style:{fontSize:"12px",textAlign:a,marginTop:"12px"}})),g=ke.useBlockProps.save({style:{borderSpacing:"0px",borderCollapse:"collapse",width:"100%",...m},border:0,cellPadding:"0",cellSpacing:"0",role:"presentation"});return(0,b.createElement)("table",{...g},(0,b.createElement)("tbody",null,(0,b.createElement)("tr",null,(0,b.createElement)("td",{align:a,style:u},p))))}},Cl=(0,b.createElement)(B.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,b.createElement)(B.Path,{d:"M8 12.5h8V11H8v1.5Z M19 6.5H5a2 2 0 0 0-2 2V15a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a2 2 0 0 0-2-2ZM5 8h14a.5.5 0 0 1 .5.5V15a.5.5 0 0 1-.5.5H5a.5.5 0 0 1-.5-.5V8.5A.5.5 0 0 1 5 8Z"})),Sl="noreferrer noopener",Bl="_blank",Tl="nofollow";function Il(e){return e.replace(/<\/?a[^>]*>/g,"")}const Pl=(0,b.createElement)(B.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,b.createElement)(B.Path,{d:"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z"})),Nl=[...ke.__experimentalLinkControl.DEFAULT_LINK_SETTINGS,{id:"nofollow",title:(0,g.__)("Mark as nofollow")}];function Ml({selectedWidth:e,setAttributes:t}){return(0,b.createElement)(v.PanelBody,{title:(0,g.__)("Button width")},(0,b.createElement)(v.__experimentalToggleGroupControl,{label:(0,g.__)("Button width"),className:"noptin-toggle-group-control",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,hideLabelFromVision:!0,isAdaptiveWidth:!0,isBlock:!0,isDeselectable:!0,onChange:function(n){t({width:e===n?void 0:n})}},[25,50,75,100].map((e=>(0,b.createElement)(v.__experimentalToggleGroupControlOption,{key:e,label:`${e}%`,value:e})))))}const Ll={apiVersion:3,name:"noptin/button",title:(0,g.__)("Button","newsletter-optin-box"),category:"content",description:(0,g.__)("Prompt readers to take action with a button-style link.","newsletter-optin-box"),keywords:["link","cta"],attributes:{url:{type:"string",source:"attribute",selector:"a",attribute:"href",__experimentalRole:"content"},title:{type:"string",source:"attribute",selector:"a",attribute:"title",__experimentalRole:"content"},text:{type:"string",source:"html",selector:"a",__experimentalRole:"content"},linkTarget:{type:"string",source:"attribute",selector:"a",attribute:"target",__experimentalRole:"content"},rel:{type:"string",source:"attribute",selector:"a",attribute:"rel",__experimentalRole:"content"},placeholder:{type:"string"},style:{type:"object",default:{noptin:{border:{radius:"5px"},typography:{textTransform:"none",textDecoration:"none",textAlign:"center"}},spacing:{padding:{top:"10px",right:"25px",bottom:"10px",left:"25px"},margin:{bottom:"16px",left:"10px",right:"10px"}}}},width:{type:"string"}},noptin:{typography:!0,border:!0,color:{background:!0,text:!0}},supports:{anchor:!1,align:!0,alignWide:!1,reusable:!1,shadow:!1,spacing:{__experimentalSkipSerialization:!0,padding:["horizontal","vertical"],margin:!0,__experimentalDefaultControls:{padding:!0,margin:!0}}}},{name:Vl}=Ll,Rl={icon:Cl,example:{attributes:{text:(0,g.__)("Call to Action")}},edit:function(e){const{attributes:t,setAttributes:n,isSelected:l,onReplace:a,mergeBlocks:r,clientId:o}=e,{align:i,linkTarget:s,placeholder:c,rel:m,text:u,url:p,width:_}=t,f=An(t),[E,y]=(0,h.useState)(null),x=$n(t),k=qn(t).style,C=Jn(t,!0),S=(0,h.useRef)(),B=(0,h.useRef)(),T=(0,ke.useBlockProps)({ref:(0,w.useMergeRefs)([y,S]),onKeyDown:function(e){Xe.isKeyboardEvent.primary(e,"k")&&V(e)},width:"100%",border:0,cellPadding:0,cellSpacing:0,role:"presentation",style:{lineHeight:"100%",width:"100%",borderCollapse:"separate",margin:"0px"}}),[I,P]=(0,h.useState)(!1),N=!!p,M=s===Bl,L=!!m?.includes(Tl);function V(e){e.preventDefault(),P(!0)}(0,h.useEffect)((()=>{l||P(!1)}),[l]);const R=(0,h.useMemo)((()=>({url:p,opensInNewTab:M,nofollow:L})),[p,M,L]),H=function(e){const{replaceBlocks:t,selectionChange:n}=(0,d.useDispatch)(ke.store),{getBlock:l,getBlockRootClientId:a,getBlockIndex:r}=(0,d.useSelect)(ke.store),o=(0,h.useRef)(e);return o.current=e,(0,w.useRefEffect)((e=>{function i(e){if(e.defaultPrevented||e.keyCode!==Xe.ENTER)return;const{content:i,clientId:s}=o.current;if(i.length)return;e.preventDefault();const c=l(a(s)),m=r(s),u=(0,we.cloneBlock)({...c,innerBlocks:c.innerBlocks.slice(0,m)}),d=(0,we.createBlock)((0,we.getDefaultBlockName)()),p=c.innerBlocks.slice(m+1),g=p.length?[(0,we.cloneBlock)({...c,innerBlocks:p})]:[];t(c.clientId,[u,d,...g],1),n(d.clientId)}return e.addEventListener("keydown",i),()=>{e.removeEventListener("keydown",i)}}),[])}({content:u,clientId:o}),z=(0,w.useMergeRefs)([H,B]);return(0,b.createElement)(b.Fragment,null,(0,b.createElement)("table",{...T},(0,b.createElement)("tbody",null,(0,b.createElement)("tr",null,(0,b.createElement)("td",{align:`${i||"left"}`},(0,b.createElement)("div",{style:C.margin},(0,b.createElement)("table",{width:_?`${_}%`:void 0},(0,b.createElement)("tbody",null,(0,b.createElement)("tr",null,(0,b.createElement)("td",{bgcolor:k.backgroundColor,role:"presentation",valign:"middle",className:"noptin-button-link__wrapper",style:{background:k.backgroundColor,textAlign:f?.textAlign,cursor:"auto",...x}},(0,b.createElement)(ke.RichText,{ref:z,tagName:"span","aria-label":(0,g.__)("Button text"),placeholder:c||(0,g.__)("Add text"),value:u,onChange:e=>n({text:Il(e)}),withoutInteractiveFormatting:!0,className:"noptin-button-link",style:{...C.padding,...f||{},color:k.color,margin:"0px",display:"block",wordBreak:"break-word"},onSplit:e=>(0,we.createBlock)("noptin/button",{...t,text:e}),onReplace:a,onMerge:r,identifier:"text"})))))))))),(0,b.createElement)(ke.BlockControls,{group:"block"},(0,b.createElement)(v.ToolbarButton,{name:"link",icon:Pl,title:(0,g.__)("Link"),shortcut:Xe.displayShortcut.primary("k"),onClick:V})),l&&(I||N)&&(0,b.createElement)(v.Popover,{placement:"bottom",onClose:()=>{P(!1),B.current?.focus()},anchor:E,focusOnMount:!!I&&"firstElement",__unstableSlotName:"__unstable-block-tools-after",shift:!0},(0,b.createElement)(ke.__experimentalLinkControl,{value:R,onChange:({url:e,opensInNewTab:t,nofollow:l})=>n(function({rel:e="",url:t="",opensInNewTab:n,nofollow:l}){let a,r=e;if(n)a=Bl,r=r?.includes(Sl)?r:r+` ${Sl}`;else{const e=new RegExp(`\\b${Sl}\\s*`,"g");r=r?.replace(e,"").trim()}if(l)r=r?.includes(Tl)?r:r+` ${Tl}`;else{const e=new RegExp(`\\b${Tl}\\s*`,"g");r=r?.replace(e,"").trim()}return{url:(0,Oe.prependHTTP)(t),linkTarget:a,rel:r||void 0}}({rel:m,url:e,opensInNewTab:t,nofollow:l})),forceIsEditingLink:I,settings:Nl})),(0,b.createElement)(ke.InspectorControls,null,(0,b.createElement)(Ml,{selectedWidth:_,setAttributes:n})),(0,b.createElement)(ke.InspectorControls,{group:"advanced"},(0,b.createElement)(v.TextControl,{__nextHasNoMarginBottom:!0,label:(0,g.__)("Link rel"),value:m||"",onChange:e=>n({rel:e})})))},save:function({attributes:e}){const{align:t,linkTarget:n,rel:l,text:a,title:r,url:o,width:i}=e;if(!a)return null;const s=$n(e),c=qn(e),m=c?.style?.backgroundColor,u=c?.style?.color,d=Jn.save(e,!0),p={...d.padding,...An(e),borderRadius:s?.borderRadius,margin:"0px",display:"block",color:u,wordBreak:"break-word"},g=ke.useBlockProps.save({width:"100%",border:0,cellPadding:0,cellSpacing:0,role:"presentation",style:{lineHeight:"100%",width:"100%",borderCollapse:"separate",...d.margin}});return(0,b.createElement)("table",{...g},(0,b.createElement)("tbody",null,(0,b.createElement)("tr",null,(0,b.createElement)("td",{align:`${t||"left"}`},(0,b.createElement)("table",{width:`${i}%`},(0,b.createElement)("tbody",null,(0,b.createElement)("tr",null,(0,b.createElement)("td",{bgcolor:m,role:"presentation",valign:"middle",className:"noptin-button-link__wrapper",style:{background:m,textAlign:p.textAlign,cursor:"auto",...s}},(0,b.createElement)(ke.RichText.Content,{tagName:"a",className:"noptin-button-link",href:o,title:r,style:p,value:a,target:n,rel:l})))))))))},merge:(e,{text:t=""})=>({...e,text:(e.text||"")+t})},Hl=(0,b.createElement)(B.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,b.createElement)(B.Path,{d:"M9 11.8l6.1-4.5c.1.4.4.7.9.7h2c.6 0 1-.4 1-1V5c0-.6-.4-1-1-1h-2c-.6 0-1 .4-1 1v.4l-6.4 4.8c-.2-.1-.4-.2-.6-.2H6c-.6 0-1 .4-1 1v2c0 .6.4 1 1 1h2c.2 0 .4-.1.6-.2l6.4 4.8v.4c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-2c0-.6-.4-1-1-1h-2c-.5 0-.8.3-.9.7L9 12.2v-.4z"})),zl=["noptin/social-link"],Al=[{name:"facebook",color:"#3b5998",title:"Facebook"},{name:"twitter",color:"#55acee",title:"Twitter"},{name:"youtube",color:"#eb3323",title:"YouTube"}],Dl=Al.map((({name:e,title:t,color:n})=>["noptin/social-link",{img:`https://www.mailjet.com/images/theme/v1/icons/ico-social/${e}.png`,url:"#",label:t,style:{noptin:{border:{radius:"50%"},color:{background:n}}}}])),Fl={iconSize:{label:(0,g.__)("Icon size"),options:{"20px":(0,g.__)("S"),"32px":(0,g.__)("M"),"48px":(0,g.__)("L"),"64px":(0,g.__)("XL")}},iconSpacing:{label:(0,g.__)("Icon spacing"),options:{"0px":(0,g.__)("None"),"4px":(0,g.__)("S"),"16px":(0,g.__)("M"),"24px":(0,g.__)("L")}},iconPadding:{label:(0,g.__)("Icon padding"),options:{"0px":(0,g.__)("None"),"4px":(0,g.__)("S"),"16px":(0,g.__)("M"),"24px":(0,g.__)("L")}}};function $l({attributes:e,setAttributes:t}){return(0,b.createElement)(v.PanelBody,{title:(0,g.__)("Icon settings")},Object.entries(Fl).map((([n,l])=>(0,b.createElement)(v.__experimentalToggleGroupControl,{key:n,label:l.label,value:e[n],onChange:e=>t({[n]:e}),className:"noptin-field-control",__nextHasNoMarginBottom:!0,isAdaptiveWidth:!0,isBlock:!0,isDeselectable:!0},Object.entries(l.options).map((([e,t])=>(0,b.createElement)(v.__experimentalToggleGroupControlOption,{key:`${n}__${e}`,label:t,value:e})))))))}const Ol={apiVersion:3,name:"noptin/social-links",title:(0,g.__)("Social Icons","newsletter-optin-box"),category:"content",description:(0,g.__)("Display icons linking to your social media profiles or sites.","newsletter-optin-box"),keywords:["links"],attributes:{iconSize:{type:"string",default:"20px"},iconSpacing:{type:"string",default:"4px"},iconPadding:{type:"string",default:"4px"},style:{type:"object",default:{spacing:{margin:{bottom:"16px",left:"10px",right:"10px"}}}}},providesContext:{iconSize:"iconSize"},noptin:{border:!0,color:{background:!0}},supports:{align:["left","center","right"],anchor:!1,__experimentalExposeControlsToChildren:!0,spacing:{margin:!0,padding:!0,units:["px","em","rem"],__experimentalSkipSerialization:!0,__experimentalDefaultControls:{margin:!0,padding:!1}}}},{name:Ul}=Ol,Gl={example:{innerBlocks:Al.map((({name:e,title:t,color:n})=>({name:"noptin/social-link",attributes:{img:`https://www.mailjet.com/images/theme/v1/icons/ico-social/${e}.png`,url:"#",label:t,style:{noptin:{border:{radius:"50%"},color:{background:n}}}}})))},icon:Hl,edit:function({attributes:e,setAttributes:t}){const{iconSpacing:n,iconPadding:l,align:a}=e,r=Jn(e,!0),o=$n(e),i=(0,ke.useBlockProps)({style:r.margin}),s=(0,ke.useInnerBlocksProps)({},{allowedBlocks:zl,template:Dl,templateLock:!1,orientation:"horizontal",__experimentalAppenderTagName:"td"}),c={lineHeight:"100%",width:"100%",borderCollapse:"separate",...qn(e).style,...o};return(0,b.createElement)(b.Fragment,null,(0,b.createElement)(ke.InspectorControls,null,(0,b.createElement)($l,{attributes:e,setAttributes:t})),(0,b.createElement)("div",{...i},(0,b.createElement)("table",{role:"presentation",cellPadding:0,cellSpacing:0,border:0,width:"100%",style:c},(0,b.createElement)("tbody",null,(0,b.createElement)("tr",null,(0,b.createElement)("td",{align:`${a||"left"}`,style:r.padding,border:"0",role:"presentation",valign:"middle"},(0,b.createElement)("table",{align:`${a||"left"}`,cellPadding:l||0,cellSpacing:n||0},(0,b.createElement)("tbody",null,(0,b.createElement)("tr",{...s})))))))))},save:({attributes:e})=>{const{iconSpacing:t,iconPadding:n,align:l}=e,a=Jn.save(e,!0),r=$n(e),o=ke.useBlockProps.save({style:a.margin}),i={lineHeight:"100%",width:"100%",borderCollapse:"separate",...qn(e).style,...r};return(0,b.createElement)("div",{...o},(0,b.createElement)("table",{role:"presentation",cellPadding:0,cellSpacing:0,border:0,width:"100%",style:i},(0,b.createElement)("tbody",null,(0,b.createElement)("tr",null,(0,b.createElement)("td",{align:`${l||"left"}`,style:a.padding,border:"0",role:"presentation",valign:"middle"},(0,b.createElement)("table",{align:`${l||"left"}`,cellPadding:n||0,cellSpacing:t||0},(0,b.createElement)("tbody",null,(0,b.createElement)("tr",null,(0,b.createElement)(ke.InnerBlocks.Content,null)))))))))}},Wl={apiVersion:3,name:"noptin/social-link",title:(0,g.__)("Social Icon","newsletter-optin-box"),category:"content",parent:["noptin/social-links"],description:(0,g.__)("Display an icon linking to a social media profile or site.","newsletter-optin-box"),attributes:{url:{type:"string"},img:{type:"string"},label:{type:"string"},rel:{type:"string"}},usesContext:["iconSize"],noptin:{border:!0,color:{background:!0}},supports:{reusable:!1,html:!1}},jl=[{name:"facebook",color:"#3b5998",title:"Facebook"},{name:"twitter",color:"#55acee",title:"Twitter"},{name:"google-plus",color:"#dc4e41",title:"Google Plus",icon:"google"},{name:"pinterest",color:"#bd081c",title:"Pinterest"},{name:"linkedin",color:"#0077b5",title:"linkedIn"},{name:"instagram",color:"#3f729b",title:"Instagram"},{name:"youtube",color:"#eb3323",title:"YouTube"},{name:"tumblr",color:"#344356",title:"Tumblr",icon:()=>(0,b.createElement)(B.SVG,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},(0,b.createElement)(B.Path,{d:"M17.04 21.28h-3.28c-2.84 0-4.94-1.37-4.94-5.02v-5.67H6.08V7.5c2.93-.73 4.11-3.3 4.3-5.48h3.01v4.93h3.47v3.65H13.4v4.93c0 1.47.73 2.01 1.92 2.01h1.73v3.75z"}))},{name:"github",color:"#000000",title:"GitHub",icon:()=>(0,b.createElement)(B.SVG,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},(0,b.createElement)(B.Path,{d:"M12,2C6.477,2,2,6.477,2,12c0,4.419,2.865,8.166,6.839,9.489c0.5,0.09,0.682-0.218,0.682-0.484 c0-0.236-0.009-0.866-0.014-1.699c-2.782,0.602-3.369-1.34-3.369-1.34c-0.455-1.157-1.11-1.465-1.11-1.465 c-0.909-0.62,0.069-0.608,0.069-0.608c1.004,0.071,1.532,1.03,1.532,1.03c0.891,1.529,2.341,1.089,2.91,0.833 c0.091-0.647,0.349-1.086,0.635-1.337c-2.22-0.251-4.555-1.111-4.555-4.943c0-1.091,0.39-1.984,1.03-2.682 C6.546,8.54,6.202,7.524,6.746,6.148c0,0,0.84-0.269,2.75,1.025C10.295,6.95,11.15,6.84,12,6.836 c0.85,0.004,1.705,0.114,2.504,0.336c1.909-1.294,2.748-1.025,2.748-1.025c0.546,1.376,0.202,2.394,0.1,2.646 c0.64,0.699,1.026,1.591,1.026,2.682c0,3.841-2.337,4.687-4.565,4.935c0.359,0.307,0.679,0.917,0.679,1.852 c0,1.335-0.012,2.415-0.012,2.741c0,0.269,0.18,0.579,0.688,0.481C19.138,20.161,22,16.416,22,12C22,6.477,17.523,2,12,2z"}))},{name:"xing",color:"#296366",title:"Xing"},{name:"vimeo",color:"#53B4E7",title:"Vimeo",icon:()=>(0,b.createElement)(B.SVG,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},(0,b.createElement)(B.Path,{d:"M22.396,7.164c-0.093,2.026-1.507,4.799-4.245,8.32C15.322,19.161,12.928,21,10.97,21c-1.214,0-2.24-1.119-3.079-3.359 c-0.56-2.053-1.119-4.106-1.68-6.159C5.588,9.243,4.921,8.122,4.206,8.122c-0.156,0-0.701,0.328-1.634,0.98L1.594,7.841 c1.027-0.902,2.04-1.805,3.037-2.708C6.001,3.95,7.03,3.327,7.715,3.264c1.619-0.156,2.616,0.951,2.99,3.321 c0.404,2.557,0.685,4.147,0.841,4.769c0.467,2.121,0.981,3.181,1.542,3.181c0.435,0,1.09-0.688,1.963-2.065 c0.871-1.376,1.338-2.422,1.401-3.142c0.125-1.187-0.343-1.782-1.401-1.782c-0.498,0-1.012,0.115-1.541,0.341 c1.023-3.35,2.977-4.977,5.862-4.884C21.511,3.066,22.52,4.453,22.396,7.164z"}))},{name:"medium",color:"#000000",title:"Medium",icon:()=>(0,b.createElement)(B.SVG,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},(0,b.createElement)(B.Path,{d:"M20.962,7.257l-5.457,8.867l-3.923-6.375l3.126-5.08c0.112-0.182,0.319-0.286,0.527-0.286c0.05,0,0.1,0.008,0.149,0.02 c0.039,0.01,0.078,0.023,0.114,0.041l5.43,2.715l0.006,0.003c0.004,0.002,0.007,0.006,0.011,0.008 C20.971,7.191,20.98,7.227,20.962,7.257z M9.86,8.592v5.783l5.14,2.57L9.86,8.592z M15.772,17.331l4.231,2.115 C20.554,19.721,21,19.529,21,19.016V8.835L15.772,17.331z M8.968,7.178L3.665,4.527C3.569,4.479,3.478,4.456,3.395,4.456 C3.163,4.456,3,4.636,3,4.938v11.45c0,0.306,0.224,0.669,0.498,0.806l4.671,2.335c0.12,0.06,0.234,0.088,0.337,0.088 c0.29,0,0.494-0.225,0.494-0.602V7.231C9,7.208,8.988,7.188,8.968,7.178z"}))},{name:"soundcloud",color:"#EF7F31",title:"SoundCloud",icon:()=>(0,b.createElement)(B.SVG,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},(0,b.createElement)(B.Path,{d:"M8.9,16.1L9,14L8.9,9.5c0-0.1,0-0.1-0.1-0.1c0,0-0.1-0.1-0.1-0.1c-0.1,0-0.1,0-0.1,0.1c0,0-0.1,0.1-0.1,0.1L8.3,14l0.1,2.1 c0,0.1,0,0.1,0.1,0.1c0,0,0.1,0.1,0.1,0.1C8.8,16.3,8.9,16.3,8.9,16.1z M11.4,15.9l0.1-1.8L11.4,9c0-0.1,0-0.2-0.1-0.2 c0,0-0.1,0-0.1,0s-0.1,0-0.1,0c-0.1,0-0.1,0.1-0.1,0.2l0,0.1l-0.1,5c0,0,0,0.7,0.1,2v0c0,0.1,0,0.1,0.1,0.1c0.1,0.1,0.1,0.1,0.2,0.1 c0.1,0,0.1,0,0.2-0.1c0.1,0,0.1-0.1,0.1-0.2L11.4,15.9z M2.4,12.9L2.5,14l-0.2,1.1c0,0.1,0,0.1-0.1,0.1c0,0-0.1,0-0.1-0.1L2.1,14 l0.1-1.1C2.2,12.9,2.3,12.9,2.4,12.9C2.3,12.9,2.4,12.9,2.4,12.9z M3.1,12.2L3.3,14l-0.2,1.8c0,0.1,0,0.1-0.1,0.1 c-0.1,0-0.1,0-0.1-0.1L2.8,14L3,12.2C3,12.2,3,12.2,3.1,12.2C3.1,12.2,3.1,12.2,3.1,12.2z M3.9,11.9L4.1,14l-0.2,2.1 c0,0.1,0,0.1-0.1,0.1c-0.1,0-0.1,0-0.1-0.1L3.5,14l0.2-2.1c0-0.1,0-0.1,0.1-0.1C3.9,11.8,3.9,11.8,3.9,11.9z M4.7,11.9L4.9,14 l-0.2,2.1c0,0.1-0.1,0.1-0.1,0.1c-0.1,0-0.1,0-0.1-0.1L4.3,14l0.2-2.2c0-0.1,0-0.1,0.1-0.1C4.7,11.7,4.7,11.8,4.7,11.9z M5.6,12 l0.2,2l-0.2,2.1c0,0.1-0.1,0.1-0.1,0.1c0,0-0.1,0-0.1,0c0,0,0-0.1,0-0.1L5.1,14l0.2-2c0,0,0-0.1,0-0.1s0.1,0,0.1,0 C5.5,11.9,5.5,11.9,5.6,12L5.6,12z M6.4,10.7L6.6,14l-0.2,2.1c0,0,0,0.1,0,0.1c0,0-0.1,0-0.1,0c-0.1,0-0.1-0.1-0.2-0.2L5.9,14 l0.2-3.3c0-0.1,0.1-0.2,0.2-0.2c0,0,0.1,0,0.1,0C6.4,10.7,6.4,10.7,6.4,10.7z M7.2,10l0.2,4.1l-0.2,2.1c0,0,0,0.1,0,0.1 c0,0-0.1,0-0.1,0c-0.1,0-0.2-0.1-0.2-0.2l-0.1-2.1L6.8,10c0-0.1,0.1-0.2,0.2-0.2c0,0,0.1,0,0.1,0S7.2,9.9,7.2,10z M8,9.6L8.2,14 L8,16.1c0,0.1-0.1,0.2-0.2,0.2c-0.1,0-0.2-0.1-0.2-0.2L7.5,14l0.1-4.4c0-0.1,0-0.1,0.1-0.1c0,0,0.1-0.1,0.1-0.1c0.1,0,0.1,0,0.1,0.1 C8,9.6,8,9.6,8,9.6z M11.4,16.1L11.4,16.1L11.4,16.1z M9.7,9.6L9.8,14l-0.1,2.1c0,0.1,0,0.1-0.1,0.2s-0.1,0.1-0.2,0.1 c-0.1,0-0.1,0-0.1-0.1s-0.1-0.1-0.1-0.2L9.2,14l0.1-4.4c0-0.1,0-0.1,0.1-0.2s0.1-0.1,0.2-0.1c0.1,0,0.1,0,0.2,0.1S9.7,9.5,9.7,9.6 L9.7,9.6z M10.6,9.8l0.1,4.3l-0.1,2c0,0.1,0,0.1-0.1,0.2c0,0-0.1,0.1-0.2,0.1c-0.1,0-0.1,0-0.2-0.1c0,0-0.1-0.1-0.1-0.2L10,14 l0.1-4.3c0-0.1,0-0.1,0.1-0.2c0,0,0.1-0.1,0.2-0.1c0.1,0,0.1,0,0.2,0.1S10.6,9.7,10.6,9.8z M12.4,14l-0.1,2c0,0.1,0,0.1-0.1,0.2 c-0.1,0.1-0.1,0.1-0.2,0.1c-0.1,0-0.1,0-0.2-0.1c-0.1-0.1-0.1-0.1-0.1-0.2l-0.1-1l-0.1-1l0.1-5.5v0c0-0.1,0-0.2,0.1-0.2 c0.1,0,0.1-0.1,0.2-0.1c0,0,0.1,0,0.1,0c0.1,0,0.1,0.1,0.1,0.2L12.4,14z M22.1,13.9c0,0.7-0.2,1.3-0.7,1.7c-0.5,0.5-1.1,0.7-1.7,0.7 h-6.8c-0.1,0-0.1,0-0.2-0.1c-0.1-0.1-0.1-0.1-0.1-0.2V8.2c0-0.1,0.1-0.2,0.2-0.3c0.5-0.2,1-0.3,1.6-0.3c1.1,0,2.1,0.4,2.9,1.1 c0.8,0.8,1.3,1.7,1.4,2.8c0.3-0.1,0.6-0.2,1-0.2c0.7,0,1.3,0.2,1.7,0.7C21.8,12.6,22.1,13.2,22.1,13.9L22.1,13.9z"}))},{name:"dribbble",color:"#D95988",title:"Dribbble",icon:()=>(0,b.createElement)(B.SVG,{width:"24",height:"24",viewBox:"0 0 24 24",version:"1.1"},(0,b.createElement)(B.Path,{d:"M12,22C6.486,22,2,17.514,2,12S6.486,2,12,2c5.514,0,10,4.486,10,10S17.514,22,12,22z M20.434,13.369 c-0.292-0.092-2.644-0.794-5.32-0.365c1.117,3.07,1.572,5.57,1.659,6.09C18.689,17.798,20.053,15.745,20.434,13.369z M15.336,19.876c-0.127-0.749-0.623-3.361-1.822-6.477c-0.019,0.006-0.038,0.013-0.056,0.019c-4.818,1.679-6.547,5.02-6.701,5.334 c1.448,1.129,3.268,1.803,5.243,1.803C13.183,20.555,14.311,20.313,15.336,19.876z M5.654,17.724 c0.193-0.331,2.538-4.213,6.943-5.637c0.111-0.036,0.224-0.07,0.337-0.102c-0.214-0.485-0.448-0.971-0.692-1.45 c-4.266,1.277-8.405,1.223-8.778,1.216c-0.003,0.087-0.004,0.174-0.004,0.261C3.458,14.207,4.29,16.21,5.654,17.724z M3.639,10.264 c0.382,0.005,3.901,0.02,7.897-1.041c-1.415-2.516-2.942-4.631-3.167-4.94C5.979,5.41,4.193,7.613,3.639,10.264z M9.998,3.709 c0.236,0.316,1.787,2.429,3.187,5c3.037-1.138,4.323-2.867,4.477-3.085C16.154,4.286,14.17,3.471,12,3.471 C11.311,3.471,10.641,3.554,9.998,3.709z M18.612,6.612C18.432,6.855,17,8.69,13.842,9.979c0.199,0.407,0.389,0.821,0.567,1.237 c0.063,0.148,0.124,0.295,0.184,0.441c2.842-0.357,5.666,0.215,5.948,0.275C20.522,9.916,19.801,8.065,18.612,6.612z"}))}].map((({name:e,title:t,color:n,icon:l})=>{return{isDefault:"facebook"===e,name:e,title:t,attributes:(a=`https://www.mailjet.com/images/theme/v1/icons/ico-social/${e}.png`,r=t,o=n,{img:a,label:r,style:{noptin:{border:{radius:"50%"},color:{background:o}}}}),icon:l||e,isActive:(t,n)=>t.img&&t.img.includes(e)||t.label&&t.label.includes(e)||t.url&&t.url.includes(e)};var a,r,o})),{name:Zl}=Wl,Yl={icon:Hl,edit:({attributes:e,context:t,setAttributes:n})=>{const{url:l,img:a,label:r,rel:o}=e,{iconSize:i}=t,s=qn(e),c=s?.style?.backgroundColor,m=(0,ke.useBlockProps)({style:{color:c,backgroundColor:c,boxSizing:"border-box",align:"center",...$n(e)}});return(0,b.createElement)(b.Fragment,null,(0,b.createElement)(ke.InspectorControls,null,(0,b.createElement)(v.PanelBody,{title:(0,g.__)("Settings"),initialOpen:!0},(0,b.createElement)(v.PanelRow,null,(0,b.createElement)(v.TextControl,{__nextHasNoMarginBottom:!0,label:(0,g.__)("Image URL"),help:(0,g.__)("Enter the URL of the image to use as an icon."),value:a||"",onChange:e=>n({img:e})})),(0,b.createElement)(v.PanelRow,null,(0,b.createElement)(v.TextControl,{__nextHasNoMarginBottom:!0,label:(0,g.__)("Social URL"),help:(0,g.__)("The URL to link to."),value:l||"",onChange:e=>n({url:e})})),(0,b.createElement)(v.PanelRow,null,(0,b.createElement)(v.TextControl,{__nextHasNoMarginBottom:!0,label:(0,g.__)("Social Network"),help:(0,g.__)("The name of the social network."),value:r||"",onChange:e=>n({label:e})})))),(0,b.createElement)(ke.InspectorControls,{group:"advanced"},(0,b.createElement)(v.TextControl,{__nextHasNoMarginBottom:!0,label:(0,g.__)("Link rel"),value:o||"",onChange:e=>n({rel:e})})),(0,b.createElement)("td",{...m,width:i},(0,b.createElement)("img",{src:a||"https://placehold.co/30x30@2x.png",alt:r,width:i,height:i})))},save:({attributes:e,context:t})=>{const{url:n,img:l,label:a,rel:r}=e,{iconSize:o}=t,i=qn(e),s=i?.style?.backgroundColor,c=ke.useBlockProps.save({width:o,style:{color:s,backgroundColor:s,...$n(e)}});return(0,b.createElement)("td",{...c,width:o},(0,b.createElement)("a",{href:n,target:"_blank",rel:r,style:{display:"inline-block",textDecoration:"none"}},(0,b.createElement)("img",{src:l||"https://placehold.co/30x30@2x.png",alt:a,width:o,height:o})))},variations:jl},ql=(0,b.createElement)(B.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,b.createElement)(B.Path,{d:"M4.8 11.4H2.1V9H1v6h1.1v-2.6h2.7V15h1.1V9H4.8v2.4zm1.9-1.3h1.7V15h1.1v-4.9h1.7V9H6.7v1.1zM16.2 9l-1.5 2.7L13.3 9h-.9l-.8 6h1.1l.5-4 1.5 2.8 1.5-2.8.5 4h1.1L17 9h-.8zm3.8 5V9h-1.1v6h3.6v-1H20z"})),Kl={apiVersion:3,name:"core/html",title:(0,g.__)("RAW","newsletter-optin-box"),category:"content",description:(0,g.__)("Add custom HTML code or merge tags to your email.","newsletter-optin-box"),keywords:["code","raw"],attributes:{content:{type:"string",source:"raw"}},supports:{customClassName:!1,className:!1,html:!1}},{name:Ql}=Kl,Jl={icon:ql,example:{attributes:{content:"<marquee>"+(0,g.__)("Welcome to the wonderful world of blocks")+"</marquee>"}},edit:function e({attributes:t,setAttributes:n}){const[l,a]=(0,h.useState)(!1),r=(0,h.useContext)(v.Disabled.Context),o=(0,w.useInstanceId)(e,"html-edit-desc"),i=(0,ke.useBlockProps)({className:"block-library-html__edit","aria-describedby":l?o:void 0});return(0,b.createElement)("div",{...i},(0,b.createElement)(ke.BlockControls,null,(0,b.createElement)(v.ToolbarGroup,null,(0,b.createElement)(v.ToolbarButton,{className:"components-tab-button",isPressed:!l,onClick:function(){a(!1)}},"HTML"),(0,b.createElement)(v.ToolbarButton,{className:"components-tab-button",isPressed:l,onClick:function(){a(!0)}},(0,g.__)("Preview")))),l||r?(0,b.createElement)(h.RawHTML,null,t.content):(0,b.createElement)(ke.PlainText,{value:t.content,onChange:e=>n({content:e}),placeholder:(0,g.__)("Write HTML"),"aria-label":(0,g.__)("HTML")}))},save:function({attributes:e}){return(0,b.createElement)(h.RawHTML,null,e.content)}},Xl=(0,b.createElement)(B.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,b.createElement)(B.Path,{d:"M18 4h-7c-1.1 0-2 .9-2 2v3H6c-1.1 0-2 .9-2 2v7c0 1.1.9 2 2 2h7c1.1 0 2-.9 2-2v-3h3c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4.5 14c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5v-7c0-.3.2-.5.5-.5h3V13c0 1.1.9 2 2 2h2.5v3zm0-4.5H11c-.3 0-.5-.2-.5-.5v-2.5H13c.3 0 .5.2.5.5v2.5zm5-.5c0 .3-.2.5-.5.5h-3V11c0-1.1-.9-2-2-2h-2.5V6c0-.3.2-.5.5-.5h7c.3 0 .5.2.5.5v7z"})),ea=e=>{const t={style:{},vml:null};return e.style?.background?.backgroundImage?.url?(t.style.backgroundImage=`url("${e.style.background.backgroundImage.url}")`,t.style.backgroundSize="cover",t):t},ta={apiVersion:3,name:"noptin/group",title:(0,g.__)("Section","newsletter-optin-box"),category:"design",description:(0,g.__)("Gather blocks in a layout container.","newsletter-optin-box"),keywords:["container","wrapper","row","section"],attributes:{templateLock:{type:["string","boolean"],enum:["all","insert","contentOnly",!1]},allowedBlocks:{type:"array"},align:{type:"string",default:"center",enum:["left","center","right"]},width:{type:"string",default:"600px"},style:{type:"object",default:{spacing:{margin:{top:"20px",right:"20px",bottom:"20px",left:"20px"}},noptin:{color:{background:"#ffffff"}}}}},noptin:{typography:!0,border:!0,color:!0},supports:{__experimentalOnEnter:!0,__experimentalOnMerge:!0,__experimentalSettings:!0,align:["left","center","right"],anchor:!1,html:!1,background:{__experimentalSkipSerialization:!0,backgroundImage:!0},spacing:{__experimentalSkipSerialization:!0,margin:!0,padding:!0,__experimentalDefaultControls:{margin:!0,padding:!0}}}},na={from:[{type:"block",isMultiBlock:!0,blocks:["*"],__experimentalConvert(e){const t=e.map((e=>(0,we.createBlock)(e.name,e.attributes,e.innerBlocks)));return(0,we.createBlock)("noptin/group",{},t)}}]},la=na,{name:aa}=ta,ra={icon:Xl,example:{attributes:{style:{color:{text:"#000000",background:"#ffffff"}}},innerBlocks:[{name:"core/paragraph",attributes:{customTextColor:"#cf2e2e",fontSize:"large",content:(0,g.__)("One.")}},{name:"core/paragraph",attributes:{customTextColor:"#ff6900",fontSize:"large",content:(0,g.__)("Two.")}},{name:"core/paragraph",attributes:{customTextColor:"#fcb900",fontSize:"large",content:(0,g.__)("Three.")}},{name:"core/paragraph",attributes:{customTextColor:"#00d084",fontSize:"large",content:(0,g.__)("Four.")}},{name:"core/paragraph",attributes:{customTextColor:"#0693e3",fontSize:"large",content:(0,g.__)("Five.")}},{name:"core/paragraph",attributes:{customTextColor:"#9b51e0",fontSize:"large",content:(0,g.__)("Six.")}}]},transforms:la,edit:({attributes:e,setAttributes:t})=>{const{width:n,align:l}=e,a=Jn(e,!0),r={width:n,maxWidth:"100%",borderCollapse:"separate",...$n(e),...qn(e).style,...ea(e).style},o=(0,ke.useInnerBlocksProps)({style:An(e)},{templateLock:e.templateLock,allowedBlocks:e.allowedBlocks}),i=(0,v.__experimentalUseCustomUnits)({availableUnits:["%","px","em","rem","vw"]});return(0,b.createElement)(b.Fragment,null,(0,b.createElement)(ke.InspectorControls,null,(0,b.createElement)(v.PanelBody,{title:(0,g.__)("Section settings")},(0,b.createElement)(v.__experimentalUnitControl,{label:(0,g.__)("Width"),labelPosition:"edge",__unstableInputWidth:"80px",min:10,value:n||"",onChange:e=>t({width:e}),units:i}))),(0,b.createElement)("div",{...(0,ke.useBlockProps)({style:a.margin})},(0,b.createElement)("table",{width:n,align:`${l||"center"}`,cellPadding:0,cellSpacing:0,role:"presentation",style:r},(0,b.createElement)("tbody",null,(0,b.createElement)("tr",null,(0,b.createElement)("td",{style:a.padding,align:`${l||"center"}`},(0,b.createElement)("table",{border:0,cellPadding:0,cellSpacing:0,width:"100%"},(0,b.createElement)("tbody",null,(0,b.createElement)("tr",null,(0,b.createElement)("td",{...o}))))))))))},save:({attributes:e})=>{const{width:t,align:n}=e,l=Jn.save(e,!0),a={width:t,maxWidth:"100%",borderCollapse:"separate",...$n(e),...qn(e).style,...ea(e).style};return(0,b.createElement)("div",{...ke.useBlockProps.save({style:l.margin})},(0,b.createElement)("table",{width:t,align:`${n||"center"}`,cellPadding:0,cellSpacing:0,role:"presentation",style:a},(0,b.createElement)("tbody",null,(0,b.createElement)("tr",null,(0,b.createElement)("td",{style:l.padding,align:`${n||"center"}`},(0,b.createElement)("table",{border:"0",cellPadding:"0",cellSpacing:"0",width:"100%"},(0,b.createElement)("tbody",null,(0,b.createElement)("tr",null,(0,b.createElement)("td",{style:{...An(e),...qn(e).style}},(0,b.createElement)(ke.InnerBlocks.Content,null))))))))))}},oa=(0,b.createElement)(B.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,b.createElement)(B.Path,{d:"M19 6H6c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h13c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-4.1 1.5v10H10v-10h4.9zM5.5 17V8c0-.3.2-.5.5-.5h2.5v10H6c-.3 0-.5-.2-.5-.5zm14 0c0 .3-.2.5-.5.5h-2.6v-10H19c.3 0 .5.2.5.5v9z"})),ia=e=>{const t=parseFloat(e);return Number.isFinite(t)?parseFloat(t.toFixed(2)):void 0};function sa(e,t){const{width:n=100/t}=e.attributes;return ia(n)}function ca(e,t,n=e.length){const l=function(e,t=e.length){return e.reduce(((e,n)=>e+sa(n,t)),0)}(e,n);return Object.fromEntries(Object.entries(function(e,t=e.length){return e.reduce(((e,n)=>{const l=sa(n,t);return Object.assign(e,{[n.clientId]:l})}),{})}(e,n)).map((([e,n])=>[e,ia(t*n/l)])))}function ma(e,t){return e.map((e=>({...e,attributes:{...e.attributes,width:`${t[e.clientId]}%`}})))}const ua=["noptin/column"],da=(0,d.withDispatch)(((e,t,n)=>({updateColumns(l,a){const{clientId:r}=t,{replaceInnerBlocks:o}=e(ke.store),{getBlocks:i}=n.select(ke.store);let s=i(r);const c=s.every((e=>{const t=e.attributes.width;return Number.isFinite(t?.endsWith?.("%")?parseFloat(t):t)})),m=a>l;if(m&&c){const e=ia(100/a);s=[...ma(s,ca(s,100-e)),...Array.from({length:a-l}).map((()=>(0,we.createBlock)("noptin/column",{width:`${e}%`})))]}else m?s=[...s,...Array.from({length:a-l}).map((()=>(0,we.createBlock)("noptin/column")))]:a<l&&(s=s.slice(0,-(l-a)),c)&&(s=ma(s,ca(s,100)));o(r,s)}})))((function({attributes:e,setAttributes:t,updateColumns:n,clientId:l}){const{isStackedOnMobile:a,verticalAlignment:r,templateLock:o}=e,{count:i,canInsertColumnBlock:s,minCount:c}=(0,d.useSelect)((e=>{const{canInsertBlockType:t,canRemoveBlock:n,getBlocks:a,getBlockCount:r}=e(ke.store),o=a(l).reduce(((e,t,l)=>(n(t.clientId)||e.push(l),e)),[]);return{count:r(l),canInsertColumnBlock:t("noptin/column",l),minCount:Math.max(...o)+1}}),[l]),m=(0,ke.useBlockProps)({className:a?"is-stacked-on-mobile":void 0,style:{display:"table",width:"100%",...An(e),...$n(e),...Jn(e),...qn(e).style}}),u=(0,ke.useInnerBlocksProps)(m,{allowedBlocks:ua,orientation:"horizontal",renderAppender:!1,templateLock:o});return(0,b.createElement)(b.Fragment,null,(0,b.createElement)(ke.BlockControls,null,(0,b.createElement)(ke.BlockVerticalAlignmentToolbar,{onChange:e=>t({verticalAlignment:e}),value:r})),(0,b.createElement)(ke.InspectorControls,null,(0,b.createElement)(v.PanelBody,null,s&&(0,b.createElement)(b.Fragment,null,(0,b.createElement)(v.RangeControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,g.__)("Columns"),value:i,onChange:e=>n(i,Math.max(c,e)),min:Math.max(1,c),max:Math.max(6,i)}),i>6&&(0,b.createElement)(v.Notice,{status:"warning",isDismissible:!1},(0,g.__)("This column count exceeds the recommended amount and may cause visual breakage."))),(0,b.createElement)(v.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,g.__)("Stack on mobile"),checked:a,onChange:()=>t({isStackedOnMobile:!a})}))),(0,b.createElement)("div",{...u}))}));function pa({clientId:e,name:t,setAttributes:n}){const{blockType:l,defaultVariation:a,variations:r}=(0,d.useSelect)((e=>{const{getBlockVariations:n,getBlockType:l,getDefaultBlockVariation:a}=e(we.store);return{blockType:l(t),defaultVariation:a(t,"block"),variations:n(t,"block")}}),[t]),{replaceInnerBlocks:o}=(0,d.useDispatch)(ke.store),i=(0,ke.useBlockProps)();return(0,b.createElement)("div",{...i},(0,b.createElement)(ke.__experimentalBlockVariationPicker,{icon:l?.icon?.src,label:l?.title,variations:r,onSelect:(t=a)=>{t.attributes&&n(t.attributes),t.innerBlocks&&o(e,(0,we.createBlocksFromInnerBlocksTemplate)(t.innerBlocks),!0)},allowSkip:!0}))}const ga={apiVersion:3,name:"noptin/columns",title:(0,g.__)("Columns","newsletter-optin-box"),category:"design",description:(0,g.__)("Display content in multiple columns, with blocks added to each column.","newsletter-optin-box"),attributes:{verticalAlignment:{type:"string",default:"top"},isStackedOnMobile:{type:"boolean",default:!0},templateLock:{type:["string","boolean"],enum:["all","insert","contentOnly",!1]}},providesContext:{verticalAlignment:"verticalAlignment"},noptin:{typography:!0,border:!0,color:!0},supports:{anchor:!1,html:!1,__experimentalExposeControlsToChildren:!0,spacing:{__experimentalSkipSerialization:!0,margin:!0,__experimentalDefaultControls:{margin:!0}}}};function ha(e,t=!1){return`\n    ${t?"\x3c!--[if !true]>\x3c!--\x3e":"\x3c!--[if true]>"}\n    ${e}\n    ${t?"\x3c!--<![endif]--\x3e":"<![endif]--\x3e"}\n  `}const _a=[{name:"one-column-full",title:(0,g.__)("100"),description:(0,g.__)("One column"),icon:(0,b.createElement)(v.SVG,{width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},(0,b.createElement)(v.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"m39.0625 14h-30.0625v20.0938h30.0625zm-30.0625-2c-1.10457 0-2 .8954-2 2v20.0938c0 1.1045.89543 2 2 2h30.0625c1.1046 0 2-.8955 2-2v-20.0938c0-1.1046-.8954-2-2-2z"})),innerBlocks:[["noptin/column"]],scope:["block"]},{name:"two-columns-equal",title:(0,g.__)("50 / 50"),description:(0,g.__)("Two columns; equal split"),icon:(0,b.createElement)(v.SVG,{width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},(0,b.createElement)(v.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M39 12C40.1046 12 41 12.8954 41 14V34C41 35.1046 40.1046 36 39 36H9C7.89543 36 7 35.1046 7 34V14C7 12.8954 7.89543 12 9 12H39ZM39 34V14H25V34H39ZM23 34H9V14H23V34Z"})),isDefault:!0,innerBlocks:[["noptin/column",{width:"50%"}],["noptin/column",{width:"50%"}]],scope:["block"]},{name:"two-columns-one-third-two-thirds",title:(0,g.__)("33 / 66"),description:(0,g.__)("Two columns; one-third, two-thirds split"),icon:(0,b.createElement)(v.SVG,{width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},(0,b.createElement)(v.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M39 12C40.1046 12 41 12.8954 41 14V34C41 35.1046 40.1046 36 39 36H9C7.89543 36 7 35.1046 7 34V14C7 12.8954 7.89543 12 9 12H39ZM39 34V14H20V34H39ZM18 34H9V14H18V34Z"})),innerBlocks:[["noptin/column",{width:"33.33%"}],["noptin/column",{width:"66.66%"}]],scope:["block"]},{name:"two-columns-two-thirds-one-third",title:(0,g.__)("66 / 33"),description:(0,g.__)("Two columns; two-thirds, one-third split"),icon:(0,b.createElement)(v.SVG,{width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},(0,b.createElement)(v.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M39 12C40.1046 12 41 12.8954 41 14V34C41 35.1046 40.1046 36 39 36H9C7.89543 36 7 35.1046 7 34V14C7 12.8954 7.89543 12 9 12H39ZM39 34V14H30V34H39ZM28 34H9V14H28V34Z"})),innerBlocks:[["noptin/column",{width:"66.66%"}],["noptin/column",{width:"33.33%"}]],scope:["block"]},{name:"three-columns-equal",title:(0,g.__)("33 / 33 / 33"),description:(0,g.__)("Three columns; equal split"),icon:(0,b.createElement)(v.SVG,{width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},(0,b.createElement)(v.Path,{fillRule:"evenodd",d:"M41 14a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h30a2 2 0 0 0 2-2V14zM28.5 34h-9V14h9v20zm2 0V14H39v20h-8.5zm-13 0H9V14h8.5v20z"})),innerBlocks:[["noptin/column",{width:"33.33%"}],["noptin/column",{width:"33.33%"}],["noptin/column",{width:"33.33%"}]],scope:["block"]},{name:"three-columns-wider-center",title:(0,g.__)("25 / 50 / 25"),description:(0,g.__)("Three columns; wide center column"),icon:(0,b.createElement)(v.SVG,{width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},(0,b.createElement)(v.Path,{fillRule:"evenodd",d:"M41 14a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h30a2 2 0 0 0 2-2V14zM31 34H17V14h14v20zm2 0V14h6v20h-6zm-18 0H9V14h6v20z"})),innerBlocks:[["noptin/column",{width:"25%"}],["noptin/column",{width:"50%"}],["noptin/column",{width:"25%"}]],scope:["block"]}],ba={from:[{type:"block",isMultiBlock:!0,blocks:["*"],__experimentalConvert:e=>{const t=+(100/e.length).toFixed(2),n=e.map((({name:e,attributes:n,innerBlocks:l})=>["noptin/column",{width:`${t}%`},[[e,{...n},l]]]));return(0,we.createBlock)("noptin/columns",{},(0,we.createBlocksFromInnerBlocksTemplate)(n))},isMatch:({length:e},t)=>(1!==t.length||"noptin/columns"!==t[0].name)&&e&&e<=6}],ungroup:(e,t)=>t.flatMap((e=>e.innerBlocks))},{name:fa}=ga,Ea={icon:oa,variations:_a,edit:e=>{const{clientId:t}=e,n=(0,d.useSelect)((e=>e(ke.store).getBlocks(t).length>0),[t])?da:pa;return(0,b.createElement)(n,{...e})},save:function({attributes:e}){const{isStackedOnMobile:t}=e,n={display:"table",width:"100%",...An(e),...$n(e),...Jn.save(e),...qn(e).style},l=ke.useBlockProps.save({className:t?"is-stacked-on-mobile":void 0,style:n}),a=ha(`<table role="presentation" width="100%" style="${Object.entries(n).reduce(((e,[t,n])=>isNil(n)||""===n?e:`${e}${t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${n};`),"")}"><tr>`),r=ha("</tr></table>");return(0,b.createElement)(b.Fragment,null,(0,b.createElement)(h.RawHTML,{children:`${a}\x3c!--[if !true]>\x3c!--\x3e`}),(0,b.createElement)("div",{...l},(0,b.createElement)(h.RawHTML,{children:"\x3c!--<![endif]--\x3e"}),(0,b.createElement)(ke.InnerBlocks.Content,null),(0,b.createElement)(h.RawHTML,{children:"\x3c!--[if !true]>\x3c!--\x3e"})),(0,b.createElement)(h.RawHTML,{children:`\x3c!--<![endif]--\x3e${r}`}))},transforms:ba},va=(0,b.createElement)(B.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,b.createElement)(B.Path,{d:"M19 6H6c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h13c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zM6 17.5c-.3 0-.5-.2-.5-.5V8c0-.3.2-.5.5-.5h3v10H6zm13.5-.5c0 .3-.2.5-.5.5h-3v-10h3c.3 0 .5.2.5.5v9z"})),wa={apiVersion:3,name:"noptin/column",title:(0,g.__)("Column","newsletter-optin-box"),category:"design",parent:["noptin/columns"],description:(0,g.__)("A single column within a columns block.","newsletter-optin-box"),attributes:{width:{type:"string"},allowedBlocks:{type:"array"},templateLock:{type:["string","boolean"],enum:["all","insert","contentOnly",!1]}},usesContext:["verticalAlignment"],noptin:{typography:!0,border:!0,color:!0},supports:{__experimentalOnEnter:!0,anchor:!1,reusable:!1,html:!1,spacing:{__experimentalSkipSerialization:!0,padding:!0,__experimentalDefaultControls:{padding:!0}}}},{name:ya}=wa,xa={icon:va,edit:function({attributes:{width:e,templateLock:t,allowedBlocks:n,...l},setAttributes:a,clientId:r,context:o}){const{verticalAlignment:i}=o,s=(0,v.__experimentalUseCustomUnits)({availableUnits:["%","px","em","rem","vw"]}),{columnsIds:c,hasChildBlocks:m}=(0,d.useSelect)((e=>{const{getBlockOrder:t,getBlockRootClientId:n}=e(ke.store),l=n(r);return{hasChildBlocks:t(r).length>0,columnsIds:t(l)}}),[r]),u={display:"table-cell",verticalAlign:i||"top",...An(l),...$n(l),...Jn(l),...qn(l).style};if(e&&/\d/.test(e)){let t=Number.isFinite(e)?e+"%":e;if(!Number.isFinite(e)&&e?.endsWith("%")){const n=1e12;t=Math.round(Number.parseFloat(e)*n)/n+"%"}u.width=t}const p=(0,ke.useBlockProps)({style:u}),h=c.length,_=c.indexOf(r)+1,f=(0,g.sprintf)(/* translators: 1: Block label (i.e. "Block: Column"), 2: Position of the selected block, 3: Total number of sibling blocks of the same type */
(0,g.__)("%1$s (%2$d of %3$d)"),p["aria-label"],_,h),E=(0,ke.useInnerBlocksProps)({...p,"aria-label":f},{templateLock:t,allowedBlocks:n,renderAppender:m?void 0:ke.InnerBlocks.ButtonBlockAppender});return(0,b.createElement)(b.Fragment,null,(0,b.createElement)(ke.InspectorControls,null,(0,b.createElement)(v.PanelBody,{title:(0,g.__)("Column settings")},(0,b.createElement)(v.__experimentalUnitControl,{label:(0,g.__)("Width"),labelPosition:"edge",__unstableInputWidth:"80px",value:e||"",onChange:e=>{e=0>parseFloat(e)?"0":e,a({width:e})},units:s}))),(0,b.createElement)("div",{...E}))},save:function({attributes:e,context:t}){const{width:n}=e,{verticalAlignment:l}=t,a={display:"table-cell",verticalAlign:l||"top",...$n(e),...Jn.save(e),...An(e),...qn(extra).style};if(n&&/\d/.test(n)){let e=Number.isFinite(n)?n+"%":n;if(!Number.isFinite(n)&&n?.endsWith("%")){const t=1e12;e=Math.round(Number.parseFloat(n)*t)/t+"%"}a.width=e}const r=ke.useBlockProps.save({style:a}),o=ha(`<td style="${Object.entries(a).reduce(((e,[t,n])=>(0,$t.isNil)(n)||""===n?e:`${e}${t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${n};`),"")}">`),i=ha("</td>");return(0,b.createElement)(b.Fragment,null,(0,b.createElement)(h.RawHTML,{children:`${o}\x3c!--[if !true]>\x3c!--\x3e`}),(0,b.createElement)("div",{...r},(0,b.createElement)(h.RawHTML,{children:"\x3c!--[if !true]>\x3c!--\x3e"}),(0,b.createElement)(ke.InnerBlocks.Content,null),(0,b.createElement)(h.RawHTML,{children:"\x3c!--[if !true]>\x3c!--\x3e"})),(0,b.createElement)(h.RawHTML,{children:`\x3c!--<![endif]--\x3e${i}`}))}},ka=(0,b.createElement)(B.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,b.createElement)(B.Path,{d:"M4.5 12.5v4H3V7h1.5v3.987h15V7H21v9.5h-1.5v-4h-15Z"})),Ca={apiVersion:3,name:"noptin/separator",title:(0,g.__)("Separator","newsletter-optin-box"),category:"design",description:(0,g.__)("Create a break between ideas or sections with a horizontal separator.","newsletter-optin-box"),attributes:{align:{type:"string",default:"center",source:"attribute",selector:"hr",attribute:"align"},width:{type:"string",default:"80%"},height:{type:"string",default:"3px"},style:{type:"object",default:{noptin:{color:{background:"#95a5a6"}},spacing:{margin:{bottom:"16px"}}}}},noptin:{color:{background:!0}},supports:{anchor:!1,spacing:{__experimentalSkipSerialization:!0,margin:["top","bottom"],__experimentalDefaultControls:{margin:!0}}}},Sa={from:[{type:"enter",regExp:/^-{3,}$/,transform:()=>(0,we.createBlock)("noptin/separator")},{type:"raw",selector:"hr",schema:{hr:{}}}]},{name:Ba}=Ca,Ta={icon:ka,transforms:Sa,edit:function({attributes:e,setAttributes:t}){const{align:n,width:l,height:a}=e,r=qn(e),o=r?.style?.backgroundColor,i=(0,v.__experimentalUseCustomUnits)({availableUnits:["%","px","em","rem"]});return(0,b.createElement)(b.Fragment,null,(0,b.createElement)(ke.BlockControls,null,(0,b.createElement)(ke.BlockAlignmentToolbar,{onChange:e=>t({align:e}),value:n})),(0,b.createElement)(ke.InspectorControls,null,(0,b.createElement)(v.PanelBody,{title:(0,g.__)("Settings")},(0,b.createElement)(v.__experimentalUnitControl,{label:(0,g.__)("Width"),labelPosition:"edge",__unstableInputWidth:"80px",value:l||"",onChange:e=>{e=0>parseFloat(e)?"0":e,t({width:e})},units:i}),(0,b.createElement)(v.__experimentalUnitControl,{label:(0,g.__)("Height"),labelPosition:"edge",__unstableInputWidth:"80px",value:a||"",onChange:e=>{e=e?0>parseFloat(e)?"0":e:"1em",t({height:e})},units:i}))),(0,b.createElement)("hr",{...(0,ke.useBlockProps)({style:{color:o,backgroundColor:o,borderWidth:0,height:a||"1em",width:l||"100%",maxWidth:"100%",...Jn(e)},align:n})}))},save:function({attributes:e}){const{align:t,width:n,height:l}=e,a=qn(e),r=a?.style?.backgroundColor;return(0,b.createElement)("hr",{...ke.useBlockProps.save({style:{color:r,backgroundColor:r,borderWidth:0,height:l||"1em",width:n||"100%",maxWidth:"100%",...Jn.save(e)},align:t})})}},Ia=(0,b.createElement)(B.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,b.createElement)(B.Path,{d:"M7 18h4.5v1.5h-7v-7H6V17L17 6h-4.5V4.5h7v7H18V7L7 18Z"})),Pa={apiVersion:3,name:"noptin/spacer",title:(0,g.__)("Spacer","newsletter-optin-box"),category:"design",description:(0,g.__)("Add a blank space between blocks and customize its height.","newsletter-optin-box"),attributes:{height:{type:"string",default:"100px"}},noptin:{color:{background:!0}},supports:{anchor:!1,spacing:{__experimentalSkipSerialization:!0,margin:["top","bottom"],__experimentalDefaultControls:{margin:!0}}}},{name:Na}=Pa,Ma={icon:Ia,edit:({attributes:e,isSelected:t,setAttributes:n})=>{const{height:l}=e,a=qn(e),r=a?.style?.backgroundColor,o={backgroundColor:r||(t?"#95a5a6":void 0),height:l,...Jn(e)},i=(0,v.__experimentalUseCustomUnits)({availableUnits:["px","em","rem"],defaultValues:{px:100,em:10,rem:10}});return(0,b.createElement)(b.Fragment,null,(0,b.createElement)("div",{...(0,ke.useBlockProps)({style:o})},""),(0,b.createElement)(ke.InspectorControls,null,(0,b.createElement)(v.PanelBody,{title:(0,g.__)("Settings")},(0,b.createElement)(v.__experimentalUnitControl,{label:(0,g.__)("Height"),labelPosition:"edge",__unstableInputWidth:"80px",value:l||"",onChange:e=>{e=e?0>parseFloat(e)?"0px":e:"0px",n({height:e})},units:i,min:0}))))},save:function({attributes:e}){const{height:t}=e,n=qn(e),l=n?.style?.backgroundColor;return(0,b.createElement)("div",{...ke.useBlockProps.save({style:{color:l,backgroundColor:l,height:t||"100px",lineHeight:t||"100px",...Jn.save(e)}})},"")}},La=(0,d.withDispatch)(((e,{clientId:t,attributes:n})=>{const{replaceBlock:l}=e(ke.store);return{convertToHTML(){l(t,(0,we.createBlock)("core/html",{content:n.originalUndelimitedContent}))}}}))((function({attributes:e,convertToHTML:t,clientId:n}){const{originalName:l,originalUndelimitedContent:a}=e,r=!!a,{hasHTMLBlock:o}=(0,d.useSelect)((e=>{const{canInsertBlockType:t,getBlockRootClientId:l}=e(ke.store);return{hasHTMLBlock:t("core/html",l(n))}}),[n]),i=[];let s;const c=(0,b.createElement)(v.Button,{key:"convert",onClick:t,variant:"primary"},(0,g.__)("Keep as HTML"));return r&&o?(s=(0,g.sprintf)(/* translators: %s: block name */
(0,g.__)('Your site doesnt include support for the "%s" block. You can leave this block intact, convert its content to a RAW block, or remove it entirely.'),l),i.push(c)):s=(0,g.sprintf)(/* translators: %s: block name */
(0,g.__)('Your site doesnt include support for the "%s" block. You can leave this block intact or remove it entirely.'),l),(0,b.createElement)("div",{...(0,ke.useBlockProps)({className:"has-warning"})},(0,b.createElement)(ke.Warning,{actions:i},s),(0,b.createElement)(h.RawHTML,null,(0,Mn.safeHTML)(a)))})),Va={apiVersion:3,name:"noptin/missing",title:(0,g.__)("Unsupported Block","newsletter-optin-box"),category:"content",description:(0,g.__)("This block is not supported in the email editor.","newsletter-optin-box"),attributes:{originalName:{type:"string"},originalUndelimitedContent:{type:"string"},originalContent:{type:"string",source:"raw"}},supports:{className:!1,customClassName:!1,inserter:!1,html:!1,reusable:!1}},{name:Ra}=Va,Ha={name:Ra,edit:La,save:function({attributes:e}){return(0,b.createElement)(h.RawHTML,null,e.originalContent)}},za=()=>{(0,we.setCategories)([{slug:"content",title:(0,g.__)("Content","dnd-email"),icon:"admin-generic"},{slug:"design",title:(0,g.__)("Design","dnd-email"),icon:"welcome-widgets-menus"}]),Kn({name:nl,metadata:el,settings:ll}),Kn({name:il,metadata:rl,settings:sl}),Kn({name:xl,metadata:El,settings:kl}),Kn({name:Vl,metadata:Ll,settings:Rl}),Kn({name:Ul,metadata:Ol,settings:Gl}),Kn({name:Zl,metadata:Wl,settings:Yl}),Kn({name:Ql,metadata:Kl,settings:Jl}),Kn({name:aa,metadata:ta,settings:ra}),Kn({name:fa,metadata:ga,settings:Ea}),Kn({name:ya,metadata:wa,settings:xa}),Kn({name:Ba,metadata:Ca,settings:Ta}),Kn({name:Na,metadata:Pa,settings:Ma}),Kn({name:Ra,metadata:Va,settings:Ha}),(0,we.setDefaultBlockName)("core/paragraph"),(0,we.setFreeformContentHandlerName)("core/html"),(0,we.setUnregisteredTypeHandlerName)("core/missing"),(0,we.setGroupingBlockName)("noptin/group")},Aa=window.wp.commands,Da=window.wp.plugins,Fa={
/* translators: accessibility text for the editor top bar landmark region. */
header:(0,g.__)("Editor top bar","newsletter-optin-box"),
/* translators: accessibility text for the editor content landmark region. */
body:(0,g.__)("Editor content","newsletter-optin-box"),
/* translators: accessibility text for the editor settings landmark region. */
sidebar:(0,g.__)("Editor settings","newsletter-optin-box"),
/* translators: accessibility text for the editor publish landmark region. */
actions:(0,g.__)("Editor publish","newsletter-optin-box"),
/* translators: accessibility text for the editor footer landmark region. */
footer:(0,g.__)("Editor footer","newsletter-optin-box"),
/* translators: accessibility text for the editor secondary sidebar landmark region. */
secondarySidebar:(0,g.__)("Document Overview","newsletter-optin-box")},$a=function(){const e=(0,w.useViewportMatch)("large","<"),t=(0,w.useViewportMatch)("huge","<"),{setIsInserterOpened:n,setCurrentSidebar:l}=(0,d.useDispatch)(ve),[a]=He(),{hasComplementaryArea:r,isInserterOpened:o,previousShortcut:i,nextShortcut:s}=(0,d.useSelect)((t=>{const{getAllShortcutKeyCombinations:n}=t(Je.store);return{isInserterOpened:!e&&!!t(ve).isInserterOpened()&&"visual"===a,hasComplementaryArea:!e&&!!t(ve).getCurrentSidebar(),previousShortcut:n("core/edit-email/previous-region"),nextShortcut:n("core/edit-email/next-region")}}),[e,a]);(0,h.useEffect)((()=>{o&&t&&l(null)}),[o,l,n,t]),(0,h.useEffect)((()=>{r&&t&&n(!1)}),[r,n,t]);const c=E()("edit-post-layout","is-mode-"+a,{"is-sidebar-opened":r,"is-inserter-opened":o});return(0,b.createElement)(k,{isDistractionFree:!1,className:c,labels:Fa,header:(0,b.createElement)(Vt,null),editorNotices:(0,b.createElement)(ye.EditorNotices,null),notices:(0,b.createElement)(ye.EditorSnackbars,null),secondarySidebar:o&&(0,b.createElement)(In,null),sidebar:r&&(0,b.createElement)(kn.Slot,null),content:(0,b.createElement)(gt,null),footer:!e&&(0,b.createElement)(Rt,null),shortcuts:{previous:i,next:s}})};function Oa(){const e=(0,w.useViewportMatch)("medium","<"),{createErrorNotice:t}=(0,d.useDispatch)(nt.store),n=(0,d.useSelect)((e=>!!e(R.store).get(X,"fullscreenMode")),[]);return(0,b.createElement)(rt,null,(0,b.createElement)(ye.UnsavedChangesWarning,null),(0,b.createElement)(ye.AutosaveMonitor,null),(0,b.createElement)(ye.LocalAutosaveMonitor,null),(0,b.createElement)(Pn,null),(0,b.createElement)(_,{isActive:n&&!e}),(0,b.createElement)(tt.Register,null),(0,b.createElement)(ye.EditorKeyboardShortcutsRegister,null),(0,b.createElement)(ye.EditorKeyboardShortcuts,null),(0,b.createElement)($a,null),(0,b.createElement)(Cn,null),(0,b.createElement)(Da.PluginArea,{onError:function(e){t((0,g.sprintf)(/* translators: %s: plugin name */
(0,g.__)('The "%s" plugin has encountered an error and cannot be rendered.'),e))}}))}function Ua({error:e}){return(0,h.useEffect)((()=>{document.body.classList.remove("is-fullscreen-mode")}),[]),(0,b.createElement)(v.Notice,{status:"error",isDismissible:!1},e.message)}const Ga=function({postId:e,postType:t,settings:n,initialEdits:l,...a}){const{post:r,canEdit:o}=(0,d.useSelect)((n=>{const{getEntityRecord:l,canUserEditEntityRecord:a}=n(Se.store);return{post:l("postType",t,e),canEdit:a("postType",t,e)}}),[t,e]),i=Te(n);return!1===o?(0,b.createElement)(Ua,{error:new Error("You are not allowed to edit this email.")}):void 0===r&&void 0!==o?(0,b.createElement)(Ua,{error:new Error("Email not found.")}):r?(0,b.createElement)(v.SlotFillProvider,null,(0,b.createElement)(ye.EditorProvider,{settings:i,post:r,initialEdits:l,useSubRegistry:!1,...a},(0,b.createElement)(ye.ErrorBoundary,null,(0,b.createElement)(Aa.CommandMenu,null),(0,b.createElement)(Oa,null)),(0,b.createElement)(ye.PostLockedModal,null))):(0,b.createElement)(v.Spinner,null)};function Wa(e,t,n,l={},a={}){const r=document.getElementById(e);if(!r)return;const o=h.createRoot?(0,h.createRoot)(r):void 0;(0,d.dispatch)(R.store).setDefaults(X,{fullscreenMode:!0,focusMode:!1,keepCaretInsideBlock:!1,welcomeGuide:!0,welcomeGuideStyles:!0,welcomeGuidePage:!0,welcomeGuideTemplate:!0,showListViewByDefault:!1,isComplementaryAreaVisible:!0}),(0,d.dispatch)(we.store).reapplyBlockTypeFilters(),(0,d.select)(R.store).get(X,"showListViewByDefault")&&(0,d.dispatch)(ye.store).setIsListViewOpened(!0),za(),"Standards"!=("CSS1Compat"===document.compatMode?"Standards":"Quirks")&&console.warn("Your browser is using Quirks Mode. \nThis can cause rendering issues such as blocks overlaying meta boxes in the editor. Quirks Mode can be triggered by PHP errors or HTML code appearing before the opening <!DOCTYPE html>. Try checking the raw page source or your site's PHP error log and resolving errors there, removing any HTML before the doctype, or disabling plugins."),window.addEventListener("dragover",(e=>e.preventDefault()),!1),window.addEventListener("drop",(e=>e.preventDefault()),!1),o?o.render((0,b.createElement)(Ga,{settings:l,postId:n,postType:t,initialEdits:a})):(0,h.render)((0,b.createElement)(Ga,{settings:l,postId:n,postType:t,initialEdits:a}),r)}window.noptin=window.noptin||{},window.noptin.editEmail=c},184:(e,t)=>{var n;!function(){"use strict";var l={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)){if(n.length){var o=a.apply(null,n);o&&e.push(o)}}else if("object"===r){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var i in n)l.call(n,i)&&n[i]&&e.push(i)}}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()}},n={};function l(e){var a=n[e];if(void 0!==a)return a.exports;var r=n[e]={exports:{}};return t[e](r,r.exports,l),r.exports}l.m=t,e=[],l.O=(t,n,a,r)=>{if(!n){var o=1/0;for(m=0;m<e.length;m++){for(var[n,a,r]=e[m],i=!0,s=0;s<n.length;s++)(!1&r||o>=r)&&Object.keys(l.O).every((e=>l.O[e](n[s])))?n.splice(s--,1):(i=!1,r<o&&(o=r));if(i){e.splice(m--,1);var c=a();void 0!==c&&(t=c)}}return t}r=r||0;for(var m=e.length;m>0&&e[m-1][2]>r;m--)e[m]=e[m-1];e[m]=[n,a,r]},l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={257:0,410:0};l.O.j=t=>0===e[t];var t=(t,n)=>{var a,r,[o,i,s]=n,c=0;if(o.some((t=>0!==e[t]))){for(a in i)l.o(i,a)&&(l.m[a]=i[a]);if(s)var m=s(l)}for(t&&t(n);c<o.length;c++)r=o[c],l.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return l.O(m)},n=globalThis.webpackChunknoptin_premium=globalThis.webpackChunknoptin_premium||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var a=l.O(void 0,[410],(()=>l(251)));a=l.O(a)})();