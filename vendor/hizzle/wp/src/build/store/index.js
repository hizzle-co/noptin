(()=>{"use strict";var e={55:e=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function o(e,t){var r=e._map,o=e._arrayTreeMap,n=e._objectTreeMap;if(r.has(t))return r.get(t);for(var s=Object.keys(t).sort(),c=Array.isArray(t)?o:n,i=0;i<s.length;i++){var l=s[i];if(void 0===(c=c.get(l)))return;var a=t[l];if(void 0===(c=c.get(a)))return}var d=c.get("_ekm_value");return d?(r.delete(d[0]),d[0]=t,c.set("_ekm_value",d),r.set(t,d),d):void 0}var n=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.clear(),t instanceof e){var r=[];t.forEach((function(e,t){r.push([t,e])})),t=r}if(null!=t)for(var o=0;o<t.length;o++)this.set(t[o][0],t[o][1])}var n,s;return n=e,s=[{key:"set",value:function(r,o){if(null===r||"object"!==t(r))return this._map.set(r,o),this;for(var n=Object.keys(r).sort(),s=[r,o],c=Array.isArray(r)?this._arrayTreeMap:this._objectTreeMap,i=0;i<n.length;i++){var l=n[i];c.has(l)||c.set(l,new e),c=c.get(l);var a=r[l];c.has(a)||c.set(a,new e),c=c.get(a)}var d=c.get("_ekm_value");return d&&this._map.delete(d[0]),c.set("_ekm_value",s),this._map.set(r,s),this}},{key:"get",value:function(e){if(null===e||"object"!==t(e))return this._map.get(e);var r=o(this,e);return r?r[1]:void 0}},{key:"has",value:function(e){return null===e||"object"!==t(e)?this._map.has(e):void 0!==o(this,e)}},{key:"delete",value:function(e){return!!this.has(e)&&(this.set(e,void 0),!0)}},{key:"forEach",value:function(e){var r=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;this._map.forEach((function(n,s){null!==s&&"object"===t(s)&&(n=n[1]),e.call(o,n,s,r)}))}},{key:"clear",value:function(){this._map=new Map,this._arrayTreeMap=new Map,this._objectTreeMap=new Map}},{key:"size",get:function(){return this._map.size}}],s&&r(n.prototype,s),e}();e.exports=n},252:e=>{e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var o,n,s;if(Array.isArray(t)){if((o=t.length)!=r.length)return!1;for(n=o;0!=n--;)if(!e(t[n],r[n]))return!1;return!0}if(t instanceof Map&&r instanceof Map){if(t.size!==r.size)return!1;for(n of t.entries())if(!r.has(n[0]))return!1;for(n of t.entries())if(!e(n[1],r.get(n[0])))return!1;return!0}if(t instanceof Set&&r instanceof Set){if(t.size!==r.size)return!1;for(n of t.entries())if(!r.has(n[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(r)){if((o=t.length)!=r.length)return!1;for(n=o;0!=n--;)if(t[n]!==r[n])return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((o=(s=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(n=o;0!=n--;)if(!Object.prototype.hasOwnProperty.call(r,s[n]))return!1;for(n=o;0!=n--;){var c=s[n];if(!e(t[c],r[c]))return!1}return!0}return t!=t&&r!=r}}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,r),s.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};r.r(o),r.d(o,{CollectionProvider:()=>ct,DEFAULT_CONTEXT:()=>y,DEFAULT_ENTITY_KEY:()=>E,DEFAULT_PAGE:()=>R,DEFAULT_PER_PAGE:()=>v,STORE_NAME:()=>g,store:()=>Et,useCollectionRecord:()=>ft,useCollectionRecords:()=>ht,useProvidedCollection:()=>it,useProvidedCollectionConfig:()=>at,useProvidedRecordId:()=>lt,useRecordProp:()=>gt});var n={};r.r(n),r.d(n,{canUser:()=>de,getCollectionConfig:()=>V,getCollectionRecord:()=>H,getCollectionRecordEdits:()=>te,getCollectionRecordNoResolver:()=>G,getCollectionRecordNonTransientEdits:()=>re,getCollectionRecordPermissions:()=>fe,getCollectionRecords:()=>X,getCollectionRecordsPermissions:()=>ue,getCollectionRecordsTotalItems:()=>Z,getCollectionRecordsTotalPages:()=>ee,getEditedCollectionRecord:()=>ne,getLastCollectionDeleteError:()=>ce,getLastCollectionSaveError:()=>F,getQueriedItems:()=>J,getRawCollectionRecord:()=>B,getReferenceByDistinctEdits:()=>pe,getUndoManager:()=>ie,hasCollectionRecords:()=>W,hasEditsForCollectionRecord:()=>oe,hasRedo:()=>ae,hasUndo:()=>le,isDeletingCollectionRecord:()=>se,isSavingCollectionRecord:()=>z});var s={};r.r(s),r.d(s,{addCollectionConfig:()=>me,batch:()=>Ne,createUndoLevel:()=>Ue,deleteCollectionRecord:()=>_e,editCollectionRecord:()=>xe,receiveCollectionRecords:()=>De,receiveUserPermission:()=>qe,receiveUserPermissions:()=>Me,redo:()=>je,removeItems:()=>Ce,saveCollectionRecord:()=>Le,saveEditedCollectionRecord:()=>ke,saveSpecifiedCollectionRecordEdits:()=>Ae,undo:()=>Pe});var c={};r.r(c),r.d(c,{getCollectionConfig:()=>$e,getCollectionRecord:()=>ze,getCollectionRecords:()=>Qe,getEditedCollectionRecord:()=>Ke,getRawCollectionRecord:()=>Fe});const i=window.wp.data,l=window.wp.isShallowEqual;var a=r.n(l);function d(e,t){const r={...e};return Object.entries(t).forEach((([e,t])=>{r[e]?r[e]={...r[e],to:t.to}:r[e]=t})),r}const u=(e,t)=>{const r=e?.findIndex((({id:e})=>"string"==typeof e?e===t.id:a()(e,t.id))),o=[...e];return-1!==r?o[r]={id:t.id,changes:d(o[r].changes,t.changes)}:o.push(t),o};const f=window.wp.compose,p=e=>t=>(r,o)=>void 0===r||e(o)?t(r,o):r,h=e=>t=>(r,o)=>t(r,e(o)),g="hizzle/store",E="id",y="view",v=25,R=1;var m=r(252),C=r.n(m);const _=(e={},t)=>{var r;switch(t.type){case"RECEIVE_COLLECTION_RECORDS":if((null!==(r=t.query?.context)&&void 0!==r?r:y)!==y)return e;const n={...e};for(const e of null!==(o=t.records)&&void 0!==o?o:[]){var o;const r=e?.[t.key||E],s=n[r];if(!s)continue;const c=Object.keys(s).reduce(((r,o)=>{var n;return C()(s[o],null!==(n=e[o]?.raw)&&void 0!==n?n:e[o])||t.persistedEdits&&C()(s[o],t.persistedEdits[o])||(r[o]=s[o]),r}),{});Object.keys(c).length?n[r]=c:delete n[r]}return n;case"EDIT_COLLECTION_RECORD":const s={...e[t.recordId],...t.edits};return Object.keys(s).forEach((e=>{void 0===s[e]&&delete s[e]})),{...e,[t.recordId]:s}}return e},b=(e={},t)=>{switch(t.type){case"SAVE_COLLECTION_RECORD_START":case"SAVE_COLLECTION_RECORD_FINISH":return{...e,[t.recordId]:{pending:"SAVE_COLLECTION_RECORD_START"===t.type,error:t.error}}}return e},O=(e={},t)=>{switch(t.type){case"DELETE_COLLECTION_RECORD_START":case"DELETE_COLLECTION_RECORD_FINISH":return{...e,[t.recordId]:{pending:"DELETE_COLLECTION_RECORD_START"===t.type,error:t.error}}}return e},w=e=>t=>(r={},o)=>{const n=o[e];if(void 0===n)return r;const s=t(r[n],o);return s===r[n]?r:{...r,[n]:s}},I=window.wp.url,S=function(e){return"string"==typeof e?e.split(","):Array.isArray(e)?e:null},T=function(){const e=new WeakMap;return t=>{let r;return e.has(t)?r=e.get(t):(r=function(e){var t;const r={stableKey:"",page:R,perPage:v,fields:void 0,include:void 0,context:y},o=Object.keys(e).sort();for(let s=0;s<o.length;s++){const c=o[s];let i=e[c];switch(c){case"paged":r.page=Number(i);break;case"per_page":r.perPage=Number(i);break;case"context":r.context=i;break;case"_fields":r.fields=null!==(t=S(i))&&void 0!==t?t:[];break;case"page":break;default:var n;"include"===c&&("number"==typeof i&&(i=i.toString()),r.include=(null!==(n=S(i))&&void 0!==n?n:[]).map(Number),i=r.include.join()),r.stableKey+=(r.stableKey?"&":"")+(0,I.addQueryArgs)("",{[c]:i}).slice(1)}}return r}(t),null!==t&&"object"==typeof t&&e.set(t,r)),r}}();function L(e){const{query:t}=e;return t?T(t).context:y}function k(e,t,r,o){var n;if(1===r&&-1===o)return t;const s=(r-1)*o,c=Math.max(null!==(n=e?.length)&&void 0!==n?n:0,s+t.length),i=new Array(c);for(let r=0;r<c;r++){const n=r>=s&&r<s+o;i[r]=n?t[r-s]:e?.[r]}return i}const A=(e,t)=>Object.fromEntries(Object.entries(e).filter((([e])=>!t.some((t=>Number.isInteger(t)?t===+e:t===e))))),D=(0,f.compose)(p((e=>"query"in e)),h((e=>e.query?{...e,...T(e.query)}:e)),w("context"),w("stableKey"))(((e,t)=>{const{page:r=1,perPage:o=-1,key:n=E}=t;return{itemIds:k(e?.itemIds||[],t.records.map((e=>e?.[n])).filter(Boolean),r,o),meta:t.meta}})),P=(0,i.combineReducers)({items:(e={view:{},edit:{}},t)=>{switch(t.type){case"RECEIVE_COLLECTION_RECORDS":{const r=L(t),o=t.key||E;return{...e,[r]:{...e[r],...t.records.reduce(((t,n)=>{const s=n?.[o];return t[s]=function(e,t){if(!e)return t;let r=!1;const o={};for(const n in t)C()(e[n],t[n])?o[n]=e[n]:(r=!0,o[n]=t[n]);if(!r)return e;for(const t in e)o.hasOwnProperty(t)||(o[t]=e[t]);return o}(e?.[r]?.[s],n),t}),{})}}}case"REMOVE_ITEMS":{const r={...e};return Object.keys(r).forEach((e=>{r[e]=A(r[e],t.itemIds)})),r}}return e},itemIsComplete:(e={view:{},edit:{}},t)=>{switch(t.type){case"RECEIVE_COLLECTION_RECORDS":{const r=L(t),{query:o,key:n=E}=t,s=o?T(o):{fields:[]},c=!o||!Array.isArray(s.fields)||0===s.fields.length;return{...e,[r]:{...e[r],...t.records.reduce(((t,o)=>{const s=o?.[n];return t[s]=e?.[r]?.[s]||c,t}),{})}}}case"REMOVE_ITEMS":const r={...e};return Object.keys(r).forEach((e=>{r[e]=A(r[e],t.itemIds)})),r}return e},queries:(e={view:{},edit:{}},t)=>{switch(t.type){case"RECEIVE_COLLECTION_RECORDS":return D(e,t);case"REMOVE_ITEMS":const r=t.itemIds.reduce(((e,t)=>(e[t]=!0,e)),{});return Object.fromEntries(Object.entries(e).map((([e,t])=>[e,Object.fromEntries(Object.entries(t).map((([e,t])=>[e,{itemIds:t.itemIds.filter((e=>!r[e])),meta:t.meta}])))])));default:return e}}}),j=e=>(t,r)=>{if("UNDO"===r.type||"REDO"===r.type){const{record:o}=r;let n=t;return o.forEach((({id:{namespace:t,collection:o,recordId:s},changes:c})=>{n=e(n,{type:"EDIT_COLLECTION_RECORD",namespace:t,collection:o,recordId:s,edits:Object.entries(c).reduce(((e,[t,o])=>(e[t]="UNDO"===r.type?o.from:o.to,e)),{})})})),n}return e(t,r)},U=e=>{const t=(0,i.combineReducers)({queriedData:P,edits:_,saving:b,deleting:O});return(0,f.compose)(j,p((t=>Boolean(t.collection&&t.namespace&&t.collection===e.collection&&t.namespace===e.namespace))),h((t=>({key:e.key||E,...t}))))(t)},x=(0,i.combineReducers)({collections:(e={config:{},records:{}},t)=>{const r=((e={},t)=>"ADD_COLLECTION_CONFIG"===t.type?{...e,[t.config.namespace]:{...e[t.config.namespace],[t.config.collection]:t.config}}:e)(e.config,t);let o=e.reducer;o&&r===e.config||(o=(0,i.combineReducers)(Object.entries(r).reduce(((e,[t,r])=>{const o=(0,i.combineReducers)(Object.entries(r).reduce(((e,[t,r])=>({...e,[t]:U(r)})),{}));return e[t]=o,e}),{})));const n=o?o(e.records,t):e.records;return n===e.records&&r===e.config&&o===e.reducer?e:{reducer:o,records:n,config:r}},editsReference:function(e={},t){switch(t.type){case"EDIT_COLLECTION_RECORD":case"UNDO":case"REDO":return{}}return e},undoManager:function(e=function(){let e=[],t=[],r=0;const o=()=>{e=e.slice(0,r||void 0),r=0},n=()=>{var r;const o=0===e.length?0:e.length-1;let n=null!==(r=e[o])&&void 0!==r?r:[];t.forEach((e=>{n=u(n,e)})),t=[],e[o]=n};return{addRecord(r,s=!1){const c=!r||(e=>!e.filter((({changes:e})=>Object.values(e).some((({from:e,to:t})=>"function"!=typeof e&&"function"!=typeof t&&!a()(e,t))))).length)(r);if(s){if(c)return;r.forEach((e=>{t=u(t,e)}))}else{if(o(),t.length&&n(),c)return;e.push(r)}},undo(){t.length&&(o(),n());const s=e[e.length-1+r];if(s)return r-=1,s},redo(){const t=e[e.length+r];if(t)return r+=1,t},hasUndo:()=>!!e[e.length-1+r],hasRedo:()=>!!e[e.length+r]}}()){return e},userPermissions:function(e={},t){switch(t.type){case"RECEIVE_USER_PERMISSION":return{...e,[t.key]:t.isAllowed};case"RECEIVE_USER_PERMISSIONS":return{...e,...t.permissions}}return e}}),N=["create","read","update","delete"];function q(e){const t={};if(!e)return t;const r={create:"POST",read:"GET",update:"PUT",delete:"DELETE"};for(const[o,n]of Object.entries(r))t[o]=e.includes(n);return t}function M(e,t){return[e,t.namespace,t.collection,t.id].filter(Boolean).join("/")}function V(e,t,r){return e.collections?.config?.[t]?.[r]}function z(e,t,r,o){var n;return null!==(n=e.collections.records?.[t]?.[r]?.saving?.[o]?.pending)&&void 0!==n&&n}function F(e,t,r,o){return e.collections.records?.[t]?.[r]?.saving?.[o]?.error}var K=r(55),Q=r.n(K);function $(e,t,r){if(!e||"object"!=typeof e)return e;const o=Array.isArray(t)?t:t.split(".");return o.reduce(((e,t,n)=>(void 0===e[t]&&(Number.isInteger(o[n+1])?e[t]=[]:e[t]={}),n===o.length-1&&(e[t]=r),e[t])),e),e}const H=(0,i.createSelector)(((e,t,r,o,n)=>{var s;const c=e.collections.records?.[t]?.[r]?.queriedData;if(!c)return;const i=null!==(s=n?.context)&&void 0!==s?s:y;if(void 0===n){if(!c.itemIsComplete[i]?.[o])return;return c.items[i][o]}const l=c.items[i]?.[o];if(l&&n._fields){var a;const e={},t=null!==(a=S(n._fields))&&void 0!==a?a:[];for(let r=0;r<t.length;r++){const o=t[r].split(".");let n=l;o.forEach((e=>{n=n?.[e]})),$(e,o,n)}return e}return l}),((e,t,r,o,n)=>{var s;const c=null!==(s=n?.context)&&void 0!==s?s:y;return[e.collections.records?.[t]?.[r]?.queriedData?.items[c]?.[o],e.collections.records?.[t]?.[r]?.queriedData?.itemIsComplete[c]?.[o]]}));function G(e,t,r,o){return H(e,t,r,o)}const B=(0,i.createSelector)(((e,t,r,o)=>{const n=H(e,t,r,o);return n&&Object.keys(n).reduce(((e,t)=>(n[t]&&"object"==typeof n[t]&&void 0!==n[t]?.raw?e[t]=n[t]?.raw:e[t]=n[t],e)),{})}),((e,t,r,o,n)=>{var s;const c=null!==(s=n?.context)&&void 0!==s?s:y;return[e.collections.config,e.collections.records?.[t]?.[r]?.queriedData?.items[c]?.[o],e.collections.records?.[t]?.[r]?.queriedData?.itemIsComplete[c]?.[o]]}));function W(e,t,r,o){return Array.isArray(X(e,t,r,o))}const X=(e,t,r,o)=>{const n=e.collections.records?.[t]?.[r]?.queriedData;return n?J(n,o):null},Y=new WeakMap,J=(0,i.createSelector)(((e,t={})=>{let r=Y.get(e);if(r){const e=r.get(t);if(void 0!==e)return e}else r=new(Q()),Y.set(e,r);const o=function(e,t){const{stableKey:r,page:o,perPage:n,include:s,fields:c,context:i}=T(t);let l;if(e.queries?.[i]?.[r]&&(l=e.queries[i][r].itemIds),!Array.isArray(l))return null;const a=-1===n?0:(o-1)*n,d=-1===n?l.length:Math.min(a+n,l.length),u=[];for(let t=a;t<d;t++){const r=l[t];if(Array.isArray(s)&&!s.includes(r))continue;if(void 0===r)continue;if(!e.items[i]?.hasOwnProperty(r))return null;const o=e.items[i][r];let n;if(Array.isArray(c)&&c.length>0){n={};for(let e=0;e<c.length;e++){const t=c[e].split(".");let r=o;t.forEach((e=>{r=r?.[e]})),$(n,t,r)}}else{if(!e.itemIsComplete[i]?.[r])return null;n=o}u.push(n)}return u}(e,t);return r.set(t,o),o})),Z=(e,t,r,o)=>{var n;const s=e.collections.records?.[t]?.[r]?.queriedData;if(!s)return null;const{stableKey:c,context:i}=T(o);return null!==(n=s.queries?.[i]?.[c]?.meta?.totalItems)&&void 0!==n?n:null},ee=(e,t,r,o)=>{var n;const s=e.collections.records?.[t]?.[r]?.queriedData;if(!s)return null;if(-1===o.per_page)return 1;const{stableKey:c,context:i,perPage:l}=T(o);if(!o.per_page){const e=s.queries?.[i]?.[c]?.meta?.totalPages;if(e)return e}const a=null!==(n=s.queries?.[i]?.[c]?.meta?.totalItems)&&void 0!==n?n:null;return a?Math.ceil(a/l):null};function te(e,t,r,o){return e.collections.records?.[t]?.[r]?.edits?.[o]}const re=(0,i.createSelector)(((e,t,r,o)=>{const{transientEdits:n}=V(e,t,r)||{},s=te(e,t,r,o)||{};return n?Object.keys(s).reduce(((e,t)=>(n[t]||(e[t]=s[t]),e)),{}):s}),((e,t,r,o)=>[e.collections.config,e.collections.records?.[t]?.[r]?.edits?.[o]]));function oe(e,t,r,o){return z(e,t,r,o)||Object.keys(te(e,t,r,o)).length>0}const ne=(0,i.createSelector)(((e,t,r,o)=>{const n=B(e,t,r,o),s=te(e,t,r,o);if(n||s)return{...n,...s}}),((e,t,r,o,n)=>{var s;const c=null!==(s=n?.context)&&void 0!==s?s:y;return[e.collections.config,e.collections.records?.[t]?.[r]?.queriedData.items[c]?.[o],e.collections.records?.[t]?.[r]?.queriedData.itemIsComplete[c]?.[o],e.collections.records?.[t]?.[r]?.edits?.[o]]}));function se(e,t,r,o){var n;return null!==(n=e.collections.records?.[t]?.[r]?.deleting?.[o]?.pending)&&void 0!==n&&n}function ce(e,t,r,o){return e.collections?.records?.[t]?.[r]?.deleting?.[o]?.error}function ie(e){return e.undoManager}function le(e){return e.undoManager.hasUndo()}function ae(e){return e.undoManager.hasRedo()}function de(e,t,r){return!(!r.namespace||!r.collection)&&e.userPermissions[M(t,r)]}const ue=(0,i.createSelector)(((e,t,r,o)=>(Array.isArray(o)?o:[o]).map((o=>({delete:de(e,"delete",{namespace:t,collection:r,id:o}),update:de(e,"update",{namespace:t,collection:r,id:o})})))),(e=>[e.userPermissions]));function fe(e,t,r,o){return ue(e,t,r,o)[0]}function pe(e){return e.editsReference}const he=window.wp.apiFetch;var ge=r.n(he);let Ee=null;const ye=async e=>{if(null===Ee){const e=await ge()({path:"/batch/v1",method:"OPTIONS"});Ee=e.endpoints[0].args.requests.maxItems}const t=[];for(const r of function(e,t){const r=[...e],o=[];for(;r.length;)o.push(r.splice(0,t));return o}(e,Ee)){const e=await ge()({path:"/batch/v1",method:"POST",data:{validation:"require-all-validate",requests:r.map((e=>({path:e.path,body:e.data,method:e.method,headers:e.headers})))}});let o;o=e.failed?e.responses.map((e=>({error:e?.body}))):e.responses.map((e=>{const t={};return e.status>=200&&e.status<300?t.output=e.body:t.error=e.body,t})),t.push(...o)}return t},ve=(e=ye)=>{let t=0,r=[];const o=new Re;return{add(e){const n=++t;o.add(n);const s=e=>new Promise(((t,s)=>{r.push({input:e,resolve:t,reject:s}),o.delete(n)}));return"function"==typeof e?Promise.resolve(e(s)).finally((()=>{o.delete(n)})):s(e)},async run(){let t;o.size&&await new Promise((e=>{const t=o.subscribe((()=>{o.size||(t(),e(void 0))}))}));try{if(t=await e(r.map((({input:e})=>e))),t.length!==r.length)throw new Error("run: Array returned by processor must be same size as input array.")}catch(e){for(const{reject:t}of r)t(e);throw e}let n=!0;return t.forEach(((e,t)=>{const o=r[t];var s;e?.error?(o?.reject(e.error),n=!1):o?.resolve(null!==(s=e?.output)&&void 0!==s?s:e)})),r=[],n}}};class Re{constructor(...e){this.set=new Set(...e),this.subscribers=new Set}get size(){return this.set.size}add(e){return this.set.add(e),this.subscribers.forEach((e=>e())),this}delete(e){const t=this.set.delete(e);return this.subscribers.forEach((e=>e())),t}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}}function me(e){return{type:"ADD_COLLECTION_CONFIG",config:e}}function Ce(e,t,r,o=!1){return{type:"REMOVE_ITEMS",itemIds:Array.isArray(r)?r:[r],namespace:e,collection:t,invalidateCache:o}}const _e=(e,t,r,o=null,{throwOnError:n=!1,fetchHandler:s=ge()}={})=>async({dispatch:c,resolveSelect:i})=>{const l=await i.getCollectionConfig(e,t);let a,d=!1;if(!l)return;const u=await c.__unstableAcquireStoreLock(g,["collections","records",e,t,r],{exclusive:!0});try{c({type:"DELETE_COLLECTION_RECORD_START",namespace:e,collection:t,recordId:r});let i=!1;try{let n=`${l.baseURL}/${r}`;o&&(n=(0,I.addQueryArgs)(n,o)),d=await s({path:n,method:"DELETE"}),await c(Ce(e,t,r,!0))}catch(e){i=!0,a=e}if(c({type:"DELETE_COLLECTION_RECORD_FINISH",namespace:e,collection:t,recordId:r,error:a}),i&&n)throw a;return d}finally{c.__unstableReleaseStoreLock(u)}},be={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Oe;const we=new Uint8Array(16),Ie=[];for(let e=0;e<256;++e)Ie.push((e+256).toString(16).slice(1));const Se=function(e,t,r){if(be.randomUUID&&!t&&!e)return be.randomUUID();const o=(e=e||{}).random??e.rng?.()??function(){if(!Oe){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Oe=crypto.getRandomValues.bind(crypto)}return Oe(we)}();if(o.length<16)throw new Error("Random bytes length must be >= 16");if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){if((r=r||0)<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[r+e]=o[e];return t}return function(e,t=0){return(Ie[e[t+0]]+Ie[e[t+1]]+Ie[e[t+2]]+Ie[e[t+3]]+"-"+Ie[e[t+4]]+Ie[e[t+5]]+"-"+Ie[e[t+6]]+Ie[e[t+7]]+"-"+Ie[e[t+8]]+Ie[e[t+9]]+"-"+Ie[e[t+10]]+Ie[e[t+11]]+Ie[e[t+12]]+Ie[e[t+13]]+Ie[e[t+14]]+Ie[e[t+15]]).toLowerCase()}(o)};function Te(e,t,r=void 0){if(!e||"object"!=typeof e||"string"!=typeof t&&!Array.isArray(t))return e;const o=Array.isArray(t)?t:t.split(".");let n=e;return o.forEach((e=>{n=n?.[e]})),void 0!==n?n:r}const Le=(e,t,r,{throwOnError:o=!0,fetchHandler:n=ge()}={})=>async({select:s,resolveSelect:c,dispatch:i})=>{const l=await c.getCollectionConfig(e,t);if(!l)return;const a=r[l.key||E],d=await i.__unstableAcquireStoreLock(g,["collections","records",e,t,a||Se()],{exclusive:!0});try{for(const[o,n]of Object.entries(r)){if("function"==typeof n){const c=n(s.getEditedCollectionRecord(e,t,a));i.editCollectionRecord(e,t,a,{[o]:c},{undoIgnore:!0}),r[o]=c}n?.raw&&(r[o]=n.raw)}let c,d;i({type:"SAVE_COLLECTION_RECORD_START",namespace:e,collection:t,recordId:a});let u=!1;try{const o=`${l.baseURL}${a?"/"+a:""}`;c=await n({path:o,method:a?"PUT":"POST",data:r}),i.receiveCollectionRecords(e,t,[c],void 0,void 0,l.key||E,!0,r)}catch(e){u=!0,d=e}if(i({type:"SAVE_COLLECTION_RECORD_FINISH",namespace:e,collection:t,recordId:a,error:d}),u&&o)throw d;return c}finally{i.__unstableReleaseStoreLock(d)}},ke=(e,t,r,o={})=>async({select:n,dispatch:s,resolveSelect:c})=>{if(!n.hasEditsForCollectionRecord(e,t,r))return;const i=await c.getCollectionConfig(e,t);if(!i)return;const l=i.key||E,a=n.getCollectionRecordNonTransientEdits(e,t,r),d={[l]:r,...a};return await s.saveCollectionRecord(e,t,d,o)},Ae=(e,t,r,o,n)=>async({select:s,dispatch:c,resolveSelect:i})=>{if(!s.hasEditsForCollectionRecord(e,t,r))return;const l=s.getCollectionRecordEdits(e,t,r),a={};for(const e of o)$(a,e,Te(l,e));const d=await i.getCollectionConfig(e,t);return r&&(a[d?.key||E]=r),await c.saveCollectionRecord(e,t,a,n)};function De(e,t,r,o,n=void 0,s=void 0,c=!1,i=void 0){const l={type:"RECEIVE_COLLECTION_RECORDS",namespace:e,collection:t,invalidateCache:c,records:Array.isArray(r)?r:[r],persistedEdits:i,meta:n,key:s};return o&&(l.query=o),l}const Pe=()=>({select:e,dispatch:t})=>{const r=e.getUndoManager().undo();r&&t({type:"UNDO",record:r})},je=()=>({select:e,dispatch:t})=>{const r=e.getUndoManager().redo();r&&t({type:"REDO",record:r})},Ue=()=>({select:e})=>{e.getUndoManager().addRecord()},xe=(e,t,r,o,n={})=>({select:s,dispatch:c})=>{const i=s.getCollectionConfig(e,t);if(!i)throw new Error(`The collection being edited (${e}, ${t}) does not have a loaded config.`);const{mergedEdits:l={}}=i,a=s.getRawCollectionRecord(e,t,r),d=s.getEditedCollectionRecord(e,t,r),u={namespace:e,collection:t,recordId:r,edits:Object.keys(o).reduce(((e,t)=>{const r=a[t],n=d[t],s=l[t]?{...n,...o[t]}:o[t];return e[t]=C()(r,s)?void 0:s,e}),{})};n.undoIgnore||s.getUndoManager().addRecord([{id:{namespace:e,collection:t,recordId:r},changes:Object.keys(o).reduce(((e,t)=>(e[t]={from:d[t],to:o[t]},e)),{})}],n.isCached),c({type:"EDIT_COLLECTION_RECORD",...u})},Ne=e=>async({dispatch:t})=>{const r=ve(),o={saveCollectionRecord:(e,o,n,s)=>r.add((r=>t.saveCollectionRecord(e,o,n,{...s,fetchHandler:r}))),saveEditedCollectionRecord:(e,o,n,s)=>r.add((r=>t.saveEditedCollectionRecord(e,o,n,{...s,fetchHandler:r}))),deleteCollectionRecord:(e,o,n,s,c)=>r.add((r=>t.deleteCollectionRecord(e,o,n,s,{...c,fetchHandler:r})))},n=e.map((e=>e(o))),[,...s]=await Promise.all([r.run(),...n]);return s};function qe(e,t){return{type:"RECEIVE_USER_PERMISSION",key:e,isAllowed:t}}function Me(e){return{type:"RECEIVE_USER_PERMISSIONS",permissions:e}}const Ve=e=>(...t)=>async({resolveSelect:r})=>{await r[e](...t)},ze=(e,t,r="",o={})=>async({select:n,dispatch:s,registry:c,resolveSelect:i})=>{const l=await i.getCollectionConfig(e,t);if(!l)return;const a=await s.__unstableAcquireStoreLock(g,["collections","records",e,t,r],{exclusive:!1}),d=l.key||E;try{void 0!==o&&o._fields&&(o={...o,_fields:[...new Set([...S(o._fields)||[],d])].join()});const i=(0,I.addQueryArgs)(l.baseURL+(r?"/"+r:""),{...l.baseURLParams,uniqid:Math.random(),...o});if(void 0!==o&&o._fields&&(o={...o,include:[r]},n.hasCollectionRecords(e,t,o)))return;const a=await ge()({path:i,parse:!1}),u=await a.json(),f=q(a.headers?.get("allow")),p=[],h={};for(const o of N)h[M(o,{namespace:e,collection:t,id:r})]=f[o],p.push([o,{namespace:e,collection:t,id:r}]);c.batch((()=>{s.receiveCollectionRecords(e,t,[u],o,void 0,d),s.receiveUserPermissions(h),s.finishResolutions("canUser",p)}))}finally{s.__unstableReleaseStoreLock(a)}},Fe=Ve("getCollectionRecord"),Ke=Ve("getCollectionRecord"),Qe=(e,t,r={})=>async({dispatch:o,registry:n,resolveSelect:s})=>{const c=await s.getCollectionConfig(e,t);if(!c)return;const i=await o.__unstableAcquireStoreLock(g,["collections","records",e,t],{exclusive:!1}),l=c.key||E;function a(r){return r.filter((e=>e?.[l])).map((r=>[e,t,r[l]]))}try{r._fields&&(r={...r,_fields:[...new Set([...S(r._fields)||[],l])].join()});const s=(0,I.addQueryArgs)(c.baseURL,{...c.baseURLParams,uniqid:Math.random(),__next_as_array:!0,...r});let d,u=[];if(c.supportsPagination&&-1!==r.per_page){const e=await ge()({path:s,parse:!1});u=await e.json(),d={totalItems:parseInt(e.headers.get("X-WP-Total")),totalPages:parseInt(e.headers.get("X-WP-TotalPages"))}}else if(-1===r.per_page&&!1!==r.RECEIVE_INTERMEDIATE_RESULTS){let c,i=1;do{const d=await ge()({path:(0,I.addQueryArgs)(s,{page:i,per_page:100}),parse:!1}),f=Object.values(await d.json());c=parseInt(d.headers.get("X-WP-TotalPages")),u.push(...f),n.batch((()=>{o.receiveCollectionRecords(e,t,u,r,void 0,l),o.finishResolutions("getCollectionRecord",a(f))})),i++}while(i<=c);d={totalItems:u.length,totalPages:1}}else u=Object.values(await ge()({path:s})),d={totalItems:u.length,totalPages:1};r._fields&&(u=u.map((e=>(r._fields.split(",").forEach((t=>{e.hasOwnProperty(t)||(e[t]=void 0)})),e)))),n.batch((()=>{if(o.receiveCollectionRecords(e,t,u,r,d,l),!r?._fields&&!r.context){const r=u.filter((e=>e?.[l])).map((e=>({links:e?._links,id:e[l],permissions:q(e?._links?.self?.[0].targetHints.allow)}))),n=[],s={};for(const o of r)for(const r of N)n.push([r,{namespace:e,collection:t,id:o.id}]),s[M(r,{namespace:e,collection:t,id:o.id})]=o.permissions[r];o.receiveUserPermissions(s),o.finishResolutions("getCollectionRecord",a(u)),o.finishResolutions("canUser",n)}o.__unstableReleaseStoreLock(i)}))}finally{o.__unstableReleaseStoreLock(i)}};Qe.shouldInvalidate=(e,t,r)=>("RECEIVE_COLLECTION_RECORDS"===e.type||"REMOVE_ITEMS"===e.type)&&e.invalidateCache&&t===e.namespace&&r===e.collection;const $e=(e,t)=>async({dispatch:r})=>{const o=await ge()({path:`/${e}/v1/${t}/collection_schema?uniqid=${Math.random()}`});o&&r.addCollectionConfig({...o,namespace:e,collection:t,props:o.schema||[],baseURL:`/${e}/v1/${t}`,baseURLParams:{context:y,uniqid:Math.random()},transientEdits:{selection:!0},mergedEdits:{metadata:!0},key:E,getTitle:e=>o.id_prop?e?.[o.id_prop]?.rendered||e?.[o.id_prop]:String(e?.[E]||""),supportsPagination:!0})};function He(e,t){const r={...e};let o=r;for(const e of t)o.children={...o.children,[e]:{locks:[],children:{},...o.children[e]}},o=o.children[e];return r}function Ge(e,t){let r=e;for(const e of t){const t=r.children[e];if(!t)return null;r=t}return r}function Be({exclusive:e},t){return!(!e||!t.length)||!(e||!t.filter((e=>e.exclusive)).length)}const We={requests:[],tree:{locks:[],children:{}}};function Xe(e=We,t){switch(t.type){case"ENQUEUE_LOCK_REQUEST":{const{request:r}=t;return{...e,requests:[r,...e.requests]}}case"GRANT_LOCK_REQUEST":{const{lock:r,request:o}=t,{store:n,path:s}=o,c=[n,...s],i=He(e.tree,c),l=Ge(i,c);return l.locks=[...l.locks,r],{...e,requests:e.requests.filter((e=>e!==o)),tree:i}}case"RELEASE_LOCK":{const{lock:r}=t,o=[r.store,...r.path],n=He(e.tree,o),s=Ge(n,o);return s.locks=s.locks.filter((e=>e!==r)),{...e,tree:n}}}return e}function Ye(e,t,r,{exclusive:o}){const n=[t,...r],s=e.tree;for(const e of function*(e,t){let r=e;yield r;for(const e of t){const t=r.children[e];if(!t)break;yield t,r=t}}(s,n))if(Be({exclusive:o},e.locks))return!1;const c=Ge(s,n);if(!c)return!0;for(const e of function*(e){const t=Object.values(e.children);for(;t.length;){const e=t.pop();yield e,t.push(...Object.values(e.children))}}(c))if(Be({exclusive:o},e.locks))return!1;return!0}function Je(){let e=Xe(void 0,{type:"@@INIT"});function t(){for(const t of function(e){return e.requests}(e)){const{store:r,path:o,exclusive:n,notifyAcquired:s}=t;if(Ye(e,r,o,{exclusive:n})){const c={store:r,path:o,exclusive:n};e=Xe(e,{type:"GRANT_LOCK_REQUEST",lock:c,request:t}),s(c)}}}return{acquire:function(r,o,n){return new Promise((s=>{e=Xe(e,{type:"ENQUEUE_LOCK_REQUEST",request:{store:r,path:o,exclusive:n,notifyAcquired:s}}),t()}))},release:function(r){e=Xe(e,{type:"RELEASE_LOCK",lock:r}),t()}}}const Ze=window.React;let et=function(e){return e.Idle="IDLE",e.Resolving="RESOLVING",e.Error="ERROR",e.Success="SUCCESS",e}({});const tt=["getIsResolving","hasStartedResolution","hasFinishedResolution","isResolving","getCachedResolvers"];function rt(e,t){return(0,i.useSelect)(((t,r)=>e((e=>ot(t(e))),r)),t)}const ot=function(e,t){var r,o,n=0;function s(){var s,c,i=r,l=arguments.length;e:for(;i;){if(i.args.length===arguments.length){for(c=0;c<l;c++)if(i.args[c]!==arguments[c]){i=i.next;continue e}return i!==r&&(i===o&&(o=i.prev),i.prev.next=i.next,i.next&&(i.next.prev=i.prev),i.next=r,i.prev=null,r.prev=i,r=i),i.val}i=i.next}for(s=new Array(l),c=0;c<l;c++)s[c]=arguments[c];return i={args:s,val:e.apply(null,s)},r?(r.prev=i,i.next=r):o=i,n===t.maxSize?(o=o.prev).next=null:n++,r=i,i.val}return t=t||{},s.clear=function(){r=null,o=null,n=0},s}((e=>{const t={};for(const r in e)tt.includes(r)||Object.defineProperty(t,r,{get:()=>(...t)=>{const o=e[r](...t),n=e.getResolutionState(r,t);let s;switch(n?.status){case"resolving":s=et.Resolving;break;case"finished":s=et.Success;break;case"error":s=et.Error;break;case void 0:s=et.Idle}return{data:o,status:s,isResolving:s===et.Resolving,hasStarted:s!==et.Idle,hasResolved:s===et.Success||s===et.Error,error:s===et.Error?n?.error:void 0}}});return t})),nt=window.ReactJSXRuntime,st=(0,Ze.createContext)({}),ct=({namespace:e,collection:t,recordId:r,children:o})=>{const n=(0,Ze.useContext)(st),s=(0,Ze.useMemo)((()=>({...n,[e]:{...n?.[e],[t]:r},hizzle_store_current:{namespace:e,collection:t,recordId:r}})),[n,e,t,r]);return(0,nt.jsx)(st.Provider,{value:s,children:o})};function it(){const{hizzle_store_current:e}=(0,Ze.useContext)(st);return e}function lt(e=void 0,t=void 0){const r=(0,Ze.useContext)(st);return e&&t?r?.[e]?.[t]:r?.hizzle_store_current?.recordId}function at(){const{namespace:e,collection:t}=it()||{},{data:r,...o}=rt((r=>e&&t?r(Et).getCollectionConfig(e,t):{data:null}),[e,t]);return{config:r,...o}}const dt=window.wp.element,ut={},ft=(e,t,r,o={enabled:!0})=>{const{editCollectionRecord:n,saveEditedCollectionRecord:s}=(0,i.useDispatch)(Et),c=(0,dt.useMemo)((()=>({edit:(o,s={})=>n(e,t,r,o,s),save:(o={})=>s(e,t,r,{throwOnError:!0,...o})})),[n,e,t,r,s]),{editedRecord:l,hasEdits:a,edits:d}=(0,i.useSelect)((n=>o.enabled?{editedRecord:n(Et).getEditedCollectionRecord(e,t,r),hasEdits:n(Et).hasEditsForCollectionRecord(e,t,r),edits:n(Et).getCollectionRecordNonTransientEdits(e,t,r)}:{editedRecord:ut,hasEdits:!1,edits:ut}),[e,t,r,o.enabled]),{data:u,...f}=rt((n=>o.enabled?n(Et).getCollectionRecord(e,t,r):{data:null}),[e,t,r,o.enabled]);return{record:u,editedRecord:l,hasEdits:a,edits:d,...f,...c}},pt=[],ht=(e,t,r={},o={enabled:!0})=>{const n=(0,I.addQueryArgs)("",r),{data:s,...c}=rt((n=>o.enabled?n(Et).getCollectionRecords(e,t,r):{data:pt}),[e,t,n,o.enabled]),{totalItems:l,totalPages:a}=(0,i.useSelect)((n=>o.enabled?{totalItems:n(Et).getCollectionRecordsTotalItems(e,t,r),totalPages:n(Et).getCollectionRecordsTotalPages(e,t,r)}:{totalItems:null,totalPages:null}),[e,t,n,o.enabled]);return{records:s,totalItems:l,totalPages:a,...c}},gt=(e,t,r,o)=>{const n=lt(e,t),s=null!=o?o:n,{value:c,fullValue:l}=(0,i.useSelect)((o=>{const{getCollectionRecord:n,getEditedCollectionRecord:c}=o(Et),i=n(e,t,s),l=c(e,t,s);return i&&l?{value:l[r],fullValue:i[r]}:{}}),[e,t,s,r]),{editCollectionRecord:a}=(0,i.useDispatch)(Et);return[c,(0,dt.useCallback)((o=>{a(e,t,s,{[r]:o})}),[a,e,t,s,r]),l]},Et=(0,i.createReduxStore)(g,{reducer:x,actions:{...s,...function(){const e=Je();return{__unstableAcquireStoreLock:function(t,r,{exclusive:o}){return()=>e.acquire(t,r,o)},__unstableReleaseStoreLock:function(t){return()=>e.release(t)}}}()},selectors:n,resolvers:c});(0,i.register)(Et),(window.hizzlewp=window.hizzlewp||{}).store=o})();